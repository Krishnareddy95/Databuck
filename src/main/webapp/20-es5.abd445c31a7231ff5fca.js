!function(){function e(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e=function(){return t};var t={},i=Object.prototype,n=i.hasOwnProperty,o=Object.defineProperty||function(e,t,i){e[t]=i.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,i){return e[t]=i}}function d(e,t,i,n){var a=t&&t.prototype instanceof f?t:f,r=Object.create(a.prototype),c=new k(n||[]);return o(r,"_invoke",{value:P(e,i,c)}),r}function u(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(N){return{type:"throw",arg:N}}}t.wrap=d;var p={};function f(){}function g(){}function h(){}var m={};s(m,r,function(){return this});var b=Object.getPrototypeOf,v=b&&b(b(S([])));v&&v!==i&&n.call(v,r)&&(m=v);var C=h.prototype=f.prototype=Object.create(m);function y(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){function i(o,a,r,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){i("next",e,r,c)},function(e){i("throw",e,r,c)}):t.resolve(d).then(function(e){s.value=e,r(s)},function(e){return i("throw",e,r,c)})}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t(function(t,o){i(e,n,t,o)})}return a=a?a.then(o,o):o()}})}function P(e,t,i){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return M()}for(i.method=o,i.arg=a;;){var r=i.delegate;if(r){var c=j(r,i);if(c){if(c===p)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var l=u(e,t,i);if("normal"===l.type){if(n=i.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n="completed",i.method="throw",i.arg=l.arg)}}}function j(e,t){var i=t.method,n=e.iterator[i];if(void 0===n)return t.delegate=null,"throw"===i&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==i&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return g.prototype=h,o(C,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:g,configurable:!0}),g.displayName=s(h,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},y(x.prototype),s(x.prototype,c,function(){return this}),t.AsyncIterator=x,t.async=function(e,i,n,o,a){void 0===a&&(a=Promise);var r=new x(d(e,i,n,o),a);return t.isGeneratorFunction(i)?r:r.next().then(function(e){return e.done?e.value:r.next()})},y(C),s(C,l,"Generator"),s(C,r,function(){return this}),s(C,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),i=[];for(var n in t)i.push(n);return i.reverse(),function e(){for(;i.length;){var n=i.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=S,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(i,n){return r.type="throw",r.arg=e,t.next=i,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],r=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),O(i),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var o=n.arg;O(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:S(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=void 0),p}},t}function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?a:String(a)),n)}var o,a}function r(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{BeEg:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i("fXoL"),a=i("bUwk"),c=function(){var e=function(){function e(t){o(this,e),this.http=t}return r(e,[{key:"getAllDatabuckTags",value:function(e){return this.http.get(e)}},{key:"databuckTagsCSV",value:function(e){return this.http.getforCSV(e)}},{key:"createDatabuckTags",value:function(e){return this.http.postWithToasty("addDatabuckTags",e)}},{key:"updateDatabuckTagInfo",value:function(e){return this.http.post("updateDatabuckTagInfo",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(n.nc(a.a))},e.\u0275prov=n.Zb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},ZEcW:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i("fXoL"),a=i("bUwk"),c=function(){var e=function(){function e(t){o(this,e),this.http=t}return r(e,[{key:"getDetailsOfDataTemplateList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.post(e,t)}},{key:"getTabNameByConnName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.post(e,t)}},{key:"copyTemplate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.postWithToasty(e,t)}},{key:"templateDuplicateCheck",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.postWithoutSpinner(e,t)}},{key:"commonstatuspoll",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.postWithToasty(e,t)}},{key:"connectionNameList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.post(e,t)}},{key:"templateEditForm",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.post(e,t)}},{key:"createTemplateList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.post(e,t)}},{key:"createDerivedTemplateList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.post(e,t)}},{key:"updateTemplateList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.post(e,t)}},{key:"createStatusPoll",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.postWithoutSpinner(e,t)}},{key:"downloadCSVDataTemplate",value:function(e){return this.http.postforCSV("getPaginatedDataTemplatesCSV",e)}},{key:"deleteTemplate",value:function(e,t){return this.http.postWithToasty(e,t)}},{key:"viewscreen",value:function(e){return this.http.post("dataTemplateView",e)}},{key:"editCheck",value:function(e){return this.http.postWithToasty("editCheck",e)}},{key:"checkDateFormat",value:function(e){return this.http.postWithToasty("checkDateFormat",e)}},{key:"approveMicroSegments",value:function(e){return this.http.post("approveMicroSegments",e)}},{key:"rejectMicroSegments",value:function(e){return this.http.post("rejectMicroSegments",e)}},{key:"reject",value:function(e){return this.http.post("rejectColumnAnalysisChanges",e)}},{key:"approve",value:function(e){return this.http.post("approveColumnAnalysisChanges",e)}},{key:"updateTemplate",value:function(e){return this.http.post("updateTemplateDeltaApprovalStatus",e)}},{key:"selectAll",value:function(e,t){return this.http.post(e,t)}},{key:"getTempDetailById",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.post(e,t)}},{key:"dQquickStart",value:function(e){return this.http.postWithMultipartWithouttosty("processDQQuickStart",e)}},{key:"processDQQuickStartByPath",value:function(e){return this.http.postWithoutToasty("processDQQuickStartByPath",e)}},{key:"getQuickStartValidationDetailsByIdData",value:function(e){return this.http.post("getQuickStartValidationDetailsByIdData",e)}},{key:"deleteCustomMicrosegments",value:function(e){return this.http.post("deleteCustomMicrosegments",e)}},{key:"changeDataColumnAjax",value:function(e){return this.http.post("changeDataColumnAjax",e)}},{key:"getCustomMicroSegmentColumnNamesForCheck",value:function(e){return this.http.post("getCustomMicroSegmentColumnNamesForCheck",e)}},{key:"getListOfTemplate",value:function(e){return this.http.post("getListOfMicrosegmentTemplate",e)}},{key:"addCustomMicrosegments",value:function(e){return this.http.postWithToasty("addCustomMicrosegments",e)}},{key:"getCustomMicroSegmentsByTemplateId",value:function(e){return this.http.post("getCustomMicroSegmentsByTemplateId",e)}},{key:"dataTemplate1Dropdown",value:function(e,t){return this.http.post(e,t)}},{key:"editDerivedDataTemplate",value:function(e,t){return this.http.post(e,t)}},{key:"validateQueryForTemplate",value:function(e,t){return this.http.postWithoutToasty(e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(n.nc(a.a))},e.\u0275prov=n.Zb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},cx2K:function(n,a,c){"use strict";c.r(a),c.d(a,"UserSettingsModule",function(){return Uc});var l=c("ofXK"),s=c("3Pt+"),d=c("tyNb"),u=c("CV0D"),p=c("6RAO"),f=c("arFO"),g=c("6t4m"),h=c("VEwP"),m=c("BeEg"),b=c("ThbA"),v=c("PCNd"),C=c("Iab2"),y=c("Z2oo"),x=c.n(y),P=c("Tm3k"),j=c.n(P),w=c("7rT8"),O=c.n(w),k=c("DaQG"),S=c.n(k),M=c("i680"),N=c("fXoL"),D=c("kH6v"),F=c("JqCM"),_=c("7zfz"),I=c("K3ix"),V=c("J4N/"),L=c("jIHw"),R=c("rEr+"),B=c("/RsI"),E=c("7kUa"),z=c("guv5"),T=c("Ji6n");function q(e,t){if(1&e){var i=N.kc();N.jc(0,"div",25),N.jc(1,"span",26),N.jc(2,"input",27),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().globalFilterValue=e})("keyup",function(e){return N.Rc(i),N.uc().globalFilterFun(e)}),N.ic(),N.bd(3,"\xa0 "),N.ec(4,"i",28),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(2),N.Bc("ngModel",n.globalFilterValue)}}function Z(e,t){if(1&e){var i=N.kc();N.jc(0,"th"),N.bd(1),N.ec(2,"br"),N.ec(3,"p-sortIcon",33),N.jc(4,"app-column-filter",34),N.qc("hideFilterDataBox",function(e){return N.Rc(i),N.uc(3).hideBox(e)})("filterData",function(e){return N.Rc(i),N.uc(3).getFilterData(e)})("resetFilterValues",function(e){return N.Rc(i),N.uc(3).resetFilter(e)}),N.ic(),N.jc(5,"span",35),N.jc(6,"i",36),N.qc("click",function(){N.Rc(i);var e=N.uc().$implicit;return N.uc(2).onFilterClick(e.originalValue)}),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc().$implicit,o=N.uc(2);N.Nb(1),N.cd(n.displayValue),N.Nb(2),N.Cc("field",n.originalValue),N.Cc("pSortableColumn",n.originalValue),N.Nb(1),N.Bc("colFilterData",o.getFilterState(n.originalValue))("customId",n.originalValue)("display",o.displayFiltersFor[n.originalValue])("fieldName",n.originalValue),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"selected-filter-column":""),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function U(e,t){if(1&e&&(N.hc(0),N.Zc(1,Z,7,9,"th",32),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",i.isSelected)}}function A(e,t){if(1&e&&(N.jc(0,"tr",29),N.Zc(1,U,2,1,"ng-container",30),N.jc(2,"th",31),N.bd(3," Actions"),N.ic(),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngForOf",i.customizeCols)}}function W(e,t){if(1&e&&(N.jc(0,"span"),N.bd(1),N.ic()),2&e){var i=N.uc(2).$implicit,n=N.uc().$implicit;N.Nb(1),N.cd(n[i.originalValue])}}function G(e,t){if(1&e&&(N.jc(0,"button",44),N.bd(1),N.ic()),2&e){var i=N.uc(3).$implicit;N.Rb("conn-name ","yes"==i.Status?"conn-pass":"conn-failed",""),N.Bc("title",i.ValidationCheckName),N.Nb(1),N.dd(" ",i.ValidationCheckName," ")}}var $=function(){return{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}};function J(e,t){if(1&e&&(N.jc(0,"td",42),N.Zc(1,W,2,1,"span",32),N.Zc(2,G,2,5,"button",43),N.ic()),2&e){var i=N.uc().$implicit,n=N.uc().$implicit;N.Sb("",""," ","ValidationCheckName"==i.originalValue?"text-center":"",""),N.Bc("ngStyle",N.Ec(8,$))("title",n[i.originalValue]),N.Nb(1),N.Bc("ngIf","ValidationCheckName"!=i.originalValue),N.Nb(1),N.Bc("ngIf","ValidationCheckName"==i.originalValue)}}function H(e,t){if(1&e&&(N.hc(0),N.Zc(1,J,3,9,"td",41),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",i.isSelected)}}function Y(e,t){if(1&e){var i=N.kc();N.jc(0,"tr",37),N.Zc(1,H,2,1,"ng-container",30),N.jc(2,"td",31),N.jc(3,"span",38),N.qc("click",function(){N.Rc(i);var e=t.$implicit;return N.uc().editLoginGrpMapping(e)}),N.ec(4,"i",39),N.ic(),N.jc(5,"span",38),N.qc("click",function(){N.Rc(i);var e=t.$implicit;return N.uc().deleteAppGroup(e)}),N.ec(6,"i",40),N.ic(),N.ec(7,"br"),N.ic(),N.ic()}if(2&e){var n=N.uc(),o=null,a=null;N.Nb(1),N.Bc("ngForOf",n.customizeCols),N.Nb(2),N.Bc("ngClass",null!=(o=n.roleOnModule("User Settings"))&&null!=o.accessControl&&o.accessControl.includes("U")?" cursor-pointer":"disable"),N.Nb(2),N.Bc("ngClass",null!=(a=n.roleOnModule("User Settings"))&&null!=a.accessControl&&a.accessControl.includes("D")?" cursor-pointer":"disable")}}function Q(e,t){1&e&&(N.jc(0,"div",45),N.bd(1,"No records found"),N.ic())}function K(e,t){if(1&e){var i=N.kc();N.jc(0,"div",46),N.jc(1,"p-paginator",47,48),N.qc("onPageChange",function(e){return N.Rc(i),N.uc().onPageChange(e)})("firstChange",function(e){return N.Rc(i),N.uc().first=e}),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("rows",10)("totalRecords",n.loginGroup.length)("showCurrentPageReport",!0)("first",n.first)}}function X(e,t){if(1&e&&(N.jc(0,"div",53),N.jc(1,"div"),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc(3);N.Nb(2),N.ed("Page ",i.selectedPage.page," of ",i.totalNumOfPages,"")}}function ee(e,t){if(1&e&&N.Zc(0,X,3,2,"div",52),2&e){var i=N.uc(2);N.Bc("ngIf",i.selectedPage)}}function te(e,t){if(1&e){var i=N.kc();N.jc(0,"div",49),N.jc(1,"p-dropdown",50),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().selectedPage=e})("onChange",function(e){return N.Rc(i),N.uc().onPageNumChange(e)}),N.Zc(2,ee,1,1,"ng-template",51),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("options",n.numOfPages)("filter",!0)("ngModel",n.selectedPage)}}function ie(e,t){1&e&&(N.jc(0,"span",54),N.ec(1,"i",55),N.bd(2," Confirmation "),N.ic())}function ne(e,t){if(1&e){var i=N.kc();N.jc(0,"div"),N.jc(1,"p-checkbox",69),N.qc("ngModelChange",function(){N.Rc(i);var e=t.$implicit;return N.uc(2).onChecked(e.RoleRowId)}),N.ic(),N.jc(2,"label",70),N.bd(3),N.ic(),N.ec(4,"br"),N.ic()}if(2&e){var n=t.$implicit;N.Nb(1),N.Cc("value",n.RoleRowId),N.Nb(2),N.cd(n.RoleName)}}function oe(e,t){if(1&e){var i=N.kc();N.jc(0,"div"),N.jc(1,"p-checkbox",71),N.qc("ngModelChange",function(){N.Rc(i);var e=t.$implicit;return N.uc(2).onCheckedProj(e.ProjectRowId)}),N.ic(),N.jc(2,"label",70),N.bd(3),N.ic(),N.ec(4,"br"),N.ic()}if(2&e){var n=t.$implicit;N.Nb(3),N.cd(n.ProjectName)}}function ae(e,t){if(1&e){var i=N.kc();N.jc(0,"div",56),N.jc(1,"div",57),N.jc(2,"div",58),N.jc(3,"label",59),N.bd(4,"Login Group Name"),N.ic(),N.ec(5,"br"),N.ec(6,"input",60),N.ic(),N.jc(7,"div",61),N.jc(8,"p-checkbox",62),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().newApproverInt=e})("ngModelChange",function(){N.Rc(i);var e=N.uc();return e.onCheckeds(e.newApproverInt)}),N.ic(),N.jc(9,"label",63),N.bd(10,"Belong to Approver Group "),N.ic(),N.ic(),N.ic(),N.jc(11,"div",57),N.jc(12,"div",58),N.jc(13,"label",59),N.bd(14,"Assigned Roles"),N.ic(),N.ec(15,"br"),N.jc(16,"div",64),N.Zc(17,ne,5,2,"div",30),N.ic(),N.ic(),N.jc(18,"div",58),N.jc(19,"label",59),N.bd(20,"Assigned Project"),N.ic(),N.ec(21,"br"),N.jc(22,"div",64),N.Zc(23,oe,5,1,"div",30),N.ic(),N.ic(),N.ic(),N.jc(24,"div",65),N.ec(25,"br"),N.jc(26,"div",66),N.ec(27,"br"),N.jc(28,"button",67),N.qc("click",function(){return N.Rc(i),N.uc().saveLoginGroupData()}),N.ic(),N.jc(29,"button",68),N.qc("click",function(){return N.Rc(i),N.uc().modalRef.hide()}),N.ic(),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Bc("formGroup",n.loginGrpFrm),N.Nb(8),N.Bc("ngModel",n.newApproverInt),N.Nb(9),N.Bc("ngForOf",n.allRolesList),N.Nb(6),N.Bc("ngForOf",n.allProjectList)}}function re(e,t){if(1&e){var i=N.kc();N.hc(0),N.jc(1,"div",85),N.jc(2,"table"),N.jc(3,"tr",86),N.jc(4,"td"),N.jc(5,"p-checkbox",87),N.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return N.Rc(i),N.uc(2).pdfColsValue()}),N.ic(),N.ic(),N.jc(6,"td"),N.jc(7,"label"),N.bd(8),N.ic(),N.ic(),N.ic(),N.ic(),N.ic(),N.gc()}if(2&e){var n=t.$implicit,o=N.uc(2);N.Nb(5),N.Bc("ngModel",n.pdfCols)("disabled",o.pdfCheckboxDisabled&&!n.pdfCols),N.Nb(3),N.cd(n.displayValue)}}function ce(e,t){1&e&&(N.jc(0,"div",88),N.bd(1,"You can select up to 9 columns."),N.ic())}function le(e,t){if(1&e){var i=N.kc();N.jc(0,"div",72),N.jc(1,"span",73),N.bd(2,"Please select columns that need to be downloaded in PDF"),N.ic(),N.ic(),N.jc(3,"div",74),N.jc(4,"div",75),N.Zc(5,re,9,3,"ng-container",30),N.ic(),N.ic(),N.jc(6,"div",76),N.jc(7,"div",77),N.jc(8,"div",78),N.Zc(9,ce,2,0,"div",79),N.ic(),N.jc(10,"div",80),N.jc(11,"button",81),N.qc("click",function(){N.Rc(i);var e=N.uc();return e.exportPdf(),e.modalRef.hide()}),N.ic(),N.ic(),N.jc(12,"div",82),N.jc(13,"div"),N.jc(14,"label",83),N.qc("click",function(){return N.Rc(i),N.uc().closeExportPdf()}),N.bd(15,"Close"),N.ic(),N.jc(16,"img",84),N.qc("click",function(){return N.Rc(i),N.uc().closeExportPdf()}),N.ic(),N.ic(),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(5),N.Bc("ngForOf",n.customizeCols),N.Nb(4),N.Bc("ngIf",n.pdfCheckboxDisabled),N.Nb(2),N.Bc("disabled",n.disableDownloadBtn)}}var se=function(){return{width:"100%"}},de=function(){return{width:"50vw"}};x.a.vfs=j.a.pdfMake.vfs;var ue,pe=((ue=function(){function e(t,i,n,a,r,c,l,s,d){o(this,e),this.userSettingService=t,this.spinner=i,this.filterService=n,this.datePipe=a,this.router=r,this.fb=c,this.detectChanges=l,this.modalService=s,this.domainProjService=d,this.projectNames=[],this.loginGroup=[],this.mainLoginGroup=[],this.pageWiseLoginGroup=[],this.display=!1,this.deleteModal=!1,this.deleteConnection={},this.connToCpoy={},this.first=0,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.pageSize=9,this.totalNumOfPages=0,this.checkboxDisabled=!1,this.maxCount=4,this.displayFiltersFor={GroupName:!1,IsApproverStr:!1,RoleNames:!1,ProjectNames:!1},this.multiSortMeta=[{field:"GroupRowId",order:-1}],this.pdfData=[],this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols=[{displayValue:"Login Group Name",originalValue:"GroupName",isSelected:!0,necessaryCol:!0,alwaysSelected:!1},{displayValue:"In Approver Group",originalValue:"IsApproverStr",isSelected:!0,necessaryCol:!0,alwaysSelected:!1,width:"35%"},{displayValue:"Assigned Roles",originalValue:"RoleNames",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Assigned Projects",originalValue:"ProjectNames",isSelected:!0,necessaryCol:!1,alwaysSelected:!1}],this.selectedProjId=17,this.schemaNamevalid=!0,this.schemaNameReq=!1,this.schemaNameLengthExceed=!1,this.changedSchemaName=!1,this.regexForSchemaName=/^[a-zA-Z][a-zA-z0-9_]*$/,this.schemaNameUnique=!0,this.columnFilter={},this.scrollHt="300px",this.filterData={},this.selectedRowData={},this.userDetails={},this.isHealthCheckEnabled="",this.roleId="",this.newRoleId=[],this.newProjectId=[],this.customSortArr=[],this.norecordfound=!1}return r(e,[{key:"ngOnInit",value:function(){var e;this.domainProjService.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData"),this.loginGrpFrm=this.fb.group({GroupName:["",s.w.compose([s.w.required,s.w.pattern("^[a-zA-Z][A-Za-z0-9_]*$")])],Roles:[""],Projects:[""],IsApproverInt:[""]}),sessionStorage.removeItem("connDet"),sessionStorage.getItem("userDetail")&&(this.userDetails=JSON.parse(sessionStorage.getItem("userDetail"))),this.fromDate=new Date,this.fromDate.setDate((new Date).getDate()-30),this.toDate=new Date,this.toDate.setDate((new Date).getDate()+1),this.maxDate=new Date,this.maxDate.setDate((new Date).getDate()+3),this.getLoginGroupMappingList(),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(function(e){e.accessControl=e.accessControl.split("-")})))}},{key:"roleOnModule",value:function(e){return this.roleModule.find(function(t){return t.moduleName===e})}},{key:"hideBox",value:function(e){this.displayFiltersFor[e.fieldName]=!1}},{key:"capture",value:function(){var e=this;this.pageWiseLoginGroup.length&&(this.spinner.show(),this.scrollHt="800px",setTimeout(function(){O()(document.querySelector("#login_grp_id"),{height:1200}).then(function(t){try{t.toBlob(function(t){var i=new FileReader;i.readAsDataURL(t),i.onloadend=function(){x.a.createPdf({footer:{columns:[{text:"Created by FirstEigen",alignment:"right",style:"footerSection"}]},content:[{text:"Login Group Mapping",alignment:"center",margin:[0,5,0,5]},{image:i.result,width:500,alignment:"left"}],styles:{sectionHeader:{bold:!0,decoration:"underline",fontSize:14,margin:[0,5,0,5]},textStyle:{bold:!1,fontSize:9,margin:[0,5,0,5]},footerSection:{fontSize:7,margin:[5,7,7,5]}}}).download("LoginGroupMapping.pdf"),e.scrollHt="300px",e.spinner.hide()}})}catch(i){e.spinner.hide()}})},2e3))}},{key:"openExportPdf",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"closeExportPdf",value:function(){var e=this;this.modalRef.hide(),setTimeout(function(){e.pdfCheckCount=0,e.pdfCheckboxDisabled=!1,e.disableDownloadBtn=!0,e.customizeCols.forEach(function(e){return e.pdfCols=!1})},1e3)}},{key:"exportPdf",value:function(){var e=this;this.pdfData.length&&(this.spinner.show(),setTimeout(function(){var t=new M.default("l","pt"),i=e.customizeCols.filter(function(e){return e.pdfCols}),n=[];i.forEach(function(e){return n.push(e.displayValue)});var o,a=[];i.forEach(function(e){return a.push(e.originalValue)}),o=e.pdfData.map(function(e){return Object.assign(a.map(function(t){return e[t]}))});var r=t.internal.pageSize,c=r.height?r.height:r.getHeight();S()(t,{columns:n,body:o,didDrawPage:function(e){1==e.pageNumber&&(t.text("Login Group Mapping",t.internal.pageSize.width/2,25,null,"center"),t.setFontSize(10)),t.setFontSize(9),t.text("Created by FirstEigen",t.internal.pageSize.width-40,c-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}},columnStyles:{}}),t.save("Login Group Mapping.pdf"),e.disableDownloadBtn=!0,e.pdfCheckboxDisabled=!1,i.forEach(function(e){return e.pdfCols=!1}),e.spinner.hide()},2e3))}},{key:"pdfColsValue",value:function(){var e=this;this.pdfCheckCount=0,this.customizeCols.filter(function(e){return!0===e.pdfCols}).forEach(function(t){!0===t.pdfCols&&e.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}},{key:"downloadCSV",value:function(){var e=this;this.userSettingService.loginGroupMappingCSV("loginGroupMappingCSV").subscribe(function(t){var i=e.datePipe.transform(new Date,"yyyy-MM-dd");Object(C.saveAs)(t,"Login Group Mapping_"+i+".csv")})}},{key:"onFilterClick",value:function(e){var t=this;Object.keys(this.displayFiltersFor).map(function(i){t.displayFiltersFor[i]=i===e})}},{key:"addNewGroup",value:function(){this.router.navigate(["/dbckangui/user-setting/add-login-group-mapping"])}},{key:"onCheckeds",value:function(e){}},{key:"editLoginGrpMapping",value:function(e){sessionStorage.setItem("loginGrpData",JSON.stringify(e)),this.router.navigate(["/dbckangui/user-setting/edit-login-group-mapping"])}},{key:"openOtherField",value:function(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"onChecked",value:function(e){if(!0===this.loginGrpFrm.value.Roles)this.newRoleId.push(e);else{var t=this.newRoleId.indexOf(e);this.newRoleId.splice(t,1)}}},{key:"onCheckedProj",value:function(e){if(!0===this.loginGrpFrm.value.Roles)this.newProjectId.push(e);else{var t=this.newProjectId.indexOf(e);this.newProjectId.splice(t,1)}}},{key:"saveLoginGroupData",value:function(){this.IsApproverInt=!0===this.loginGrpFrm.value.IsApproverInt?"1":"0";var e={GroupRowId:this.GroupRowId,Roles:this.newRoleId.toString(),Projects:this.newProjectId.toString(),RoleRowIds:"",ProjectRowIds:"",IsApproverInt:this.IsApproverInt,GroupName:this.loginGrpFrm.value.GroupName};this.userSettingService.saveLoginGroupData("saveLoginGroupData",e).subscribe(function(e){})}},{key:"getLoginGroupMappingList",value:function(){var e=this;this.spinner.show(),this.userSettingService.loadLoginGroupMappingList("loadLoginGroupMappingList",{}).subscribe(function(i){e.spinner.hide(),e.spinner.hide()&&(e.norecordfound=!0),e.allProjectList=i.result.DataSet.AllProjects,e.allRolesList=i.result.DataSet.AllRoles;var n=[];i.result.DataSet.SecurityMatrix.map(function(e){e.GroupRowId=parseInt(e.GroupRowId),n.push(e)}),e.mainLoginGroup=[].concat(n),e.loginGroup=t(e.mainLoginGroup),e.pdfData=t(e.mainLoginGroup);var o=e.first+e.pageSize;null!=e.filterObj&&e.filterObj.forEach(function(t){e.loginGroup=e.loginGroup.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})});var a=e.loginGroup.filter(function(e,t){return t<=o});e.pageWiseLoginGroup=t(a),e.calculateNumOfPages(),e.checkCount=0,e.customizeCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(t){!0===t.isSelected&&e.checkCount++}),e.checkboxDisabled=e.checkCount>=e.maxCount})}},{key:"calculateNumOfPages",value:function(){if(this.totalNumOfPages=this.mainLoginGroup.length?this.mainLoginGroup.length<this.pageSize?1:Math.ceil(this.mainLoginGroup.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}},{key:"onPageChange",value:function(e){var i=this;this.first=e.first;var n=this.getSortedData(),o=this.first+this.pageSize,a=n.filter(function(e,t){if(t<=o&&t>=i.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseLoginGroup=t(a)}},{key:"onPageNumChange",value:function(e){var i=this;this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);var n=this.getSortedData(),o=this.first+this.pageSize,a=n.filter(function(e,t){if(t<=o&&t>=i.first)return e});this.pageWiseLoginGroup=t(a)}},{key:"getSortedData",value:function(){var e=this,i=t(this.loginGroup);return this.sortOrderEvent?1===this.sortOrderEvent.order?(i.sort(function(t,i){return t[e.sortOrderEvent.field]>i[e.sortOrderEvent.field]?1:i[e.sortOrderEvent.field]>t[e.sortOrderEvent.field]?-1:0}),i):(i.sort(function(t,i){return t[e.sortOrderEvent.field]>i[e.sortOrderEvent.field]?-1:i[e.sortOrderEvent.field]>t[e.sortOrderEvent.field]?1:0}),i):i}},{key:"deleteAppGroup",value:function(e){this.deleteModal=!0,this.deleteGroupData=e,this.appGroupName=e.GroupName}},{key:"deleteConfirm",value:function(){var e=this;this.deleteModal=!1;var t={GroupRowId:this.deleteGroupData.GroupRowId.toString(),Roles:this.deleteGroupData.RoleRowIds,Projects:this.deleteGroupData.ProjectRowIds,RoleRowIds:"",ProjectRowIds:"",IsApproverInt:this.deleteGroupData.IsApproverInt,GroupName:"-2"};this.userSettingService.saveLoginGroupData("saveLoginGroupData",t).subscribe(function(t){"success"===t.status&&(e.getLoginGroupMappingList(),e.deleteConnection={})})}},{key:"customSort",value:function(e){var i=this;this.sortField=e.field,this.sortOrder=e.order,this.sortMode=e.mode,this.customSortArr.filter(function(t){return t.field=e.field})[0]?this.customSortArr.map(function(t){t.order=e.order}):this.customSortArr.push(e);var n=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=n+1,this.selectedPage.pageIndex=n,this.sortOrderEvent=e;var o=t(this.loginGroup),a=t(this.sortOrderEvent.multiSortMeta);a.length>=3&&(e.multiSortMeta=e.multiSortMeta.splice(6,1)),1===a.length?o.sort(function(e,t){return e[a[0].field]>t[a[0].field]?a[0].order:t[a[0].field]>e[a[0].field]?-a[0].order:0}):2===a.length?o.sort(function(e,t){return e[a[0].field]>t[a[0].field]?a[0].order:t[a[0].field]>e[a[0].field]&&-a[0].order||e[a[1].field]>t[a[1].field]?a[1].order:t[a[1].field]>e[a[1].field]?-a[1].order:0}):3===a.length?o.sort(function(e,t){return e[a[0].field]>t[a[0].field]?a[0].order:t[a[0].field]>e[a[0].field]&&-a[0].order||e[a[1].field]>t[a[1].field]?a[1].order:t[a[1].field]>e[a[1].field]&&-a[1].order||e[a[2].field]>t[a[2].field]?a[2].order:t[a[2].field]>e[a[2].field]?-a[2].order:0}):4===a.length&&o.sort(function(e,t){return e[a[0].field]>t[a[0].field]?a[0].order:t[a[0].field]>e[a[0].field]&&-a[0].order||e[a[1].field]>t[a[1].field]?a[1].order:t[a[1].field]>e[a[1].field]&&-a[1].order||e[a[2].field]>t[a[2].field]?a[2].order:t[a[2].field]>e[a[2].field]&&-a[2].order||e[a[3].field]>t[a[3].field]?a[3].order:t[a[3].field]>e[a[3].field]?-a[3].order:0});var r=this.first+this.pageSize,c=o.filter(function(e,t){if(t<=r&&t>=i.first)return e});this.pageWiseLoginGroup=t(c)}},{key:"globalFilterFun",value:function(e){var i=t(this.globalFilterLogic()),n=this.first+this.pageSize,o=i.filter(function(e,t){return t<=n});this.detectChanges.detectChanges(),this.pageWiseLoginGroup=t(o),this.setPageNumber()}},{key:"globalFilterLogic",value:function(){var e=this;if(this.mainLoginGroup.length){var i=Object.keys(this.mainLoginGroup[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainLoginGroup.forEach(function(t){var n=!1;i.forEach(function(i){t[i]&&t[i].toString().toLowerCase().includes(e.globalFilterValue.toLowerCase())&&!n&&(e.filterValue.push(t),n=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.first=0,n.forEach(function(t){e.filterValue=e.filterValue.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})})}return this.loginGroup=t(this.filterValue),this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=t(this.mainLoginGroup),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var o=Object.keys(this.columnFilter);this.first=0,o.forEach(function(t){e.filterValue=e.filterValue.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})})}return this.loginGroup=t(this.filterValue),this.calculateNumOfPages(),this.loginGroup}return[]}},{key:"getFilterData",value:function(e){var i=this;this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.displayFiltersFor[e[0]]=!1,this.first=0,this.globalFilterValue||(this.loginGroup=t(this.mainLoginGroup)),n.forEach(function(e){i.loginGroup=i.loginGroup.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"resetFilter",value:function(e){var i=this;this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.loginGroup=t(this.mainLoginGroup),n.forEach(function(e){i.loginGroup=i.loginGroup.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"setPageNumber",value:function(){if(this.totalNumOfPages=this.loginGroup.length?this.loginGroup.length<this.pageSize?1:Math.ceil(this.loginGroup.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}var i=this.first+this.pageSize,n=this.loginGroup.filter(function(e,t){return t<=i});this.pageWiseLoginGroup=t(n)}},{key:"getFilterState",value:function(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){var t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}},{key:"filterColumnNameWithHighlightName",value:function(e){return!(Object.keys(this.columnFilter).findIndex(function(t){return t===e})<0)}}]),e}()).\u0275fac=function(e){return new(e||ue)(N.dc(D.a),N.dc(F.c),N.dc(_.d),N.dc(l.d),N.dc(d.i),N.dc(s.e),N.dc(N.h),N.dc(I.a),N.dc(V.a))},ue.\u0275cmp=N.Xb({type:ue,selectors:[["app-login-group-mapping"]],decls:37,vars:35,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title","marginrem"],[1,"col-sm-6","text-right"],[1,"form-title"],["pButton","","type","button","label","Add",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn",3,"ngClass","click"],[1,"d-flex","justify-content-end","p-field","br-top"],[1,""],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["id","login_grp_id",1,"row","p-field"],[1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","responsiveLayout","scroll","sortMode","multiple",3,"value","responsive","rowHover","sortOrder","pageLinks","filterDelay","resetPageOnSort","rows","first","customSort","multiSortMeta","sortField","firstChange","sortFunction"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],["addNewGroupTemplate",""],["exportPdfTemplate",""],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"header"],[4,"ngFor","ngForOf"],[1,"actionbtn"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","customId","display","fieldName","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],[3,"ngStyle","title","class",4,"ngIf"],[3,"ngStyle","title"],[3,"class","title",4,"ngIf"],[3,"title"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],[1,"modal-body",3,"formGroup"],[1,"row","padding-btm1"],[1,"col-md-6"],["for","logingroupname",1,"form-label"],["id","uri","maxlength","255","formControlName","GroupName","placeholder","Enter Login Group Name","type","text","pInputText","",1,"form-field"],[1,"col-md-6","mr-top"],["binary","true","inputId","binary","formControlName","IsApproverInt",1,"pChkBox",3,"ngModel","ngModelChange"],["for","query",1,"form-label","ml"],[1,"container"],[1,"row","p-field","mr-top"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button","label","Submit",1,"button","w-button","shadow","btn-mr-rt",3,"click"],["pButton","","type","button","label","Cancel",1,"button","w-button","shadow","btn-mr-rt",3,"click"],["binary","true","formControlName","Roles","inputId","binary",1,"pChkBox",3,"value","ngModelChange"],["for","logingroupname",1,"form-label","ml"],["binary","true","formControlName","Projects","inputId","binary",1,"pChkBox",3,"ngModelChange"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","pdf-modal"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-4"],["class","color-code",4,"ngIf"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"]],template:function(e,t){if(1&e){var i=N.kc();N.jc(0,"div",0),N.jc(1,"div",1),N.jc(2,"div",2),N.jc(3,"p",3),N.bd(4," Assign Login Groups to Roles and Projects "),N.ic(),N.ic(),N.jc(5,"div",4),N.jc(6,"p",5),N.jc(7,"button",6),N.qc("click",function(){return t.addNewGroup()}),N.ic(),N.ic(),N.ic(),N.ic(),N.jc(8,"div",7),N.jc(9,"div",8),N.jc(10,"a"),N.jc(11,"img",9),N.qc("click",function(){return t.downloadCSV()}),N.ic(),N.ic(),N.jc(12,"a"),N.jc(13,"img",10),N.qc("click",function(){N.Rc(i);var e=N.Oc(36);return t.openExportPdf(e)}),N.ic(),N.ic(),N.ic(),N.ic(),N.jc(14,"div",11),N.jc(15,"div",12),N.jc(16,"p-table",13),N.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),N.Zc(17,q,5,1,"ng-template",14),N.Zc(18,A,4,1,"ng-template",15),N.Zc(19,Y,8,3,"ng-template",16),N.ic(),N.ic(),N.Zc(20,Q,2,0,"div",17),N.jc(21,"div",18),N.Zc(22,K,3,4,"div",19),N.Zc(23,te,3,3,"div",20),N.ic(),N.ic(),N.ic(),N.jc(24,"p-dialog",21),N.qc("visibleChange",function(e){return t.deleteModal=e}),N.Zc(25,ie,3,0,"ng-template",15),N.jc(26,"p"),N.bd(27,"Are you sure you want to delete Group "),N.jc(28,"b"),N.bd(29),N.ic(),N.bd(30,"?"),N.ic(),N.jc(31,"p-footer"),N.jc(32,"button",22),N.qc("click",function(){return t.deleteConfirm()}),N.ic(),N.ic(),N.ic(),N.Zc(33,ae,30,4,"ng-template",null,23,N.ad),N.Zc(35,le,17,3,"ng-template",null,24,N.ad)}if(2&e){var n=null;N.Nb(7),N.Bc("ngClass",null!=(n=t.roleOnModule("User Settings"))&&null!=n.accessControl&&n.accessControl.includes("C")?" cursor-pointer":"disable"),N.Nb(3),N.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseLoginGroup&&t.pageWiseLoginGroup.length?"":"disabled-opa",""),N.Nb(2),N.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseLoginGroup&&t.pageWiseLoginGroup.length?"":"disabled-opa",""),N.Nb(4),N.Vc(N.Ec(33,se)),N.Bc("value",t.pageWiseLoginGroup)("responsive",!0)("rowHover",!0)("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("rows",10)("first",t.first)("filterDelay",0)("customSort",!0)("multiSortMeta",t.multiSortMeta)("sortField","GroupRowId"),N.Nb(4),N.Bc("ngIf",!t.pageWiseLoginGroup.length&&t.norecordfound),N.Nb(2),N.Bc("ngIf",t.pageWiseLoginGroup.length),N.Nb(1),N.Bc("ngIf",t.pageWiseLoginGroup.length),N.Nb(1),N.Vc(N.Ec(34,de)),N.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),N.Nb(5),N.dd("",t.appGroupName," ")}},directives:[L.b,l.l,R.f,_.i,l.n,B.a,_.e,s.d,E.a,s.o,s.r,l.m,R.d,R.e,z.a,l.o,g.a,f.a,s.p,s.i,s.k,s.g,T.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.container[_ngcontent-%COMP%]{max-height:100px;overflow-y:scroll}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.mr-top[_ngcontent-%COMP%]{padding:35px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.ml[_ngcontent-%COMP%]{margin-left:10px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}.marginrem[_ngcontent-%COMP%]{margin:.1rem}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px}"]}),ue),fe=c("lVkt");function ge(e,t){if(1&e&&N.ec(0,"input",26),2&e){var i=N.uc();N.Bc("ngClass",i.editMode?"cursor-not":"")}}function he(e,t){1&e&&N.ec(0,"input",27)}function me(e,t){1&e&&(N.jc(0,"span",28),N.bd(1,"Please enter "),N.jc(2,"b"),N.bd(3,"Login Group Name"),N.ic(),N.ic())}function be(e,t){if(1&e&&(N.jc(0,"p",28),N.Zc(1,me,4,0,"span",10),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngIf",i.loginGrpFrm.controls.groupName.errors.required)}}function ve(e,t){if(1&e&&(N.jc(0,"div",31),N.jc(1,"div",32),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc(2);N.Nb(2),N.dd(" ",i.selectedRole.length<=3?i.getSelectedRoleString():"{"+i.selectedRole.length+"} selected"," ")}}function Ce(e,t){1&e&&(N.jc(0,"div",33),N.bd(1," Select Role "),N.ic())}function ye(e,t){if(1&e&&(N.Zc(0,ve,3,1,"div",29),N.Zc(1,Ce,2,0,"div",30)),2&e){var i=N.uc();N.Bc("ngIf",i.selectedRole.length),N.Nb(1),N.Bc("ngIf",!i.selectedRole||0===i.selectedRole.length)}}function xe(e,t){if(1&e&&(N.jc(0,"div",34),N.jc(1,"div"),N.bd(2),N.ic(),N.ic()),2&e){var i=t.$implicit;N.Nb(2),N.cd(i.RoleName)}}function Pe(e,t){1&e&&(N.jc(0,"p",28),N.jc(1,"span",28),N.bd(2,"Please select atleast one "),N.jc(3,"b"),N.bd(4,"Role"),N.ic(),N.ic(),N.ic())}function je(e,t){if(1&e&&(N.jc(0,"div",31),N.jc(1,"div",32),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc(2);N.Nb(2),N.dd(" ",i.selectedProject.length<=3?i.getSelectedProjString():"{"+i.selectedProject.length+"} selected"," ")}}function we(e,t){1&e&&(N.jc(0,"div",33),N.bd(1," Select Project "),N.ic())}function Oe(e,t){if(1&e&&(N.Zc(0,je,3,1,"div",29),N.Zc(1,we,2,0,"div",30)),2&e){var i=N.uc();N.Bc("ngIf",i.selectedProject.length),N.Nb(1),N.Bc("ngIf",!i.selectedProject||0===i.selectedProject.length)}}function ke(e,t){if(1&e&&(N.jc(0,"div",34),N.jc(1,"div"),N.bd(2),N.ic(),N.ic()),2&e){var i=t.$implicit;N.Nb(2),N.cd(i.ProjectName)}}function Se(e,t){1&e&&(N.jc(0,"p",28),N.jc(1,"span",28),N.bd(2,"Please select atleast one "),N.jc(3,"b"),N.bd(4,"Project"),N.ic(),N.ic(),N.ic())}function Me(e,t){if(1&e){var i=N.kc();N.jc(0,"button",35),N.qc("click",function(){return N.Rc(i),N.uc().saveLoginGroupData()}),N.ic()}}function Ne(e,t){if(1&e){var i=N.kc();N.jc(0,"button",36),N.qc("click",function(){return N.Rc(i),N.uc().saveLoginGroupData()}),N.ic()}if(2&e){var n=N.uc();N.Bc("disabled",!n.loginGrpFrm.valid)}}var De,Fe=function(){return{width:"100%",height:"36px"}},_e=function(){return{standalone:!0}},Ie=((De=function(){function e(t,i,n){o(this,e),this.userSettingService=t,this.fb=i,this.router=n,this.newApproverInt=!1,this.newRoleId=[],this.newProjectId=[],this.groupRowId="-1",this.allRolesList=[],this.editMode=!1,this.dataid=[],this.selectedRole=[],this.selectedRoles=[],this.selectedProject=[],this.selectedProjects=[],this.requiredRole=!1,this.requiredProject=!1}return r(e,[{key:"ngOnInit",value:function(){this.loginGrpFrm=this.fb.group({groupName:["",s.w.compose([s.w.required])],roles:["",s.w.compose([s.w.required])],projects:["",s.w.compose([s.w.required])],isApproverInt:[""]}),this.getLoginGroupMappingList(),this.router.url.includes("edit-login-group-mapping")?(this.editMode=!0,this.loginGrpData=JSON.parse(sessionStorage.getItem("loginGrpData")),this.groupRowId=this.loginGrpData.GroupRowId,this.newApproverInt="1"===this.loginGrpData.IsApproverInt,this.loginGrpFrm.patchValue({groupName:this.loginGrpData.GroupName,roles:this.loginGrpData.RoleRowIds,projects:this.loginGrpData.ProjectRowIds,isApproverInt:this.newApproverInt})):this.editMode=!1}},{key:"getLoginGroupMappingList",value:function(){var e=this;this.userSettingService.loadLoginGroupMappingList("loadLoginGroupMappingList",{}).subscribe(function(t){e.allProjectList=t.result.DataSet.AllProjects,e.allRolesList=t.result.DataSet.AllRoles,""!==e.loginGrpFrm.value.roles&&e.loginGrpFrm.value.roles.split(",").map(function(t){var i=e.allRolesList.filter(function(e){return e.RoleRowId===t})[0];i&&(e.selectedRole.push(i),e.selectedRoles.push(i.RoleRowId))}),""!==e.loginGrpFrm.value.projects&&e.loginGrpFrm.value.projects.split(",").map(function(t){var i=e.allProjectList.filter(function(e){return e.ProjectRowId===t})[0];i&&(e.selectedProject.push(i),e.selectedProjects.push(i.ProjectRowId))})})}},{key:"cancel",value:function(){sessionStorage.removeItem("loginGrpData"),this.router.navigate(["/dbckangui/user-setting/login-group-mapping"])}},{key:"saveLoginGroupData",value:function(){var e=this;if(this.loginGrpFrm.valid)if(0!==this.selectedRoles.length&&0!==this.selectedProjects.length){this.requiredRole=!1,this.requiredProject=!1;var t={GroupRowId:this.groupRowId.toString(),Roles:this.selectedRoles.toString(),Projects:this.selectedProjects.toString(),RoleRowIds:"",ProjectRowIds:"",IsApproverInt:this.loginGrpFrm.value.isApproverInt?"1":"0",GroupName:this.loginGrpFrm.value.groupName};this.userSettingService.saveLoginGroupData("saveLoginGroupData",t).subscribe(function(t){e.router.navigate(["/dbckangui/user-setting/login-group-mapping"]),sessionStorage.removeItem("loginGrpData")})}else 0===this.selectedRoles.length&&(this.requiredRole=!0),0===this.selectedProjects.length&&(this.requiredProject=!0);else 0===this.selectedRoles.length&&(this.requiredRole=!0),0===this.selectedProjects.length&&(this.requiredProject=!0)}},{key:"onRoleChange",value:function(e){var t=this;this.selectedRole=e.value,this.loginGrpFrm.controls.roles.setValue(e.value.toString()),this.selectedRoles=[],this.selectedRole.forEach(function(e){t.selectedRoles.push(e.RoleRowId)})}},{key:"onProjChange",value:function(e){var t=this;this.selectedProject=e.value,this.loginGrpFrm.controls.projects.setValue(e.value.toString()),this.selectedProjects=[],this.selectedProject.forEach(function(e){t.selectedProjects.push(e.ProjectRowId)})}},{key:"getSelectedRoleString",value:function(){var e="";return this.selectedRole.forEach(function(t,i){e=e+(0!==i?",":"")+t.RoleName}),e}},{key:"getSelectedProjString",value:function(){var e="";return this.selectedProject.forEach(function(t,i){e=e+(0!==i?",":"")+t.ProjectName}),e}}]),e}()).\u0275fac=function(e){return new(e||De)(N.dc(D.a),N.dc(s.e),N.dc(d.i))},De.\u0275cmp=N.Xb({type:De,selectors:[["app-add-login-group"]],decls:54,vars:31,consts:[[1,"container-fluid","create-conn-main",3,"formGroup"],[1,"row"],[1,"col-sm-12"],[1,"form-title"],[1,"row","p-field"],[1,"col-sm-12","col-md-6"],["for","logingroupname",1,"form-label"],[1,"req-field"],["id","uri","maxlength","255","readonly","","class","form-field","formControlName","groupName","placeholder","Enter Login Group Name","type","text","pInputText","",3,"ngClass",4,"ngIf"],["id","uri","maxlength","255","class","form-field","formControlName","groupName","placeholder","Enter Login Group Names","type","text","pInputText","",4,"ngIf"],["class","err-msg",4,"ngIf"],[1,"col-md-6","col-sm-12","mr-tops"],["binary","true","inputId","binary","formControlName","isApproverInt",1,"pChkBox",3,"ngModel","ngModelChange"],["for","query",1,"form-label","ml"],[1,"col-md-6","col-sm-12","mr-top"],["defaultLabel","Select Validation","optionLabel","RoleName","name","selectedRole",1,"multiselect-custom",3,"options","ngModel","styleClass","maxSelectedLabels","selectedItemsLabel","ngModelOptions","filter","ngModelChange","onChange"],["pTemplate","selectedItems"],["pTemplate","item"],["defaultLabel","Select Project","optionLabel","ProjectName","name","selectedProject",1,"multiselect-custom",3,"options","ngModel","styleClass","maxSelectedLabels","selectedItemsLabel","ngModelOptions","filter","ngModelChange","onChange"],[1,"row","p-field","mr-top"],[1,"note","row","p-field"],[1,"col-sm-12","col-md-12","mr-top","text-left"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button","class","button w-button shadow btn-mr-rt","label","Update Login Group",3,"click",4,"ngIf"],["pButton","","type","button","class","button w-button shadow btn-mr-rt","label","Create Login Group",3,"disabled","click",4,"ngIf"],["pButton","","type","button","label","Cancel",1,"button","w-button","btn-cancel","shadow",3,"click"],["id","uri","maxlength","255","readonly","","formControlName","groupName","placeholder","Enter Login Group Name","type","text","pInputText","",1,"form-field",3,"ngClass"],["id","uri","maxlength","255","formControlName","groupName","placeholder","Enter Login Group Names","type","text","pInputText","",1,"form-field"],[1,"err-msg"],["class","validationType-item validationType-item-value",4,"ngIf"],["class","validationType-placeholder",4,"ngIf"],[1,"validationType-item","validationType-item-value"],[1,"word_break_word_all"],[1,"validationType-placeholder"],[1,"validationType-item"],["pButton","","type","button","label","Update Login Group",1,"button","w-button","shadow","btn-mr-rt",3,"click"],["pButton","","type","button","label","Create Login Group",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"]],template:function(e,t){1&e&&(N.jc(0,"div",0),N.jc(1,"div",1),N.jc(2,"div",2),N.jc(3,"p",3),N.bd(4," Login Group Mapping "),N.ic(),N.ic(),N.ic(),N.jc(5,"div",4),N.jc(6,"div",5),N.jc(7,"label",6),N.bd(8,"Login Group Name"),N.jc(9,"sup",7),N.bd(10,"*"),N.ic(),N.ic(),N.ec(11,"br"),N.jc(12,"div"),N.Zc(13,ge,1,1,"input",8),N.Zc(14,he,1,0,"input",9),N.Zc(15,be,2,1,"p",10),N.ic(),N.ic(),N.jc(16,"div",11),N.jc(17,"p-checkbox",12),N.qc("ngModelChange",function(e){return t.newApproverInt=e}),N.ic(),N.jc(18,"label",13),N.bd(19,"Belong to Approver Group "),N.ic(),N.ic(),N.ic(),N.jc(20,"div",4),N.jc(21,"div",14),N.jc(22,"label",6),N.bd(23,"Assigned Roles"),N.jc(24,"sup",7),N.bd(25,"*"),N.ic(),N.ic(),N.ec(26,"br"),N.jc(27,"p-multiSelect",15),N.qc("ngModelChange",function(e){return t.selectedRole=e})("onChange",function(e){return t.onRoleChange(e)}),N.Zc(28,ye,2,2,"ng-template",16),N.Zc(29,xe,3,1,"ng-template",17),N.ic(),N.Zc(30,Pe,5,0,"p",10),N.ic(),N.jc(31,"div",14),N.jc(32,"label",6),N.bd(33,"Assigned Project"),N.jc(34,"sup",7),N.bd(35,"*"),N.ic(),N.ic(),N.ec(36,"br"),N.jc(37,"p-multiSelect",18),N.qc("ngModelChange",function(e){return t.selectedProject=e})("onChange",function(e){return t.onProjChange(e)}),N.Zc(38,Oe,2,2,"ng-template",16),N.Zc(39,ke,3,1,"ng-template",17),N.ic(),N.Zc(40,Se,5,0,"p",10),N.ic(),N.ic(),N.jc(41,"div",19),N.ec(42,"br"),N.jc(43,"div",20),N.jc(44,"div",21),N.jc(45,"p"),N.bd(46,"Note: Fields marked with "),N.jc(47,"b"),N.bd(48,'"*"'),N.ic(),N.bd(49," are required. "),N.ic(),N.ic(),N.ic(),N.jc(50,"div",22),N.Zc(51,Me,1,0,"button",23),N.Zc(52,Ne,1,1,"button",24),N.jc(53,"button",25),N.qc("click",function(){return t.cancel()}),N.ic(),N.ic(),N.ic(),N.ic()),2&e&&(N.Bc("formGroup",t.loginGrpFrm),N.Nb(13),N.Bc("ngIf",t.editMode),N.Nb(1),N.Bc("ngIf",!t.editMode),N.Nb(1),N.Bc("ngIf",t.loginGrpFrm.controls.groupName.invalid&&!t.loginGrpFrm.controls.groupName.pristine),N.Nb(2),N.Bc("ngModel",t.newApproverInt),N.Nb(10),N.Vc(N.Ec(27,Fe)),N.Bc("options",t.allRolesList)("ngModel",t.selectedRole)("styleClass","form-field")("maxSelectedLabels",5)("selectedItemsLabel","{0} items selected")("ngModelOptions",N.Ec(28,_e))("filter",t.allRolesList.length>0),N.Nb(3),N.Bc("ngIf",t.requiredRole),N.Nb(7),N.Vc(N.Ec(29,Fe)),N.Bc("options",t.allProjectList)("ngModel",t.selectedProject)("styleClass","form-field")("maxSelectedLabels",5)("selectedItemsLabel","{0} items selected")("ngModelOptions",N.Ec(30,_e))("filter",t.allProjectList.length>0),N.Nb(3),N.Bc("ngIf",t.requiredProject),N.Nb(11),N.Bc("ngIf",t.editMode),N.Nb(1),N.Bc("ngIf",!t.editMode))},directives:[s.p,s.i,l.n,T.a,s.o,s.g,fe.a,s.r,_.i,L.b,s.d,s.k,E.a,l.l],styles:[".add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.p-field[_ngcontent-%COMP%]{margin:0 10px}.note[_ngcontent-%COMP%]{text-align:left;font-size:13px;color:#eb5454;margin-left:12px!important;margin-top:25px!important}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .p-multiselect{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .multiselect-custom .p-multiselect-label{padding-top:.25rem!important;padding-bottom:.25rem!important}[_nghost-%COMP%]     .multiselect-custom .validationType-item-value{padding:.1rem .25rem!important;border-radius:3px!important;display:inline-flex!important;margin-right:.5rem!important}[_nghost-%COMP%]     .multiselect-custom .validationType-item div{white-space:normal;word-break:break-word}[_nghost-%COMP%]     .multiselect-custom .validationType-placeholder{font-family:Open Sans!important;font-size:14px!important;font-weight:400;padding:.25rem}@media screen and (max-width:640px){[_nghost-%COMP%]     .p-multiselect{width:100%!important}}.margin-left[_ngcontent-%COMP%]{margin-left:10px;margin-top:5px}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.mr-tops[_ngcontent-%COMP%]{padding-top:35px}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}.container[_ngcontent-%COMP%]{height:375px;overflow-y:scroll}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.ml[_ngcontent-%COMP%]{margin-left:10px}.toptable[_ngcontent-%COMP%]{padding-top:30px}"]}),De);function Ve(e,t){1&e&&(N.jc(0,"span",21),N.bd(1,"Please enter Project Name"),N.ic())}function Le(e,t){1&e&&(N.jc(0,"span",21),N.bd(1,"Only characters allowed"),N.ic())}function Re(e,t){if(1&e&&(N.jc(0,"p",21),N.Zc(1,Ve,2,0,"span",6),N.Zc(2,Le,2,0,"span",6),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngIf",i.projectForm.controls.projectName.errors.required),N.Nb(1),N.Bc("ngIf",i.projectForm.controls.projectName.errors.pattern)}}function Be(e,t){1&e&&(N.jc(0,"span",21),N.bd(1,"Please enter Description"),N.ic())}function Ee(e,t){if(1&e&&(N.jc(0,"p",21),N.Zc(1,Be,2,0,"span",6),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngIf",i.projectForm.controls.projectDescription.errors.required)}}function ze(e,t){if(1&e&&(N.jc(0,"div",24),N.jc(1,"div",25),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc(2);N.Nb(2),N.cd(i.selectedUsers.length<=3?i.getselectedValidationString():"{"+i.selectedUsers.length+"} selected")}}function Te(e,t){1&e&&(N.jc(0,"div",26),N.bd(1," Select Users "),N.ic())}function qe(e,t){if(1&e&&(N.Zc(0,ze,3,1,"div",22),N.Zc(1,Te,2,0,"div",23)),2&e){var i=N.uc();N.Bc("ngIf",i.selectedUsers.length),N.Nb(1),N.Bc("ngIf",!i.selectedUsers||0===i.selectedUsers.length)}}function Ze(e,t){if(1&e&&(N.jc(0,"div",27),N.jc(1,"div"),N.bd(2),N.ic(),N.ic()),2&e){var i=t.$implicit;N.Nb(2),N.cd(i.firstName)}}function Ue(e,t){if(1&e){var i=N.kc();N.jc(0,"button",28),N.qc("click",function(){return N.Rc(i),N.uc().saveProject()}),N.ic()}if(2&e){var n=N.uc();N.Bc("disabled",!n.projectForm.valid)}}function Ae(e,t){if(1&e){var i=N.kc();N.jc(0,"button",29),N.qc("click",function(){return N.Rc(i),N.uc().updateProject()}),N.ic()}if(2&e){var n=N.uc();N.Bc("disabled",!n.projectForm.valid||!n.projectForm.dirty)}}var We,Ge=function(){return{standalone:!0}},$e=((We=function(){function e(t,i,n,a){o(this,e),this.userSettingsService=t,this.fb=i,this.router=n,this.domainProj=a,this.selectedUsers=[],this.submitClicked=!1,this.editMode=!1}return r(e,[{key:"ngOnInit",value:function(){var e=this;if(this.domainProj.passDomainProjVal(!0),this.resetFormValidators(),this.userSettingsService.getUserListForProject().subscribe(function(t){e.userList=t.result.groupList}),this.router.url.includes("edit-project")){if(sessionStorage.getItem("objProject")){this.editMode=!0;var t=JSON.parse(sessionStorage.getItem("objProject"));this.oldProjectName=t.selectedProject.projectName,t.assignedgroupList.forEach(function(i){var n=t.groupList.findIndex(function(e){return e.email===i.email.trim()});n>=0&&e.selectedUsers.push(t.groupList[n])}),this.projectForm.patchValue({projectName:t.selectedProject.projectName,projectDescription:t.selectedProject.projectDescription,selectedOwnerGroups:t.assignedgroupList})}}else this.editMode=!1}},{key:"ngOnDestroy",value:function(){sessionStorage.removeItem("objProject")}},{key:"onProjectChange",value:function(e){var t=this;this.chooseSchema=[],this.selectedUsers.forEach(function(e){t.chooseSchema.push(e.id)}),this.markFormAsTouched()}},{key:"getselectedValidationString",value:function(){var e="";return this.selectedUsers.forEach(function(t,i){"null"!=t.email.trim()&&(e=e+(0!=i?",":"")+t.firstName)}),e}},{key:"resetFormValidators",value:function(){this.projectForm=this.fb.group({projectName:["",s.w.compose([s.w.required])],projectDescription:[""],selectedOwnerGroups:[[]]})}},{key:"saveProject",value:function(){var e=this;if(this.submitClicked=!0,this.projectForm.valid){var t=JSON.parse(JSON.stringify(this.projectForm.value));t.selectedOwnerGroups=[],this.selectedUsers.forEach(function(i){t.selectedOwnerGroups.push(e.userList.find(function(e){return e.idUser===i.idUser}).email)}),this.userSettingsService.saveProject(t).subscribe(function(t){"success"===t.status&&(e.submitClicked=!1,e.backToScreen())})}else this.submitClicked=!0,this.markFormAsTouched()}},{key:"updateProject",value:function(){var e=this;if(this.submitClicked=!0,this.projectForm.valid){var t=JSON.parse(JSON.stringify(this.projectForm.value));t.selectedOwnerGroups=[],this.selectedUsers.forEach(function(i){var n;t.selectedOwnerGroups.push(null===(n=e.userList.find(function(e){return e.idUser===i.idUser}))||void 0===n?void 0:n.email)}),t.id=JSON.parse(sessionStorage.getItem("objProject")).selectedProject.idProject,t.oldProject=this.oldProjectName,this.userSettingsService.updateProject(t).subscribe(function(t){"success"===t.status&&(e.submitClicked=!1,e.backToScreen())})}else this.submitClicked=!0,this.markFormAsTouched()}},{key:"backToScreen",value:function(){this.router.navigateByUrl("/dbckangui/user-setting/assets/view-projects")}},{key:"markFormAsTouched",value:function(){var e=this;this.projectForm.updateValueAndValidity(),Object.keys(this.projectForm.controls).forEach(function(t){e.projectForm.controls[t].markAsTouched(),e.projectForm.controls[t].markAsDirty()})}}]),e}()).\u0275fac=function(e){return new(e||We)(N.dc(D.a),N.dc(s.e),N.dc(d.i),N.dc(V.a))},We.\u0275cmp=N.Xb({type:We,selectors:[["app-add-projects"]],decls:37,vars:9,consts:[[1,"container-fluid","create-conn-main",3,"formGroup"],[1,"row","p-field"],[1,"col-sm-12","col-md-6","mr-top"],["for","project_name",1,"form-label"],[1,"req-field"],["id","project_name","maxlength","500","formControlName","projectName","placeholder","Enter Project Name","type","text","pInputText","",1,"form-field"],["class","err-msg",4,"ngIf"],["for","project_description",1,"form-label"],["id","project_description","maxlength","500","formControlName","projectDescription","placeholder","Enter Description","type","text","pInputText","",1,"form-field"],["for","user_id",1,"form-label"],["defaultLabel","Select Users","optionLabel","firstName","name","selectedUsers",1,"multiselect-custom",3,"options","ngModel","ngModelOptions","ngModelChange","onChange"],["pTemplate","selectedItems"],["pTemplate","item"],[1,"note_duplicate"],[1,"note","row","p-field"],[1,"col-sm-12","col-md-12","mr-top","text-left"],[1,"row","p-field","mr-top"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button","class","button w-button shadow btn-mr-rt","label","Create Project",3,"disabled","click",4,"ngIf"],["pButton","","type","button","class","button w-button shadow btn-mr-rt","label","Update Project",3,"disabled","click",4,"ngIf"],["pButton","","type","button","label","Cancel",1,"button","w-button","shadow","btn-cancel",3,"click"],[1,"err-msg"],["class","validationType-item validationType-item-value",4,"ngIf"],["class","validationType-placeholder",4,"ngIf"],[1,"validationType-item","validationType-item-value"],[1,"word_break_word_all"],[1,"validationType-placeholder"],[1,"validationType-item"],["pButton","","type","button","label","Create Project",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],["pButton","","type","button","label","Update Project",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"]],template:function(e,t){1&e&&(N.jc(0,"div",0),N.jc(1,"div",1),N.jc(2,"div",2),N.jc(3,"label",3),N.bd(4,"Project Name"),N.jc(5,"sup",4),N.bd(6,"*"),N.ic(),N.ic(),N.ec(7,"br"),N.ec(8,"input",5),N.Zc(9,Re,3,2,"p",6),N.ic(),N.jc(10,"div",2),N.jc(11,"label",7),N.bd(12,"Description"),N.ic(),N.ec(13,"br"),N.ec(14,"input",8),N.Zc(15,Ee,2,1,"p",6),N.ic(),N.jc(16,"div",2),N.jc(17,"label",9),N.bd(18,"Assign Users"),N.ic(),N.ec(19,"br"),N.jc(20,"p-multiSelect",10),N.qc("ngModelChange",function(e){return t.selectedUsers=e})("onChange",function(e){return t.onProjectChange(e)}),N.Zc(21,qe,2,2,"ng-template",11),N.Zc(22,Ze,3,1,"ng-template",12),N.ic(),N.jc(23,"div",13),N.bd(24," Note: If Active Directory is enabled then user list will not be available. "),N.ic(),N.ic(),N.ic(),N.jc(25,"div",14),N.jc(26,"div",15),N.jc(27,"p"),N.bd(28,"Note: Fields marked with "),N.jc(29,"b"),N.bd(30,'"*"'),N.ic(),N.bd(31," are required. "),N.ic(),N.ic(),N.ic(),N.jc(32,"div",16),N.jc(33,"div",17),N.Zc(34,Ue,1,1,"button",18),N.Zc(35,Ae,1,1,"button",19),N.jc(36,"button",20),N.qc("click",function(){return t.backToScreen()}),N.ic(),N.ic(),N.ic(),N.ic()),2&e&&(N.Bc("formGroup",t.projectForm),N.Nb(9),N.Bc("ngIf",t.projectForm.controls.projectName.invalid&&!t.projectForm.controls.projectName.pristine),N.Nb(6),N.Bc("ngIf",t.projectForm.controls.projectDescription.invalid&&!t.projectForm.controls.projectDescription.pristine),N.Nb(5),N.Bc("options",t.userList)("ngModel",t.selectedUsers)("ngModelOptions",N.Ec(8,Ge)),N.Nb(14),N.Bc("ngIf",!t.editMode),N.Nb(1),N.Bc("ngIf",t.editMode))},directives:[s.p,s.i,s.d,s.k,s.o,s.g,E.a,l.n,fe.a,s.r,_.i,L.b],styles:["[_ngcontent-%COMP%]::-moz-placeholder{color:gray;opacity:.8}[_ngcontent-%COMP%]::placeholder{color:gray;opacity:.8}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.note[_ngcontent-%COMP%]{text-align:left!important;font-size:13px;color:#eb5454;margin-left:12px!important;margin-top:20px!important}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]     .p-inputtext{font-size:14px}.p-field[_ngcontent-%COMP%]{margin:0 10px}.p-field-form[_ngcontent-%COMP%]{padding-right:0}.diabled-ip[_ngcontent-%COMP%]{opacity:.7;box-shadow:none!important;cursor:inherit}.diabled-ip[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .p-disabled:hover{cursor:not-allowed!important}.optional-fields[_ngcontent-%COMP%]{color:#789}.form-checkbox[_ngcontent-%COMP%]{padding-left:10px;font-size:16px;padding-top:8px}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.warning-msg[_ngcontent-%COMP%]{font-size:12px;color:#007bff;margin-bottom:0;padding-top:8px;padding-left:5px}[_nghost-%COMP%]     .p-multiselect{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .multiselect-custom .p-multiselect-label{padding-top:.25rem!important;padding-bottom:.25rem!important}[_nghost-%COMP%]     .multiselect-custom .validationType-item div{white-space:normal;word-break:break-word;width:400px}[_nghost-%COMP%]     .multiselect-custom .validationType-placeholder{font-family:Open Sans!important;font-size:14px!important;font-weight:400;padding:.25rem}"]}),We);function Je(e,t){1&e&&(N.jc(0,"span"),N.bd(1," Please enter "),N.jc(2,"b"),N.bd(3,"Role Name"),N.ic(),N.ic())}function He(e,t){if(1&e&&(N.jc(0,"p",19),N.Zc(1,Je,4,0,"span",20),N.ic()),2&e){N.uc();var i=N.Oc(9);N.Nb(1),N.Bc("ngIf",null==i.errors?null:i.errors.required)}}function Ye(e,t){if(1&e&&(N.jc(0,"p",19),N.jc(1,"span",19),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc();N.Nb(2),N.cd(i.invalidMsg)}}var Qe=function(){return{standalone:!0}};function Ke(e,t){if(1&e){var i=N.kc();N.hc(0),N.jc(1,"p-checkbox",26),N.qc("ngModelChange",function(e){return t.$implicit.checked=e})("onChange",function(e){N.Rc(i);var t=N.uc(2).$implicit;return N.uc().readAccess(e,t)}),N.ic(),N.jc(2,"label",27),N.bd(3),N.ic(),N.gc()}if(2&e){var n=t.$implicit;N.Nb(1),N.Bc("ngModel",n.checked)("ngModelOptions",N.Ec(5,Qe))("value",n.checked)("name",n.displayName),N.Nb(2),N.cd(n.displayName)}}function Xe(e,t){if(1&e&&(N.jc(0,"div",24),N.jc(1,"div"),N.Zc(2,Ke,4,6,"ng-container",25),N.ic(),N.ic()),2&e){var i=N.uc().$implicit;N.Nb(2),N.Bc("ngForOf",i.childKey)}}function et(e,t){if(1&e){var i=N.kc();N.jc(0,"div",2),N.jc(1,"p-checkbox",21),N.qc("ngModelChange",function(e){return t.$implicit.checked=e})("onChange",function(){N.Rc(i);var e=t.$implicit;return N.uc().selectChanges(e)}),N.ic(),N.jc(2,"label",22),N.bd(3),N.ic(),N.ec(4,"br"),N.Zc(5,Xe,3,1,"div",23),N.ec(6,"br"),N.ic()}if(2&e){var n=t.$implicit;N.Nb(1),N.Bc("ngModel",n.checked)("ngModelOptions",N.Ec(7,Qe))("value",n.checked)("name",n.displayName)("id",n.idModule),N.Nb(2),N.cd(n.displayName),N.Nb(2),N.Bc("ngIf",n.checked)}}var tt,it=((tt=function(){function e(t,i,n){o(this,e),this.userSettingsService=t,this.router=i,this.domainProjService=n,this.ruleCategoryList=[],this.taskList=[],this.showColumn=!1,this.isDisabled=!1,this.showMsg=!1,this.roleNamevalid=!0}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.domainProjService.passDomainProjVal(!0),this.router.url.includes("edit-role")?(this.editRoleDetails=JSON.parse(sessionStorage.getItem("editRole")),this.userSettingsService.getEditRole("editRoleModule",{idRole:this.editRoleDetails.idRole}).subscribe(function(t){e.taskList=t.Module,e.roleName=t.Name,e.description=t.Description,e.taskList.forEach(function(e){e.childKey=[{displayName:"C",value:"-C",checked:!1},{displayName:"R",value:"-R",checked:!1},{displayName:"U",value:"-U",checked:!1},{displayName:"D",value:"-D",checked:!1}],e.childModule&&e.childModule.forEach(function(t){e.childKey.map(function(e){t.checked&&e.displayName===t.displayName&&(e.checked=!0)})})})}),this.isDisabled=!0):this.userSettingsService.getModuleList("addNewRole").subscribe(function(t){"success"===t.status&&(e.taskList=t.Modules,e.taskList.forEach(function(e){e.idModule=e.id,e.displayName=e.displayName,e.checked=!1,e.childKey=[{displayName:"C",value:"-C",checked:!1},{displayName:"R",value:"-R",checked:!1},{displayName:"U",value:"-U",checked:!1},{displayName:"D",value:"-D",checked:!1}],delete e.id,delete e.name}))})}},{key:"readAccess",value:function(e,t){this.taskList.forEach(function(i){t.displayName==i.displayName&&i.childKey.map(function(t){1!=e.checked||"C"!=t.displayName&&"U"!=t.displayName&&"D"!=t.displayName?0==e.checked&&0==t.checked&&"R"==t.displayName&&i.childKey.forEach(function(e){"C"!=e.displayName&&"U"!=e.displayName&&"D"!=e.displayName||(e.checked=!1)}):i.childKey.forEach(function(e){"R"==e.displayName&&(e.checked=!0)})})})}},{key:"saveRole",value:function(){var e=this;if(this.taskDataAll=[],this.accessControlAll=[],this.taskList.forEach(function(t){if(!0===t.checked){e.taskDataAll.push(t.idModule);var i="";t.childKey.forEach(function(e){!0===e.checked&&(i+=e.value)}),e.accessControlAll.push(i)}}),this.td=this.taskDataAll.toString().replace(/,/g,"-"),this.ac=this.accessControlAll.toString(),null!=this.editRoleDetails){var t={idRole:this.editRoleDetails.idRole,taskDataAll:this.td.toString(),accessControlAll:this.ac.toString()};null!=this.td&&null!=this.ac&&this.userSettingsService.editRole(t).subscribe(function(t){"success"===t.status&&e.router.navigateByUrl("/dbckangui/user-setting/view-roles")})}else{var i={roleName:this.roleName,description:this.description?this.description:"",taskDataAll:this.td.toString(),accessControlAll:this.ac.toString()};null!=this.td&&null!=this.ac&&this.userSettingsService.saveRole(i).subscribe(function(t){"success"===t.status&&e.router.navigateByUrl("/dbckangui/user-setting/view-roles")})}}},{key:"selectChanges",value:function(e){!1===e.checked&&e.childKey.forEach(function(e){e.checked=!1})}},{key:"backToScreen",value:function(){this.router.navigateByUrl("/dbckangui/user-setting/view-roles")}},{key:"checkDupSchemaName",value:function(){var e=this;this.roleName.length>=3?this.userSettingsService.checkDuplicateName("duplicateRoleName",{val:this.roleName}).subscribe(function(t){e.showMsg=!1,"failed"===t.status?(e.roleNamevalid=!1,e.invalidMsg=t.message):e.roleNamevalid=!0},function(t){e.showMsg=!0}):this.roleNamevalid=!0}}]),e}()).\u0275fac=function(e){return new(e||tt)(N.dc(D.a),N.dc(d.i),N.dc(V.a))},tt.\u0275cmp=N.Xb({type:tt,selectors:[["app-add-role"]],decls:32,vars:15,consts:[[1,"container-fluid","create-conn-main"],[1,"row","p-field"],[1,"col-sm-12","col-md-6","mr-top"],["for","roleName",1,"form-label"],[1,"req-field"],["id","roleName","maxlength","500","placeholder","Enter Role Name","type","text","pInputText","","name","roleName","required","",1,"form-field",3,"ngModel","ngModelOptions","disabled","ngClass","ngModelChange","keyup"],["roleName1","ngModel"],["class","err-msg",4,"ngIf"],["for","description",1,"form-label"],["id","description","maxlength","500","placeholder","Enter Description","type","text","pInputText","","name","description",1,"form-field",3,"ngModel","ngModelOptions","ngClass","disabled","ngModelChange"],[1,"col-sm-12","col-md-12","mr-top"],["for","accessControl",1,"form-label"],["class","col-sm-12 col-md-6 mr-top",4,"ngFor","ngForOf"],[1,"note","row","p-field"],[1,"col-sm-12","col-md-12","mr-top","text-left"],[1,"row","p-field","mr-top"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","label","click"],["pButton","","type","button","label","Cancel",1,"button","w-button","shadow","btn-cancel",3,"click"],[1,"err-msg"],[4,"ngIf"],["binary","true","inputId","checkbox.idModule",3,"ngModel","ngModelOptions","value","name","id","ngModelChange","onChange"],["for","checkbox.idModule",1,"form-label","mar-0"],["class","pad-5",4,"ngIf"],[1,"pad-5"],[4,"ngFor","ngForOf"],["binary","true","inputId","child.displayName",3,"ngModel","ngModelOptions","value","name","ngModelChange","onChange"],[1,"form-label-role","margin-checkbox"]],template:function(e,t){if(1&e&&(N.jc(0,"form",0),N.jc(1,"div",1),N.jc(2,"div",2),N.jc(3,"label",3),N.bd(4,"Role Name"),N.jc(5,"sup",4),N.bd(6,"*"),N.ic(),N.ic(),N.ec(7,"br"),N.jc(8,"input",5,6),N.qc("ngModelChange",function(e){return t.roleName=e})("keyup",function(){return t.checkDupSchemaName()}),N.ic(),N.Zc(10,He,2,1,"p",7),N.Zc(11,Ye,3,1,"p",7),N.ic(),N.jc(12,"div",2),N.jc(13,"label",8),N.bd(14,"Description"),N.ic(),N.ec(15,"br"),N.jc(16,"input",9),N.qc("ngModelChange",function(e){return t.description=e}),N.ic(),N.ic(),N.jc(17,"div",10),N.jc(18,"label",11),N.bd(19,"Access Control"),N.ic(),N.ic(),N.Zc(20,et,7,8,"div",12),N.ic(),N.jc(21,"div",13),N.jc(22,"div",14),N.jc(23,"p"),N.bd(24,"Note: Fields marked with "),N.jc(25,"b"),N.bd(26,'"*"'),N.ic(),N.bd(27," are required. "),N.ic(),N.ic(),N.ic(),N.jc(28,"div",15),N.jc(29,"div",16),N.jc(30,"button",17),N.qc("click",function(){return t.saveRole()}),N.ic(),N.jc(31,"button",18),N.qc("click",function(){return t.backToScreen()}),N.ic(),N.ic(),N.ic(),N.ic()),2&e){var i=N.Oc(9);N.Nb(8),N.Bc("ngModel",t.roleName)("ngModelOptions",N.Ec(13,Qe))("disabled",t.isDisabled)("ngClass",t.isDisabled?"diabledfield":""),N.Nb(2),N.Bc("ngIf",i.invalid&&(i.dirty||i.touched)),N.Nb(1),N.Bc("ngIf",!t.roleNamevalid&&!t.showMsg),N.Nb(5),N.Bc("ngModel",t.description)("ngModelOptions",N.Ec(14,Qe))("ngClass",t.isDisabled?"diabledfield":"")("disabled",t.isDisabled),N.Nb(4),N.Bc("ngForOf",t.taskList),N.Nb(10),N.Bc("disabled",!t.roleName)("label",t.editRoleDetails?"Update Role":"Create Role")}},directives:[s.x,s.p,s.q,s.d,s.k,E.a,s.v,s.o,s.r,l.l,l.n,l.m,L.b,T.a],styles:["[_ngcontent-%COMP%]::-moz-placeholder{color:gray;opacity:.8}[_ngcontent-%COMP%]::placeholder{color:gray;opacity:.8}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.note[_ngcontent-%COMP%]{text-align:left;font-size:13px;color:#eb5454;margin-left:12px!important;margin-top:20px!important}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}.form-label-role[_ngcontent-%COMP%]{font-size:16px;margin-bottom:0!important;margin-right:4%!important;margin-left:1%!important}[_nghost-%COMP%]     .p-inputtext{font-size:14px}.p-field[_ngcontent-%COMP%]{margin:0 10px}.p-field-form[_ngcontent-%COMP%]{padding-right:0}.diabled-ip[_ngcontent-%COMP%]{opacity:.7;box-shadow:none!important;cursor:inherit}.diabled-ip[_ngcontent-%COMP%]:hover, .diabledfield[_ngcontent-%COMP%]{cursor:not-allowed!important}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .p-disabled:hover{cursor:not-allowed!important}.optional-fields[_ngcontent-%COMP%]{color:#789}.form-checkbox[_ngcontent-%COMP%]{padding-left:10px;font-size:16px;padding-top:8px}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.warning-msg[_ngcontent-%COMP%]{font-size:12px;color:#007bff;margin-bottom:0;padding-top:8px;padding-left:5px}.mar-0[_ngcontent-%COMP%]{margin:0;padding-left:1%}.pad-5[_ngcontent-%COMP%]{padding-top:5px}"]}),tt);function nt(e,t){1&e&&(N.jc(0,"span",22),N.bd(1,"Please enter "),N.jc(2,"b"),N.bd(3,"First Name"),N.ic(),N.ic())}function ot(e,t){1&e&&(N.jc(0,"span",22),N.bd(1,"Only characters allowed"),N.ic())}function at(e,t){if(1&e&&(N.jc(0,"p",22),N.Zc(1,nt,4,0,"span",6),N.Zc(2,ot,2,0,"span",6),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngIf",i.userForm.controls.firstName.errors.required),N.Nb(1),N.Bc("ngIf",i.userForm.controls.firstName.errors.pattern)}}function rt(e,t){1&e&&(N.jc(0,"span",22),N.bd(1,"Please enter "),N.jc(2,"b"),N.bd(3,"Last Name"),N.ic(),N.ic())}function ct(e,t){1&e&&(N.jc(0,"span",22),N.bd(1,"Only characters allowed"),N.ic())}function lt(e,t){if(1&e&&(N.jc(0,"p",22),N.Zc(1,rt,4,0,"span",6),N.Zc(2,ct,2,0,"span",6),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngIf",i.userForm.controls.lastName.errors.required),N.Nb(1),N.Bc("ngIf",i.userForm.controls.lastName.errors.pattern)}}function st(e,t){1&e&&(N.jc(0,"span",22),N.bd(1,"Email must be a valid "),N.jc(2,"b"),N.bd(3,"Email Address"),N.ic(),N.ic())}function dt(e,t){1&e&&(N.jc(0,"span",22),N.bd(1,"Please enter "),N.jc(2,"b"),N.bd(3,"Email"),N.ic(),N.ic())}function ut(e,t){if(1&e&&(N.jc(0,"p",22),N.Zc(1,st,4,0,"span",6),N.Zc(2,dt,4,0,"span",6),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngIf",i.userForm.controls.userName.errors.pattern),N.Nb(1),N.Bc("ngIf",i.userForm.controls.userName.errors.required)}}function pt(e,t){if(1&e&&(N.jc(0,"p"),N.jc(1,"span",22),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc();N.Nb(2),N.cd(i.dupEmail)}}function ft(e,t){1&e&&(N.jc(0,"span",22),N.bd(1,"Please enter "),N.jc(2,"b"),N.bd(3,"Password"),N.ic(),N.ic())}function gt(e,t){if(1&e&&(N.jc(0,"p",22),N.Zc(1,ft,4,0,"span",6),N.ic()),2&e){var i=N.uc(2);N.Nb(1),N.Bc("ngIf",i.userForm.controls.password.errors.required)}}function ht(e,t){if(1&e&&(N.jc(0,"div",2),N.jc(1,"label",23),N.bd(2,"Password"),N.jc(3,"sup",4),N.bd(4,"*"),N.ic(),N.ic(),N.ec(5,"br"),N.ec(6,"input",24),N.Zc(7,gt,2,1,"p",6),N.ic()),2&e){var i=N.uc();N.Nb(7),N.Bc("ngIf",i.userForm.controls.password.invalid&&!i.userForm.controls.password.pristine)}}function mt(e,t){1&e&&(N.jc(0,"span",22),N.bd(1,"Please choose "),N.jc(2,"b"),N.bd(3,"Role"),N.ic(),N.ic())}function bt(e,t){if(1&e&&(N.jc(0,"p",22),N.Zc(1,mt,4,0,"span",6),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngIf",i.userForm.controls.roleId.errors.required)}}function vt(e,t){if(1&e){var i=N.kc();N.jc(0,"button",25),N.qc("click",function(){return N.Rc(i),N.uc().updateUser()}),N.ic()}if(2&e){var n=N.uc();N.Bc("disabled",!n.userForm.valid||n.dupEmailFlag||!n.userForm.dirty)}}function Ct(e,t){if(1&e){var i=N.kc();N.jc(0,"button",26),N.qc("click",function(){return N.Rc(i),N.uc().saveUser()}),N.ic()}if(2&e){var n=N.uc();N.Bc("disabled",!n.userForm.valid||n.dupEmailFlag)}}var yt,xt=((yt=function(){function e(t,i,n,a){o(this,e),this.fb=t,this.userSettingsService=i,this.router=n,this.domainProjService=a,this.ruleCategoryList=[],this.showColumn=!1,this.dupEmail="",this.dupEmailFlag=!1}return r(e,[{key:"ngOnInit",value:function(){this.domainProjService.passDomainProjVal(!0),this.resetFormValidators(),this.getAllRoleList(),this.router.url.includes("edit-user")?sessionStorage.getItem("objUser")&&(this.editMode=!0,this.userForm.controls.password.setValidators([])):this.editMode=!1}},{key:"updateUser",value:function(){var e=this;if(this.userForm.valid){var t=JSON.parse(JSON.stringify(this.userForm.value)),i=JSON.parse(sessionStorage.getItem("objUser"));this.userSettingsService.updateUser({roleId:t.roleId,userId:i.idUser,firstName:t.firstName,lastName:t.lastName,email:t.userName}).subscribe(function(t){"success"===t.status&&e.backToScreen()})}}},{key:"getAllRoleList",value:function(){var e=this;this.userSettingsService.getRoleList().subscribe(function(t){if("success"===t.status&&(e.ruleCategoryList=t.result),e.editMode){var i=JSON.parse(sessionStorage.getItem("objUser")),n=e.ruleCategoryList.filter(function(e){return e.roleName==i.roleName});e.userForm.patchValue({userId:i.userId,firstName:i.firstName,lastName:i.lastName,userName:i.email,password:"",roleId:n[0].idRole}),console}})}},{key:"resetFormValidators",value:function(){this.userForm=this.fb.group({firstName:["",s.w.compose([s.w.required])],lastName:["",s.w.compose([s.w.required])],userName:["",[s.w.required,s.w.email,s.w.pattern("^[A-Za-z0-9._%-]+@[A-Za-z0-9.-]+.[A-Za-z]{2,4}$")]],password:["",s.w.compose([s.w.required])],roleId:["",s.w.compose([s.w.required])]})}},{key:"saveUser",value:function(){var e=this;if(this.userForm.valid){var t=JSON.parse(JSON.stringify(this.userForm.value));this.userSettingsService.saveUser(t).subscribe(function(t){"success"===t.status&&e.backToScreen()})}else this.markFormAsTouched()}},{key:"backToScreen",value:function(){this.router.navigateByUrl("/dbckangui/user-setting/view-users")}},{key:"markFormAsTouched",value:function(){var e=this;this.userForm.updateValueAndValidity(),Object.keys(this.userForm.controls).forEach(function(t){e.userForm.controls[t].markAsTouched(),e.userForm.controls[t].markAsDirty()})}},{key:"checkDuplicateEmail",value:function(){var e=this;this.userSettingsService.duplicateEmail({val:this.userForm.controls.userName.value}).subscribe(function(t){"failed"===t.status?(e.dupEmail=t.message,e.dupEmailFlag=!0):(e.dupEmail="",e.dupEmailFlag=!1)})}}]),e}()).\u0275fac=function(e){return new(e||yt)(N.dc(s.e),N.dc(D.a),N.dc(d.i),N.dc(V.a))},yt.\u0275cmp=N.Xb({type:yt,selectors:[["app-add-user"]],decls:48,vars:13,consts:[["id","userForm",1,"container-fluid","create-conn-main",3,"formGroup"],[1,"row","p-field"],[1,"col-sm-12","col-md-6","mr-top"],["for","first_name","id","firstName",1,"form-label"],[1,"req-field"],["id","first_name","maxlength","500","formControlName","firstName","placeholder","Enter First Name","type","text","pInputText","",1,"form-field"],["class","err-msg",4,"ngIf"],["for","last_name","id","lastName",1,"form-label"],["id","last_name","maxlength","500","formControlName","lastName","placeholder","Enter Last Name","type","text","pInputText","",1,"form-field"],["for","email_id","id","userName",1,"form-label"],["id","email_id","maxlength","500","formControlName","userName","placeholder","Enter Email","type","email","pInputText","",1,"form-field",3,"keyup"],[4,"ngIf"],["class","col-sm-12 col-md-6 mr-top",4,"ngIf"],["for","role_id","id","roleId",1,"form-label"],["formControlName","roleId","placeholder","Select Role","optionValue","idRole","optionLabel","roleName",3,"styleClass","options","virtualScroll","itemSize"],[1,"note","row","p-field"],[1,"col-sm-12","col-md-6","mr-top","text-left"],[1,"row","p-field","mr-top"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button","class","button w-button shadow btn-mr-rt","label","Update User",3,"disabled","click",4,"ngIf"],["pButton","","type","button","class","button w-button shadow btn-mr-rt","label","Create User",3,"disabled","click",4,"ngIf"],["pButton","","type","button","label","Cancel",1,"button","w-button","shadow","btn-cancel",3,"click"],[1,"err-msg"],["for","rule_name","id","password",1,"form-label"],["id","rule_name","maxlength","500","formControlName","password","placeholder","Enter Password","type","password","pInputText","",1,"form-field"],["pButton","","type","button","label","Update User",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],["pButton","","type","button","label","Create User",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"]],template:function(e,t){1&e&&(N.jc(0,"div",0),N.jc(1,"div",1),N.jc(2,"div",2),N.jc(3,"label",3),N.bd(4,"First Name"),N.jc(5,"sup",4),N.bd(6,"*"),N.ic(),N.ic(),N.ec(7,"br"),N.ec(8,"input",5),N.Zc(9,at,3,2,"p",6),N.ic(),N.jc(10,"div",2),N.jc(11,"label",7),N.bd(12,"Last Name"),N.jc(13,"sup",4),N.bd(14,"*"),N.ic(),N.ic(),N.ec(15,"br"),N.ec(16,"input",8),N.Zc(17,lt,3,2,"p",6),N.ic(),N.jc(18,"div",2),N.jc(19,"label",9),N.bd(20,"Email"),N.jc(21,"sup",4),N.bd(22,"*"),N.ic(),N.ic(),N.ec(23,"br"),N.jc(24,"input",10),N.qc("keyup",function(){return t.checkDuplicateEmail()}),N.ic(),N.Zc(25,ut,3,2,"p",6),N.Zc(26,pt,3,1,"p",11),N.ic(),N.Zc(27,ht,8,1,"div",12),N.jc(28,"div",2),N.jc(29,"label",13),N.bd(30,"Role"),N.jc(31,"sup",4),N.bd(32,"*"),N.ic(),N.ic(),N.ec(33,"br"),N.ec(34,"p-dropdown",14),N.Zc(35,bt,2,1,"p",6),N.ic(),N.ic(),N.jc(36,"div",15),N.jc(37,"div",16),N.jc(38,"p"),N.bd(39,"Note: Fields marked with "),N.jc(40,"b"),N.bd(41,'"*"'),N.ic(),N.bd(42," are required. "),N.ic(),N.ic(),N.ic(),N.jc(43,"div",17),N.jc(44,"div",18),N.Zc(45,vt,1,1,"button",19),N.Zc(46,Ct,1,1,"button",20),N.jc(47,"button",21),N.qc("click",function(){return t.backToScreen()}),N.ic(),N.ic(),N.ic(),N.ic()),2&e&&(N.Bc("formGroup",t.userForm),N.Nb(9),N.Bc("ngIf",t.userForm.controls.firstName.invalid&&!t.userForm.controls.firstName.pristine),N.Nb(8),N.Bc("ngIf",t.userForm.controls.lastName.invalid&&!t.userForm.controls.lastName.pristine),N.Nb(8),N.Bc("ngIf",t.userForm.controls.userName.invalid&&!t.userForm.controls.userName.pristine),N.Nb(1),N.Bc("ngIf",t.dupEmail.length>0),N.Nb(1),N.Bc("ngIf",!t.editMode),N.Nb(7),N.Bc("styleClass","form-field")("options",t.ruleCategoryList)("virtualScroll",!0)("itemSize",30),N.Nb(1),N.Bc("ngIf",t.userForm.controls.roleId.invalid&&!t.userForm.controls.roleId.pristine),N.Nb(10),N.Bc("ngIf",t.editMode),N.Nb(1),N.Bc("ngIf",!t.editMode))},directives:[s.p,s.i,s.d,s.k,s.o,s.g,E.a,l.n,f.a,L.b],styles:["[_ngcontent-%COMP%]::-moz-placeholder{color:gray;opacity:.8}[_ngcontent-%COMP%]::placeholder{color:gray;opacity:.8}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.note[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#eb5454;margin-left:12px!important;margin-top:25px!important}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]     .p-inputtext{font-size:14px}.p-field[_ngcontent-%COMP%]{margin:0 10px}.p-field-form[_ngcontent-%COMP%]{padding-right:0}.diabled-ip[_ngcontent-%COMP%]{opacity:.7;box-shadow:none!important;cursor:inherit}.diabled-ip[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .p-disabled:hover{cursor:not-allowed!important}.optional-fields[_ngcontent-%COMP%]{color:#789}.form-checkbox[_ngcontent-%COMP%]{padding-left:10px;font-size:16px;padding-top:8px}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.warning-msg[_ngcontent-%COMP%]{font-size:12px;color:#007bff;margin-bottom:0;padding-top:8px;padding-left:5px}"]}),yt),Pt=c("ey9i");function jt(e,t){1&e&&(N.jc(0,"span",18),N.jc(1,"span",18),N.jc(2,"b"),N.bd(3,"Event Message Body"),N.ic(),N.bd(4," cannot be blank"),N.ic(),N.ic())}function wt(e,t){if(1&e&&(N.jc(0,"p",18),N.Zc(1,jt,5,0,"span",13),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngIf",i.alertForm.controls.eventMessegeSubject.errors.required)}}var Ot,kt=((Ot=function(){function e(t,i,n,a){o(this,e),this.router=t,this.userSettingsService=i,this.messages=n,this.fb=a,this.ruleCategoryList=[],this.alertForm=this.fb.group({eventMessegeSubject:[""]})}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.userSettingsService.getAlertEventById({eventId:JSON.parse(sessionStorage.getItem("alertObj")).eventId}).subscribe(function(t){e.alertObj=t.result.alertEvent,e.alertForm.patchValue({eventMessegeSubject:e.alertObj.alertEventMessege})})}},{key:"update",value:function(){var e=this;""!==this.eventMessegeSubject&&this.userSettingsService.updateEventSubscription({eventId:this.alertObj.eventId,msgBody:this.alertForm.value.eventMessegeSubject}).subscribe(function(t){"success"===t.status&&(e.messages.displayToaster(t.message,"success","Success"),e.router.navigate(["/dbckangui/user-setting/alert-notification"]))})}},{key:"backToScreen",value:function(){this.router.navigate(["/dbckangui/user-setting/alert-notification"])}}]),e}()).\u0275fac=function(e){return new(e||Ot)(N.dc(d.i),N.dc(D.a),N.dc(Pt.b),N.dc(s.e))},Ot.\u0275cmp=N.Xb({type:Ot,selectors:[["app-alert-edit"]],decls:39,vars:8,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"row","p-field",3,"formGroup"],[1,"col-sm-12","col-md-12","mr-top"],["for","first_name",1,"form-label"],[1,"req-field"],["id","last_name","maxlength","500","type","text","readonly","","pInputText","",1,"form-field",3,"value"],["for","last_name",1,"form-label"],["for","email_id",1,"form-label"],["for","role_id",1,"form-label"],["id","querytextboxid","placeholder","Enter Event Message Body","formControlName","eventMessegeSubject",1,"form-field",3,"rows","cols"],["class","err-msg",4,"ngIf"],[1,"row","p-field","mr-top"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button","label","Update",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],["pButton","","type","button","label","Cancel",1,"button","w-button","shadow","btn-cancel",3,"click"],[1,"err-msg"]],template:function(e,t){1&e&&(N.jc(0,"div",0),N.jc(1,"div",1),N.jc(2,"div",2),N.jc(3,"p",3),N.bd(4," Customize Alert Event Notification "),N.ic(),N.ic(),N.ic(),N.jc(5,"div",4),N.jc(6,"div",5),N.jc(7,"label",6),N.bd(8,"Event Topic Name"),N.jc(9,"sup",7),N.bd(10,"*"),N.ic(),N.ic(),N.ec(11,"br"),N.ec(12,"input",8),N.ic(),N.jc(13,"div",5),N.jc(14,"label",9),N.bd(15,"Event Message Subject"),N.jc(16,"sup",7),N.bd(17,"*"),N.ic(),N.ic(),N.ec(18,"br"),N.ec(19,"input",8),N.ic(),N.jc(20,"div",5),N.jc(21,"label",10),N.bd(22,"Event Message Code"),N.jc(23,"sup",7),N.bd(24,"*"),N.ic(),N.ic(),N.ec(25,"br"),N.ec(26,"input",8),N.ic(),N.jc(27,"div",5),N.jc(28,"label",11),N.bd(29,"Event Message Body"),N.jc(30,"sup",7),N.bd(31,"*"),N.ic(),N.ic(),N.ec(32,"br"),N.ec(33,"textarea",12),N.Zc(34,wt,2,1,"p",13),N.ic(),N.ic(),N.jc(35,"div",14),N.jc(36,"div",15),N.jc(37,"button",16),N.qc("click",function(){return t.update()}),N.ic(),N.jc(38,"button",17),N.qc("click",function(){return t.backToScreen()}),N.ic(),N.ic(),N.ic(),N.ic()),2&e&&(N.Nb(5),N.Bc("formGroup",t.alertForm),N.Nb(7),N.Bc("value",null==t.alertObj?null:t.alertObj.eventName),N.Nb(7),N.Bc("value",null==t.alertObj?null:t.alertObj.eventMessegeSubject),N.Nb(7),N.Bc("value",null==t.alertObj?null:t.alertObj.eventName),N.Nb(7),N.Bc("rows",10)("cols",30),N.Nb(1),N.Bc("ngIf",t.alertForm.controls.eventMessegeSubject.invalid&&!t.alertForm.controls.eventMessegeSubject.pristine),N.Nb(3),N.Bc("disabled",!t.alertForm.valid||!t.alertForm.dirty))},directives:[s.p,s.i,E.a,s.d,s.o,s.g,l.n,L.b],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}[_nghost-%COMP%]     .p-dropdown{height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}[_ngcontent-%COMP%]::-moz-placeholder{color:gray;opacity:.8}[_ngcontent-%COMP%]::placeholder{color:gray;opacity:.8}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.note[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#eb5454}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]     .p-inputtext{font-size:14px}.p-field[_ngcontent-%COMP%]{margin:0 10px}.p-field-form[_ngcontent-%COMP%]{padding-right:0}.diabled-ip[_ngcontent-%COMP%]{opacity:.7;box-shadow:none!important;cursor:inherit}.diabled-ip[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .p-disabled:hover{cursor:not-allowed!important}.optional-fields[_ngcontent-%COMP%]{color:#789}.form-checkbox[_ngcontent-%COMP%]{padding-left:10px;font-size:16px;padding-top:8px}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.warning-msg[_ngcontent-%COMP%]{font-size:12px;color:#007bff;margin-bottom:0;padding-top:8px;padding-left:5px}"]}),Ot);function St(e,t){if(1&e){var i=N.kc();N.jc(0,"div",20),N.jc(1,"span",21),N.jc(2,"input",22),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().globalFilterValue=e})("keyup",function(e){return N.Rc(i),N.uc().globalFilterFun(e)}),N.ic(),N.bd(3,"\xa0 "),N.ec(4,"i",23),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(2),N.Bc("ngModel",n.globalFilterValue)}}function Mt(e,t){if(1&e){var i=N.kc();N.jc(0,"th"),N.jc(1,"span"),N.bd(2),N.ec(3,"br"),N.ic(),N.ec(4,"p-sortIcon",29),N.jc(5,"app-column-filter",30),N.qc("hideFilterDataBox",function(e){return N.Rc(i),N.uc(3).hideBox(e)})("filterData",function(e){return N.Rc(i),N.uc(3).getFilterData(e)})("resetFilterValues",function(e){return N.Rc(i),N.uc(3).resetFilter(e)}),N.ic(),N.jc(6,"span",31),N.jc(7,"i",32),N.qc("click",function(){N.Rc(i);var e=N.uc().$implicit;return N.uc(2).onFilterClick(e.originalValue)}),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc().$implicit,o=N.uc(2);N.Nb(2),N.dd(" ",n.displayValue,""),N.Nb(2),N.Cc("field",n.originalValue),N.Cc("pSortableColumn",n.originalValue),N.Nb(1),N.Bc("colFilterData",o.getFilterState(n.originalValue))("display",o.displayFiltersFor[n.originalValue])("fieldName",n.originalValue)("customId",n.originalValue+"_subscribe_notify"),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"selected-filter-column":""),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function Nt(e,t){if(1&e){var i=N.kc();N.jc(0,"th",33),N.jc(1,"span"),N.bd(2),N.ec(3,"br"),N.ic(),N.ec(4,"p-sortIcon",29),N.jc(5,"app-column-filter",30),N.qc("hideFilterDataBox",function(e){return N.Rc(i),N.uc(3).hideBox(e)})("filterData",function(e){return N.Rc(i),N.uc(3).getFilterData(e)})("resetFilterValues",function(e){return N.Rc(i),N.uc(3).resetFilter(e)}),N.ic(),N.jc(6,"span",31),N.jc(7,"i",32),N.qc("click",function(){N.Rc(i);var e=N.uc().$implicit;return N.uc(2).onFilterClick(e.originalValue)}),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc().$implicit,o=N.uc(2);N.Nb(2),N.dd(" ",n.displayValue,""),N.Nb(2),N.Cc("field",n.originalValue),N.Cc("pSortableColumn",n.originalValue),N.Nb(1),N.Bc("colFilterData",o.getFilterState(n.originalValue))("display",o.displayFiltersFor[n.originalValue])("fieldName",n.originalValue)("customId",n.originalValue+"_subscribe_notify"),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"selected-filter-column":""),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function Dt(e,t){if(1&e){var i=N.kc();N.jc(0,"th",33),N.jc(1,"span"),N.bd(2),N.ec(3,"br"),N.ic(),N.ec(4,"p-sortIcon",29),N.jc(5,"app-column-filter",30),N.qc("hideFilterDataBox",function(e){return N.Rc(i),N.uc(3).hideBox(e)})("filterData",function(e){return N.Rc(i),N.uc(3).getFilterData(e)})("resetFilterValues",function(e){return N.Rc(i),N.uc(3).resetFilter(e)}),N.ic(),N.jc(6,"span",31),N.jc(7,"i",32),N.qc("click",function(){N.Rc(i);var e=N.uc().$implicit;return N.uc(2).onFilterClick(e.originalValue)}),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc().$implicit,o=N.uc(2);N.Nb(2),N.dd(" ",n.displayValue,""),N.Nb(2),N.Cc("field",n.originalValue),N.Cc("pSortableColumn",n.originalValue),N.Nb(1),N.Bc("colFilterData",o.getFilterState(n.originalValue))("display",o.displayFiltersFor[n.originalValue])("fieldName",n.originalValue)("customId",n.originalValue+"_subscribe_notify"),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"selected-filter-column":""),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function Ft(e,t){if(1&e&&(N.hc(0),N.Zc(1,Mt,8,9,"th",27),N.Zc(2,Nt,8,9,"th",28),N.Zc(3,Dt,8,9,"th",28),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",i.isSelected&&"Alert Subscription Id"!=i.displayValue&&i.isSelected&&"Is Global Subscription"!=i.displayValue),N.Nb(1),N.Bc("ngIf",i.isSelected&&"Alert Subscription Id"==i.displayValue),N.Nb(1),N.Bc("ngIf",i.isSelected&&"Is Global Subscription"==i.displayValue)}}function _t(e,t){if(1&e&&(N.jc(0,"tr",24),N.Zc(1,Ft,4,3,"ng-container",25),N.jc(2,"th",26),N.bd(3,"Delete"),N.ic(),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngForOf",i.customizeSubscribeCols)}}function It(e,t){if(1&e){var i=N.kc();N.jc(0,"input",41),N.qc("ngModelChange",function(e){N.Rc(i);var t=N.uc(3).$implicit;return N.uc().$implicit[t.originalValue]=e})("change",function(e){N.Rc(i);var t=N.uc(4).$implicit;return N.uc().changeCommValue(e.target.value,t)}),N.ic()}if(2&e){var n=N.uc(3).$implicit,o=N.uc().$implicit;N.Bc("ngModel",o[n.originalValue])}}function Vt(e,t){if(1&e&&N.bd(0),2&e){var i=N.uc(3).$implicit,n=N.uc().$implicit;N.dd(" ",n[i.originalValue]," ")}}function Lt(e,t){1&e&&(N.jc(0,"p-cellEditor"),N.Zc(1,It,1,1,"ng-template",39),N.Zc(2,Vt,1,1,"ng-template",40),N.ic())}function Rt(e,t){if(1&e&&(N.jc(0,"span"),N.bd(1),N.ic()),2&e){var i=N.uc(2).$implicit,n=N.uc().$implicit;N.Nb(1),N.cd(n[i.originalValue])}}function Bt(e,t){if(1&e&&(N.jc(0,"td",38),N.Zc(1,Lt,3,0,"p-cellEditor",27),N.Zc(2,Rt,2,1,"span",27),N.ic()),2&e){var i=N.uc().$implicit,n=N.uc().$implicit;N.Bc("title",n[i.originalValue]),N.Nb(1),N.Bc("ngIf","communicationValues"==i.originalValue),N.Nb(1),N.Bc("ngIf","communicationValues"!==i.originalValue)}}function Et(e,t){if(1&e&&(N.hc(0),N.Zc(1,Bt,3,3,"td",37),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",i.isSelected)}}function zt(e,t){if(1&e){var i=N.kc();N.jc(0,"tr",34),N.Zc(1,Et,2,1,"ng-container",25),N.jc(2,"td"),N.jc(3,"span",35),N.qc("click",function(){N.Rc(i);var e=t.$implicit;return N.uc().deleteAlertSubscription(e)}),N.ec(4,"i",36),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc(),o=null;N.Nb(1),N.Bc("ngForOf",n.customizeSubscribeCols),N.Nb(2),N.Bc("ngClass",null!=(o=n.roleOnModule("User Settings"))&&null!=o.accessControl&&o.accessControl.includes("D")?" cursor-pointer":"disable")}}function Tt(e,t){1&e&&(N.jc(0,"div",42),N.bd(1," No records found "),N.ic())}function qt(e,t){if(1&e){var i=N.kc();N.jc(0,"div",43),N.jc(1,"p-paginator",44,45),N.qc("onPageChange",function(e){return N.Rc(i),N.uc().onPageChange(e)})("firstChange",function(e){return N.Rc(i),N.uc().first=e}),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("rows",10)("totalRecords",n.subscribeEventList.length)("showCurrentPageReport",!0)("first",n.first)}}function Zt(e,t){if(1&e&&(N.jc(0,"div",50),N.jc(1,"div"),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc(3);N.Nb(2),N.ed("Page ",i.selectedPage.page," of ",i.totalNumOfPages,"")}}function Ut(e,t){if(1&e&&N.Zc(0,Zt,3,2,"div",49),2&e){var i=N.uc(2);N.Bc("ngIf",i.selectedPage)}}function At(e,t){if(1&e){var i=N.kc();N.jc(0,"div",46),N.jc(1,"p-dropdown",47),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().selectedPage=e})("onChange",function(e){return N.Rc(i),N.uc().onPageNumChange(e)}),N.Zc(2,Ut,1,1,"ng-template",48),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("options",n.numOfPages)("filter",!0)("ngModel",n.selectedPage)}}function Wt(e,t){1&e&&(N.jc(0,"span",51),N.ec(1,"i",52),N.bd(2," Confirmation "),N.ic())}function Gt(e,t){if(1&e){var i=N.kc();N.jc(0,"button",53),N.qc("click",function(){return N.Rc(i),N.uc().deleteConfirm()}),N.ic()}}function $t(e,t){if(1&e){var i=N.kc();N.hc(0),N.jc(1,"div",67),N.jc(2,"table"),N.jc(3,"tr",68),N.jc(4,"td"),N.jc(5,"p-checkbox",69),N.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return N.Rc(i),N.uc(2).pdfColsValue()}),N.ic(),N.ic(),N.jc(6,"td"),N.jc(7,"label"),N.bd(8),N.ic(),N.ic(),N.ic(),N.ic(),N.ic(),N.gc()}if(2&e){var n=t.$implicit,o=N.uc(2);N.Nb(5),N.Bc("ngModel",n.pdfCols)("disabled",o.pdfCheckboxDisabled&&!n.pdfCols),N.Nb(3),N.cd(n.displayValue)}}function Jt(e,t){1&e&&(N.jc(0,"div",70),N.bd(1,"You can select up to 9 columns."),N.ic())}function Ht(e,t){if(1&e){var i=N.kc();N.jc(0,"div",54),N.jc(1,"span",55),N.bd(2,"Please select columns that need to be downloaded in PDF"),N.ic(),N.ic(),N.jc(3,"div",56),N.jc(4,"div",57),N.Zc(5,$t,9,3,"ng-container",25),N.ic(),N.ic(),N.jc(6,"div",58),N.jc(7,"div",59),N.jc(8,"div",60),N.Zc(9,Jt,2,0,"div",61),N.ic(),N.jc(10,"div",62),N.jc(11,"button",63),N.qc("click",function(){N.Rc(i);var e=N.uc();return e.exportPdf(),e.modalRef.hide()}),N.ic(),N.ic(),N.jc(12,"div",64),N.jc(13,"div"),N.jc(14,"label",65),N.qc("click",function(){return N.Rc(i),N.uc().closeExportPdf()}),N.bd(15,"Close"),N.ic(),N.jc(16,"img",66),N.qc("click",function(){return N.Rc(i),N.uc().closeExportPdf()}),N.ic(),N.ic(),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(5),N.Bc("ngForOf",n.customizeSubscribeCols),N.Nb(4),N.Bc("ngIf",n.pdfCheckboxDisabled),N.Nb(2),N.Bc("disabled",n.disableDownloadBtn)}}var Yt=function(){return{width:"100%"}},Qt=function(){return{width:"50vw"}};x.a.vfs=j.a.pdfMake.vfs;var Kt,Xt=((Kt=function(){function e(t,i,n,a,r,c,l){o(this,e),this.userSettingsService=t,this.spinner=i,this.filterService=n,this.datePipe=a,this.modalService=r,this.cdr=c,this.messages=l,this.projectNames=[],this.pageWiseSubscribeEvents=[],this.mainSubscribeEventList=[],this.subscribeEventList=[],this.display=!1,this.deleteModal=!1,this.deleteProjectObj={},this.globalRuleObjToCopy={},this.first=0,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.pageSize=9,this.totalNumOfPages=0,this.checkboxDisabled=!1,this.maxCount=4,this.displayFiltersFor={alertSubId:!1,projectName:!1,commModeName:!1,isGlobalSubscription:!1,communicationValues:!1,eventName:!1},this.pdfData=[],this.pdfCheckCount=0,this.disableDownloadBtn=!0,this.pdfCheckboxDisabled=!1,this.columnFilter={},this.scrollHt="300px",this.filterData={},this.selectedRowData={},this.customizeSubscribeCols=[{displayValue:"Alert Subscription Id",originalValue:"alertSubId",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Project Name",originalValue:"projectName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Communication Mode",originalValue:"commModeName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Is Global Subscription",originalValue:"isGlobalSubscription",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Communication Values",originalValue:"communicationValues",isSelected:!0,necessaryCol:!0,alwaysSelected:!0}],this.customSortArr=[],this.noRecordFound=!1}return r(e,[{key:"ngOnChanges",value:function(e){var i,n=this;this.eventId&&this.userSettingsService.getAllSubscribedEventByEventId({eventId:this.eventId}).subscribe(function(e){"success"===e.status&&(e.result.subscribedEventList.map(function(e){e.alertSubId=parseInt(e.alertSubId,10)}),n.mainSubscribeEventList=t(e.result.subscribedEventList),n.getAllSubscribedEvents())}),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(i=this.roleModule)||void 0===i||i.map(function(e){e.accessControl=e.accessControl.split("-")})))}},{key:"ngOnInit",value:function(){this.setRecords()}},{key:"setRecords",value:function(){var e=this;if("false"===this.subscriptionInner)this.userSettingsService.getAllSubscribedEvents().subscribe(function(i){"success"===i.status?(e.spinner.hide(),e.spinner.hide()&&(e.noRecordFound=!0),e.customizeSubscribeCols.splice(1,1,{displayValue:"Event Name",originalValue:"eventName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0}),i.result.subscribedEventList.map(function(e){e.alertSubId=parseInt(e.alertSubId,10)}),e.mainSubscribeEventList=t(i.result.subscribedEventList),e.getAllSubscribedEvents()):(e.mainSubscribeEventList=[],e.subscribeEventList=[],e.pageWiseSubscribeEvents=[],e.noRecordFound=!0)});else{var i=JSON.parse(sessionStorage.getItem("alertObj"));this.userSettingsService.getAllSubscribedEventByEventId({eventId:i.eventId}).subscribe(function(i){"success"===i.status?(i.result.subscribedEventList.map(function(e){e.alertSubId=parseInt(e.alertSubId,10)}),e.mainSubscribeEventList=t(i.result.subscribedEventList),e.getAllSubscribedEvents()):(e.mainSubscribeEventList=[],e.subscribeEventList=[],e.pageWiseSubscribeEvents=[],e.noRecordFound=!0)})}}},{key:"roleOnModule",value:function(e){return this.roleModule.find(function(t){return t.moduleName===e})}},{key:"hideBox",value:function(e){this.displayFiltersFor[e.fieldName]=!1}},{key:"capture",value:function(){var e=this;this.pageWiseSubscribeEvents.length&&(this.spinner.show(),this.scrollHt="1500px",setTimeout(function(){O()(document.querySelector("#view_subscribe_notification_list"),{height:1200}).then(function(t){try{t.toBlob(function(t){var i=new FileReader;i.readAsDataURL(t),i.onloadend=function(){x.a.createPdf({footer:{columns:[{text:"Created by FirstEigen",alignment:"right",style:"footerSection"}]},content:[{text:"Subscribe Details",alignment:"center",margin:[0,5,0,5]},{image:i.result,width:500,alignment:"left"}],styles:{sectionHeader:{bold:!0,decoration:"underline",fontSize:14,margin:[0,5,0,5]},textStyle:{bold:!1,fontSize:9,margin:[0,5,0,5]},footerSection:{fontSize:7,margin:[5,7,7,5]}}}).download("SubscribedNotification.pdf"),e.scrollHt="300px",e.spinner.hide()}})}catch(i){e.spinner.hide()}})},2e3))}},{key:"openExportPdf",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"closeExportPdf",value:function(){var e=this;this.modalRef.hide(),setTimeout(function(){e.pdfCheckCount=0,e.pdfCheckboxDisabled=!1,e.disableDownloadBtn=!0,e.customizeSubscribeCols.forEach(function(e){return e.pdfCols=!1})},1e3)}},{key:"exportPdf",value:function(){var e=this;this.pdfData.length&&(this.spinner.show(),setTimeout(function(){var t=new M.default("l","pt"),i=e.customizeSubscribeCols.filter(function(e){return e.pdfCols}),n=[];i.forEach(function(e){return n.push(e.displayValue)});var o,a=[];i.forEach(function(e){return a.push(e.originalValue)}),o=e.pdfData.map(function(e){return Object.assign(a.map(function(t){return e[t]}))});var r=t.internal.pageSize,c=r.height?r.height:r.getHeight();S()(t,{columns:n,body:o,didDrawPage:function(e){1==e.pageNumber&&(t.text("Subscribe Details",t.internal.pageSize.width/2,25,null,"center"),t.setFontSize(10)),t.setFontSize(9),t.text("Created by FirstEigen",t.internal.pageSize.width-40,c-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}},columnStyles:{}}),t.save("Subscribe Details.pdf"),e.disableDownloadBtn=!0,e.pdfCheckboxDisabled=!1,i.forEach(function(e){return e.pdfCols=!1}),e.spinner.hide()},2e3))}},{key:"pdfColsValue",value:function(){var e=this;this.pdfCheckCount=0,this.customizeSubscribeCols.filter(function(e){return!0===e.pdfCols}).forEach(function(t){!0===t.pdfCols&&e.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}},{key:"globalFilterLogic",value:function(){var e=this;if(this.mainSubscribeEventList.length){var i=Object.keys(this.mainSubscribeEventList[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainSubscribeEventList.forEach(function(t){var n=!1;i.forEach(function(i){t[i]&&t[i].toString().toLowerCase().includes(e.globalFilterValue.toLowerCase())&&!n&&(e.filterValue.push(t),n=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.first=0,n.forEach(function(t){e.filterValue=e.filterValue.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})})}return this.subscribeEventList=t(this.filterValue),this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=t(this.mainSubscribeEventList),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var o=Object.keys(this.columnFilter);this.first=0,o.forEach(function(t){e.filterValue=e.filterValue.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})})}return this.subscribeEventList=t(this.filterValue),this.calculateNumOfPages(),this.subscribeEventList}return[]}},{key:"globalFilterFun",value:function(e){var i=t(this.globalFilterLogic()),n=this.first+this.pageSize,o=i.filter(function(e,t){return t<=n});this.cdr.detectChanges(),this.pageWiseSubscribeEvents=t(o),this.setPageNumber()}},{key:"downloadCSV",value:function(){var e=this;this.userSettingsService.downloadProjectCSV("projectCSV").subscribe(function(t){var i=e.datePipe.transform(new Date,"yyyy-MM-dd");Object(C.saveAs)(t,"ProjectCSV_"+i+".csv")})}},{key:"onFilterClick",value:function(e){var t=this;Object.keys(this.displayFiltersFor).map(function(i){t.displayFiltersFor[i]=i===e})}},{key:"checkValue",value:function(){var e=this;this.checkCount=0,this.customizeSubscribeCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(t){!0===t.isSelected&&e.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}},{key:"showMoreCols",value:function(){return this.customizeSubscribeCols.filter(function(e){return!e.necessaryCol&&e.isSelected}).length<this.customizeSubscribeCols.length}},{key:"openOtherField",value:function(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"getAllSubscribedEvents",value:function(){var e=this;this.subscribeEventList=t(this.mainSubscribeEventList);var i=this.first+this.pageSize,n=this.subscribeEventList.filter(function(e,t){return t<=i});this.pageWiseSubscribeEvents=t(n),this.pdfData=t(n),this.calculateNumOfPages(),this.checkCount=0,this.customizeSubscribeCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(t){!0===t.isSelected&&e.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}},{key:"calculateNumOfPages",value:function(){if(this.totalNumOfPages=this.mainSubscribeEventList.length?this.mainSubscribeEventList.length<this.pageSize?1:Math.ceil(this.mainSubscribeEventList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}},{key:"onPageChange",value:function(e){var i=this;this.first=e.first;var n=this.getSortedData(),o=this.first+this.pageSize,a=n.filter(function(e,t){if(t<=o&&t>=i.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseSubscribeEvents=t(a)}},{key:"onPageNumChange",value:function(e){var i=this;this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);var n=this.getSortedData(),o=this.first+this.pageSize,a=n.filter(function(e,t){if(t<=o&&t>=i.first)return e});this.pageWiseSubscribeEvents=t(a)}},{key:"getSortedData",value:function(){var e=this,i=t(this.subscribeEventList);return this.sortOrderEvent?1===this.sortOrderEvent.order?(i.sort(function(t,i){return t[e.sortOrderEvent.field]>i[e.sortOrderEvent.field]?1:i[e.sortOrderEvent.field]>t[e.sortOrderEvent.field]?-1:0}),i):(i.sort(function(t,i){return t[e.sortOrderEvent.field]>i[e.sortOrderEvent.field]?-1:i[e.sortOrderEvent.field]>t[e.sortOrderEvent.field]?1:0}),i):i}},{key:"customSort",value:function(e){var i=this,n=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=n+1,this.selectedPage.pageIndex=n,this.sortOrderEvent=e;var o=t(this.subscribeEventList);o.sort(1===this.sortOrderEvent.order?function(t,i){return t[e.field]>i[e.field]?1:i[e.field]>t[e.field]?-1:0}:function(t,i){return t[e.field]>i[e.field]?-1:i[e.field]>t[e.field]?1:0});var a=this.first+this.pageSize,r=o.filter(function(e,t){if(t<=a&&t>=i.first)return e});this.pageWiseSubscribeEvents=t(r)}},{key:"getFilterData",value:function(e){var i=this;this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.displayFiltersFor[e[0]]=!1,this.first=0,this.subscribeEventList=t(this.mainSubscribeEventList),this.globalFilterValue||(this.subscribeEventList=t(this.mainSubscribeEventList)),n.forEach(function(e){i.subscribeEventList=i.subscribeEventList.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"resetFilter",value:function(e){var i=this;this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.subscribeEventList=t(this.mainSubscribeEventList),n.forEach(function(e){i.subscribeEventList=i.subscribeEventList.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"setPageNumber",value:function(){if(this.totalNumOfPages=this.subscribeEventList.length?this.subscribeEventList.length<this.pageSize?1:Math.ceil(this.subscribeEventList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}var i=this.first+this.pageSize,n=this.subscribeEventList.filter(function(e,t){return t<=i});this.pageWiseSubscribeEvents=t(n)}},{key:"getFilterState",value:function(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){var t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}},{key:"changeCommValue",value:function(e,t){var i=this;""!==e?this.userSettingsService.updateAlertSubscriptionCommunicationValues({alertSubscriptionId:t.alertSubId,communicationValues:e}).subscribe(function(e){"success"===e.status&&i.messages.displayToaster(e.message,"success","Success")}):(this.messages.displayToaster("Please enter Communication Value","warn","Warning!"),this.setRecords())}},{key:"deleteAlertSubscription",value:function(e){this.deleteModal=!0,this.alertSubObj=e}},{key:"deleteConfirm",value:function(){var e=this;this.deleteModal=!1,this.userSettingsService.deleteAlertSubscription({alertSubId:this.alertSubObj.alertSubId}).subscribe(function(t){"success"===t.status&&(e.messages.displayToaster(t.message,"success","Success"),e.setRecords())})}},{key:"filterColumnNameWithHighlightName",value:function(e){return!(Object.keys(this.columnFilter).findIndex(function(t){return t===e})<0)}}]),e}()).\u0275fac=function(e){return new(e||Kt)(N.dc(D.a),N.dc(F.c),N.dc(_.d),N.dc(l.d),N.dc(I.a),N.dc(N.h),N.dc(Pt.b))},Kt.\u0275cmp=N.Xb({type:Kt,selectors:[["app-subscribe-notification"]],inputs:{subscriptionInner:"subscriptionInner",eventId:"eventId"},features:[N.Lb],decls:32,vars:31,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","col-md-6"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["id","view_subscribe_notification_list",1,"row","p-field"],["view_subscribe_notification_list",""],[1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","sortMode","single","responsiveLayout","scroll",3,"value","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","rows","first","customSort","firstChange","sortFunction"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pTemplate","footer"],["exportPdfTemplate",""],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"header"],[4,"ngFor","ngForOf"],["width","50px"],[4,"ngIf"],["width","100px",4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],["width","100px"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],["pEditableColumn","","class","text-center word_break_word_all rule-ellipsis",3,"title",4,"ngIf"],["pEditableColumn","",1,"text-center","word_break_word_all","rule-ellipsis",3,"title"],["pTemplate","input"],["pTemplate","output"],["pInputText","","type","text",1,"width-100",3,"ngModel","ngModelChange","change"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","pdf-modal"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-4"],["class","color-code",4,"ngIf"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"]],template:function(e,t){if(1&e){var i=N.kc();N.jc(0,"div",0),N.jc(1,"div",1),N.jc(2,"div",2),N.jc(3,"p",3),N.bd(4," Subscribe Details "),N.ic(),N.ic(),N.jc(5,"div",4),N.jc(6,"a"),N.jc(7,"img",5),N.qc("click",function(){N.Rc(i);var e=N.Oc(31);return t.openExportPdf(e)}),N.ic(),N.ic(),N.ic(),N.ic(),N.jc(8,"div",6,7),N.jc(10,"div",8),N.jc(11,"p-table",9),N.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),N.Zc(12,St,5,1,"ng-template",10),N.Zc(13,_t,4,1,"ng-template",11),N.Zc(14,zt,5,2,"ng-template",12),N.ic(),N.ic(),N.Zc(15,Tt,2,0,"div",13),N.jc(16,"div",14),N.Zc(17,qt,3,4,"div",15),N.Zc(18,At,3,3,"div",16),N.ic(),N.ic(),N.ic(),N.jc(19,"p-dialog",17),N.qc("visibleChange",function(e){return t.deleteModal=e}),N.Zc(20,Wt,3,0,"ng-template",11),N.jc(21,"p"),N.bd(22,"Are you sure you want to delete Subscription "),N.jc(23,"b"),N.bd(24),N.ic(),N.bd(25," with Communication Mode "),N.jc(26,"b"),N.bd(27),N.ic(),N.bd(28,"? "),N.ic(),N.Zc(29,Gt,1,0,"ng-template",18),N.ic(),N.Zc(30,Ht,17,3,"ng-template",null,19,N.ad)}2&e&&(N.Nb(6),N.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseSubscribeEvents&&t.pageWiseSubscribeEvents.length?"":"disabled-opa",""),N.Nb(5),N.Vc(N.Ec(29,Yt)),N.Bc("value",t.pageWiseSubscribeEvents)("responsive",!0)("rowHover",!0)("sortField","alertSubId")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("rows",10)("first",t.first)("filterDelay",0)("customSort",!0),N.Nb(4),N.Bc("ngIf",!t.pageWiseSubscribeEvents.length&&t.noRecordFound),N.Nb(2),N.Bc("ngIf",t.pageWiseSubscribeEvents.length),N.Nb(1),N.Bc("ngIf",t.pageWiseSubscribeEvents.length),N.Nb(1),N.Vc(N.Ec(30,Qt)),N.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),N.Nb(5),N.cd(null==t.alertSubObj?null:t.alertSubObj.eventName),N.Nb(3),N.cd(null==t.alertSubObj?null:t.alertSubObj.commModeName))},directives:[R.f,_.i,l.n,B.a,s.d,E.a,s.o,s.r,l.m,R.d,R.e,z.a,l.l,R.b,R.a,g.a,f.a,L.b,T.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}"]}),Kt);function ei(e,t){if(1&e){var i=N.kc();N.jc(0,"div",19),N.jc(1,"span",20),N.jc(2,"input",21),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().globalFilterValue=e})("keyup",function(e){return N.Rc(i),N.uc().globalFilterFun(e)}),N.ic(),N.bd(3,"\xa0 "),N.ec(4,"i",22),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(2),N.Bc("ngModel",n.globalFilterValue)}}function ti(e,t){if(1&e){var i=N.kc();N.jc(0,"th"),N.bd(1),N.ec(2,"br"),N.ec(3,"p-sortIcon",29),N.jc(4,"app-column-filter",30),N.qc("hideFilterDataBox",function(e){return N.Rc(i),N.uc(3).hideBox(e)})("filterData",function(e){return N.Rc(i),N.uc(3).getFilterData(e)})("resetFilterValues",function(e){return N.Rc(i),N.uc(3).resetFilter(e)}),N.ic(),N.jc(5,"span",31),N.jc(6,"i",32),N.qc("click",function(){N.Rc(i);var e=N.uc().$implicit;return N.uc(2).onFilterClick(e.originalValue)}),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc().$implicit,o=N.uc(2);N.Nb(1),N.dd(" ",n.displayValue,""),N.Nb(2),N.Cc("field",n.originalValue),N.Cc("pSortableColumn",n.originalValue),N.Nb(1),N.Bc("colFilterData",o.getFilterState(n.originalValue))("display",o.displayFiltersFor[n.originalValue])("fieldName",n.originalValue)("customId",n.originalValue+"_alert_notify"),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"selected-filter-column":""),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function ii(e,t){if(1&e){var i=N.kc();N.jc(0,"th",33),N.bd(1),N.ec(2,"br"),N.ec(3,"p-sortIcon",29),N.jc(4,"app-column-filter",30),N.qc("hideFilterDataBox",function(e){return N.Rc(i),N.uc(3).hideBox(e)})("filterData",function(e){return N.Rc(i),N.uc(3).getFilterData(e)})("resetFilterValues",function(e){return N.Rc(i),N.uc(3).resetFilter(e)}),N.ic(),N.jc(5,"span",31),N.jc(6,"i",32),N.qc("click",function(){N.Rc(i);var e=N.uc().$implicit;return N.uc(2).onFilterClick(e.originalValue)}),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc().$implicit,o=N.uc(2);N.Nb(1),N.dd(" ",n.displayValue,""),N.Nb(2),N.Cc("field",n.originalValue),N.Cc("pSortableColumn",n.originalValue),N.Nb(1),N.Bc("colFilterData",o.getFilterState(n.originalValue))("display",o.displayFiltersFor[n.originalValue])("fieldName",n.originalValue)("customId",n.originalValue+"_alert_notify"),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"selected-filter-column":""),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function ni(e,t){if(1&e&&(N.hc(0),N.Zc(1,ti,7,9,"th",27),N.Zc(2,ii,7,9,"th",28),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",i.isSelected&&"Name"!=i.displayValue),N.Nb(1),N.Bc("ngIf",i.isSelected&&"Name"==i.displayValue)}}function oi(e,t){if(1&e&&(N.jc(0,"tr",23),N.Zc(1,ni,3,2,"ng-container",24),N.jc(2,"th",25),N.bd(3,"Subscribe"),N.ic(),N.jc(4,"th",26),N.bd(5,"Edit"),N.ic(),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngForOf",i.customizeAlertCols)}}function ai(e,t){if(1&e&&(N.jc(0,"td",39),N.jc(1,"span"),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc().$implicit,n=N.uc().$implicit;N.Bc("title",n[i.originalValue]),N.Nb(2),N.cd(n[i.originalValue])}}function ri(e,t){if(1&e&&(N.hc(0),N.Zc(1,ai,3,2,"td",38),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",i.isSelected)}}function ci(e,t){if(1&e){var i=N.kc();N.jc(0,"tr",34),N.Zc(1,ri,2,1,"ng-container",24),N.jc(2,"td",25),N.jc(3,"span",35),N.qc("click",function(){N.Rc(i);var e=t.$implicit;return N.uc().subscribeAlertNotification(e)}),N.ec(4,"i",36),N.ic(),N.ic(),N.jc(5,"td",26),N.jc(6,"span",35),N.qc("click",function(){N.Rc(i);var e=t.$implicit;return N.uc().editAlertNotification(e)}),N.ec(7,"i",37),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc(),o=null,a=null;N.Nb(1),N.Bc("ngForOf",n.customizeAlertCols),N.Nb(2),N.Bc("ngClass",null!=(o=n.roleOnModule("User Settings"))&&null!=o.accessControl&&o.accessControl.includes("C")?" cursor-pointer":"disable"),N.Nb(3),N.Bc("ngClass",null!=(a=n.roleOnModule("User Settings"))&&null!=a.accessControl&&a.accessControl.includes("U")?" cursor-pointer":"disable")}}function li(e,t){1&e&&(N.jc(0,"div",40),N.bd(1," No records found "),N.ic())}function si(e,t){if(1&e){var i=N.kc();N.jc(0,"div",41),N.jc(1,"p-paginator",42,43),N.qc("onPageChange",function(e){return N.Rc(i),N.uc().onPageChange(e)})("firstChange",function(e){return N.Rc(i),N.uc().first=e}),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("rows",10)("totalRecords",n.alertEventList.length)("showCurrentPageReport",!0)("first",n.first)}}function di(e,t){if(1&e&&(N.jc(0,"div",48),N.jc(1,"div"),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc(3);N.Nb(2),N.ed("Page ",i.selectedPage.page," of ",i.totalNumOfPages,"")}}function ui(e,t){if(1&e&&N.Zc(0,di,3,2,"div",47),2&e){var i=N.uc(2);N.Bc("ngIf",i.selectedPage)}}function pi(e,t){if(1&e){var i=N.kc();N.jc(0,"div",44),N.jc(1,"p-dropdown",45),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().selectedPage=e})("onChange",function(e){return N.Rc(i),N.uc().onPageNumChange(e)}),N.Zc(2,ui,1,1,"ng-template",46),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("options",n.numOfPages)("filter",!0)("ngModel",n.selectedPage)}}function fi(e,t){if(1&e){var i=N.kc();N.hc(0),N.jc(1,"div",62),N.jc(2,"table"),N.jc(3,"tr",63),N.jc(4,"td"),N.jc(5,"p-checkbox",64),N.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return N.Rc(i),N.uc(2).pdfColsValue()}),N.ic(),N.ic(),N.jc(6,"td"),N.jc(7,"label"),N.bd(8),N.ic(),N.ic(),N.ic(),N.ic(),N.ic(),N.gc()}if(2&e){var n=t.$implicit,o=N.uc(2);N.Nb(5),N.Bc("ngModel",n.pdfCols)("disabled",o.pdfCheckboxDisabled&&!n.pdfCols),N.Nb(3),N.cd(n.displayValue)}}function gi(e,t){1&e&&(N.jc(0,"div",65),N.bd(1,"You can select up to 9 columns."),N.ic())}function hi(e,t){if(1&e){var i=N.kc();N.jc(0,"div",49),N.jc(1,"span",50),N.bd(2,"Please select columns that need to be downloaded in PDF"),N.ic(),N.ic(),N.jc(3,"div",51),N.jc(4,"div",52),N.Zc(5,fi,9,3,"ng-container",24),N.ic(),N.ic(),N.jc(6,"div",53),N.jc(7,"div",54),N.jc(8,"div",55),N.Zc(9,gi,2,0,"div",56),N.ic(),N.jc(10,"div",57),N.jc(11,"button",58),N.qc("click",function(){N.Rc(i);var e=N.uc();return e.exportPdf(),e.modalRef.hide()}),N.ic(),N.ic(),N.jc(12,"div",59),N.jc(13,"div"),N.jc(14,"label",60),N.qc("click",function(){return N.Rc(i),N.uc().closeExportPdf()}),N.bd(15,"Close"),N.ic(),N.jc(16,"img",61),N.qc("click",function(){return N.Rc(i),N.uc().closeExportPdf()}),N.ic(),N.ic(),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(5),N.Bc("ngForOf",n.customizeAlertCols),N.Nb(4),N.Bc("ngIf",n.pdfCheckboxDisabled),N.Nb(2),N.Bc("disabled",n.disableDownloadBtn)}}var mi=function(){return{width:"100%"}};x.a.vfs=j.a.pdfMake.vfs;var bi,vi=((bi=function(){function e(t,i,n,a,r,c,l,s){o(this,e),this.userSettingsService=t,this.spinner=i,this.filterService=n,this.datePipe=a,this.modalService=r,this.router=c,this.cdRef=l,this.domainProjService=s,this.alertEventList=[],this.mainAlertEventList=[],this.pageWiseAlertEvents=[],this.first=0,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.pageSize=9,this.totalNumOfPages=0,this.checkboxDisabled=!1,this.maxCount=4,this.displayFiltersFor={eventName:!1,eventModuleName:!1,eventCommunicationType:!1,eventMessageCode:!1,eventCompletionMessage:!1,eventMessageSubject:!1,eventMessageBody:!1},this.columnFilter={},this.scrollHt="300px",this.filterData={},this.selectedRowData={},this.pdfData=[],this.customizeAlertCols=[{displayValue:"Name",originalValue:"eventName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Module Name",originalValue:"eventModuleName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Communication Type",originalValue:"eventCommunicationType",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Message Code",originalValue:"eventMessageCode",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Completion Message",originalValue:"eventCompletionMessage",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Message Subject",originalValue:"eventMessageSubject",isSelected:!1,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Message Body",originalValue:"eventMessageBody",isSelected:!1,necessaryCol:!1,alwaysSelected:!1}],this.customSortArr=[],this.norecordfound=!1,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.pdfCheckCount=0}return r(e,[{key:"ngOnDestroy",value:function(){}},{key:"ngOnInit",value:function(){var e;this.domainProjService.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData"),this.getAllAlertEvents(),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(function(e){e.accessControl=e.accessControl.split("-")})))}},{key:"roleOnModule",value:function(e){return this.roleModule.find(function(t){return t.moduleName===e})}},{key:"hideBox",value:function(e){this.displayFiltersFor[e.fieldName]=!1}},{key:"capture",value:function(){var e=this;this.pageWiseAlertEvents.length&&(this.spinner.show(),this.scrollHt="1500px",setTimeout(function(){O()(document.querySelector("#view_alert_events_list"),{height:1200}).then(function(t){try{t.toBlob(function(t){var i=new FileReader;i.readAsDataURL(t),i.onloadend=function(){x.a.createPdf({footer:{columns:[{text:"Created by FirstEigen",alignment:"right",style:"footerSection"}]},content:[{text:"Alert Notification List",alignment:"center",margin:[0,5,0,5]},{image:i.result,width:500,alignment:"left"}],styles:{sectionHeader:{bold:!0,decoration:"underline",fontSize:14,margin:[0,5,0,5]},textStyle:{bold:!1,fontSize:9,margin:[0,5,0,5]},footerSection:{fontSize:7,margin:[5,7,7,5]}}}).download("AlterNotificationList.pdf"),e.scrollHt="300px",e.spinner.hide()}})}catch(i){e.spinner.hide()}})},2e3))}},{key:"downloadCSV",value:function(){var e=this;this.userSettingsService.downloadAlertNotificationCSV("alterNotificationCSV").subscribe(function(t){var i=e.datePipe.transform(new Date,"yyyy-MM-dd");Object(C.saveAs)(t,"AlertNotificationCSV_"+i+".csv")})}},{key:"openExportPdf",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"closeExportPdf",value:function(){var e=this;this.modalRef.hide(),setTimeout(function(){e.pdfCheckCount=0,e.pdfCheckboxDisabled=!1,e.disableDownloadBtn=!0,e.customizeAlertCols.forEach(function(e){return e.pdfCols=!1})},1e3)}},{key:"exportPdf",value:function(){var e=this;this.pdfData.length&&(this.spinner.show(),setTimeout(function(){var t=new M.default("l","pt"),i=e.customizeAlertCols.filter(function(e){return e.pdfCols}),n=[];i.forEach(function(e){return n.push(e.displayValue)});var o,a=[];i.forEach(function(e){return a.push(e.originalValue)}),o=e.pdfData.map(function(e){return Object.assign(a.map(function(t){return e[t]}))});var r=t.internal.pageSize,c=r.height?r.height:r.getHeight();S()(t,{columns:n,body:o,didDrawPage:function(e){1==e.pageNumber&&(t.text("Alert Events",t.internal.pageSize.width/2,25,null,"center"),t.setFontSize(10)),t.setFontSize(9),t.text("Created by FirstEigen",t.internal.pageSize.width-40,c-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}},columnStyles:{}}),t.save("Alert Events.pdf"),e.disableDownloadBtn=!0,e.pdfCheckboxDisabled=!1,i.forEach(function(e){return e.pdfCols=!1}),e.spinner.hide()},2e3))}},{key:"pdfColsValue",value:function(){var e=this;this.pdfCheckCount=0,this.customizeAlertCols.filter(function(e){return!0===e.pdfCols}).forEach(function(t){!0===t.pdfCols&&e.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}},{key:"onFilterClick",value:function(e){var t=this;Object.keys(this.displayFiltersFor).map(function(i){t.displayFiltersFor[i]=i===e})}},{key:"checkValue",value:function(){var e=this;this.checkCount=0,this.customizeAlertCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(t){!0===t.isSelected&&e.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}},{key:"showMoreCols",value:function(){return this.customizeAlertCols.filter(function(e){return!e.necessaryCol&&e.isSelected}).length<this.customizeAlertCols.length}},{key:"openOtherField",value:function(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"getAllAlertEvents",value:function(){var e=this;this.spinner.show(),this.userSettingsService.getAllAlertEvents().subscribe(function(i){if("success"===i.status){e.spinner.hide(),e.spinner.hide()&&(e.norecordfound=!0),i.result.eventList.map(function(e){e.eventMessageCode=parseInt(e.eventMessageCode)}),e.mainAlertEventList=t(i.result.eventList),e.alertEventList=t(e.mainAlertEventList);var n=e.first+e.pageSize;null!=e.filterObj&&e.filterObj.forEach(function(t){e.alertEventList=e.alertEventList.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})});var o=e.alertEventList.filter(function(e,t){return t<=n});e.pageWiseAlertEvents=t(o),e.pdfData=t(o),e.calculateNumOfPages(),e.checkCount=0,e.customizeAlertCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(t){!0===t.isSelected&&e.checkCount++}),e.checkboxDisabled=e.checkCount>=e.maxCount}else e.mainAlertEventList=[],e.alertEventList=[],e.pageWiseAlertEvents=[]})}},{key:"calculateNumOfPages",value:function(){if(this.totalNumOfPages=this.mainAlertEventList.length?this.mainAlertEventList.length<this.pageSize?1:Math.ceil(this.mainAlertEventList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}},{key:"globalFilterFun",value:function(e){var i=t(this.globalFilterLogic()),n=this.first+this.pageSize,o=i.filter(function(e,t){return t<=n});this.cdRef.detectChanges(),this.pageWiseAlertEvents=t(o),this.setPageNumber()}},{key:"globalFilterLogic",value:function(){var e=this;if(this.mainAlertEventList.length){var i=Object.keys(this.mainAlertEventList[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainAlertEventList.forEach(function(t){var n=!1;i.forEach(function(i){t[i]&&t[i].toString().toLowerCase().includes(e.globalFilterValue.toLowerCase())&&!n&&(e.filterValue.push(t),n=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.first=0,n.forEach(function(t){e.filterValue=e.filterValue.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})})}return this.alertEventList=t(this.filterValue),this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=t(this.mainAlertEventList),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var o=Object.keys(this.columnFilter);this.first=0,o.forEach(function(t){e.filterValue=e.filterValue.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})})}return this.alertEventList=t(this.filterValue),this.calculateNumOfPages(),this.alertEventList}return[]}},{key:"onPageChange",value:function(e){var i=this;this.first=e.first;var n=this.getSortedData(),o=this.first+this.pageSize,a=n.filter(function(e,t){if(t<=o&&t>=i.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseAlertEvents=t(a)}},{key:"onPageNumChange",value:function(e){var i=this;this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);var n=this.getSortedData(),o=this.first+this.pageSize,a=n.filter(function(e,t){if(t<=o&&t>=i.first)return e});this.pageWiseAlertEvents=t(a)}},{key:"getSortedData",value:function(){var e=this,i=t(this.alertEventList);return this.sortOrderEvent?1===this.sortOrderEvent.order?(i.sort(function(t,i){return t[e.sortOrderEvent.field]>i[e.sortOrderEvent.field]?1:i[e.sortOrderEvent.field]>t[e.sortOrderEvent.field]?-1:0}),i):(i.sort(function(t,i){return t[e.sortOrderEvent.field]>i[e.sortOrderEvent.field]?-1:i[e.sortOrderEvent.field]>t[e.sortOrderEvent.field]?1:0}),i):i}},{key:"customSort",value:function(e){var i=this;this.sortField=e.field,this.sortOrder=e.order,this.sortMode=e.mode,this.customSortArr.filter(function(t){return t.field=e.field})[0]?this.customSortArr.map(function(t){t.order=e.order}):this.customSortArr.push(e);var n=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=n+1,this.selectedPage.pageIndex=n,this.sortOrderEvent=e;var o=t(this.alertEventList),a=t(this.sortOrderEvent.multiSortMeta);a.length>=4&&(e.multiSortMeta=e.multiSortMeta.splice(4,1)),1===a.length?o.sort(function(e,t){return e[a[0].field]>t[a[0].field]?a[0].order:t[a[0].field]>e[a[0].field]?-a[0].order:0}):2===a.length?o.sort(function(e,t){return e[a[0].field]>t[a[0].field]?a[0].order:t[a[0].field]>e[a[0].field]&&-a[0].order||e[a[1].field]>t[a[1].field]?a[1].order:t[a[1].field]>e[a[1].field]?-a[1].order:0}):3===a.length?o.sort(function(e,t){return e[a[0].field]>t[a[0].field]?a[0].order:t[a[0].field]>e[a[0].field]&&-a[0].order||e[a[1].field]>t[a[1].field]?a[1].order:t[a[1].field]>e[a[1].field]&&-a[1].order||e[a[2].field]>t[a[2].field]?a[2].order:t[a[2].field]>e[a[2].field]?-a[2].order:0}):4===a.length&&o.sort(function(e,t){return e[a[0].field]>t[a[0].field]?a[0].order:t[a[0].field]>e[a[0].field]&&-a[0].order||e[a[1].field]>t[a[1].field]?a[1].order:t[a[1].field]>e[a[1].field]&&-a[1].order||e[a[2].field]>t[a[2].field]?a[2].order:t[a[2].field]>e[a[2].field]&&-a[2].order||e[a[3].field]>t[a[3].field]?a[3].order:t[a[3].field]>e[a[3].field]?-a[3].order:0});var r=this.first+this.pageSize,c=o.filter(function(e,t){if(t<=r&&t>=i.first)return e});this.pageWiseAlertEvents=t(c)}},{key:"getFilterData",value:function(e){var i=this;this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.displayFiltersFor[e[0]]=!1,this.first=0,this.globalFilterValue||(this.alertEventList=t(this.mainAlertEventList)),n.forEach(function(e){i.alertEventList=i.alertEventList.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"resetFilter",value:function(e){var i=this;this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.alertEventList=t(this.mainAlertEventList),n.forEach(function(e){i.alertEventList=i.alertEventList.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"setPageNumber",value:function(){if(this.totalNumOfPages=this.alertEventList.length?this.alertEventList.length<this.pageSize?1:Math.ceil(this.alertEventList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}var i=this.first+this.pageSize,n=this.alertEventList.filter(function(e,t){return t<=i});this.pageWiseAlertEvents=t(n)}},{key:"getFilterState",value:function(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){var t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}},{key:"editAlertNotification",value:function(e){sessionStorage.setItem("alertObj",JSON.stringify(e)),this.router.navigate(["/dbckangui/user-setting/alert-notification/alert-edit"])}},{key:"subscribeAlertNotification",value:function(e){sessionStorage.setItem("alertObj",JSON.stringify(e)),this.router.navigate(["/dbckangui/user-setting/alert-notification/subscription"])}},{key:"filterColumnNameWithHighlightName",value:function(e){return!(Object.keys(this.columnFilter).findIndex(function(t){return t===e})<0)}}]),e}()).\u0275fac=function(e){return new(e||bi)(N.dc(D.a),N.dc(F.c),N.dc(_.d),N.dc(l.d),N.dc(I.a),N.dc(d.i),N.dc(N.h),N.dc(V.a))},bi.\u0275cmp=N.Xb({type:bi,selectors:[["app-alert-notifications"]],decls:22,vars:22,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","col-md-6"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["id","view_alert_events_list",1,"row","p-field"],["view_alert_events_list",""],[1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","sortMode","multiple","responsiveLayout","scroll",3,"value","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","rows","first","customSort","firstChange","sortFunction"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["exportPdfTemplate",""],[3,"subscriptionInner"],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"header"],[4,"ngFor","ngForOf"],["width","80px"],["width","50px"],[4,"ngIf"],["width","250px",4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],["width","250px"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["aria-hidden","true","title","Subscribe",1,"fa","fa-bell"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil"],["class","text-center word_break_word_all rule-ellipsis",3,"title",4,"ngIf"],[1,"text-center","word_break_word_all","rule-ellipsis",3,"title"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","pdf-modal"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-4"],["class","color-code",4,"ngIf"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"]],template:function(e,t){if(1&e){var i=N.kc();N.jc(0,"div",0),N.jc(1,"div",1),N.jc(2,"div",2),N.jc(3,"p",3),N.bd(4," Alert Events "),N.ic(),N.ic(),N.jc(5,"div",4),N.jc(6,"a"),N.jc(7,"img",5),N.qc("click",function(){N.Rc(i);var e=N.Oc(20);return t.openExportPdf(e)}),N.ic(),N.ic(),N.ic(),N.ic(),N.jc(8,"div",6,7),N.jc(10,"div",8),N.jc(11,"p-table",9),N.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),N.Zc(12,ei,5,1,"ng-template",10),N.Zc(13,oi,6,1,"ng-template",11),N.Zc(14,ci,8,3,"ng-template",12),N.ic(),N.ic(),N.Zc(15,li,2,0,"div",13),N.jc(16,"div",14),N.Zc(17,si,3,4,"div",15),N.Zc(18,pi,3,3,"div",16),N.ic(),N.ic(),N.ic(),N.Zc(19,hi,17,3,"ng-template",null,17,N.ad),N.ec(21,"app-subscribe-notification",18)}2&e&&(N.Nb(6),N.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseAlertEvents&&t.pageWiseAlertEvents.length?"":"disabled-opa",""),N.Nb(5),N.Vc(N.Ec(21,mi)),N.Bc("value",t.pageWiseAlertEvents)("responsive",!0)("rowHover",!0)("sortField","idProject")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("rows",10)("first",t.first)("filterDelay",0)("customSort",!0),N.Nb(4),N.Bc("ngIf",!t.pageWiseAlertEvents.length&&t.norecordfound),N.Nb(2),N.Bc("ngIf",t.pageWiseAlertEvents.length),N.Nb(1),N.Bc("ngIf",t.pageWiseAlertEvents.length),N.Nb(3),N.Bc("subscriptionInner","false"))},directives:[R.f,_.i,l.n,Xt,s.d,E.a,s.o,s.r,l.m,R.d,R.e,z.a,l.l,g.a,f.a,L.b,T.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-bell[_ngcontent-%COMP%], .fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}"]}),bi),Ci=c("Nmef");function yi(e,t){1&e&&(N.jc(0,"span",18),N.bd(1,"Please choose "),N.jc(2,"b"),N.bd(3,"Event Name"),N.ic(),N.ic())}function xi(e,t){if(1&e&&(N.jc(0,"p",18),N.Zc(1,yi,4,0,"span",9),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngIf",i.alertSubForm.controls.eventName.errors.required)}}function Pi(e,t){1&e&&(N.jc(0,"span",18),N.bd(1,"Please choose "),N.jc(2,"b"),N.bd(3,"Subscription Type"),N.ic(),N.ic())}function ji(e,t){if(1&e&&(N.jc(0,"p",18),N.Zc(1,Pi,4,0,"span",9),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngIf",i.alertSubForm.controls.subscriptionType.errors.required)}}function wi(e,t){1&e&&(N.jc(0,"span",18),N.bd(1,"Please choose "),N.jc(2,"b"),N.bd(3,"Communication Mode"),N.ic(),N.ic())}function Oi(e,t){if(1&e&&(N.jc(0,"p",18),N.Zc(1,wi,4,0,"span",9),N.ic()),2&e){var i=N.uc(2);N.Nb(1),N.Bc("ngIf",i.alertSubForm.controls.communicationMode.errors.required)}}function ki(e,t){if(1&e){var i=N.kc();N.jc(0,"div",5),N.jc(1,"label",10),N.bd(2,"Communication Mode"),N.jc(3,"sup",7),N.bd(4,"*"),N.ic(),N.ic(),N.ec(5,"br"),N.jc(6,"p-multiSelect",19),N.qc("onChange",function(e){return N.Rc(i),N.uc().getCommSelectedValue(e)}),N.ic(),N.Zc(7,Oi,2,1,"p",9),N.ic()}if(2&e){var n=N.uc();N.Nb(6),N.Bc("styleClass","form-field")("options",n.communicationList),N.Nb(1),N.Bc("ngIf",n.alertSubForm.controls.communicationMode.invalid&&!n.alertSubForm.controls.communicationMode.pristine)}}function Si(e,t){1&e&&(N.jc(0,"span",18),N.bd(1,"Please choose "),N.jc(2,"b"),N.bd(3,"Project Name"),N.ic(),N.ic())}function Mi(e,t){if(1&e&&(N.jc(0,"p",18),N.Zc(1,Si,4,0,"span",9),N.ic()),2&e){var i=N.uc(2);N.Nb(1),N.Bc("ngIf",i.alertSubForm.controls.projectName.errors.required)}}function Ni(e,t){if(1&e){var i=N.kc();N.jc(0,"div",5),N.jc(1,"label",10),N.bd(2,"Project Name"),N.jc(3,"sup",7),N.bd(4,"*"),N.ic(),N.ic(),N.ec(5,"br"),N.jc(6,"p-multiSelect",20),N.qc("onChange",function(e){return N.Rc(i),N.uc().getSelectedValue(e.value)}),N.ic(),N.Zc(7,Mi,2,1,"p",9),N.ic()}if(2&e){var n=N.uc();N.Nb(6),N.Bc("styleClass","form-field")("options",n.projectList),N.Nb(1),N.Bc("ngIf",n.alertSubForm.controls.projectName.invalid&&!n.alertSubForm.controls.projectName.pristine)}}function Di(e,t){1&e&&(N.jc(0,"span",18),N.bd(1,"Please enter "),N.jc(2,"b"),N.bd(3,"Email"),N.ic(),N.ic())}function Fi(e,t){if(1&e&&(N.jc(0,"p",18),N.Zc(1,Di,4,0,"span",9),N.ic()),2&e){var i=N.uc(2);N.Nb(1),N.Bc("ngIf",i.alertSubForm.controls.email.errors.required)}}function _i(e,t){if(1&e&&(N.jc(0,"div",5),N.jc(1,"label",21),N.bd(2,"Email"),N.jc(3,"sup",7),N.bd(4,"*"),N.ic(),N.ic(),N.ec(5,"br"),N.ec(6,"input",22),N.Zc(7,Fi,2,1,"p",9),N.ic()),2&e){var i=N.uc();N.Nb(7),N.Bc("ngIf",i.alertSubForm.controls.email.invalid&&!i.alertSubForm.controls.email.pristine)}}function Ii(e,t){1&e&&(N.jc(0,"span",18),N.bd(1,"Please enter "),N.jc(2,"b"),N.bd(3,"Jira"),N.ic(),N.ic())}function Vi(e,t){if(1&e&&(N.jc(0,"p",18),N.Zc(1,Ii,4,0,"span",9),N.ic()),2&e){var i=N.uc(2);N.Nb(1),N.Bc("ngIf",i.alertSubForm.controls.jira.errors.required)}}function Li(e,t){if(1&e&&(N.jc(0,"div",5),N.jc(1,"label",21),N.bd(2,"Jira"),N.jc(3,"sup",7),N.bd(4,"*"),N.ic(),N.ic(),N.ec(5,"br"),N.ec(6,"input",23),N.Zc(7,Vi,2,1,"p",9),N.ic()),2&e){var i=N.uc();N.Nb(7),N.Bc("ngIf",i.alertSubForm.controls.jira.invalid&&!i.alertSubForm.controls.jira.pristine)}}function Ri(e,t){1&e&&(N.jc(0,"span",18),N.bd(1,"Please enter "),N.jc(2,"b"),N.bd(3,"Slack"),N.ic(),N.ic())}function Bi(e,t){if(1&e&&(N.jc(0,"p",18),N.Zc(1,Ri,4,0,"span",9),N.ic()),2&e){var i=N.uc(2);N.Nb(1),N.Bc("ngIf",i.alertSubForm.controls.slack.errors.required)}}function Ei(e,t){if(1&e&&(N.jc(0,"div",5),N.jc(1,"label",21),N.bd(2,"Slack"),N.jc(3,"sup",7),N.bd(4,"*"),N.ic(),N.ic(),N.ec(5,"br"),N.ec(6,"input",24),N.Zc(7,Bi,2,1,"p",9),N.ic()),2&e){var i=N.uc();N.Nb(7),N.Bc("ngIf",i.alertSubForm.controls.slack.invalid&&!i.alertSubForm.controls.slack.pristine)}}function zi(e,t){1&e&&(N.jc(0,"span",18),N.bd(1,"Please enter "),N.jc(2,"b"),N.bd(3,"SNS"),N.ic(),N.ic())}function Ti(e,t){if(1&e&&(N.jc(0,"p",18),N.Zc(1,zi,4,0,"span",9),N.ic()),2&e){var i=N.uc(2);N.Nb(1),N.Bc("ngIf",i.alertSubForm.controls.SNS.errors.required)}}function qi(e,t){if(1&e&&(N.jc(0,"div",5),N.jc(1,"label",21),N.bd(2,"SNS"),N.jc(3,"sup",7),N.bd(4,"*"),N.ic(),N.ic(),N.ec(5,"br"),N.ec(6,"input",25),N.Zc(7,Ti,2,1,"p",9),N.ic()),2&e){var i=N.uc();N.Nb(7),N.Bc("ngIf",i.alertSubForm.controls.SNS.invalid&&!i.alertSubForm.controls.SNS.pristine)}}function Zi(e,t){1&e&&(N.jc(0,"span",18),N.bd(1,"Please enter "),N.jc(2,"b"),N.bd(3,"SQS"),N.ic(),N.ic())}function Ui(e,t){if(1&e&&(N.jc(0,"p",18),N.Zc(1,Zi,4,0,"span",9),N.ic()),2&e){var i=N.uc(2);N.Nb(1),N.Bc("ngIf",i.alertSubForm.controls.SQS.errors.required)}}function Ai(e,t){if(1&e&&(N.jc(0,"div",5),N.jc(1,"label",21),N.bd(2,"SQS"),N.jc(3,"sup",7),N.bd(4,"*"),N.ic(),N.ic(),N.ec(5,"br"),N.ec(6,"input",26),N.Zc(7,Ui,2,1,"p",9),N.ic()),2&e){var i=N.uc();N.Nb(7),N.Bc("ngIf",i.alertSubForm.controls.SQS.invalid&&!i.alertSubForm.controls.SQS.pristine)}}var Wi,Gi=((Wi=function(){function e(t,i,n,a,r){o(this,e),this.homeServiceService=t,this.userSettingsService=i,this.router=n,this.fb=a,this.messages=r,this.ruleCategoryList=[],this.projectList=[],this.eventNameList=[],this.subscriptionTypeList=[{name:"Global",value:"global"},{name:"Project",value:"project"}],this.communicationList=[]}return r(e,[{key:"ngOnInit",value:function(){var e,i=this;sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(function(e){e.accessControl=e.accessControl.split("-")}))),this.resetForm();var n=this.homeServiceService.getProjectList();t(new Set(n.map(function(e){return e.idProject}))).map(function(e){i.projectList.push(n.find(function(t){return t.idProject===e}))}),this.userSettingsService.getAllAlertCommunicationModes().subscribe(function(e){var t,n;"success"===e.status&&((null===(t=e.result)||void 0===t?void 0:t.commModeList)?(i.communicationList=null===(n=e.result)||void 0===n?void 0:n.commModeList,i.alertSubForm.patchValue({communicationMode:[i.communicationList[0].commModeId]}),i.alertSubForm.controls.email.setValidators(s.w.required),i.updateFormFieldValidators()):i.messages.displayToaster(e.message,"warn","Warning!"))}),this.userSettingsService.getAllAlertEventNames().subscribe(function(e){var t;i.eventNameList=null===(t=e.result)||void 0===t?void 0:t.eventNames;var n=JSON.parse(sessionStorage.getItem("alertObj"));i.alertSubForm.controls.eventName.setValue(n.eventName)})}},{key:"changeEventName",value:function(e){this.eventName=e.value}},{key:"resetForm",value:function(){this.alertSubForm=this.fb.group({eventName:["",s.w.compose([s.w.required])],subscriptionType:["",s.w.compose([s.w.required])],communicationMode:["",s.w.compose([s.w.required])],projectName:[""],communicationValues:[""],email:[null],jira:[null],slack:[null],SNS:[null],SQS:[null]})}},{key:"getSelectedValue",value:function(e){this.selectedTableName=e}},{key:"changeSubscriptionType",value:function(e){"global"==e.value?(this.alertSubForm.controls.projectName.reset(),this.updateFormFieldValidators()):(this.alertSubForm.controls.projectName.setValidators(s.w.required),this.updateFormFieldValidators()),this.alertSubForm.controls.email.setValue(null),this.alertSubForm.controls.jira.setValue(null),this.alertSubForm.controls.slack.setValue(null),this.alertSubForm.controls.SNS.setValue(null),this.alertSubForm.controls.SQS.setValue(null),this.alertSubForm.controls.communicationMode.setValue([1]),this.selectedCommName=[1]}},{key:"getCommSelectedValue",value:function(e){switch(this.selectedCommName=e.value,e.itemValue){case 1:this.alertSubForm.controls.email.setValidators(s.w.required),this.updateFormFieldValidators();break;case 2:this.alertSubForm.controls.jira.setValidators(s.w.required),this.updateFormFieldValidators();break;case 3:this.alertSubForm.controls.slack.setValidators(s.w.required),this.updateFormFieldValidators();break;case 4:this.alertSubForm.controls.SNS.setValidators(s.w.required),this.updateFormFieldValidators();break;case 5:this.alertSubForm.controls.SQS.setValidators(s.w.required),this.updateFormFieldValidators()}}},{key:"markFormAsTouched",value:function(){var e=this;this.alertSubForm.updateValueAndValidity(),Object.keys(this.alertSubForm.controls).forEach(function(t){e.alertSubForm.controls[t].markAsTouched(),e.alertSubForm.controls[t].markAsDirty()})}},{key:"updateFormFieldValidators",value:function(){var e=this;this.alertSubForm.updateValueAndValidity(),Object.keys(this.alertSubForm.controls).forEach(function(t){e.alertSubForm.controls[t].updateValueAndValidity()})}},{key:"submit",value:function(){var e,t,i,n,o,a=this;if(this.alertSubForm.valid){var r=JSON.parse(JSON.stringify(this.alertSubForm.value));r.communicationValues=[];var c=[];if((null===(e=r.email)||void 0===e?void 0:e.length)>0){var l=this.communicationList.filter(function(e){return"EMAIL"==e.commModeName})[0];r.communicationValues.push({id:l.commModeId,value:r.email})}if((null===(t=r.slack)||void 0===t?void 0:t.length)>0){var s=this.communicationList.filter(function(e){return"SLACK"==e.commModeName})[0];r.communicationValues.push({id:s.commModeId,value:r.slack})}if((null===(i=r.jira)||void 0===i?void 0:i.length)>0){var d=this.communicationList.filter(function(e){return"JIRA"==e.commModeName})[0];r.communicationValues.push({id:d.commModeId,value:r.jira})}if((null===(n=r.SQS)||void 0===n?void 0:n.length)>0){var u=this.communicationList.filter(function(e){return"SQS"==e.commModeName})[0];r.communicationValues.push({id:u.commModeId,value:r.SQS})}if((null===(o=r.SNS)||void 0===o?void 0:o.length)>0){var p=this.communicationList.filter(function(e){return"SNS"==e.commModeName})[0];r.communicationValues.push({id:p.commModeId,value:r.SNS})}r.communicationValues.forEach(function(e){"global"===r.subscriptionType?c.push({commModeId:e.id,communicationValues:e.value,eventId:a.eventNameList.find(function(e){return e.name==r.eventName}).value,isGlobalSubscription:"global"===r.subscriptionType?"Y":"N",projectId:"-1"}):r.projectName.forEach(function(t){c.push({commModeId:e.id,communicationValues:e.value,eventId:a.eventNameList.find(function(e){return e.name==r.eventName}).value,isGlobalSubscription:"global"===r.subscriptionType?"Y":"N",projectId:t})})}),this.userSettingsService.addEventSubscription(c).subscribe(function(e){"success"===e.status&&a.router.navigate(["/dbckangui/user-setting/alert-notification"])})}}},{key:"backToScreen",value:function(){this.router.navigate(["/dbckangui/user-setting/alert-notification"])}},{key:"roleOnModule",value:function(e){return this.roleModule.find(function(t){return t.moduleName===e})}}]),e}()).\u0275fac=function(e){return new(e||Wi)(N.dc(Ci.a),N.dc(D.a),N.dc(d.i),N.dc(s.e),N.dc(Pt.b))},Wi.\u0275cmp=N.Xb({type:Wi,selectors:[["app-alert-subscription"]],decls:34,vars:17,consts:[[1,"container-fluid","create-conn-main",3,"formGroup"],[1,"row"],[1,"col-sm-12"],[1,"form-title"],[1,"row","p-field"],[1,"col-sm-12","col-md-6","mr-top"],["for","first_name",1,"form-label"],[1,"req-field"],["id","last_name","maxlength","500","readonly","","formControlName","eventName","placeholder","Enter Event Name","type","text","pInputText","",1,"form-field"],["class","err-msg",4,"ngIf"],["for","last_name",1,"form-label"],["formControlName","subscriptionType","placeholder","Select Subscription Type","optionValue","value","optionLabel","name",3,"styleClass","options","virtualScroll","itemSize","onChange"],["class","col-sm-12 col-md-6 mr-top",4,"ngIf"],[1,"row","p-field","padding-top-20"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button","label","Add Subscription",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],["pButton","","type","button","label","Back",1,"button","w-button","shadow","btn-cancel",3,"click"],[3,"subscriptionInner","eventId"],[1,"err-msg"],["formControlName","communicationMode","defaultLabel","Select Communication Mode","optionLabel","commModeName","optionValue","commModeId","name","value",3,"styleClass","options","onChange"],["formControlName","projectName","defaultLabel","Select Project Name","optionLabel","projectName","optionValue","idProject","name","value",3,"styleClass","options","onChange"],["for","role_id",1,"form-label"],["id","last_name","maxlength","500","formControlName","email","placeholder","Enter Email","type","email","pInputText","",1,"form-field"],["id","last_name","maxlength","500","formControlName","jira","placeholder","Enter Jira","type","text","pInputText","",1,"form-field"],["id","last_name","maxlength","500","formControlName","slack","placeholder","Enter Slack","type","text","pInputText","",1,"form-field"],["id","last_name","maxlength","500","formControlName","SNS","placeholder","Enter SNS","type","text","pInputText","",1,"form-field"],["id","last_name","maxlength","500","formControlName","SQS","placeholder","Enter SQS","type","text","pInputText","",1,"form-field"]],template:function(e,t){1&e&&(N.jc(0,"div",0),N.jc(1,"div",1),N.jc(2,"div",2),N.jc(3,"p",3),N.bd(4," Event Subscription "),N.ic(),N.ic(),N.ic(),N.jc(5,"div",4),N.jc(6,"div",5),N.jc(7,"label",6),N.bd(8,"Event Name"),N.jc(9,"sup",7),N.bd(10,"*"),N.ic(),N.ic(),N.ec(11,"br"),N.ec(12,"input",8),N.Zc(13,xi,2,1,"p",9),N.ic(),N.jc(14,"div",5),N.jc(15,"label",10),N.bd(16,"Subscription Type"),N.jc(17,"sup",7),N.bd(18,"*"),N.ic(),N.ic(),N.ec(19,"br"),N.jc(20,"p-dropdown",11),N.qc("onChange",function(e){return t.changeSubscriptionType(e)}),N.ic(),N.Zc(21,ji,2,1,"p",9),N.ic(),N.Zc(22,ki,8,3,"div",12),N.Zc(23,Ni,8,3,"div",12),N.Zc(24,_i,8,1,"div",12),N.Zc(25,Li,8,1,"div",12),N.Zc(26,Ei,8,1,"div",12),N.Zc(27,qi,8,1,"div",12),N.Zc(28,Ai,8,1,"div",12),N.ic(),N.jc(29,"div",13),N.jc(30,"div",14),N.jc(31,"button",15),N.qc("click",function(){return t.submit()}),N.ic(),N.jc(32,"button",16),N.qc("click",function(){return t.backToScreen()}),N.ic(),N.ic(),N.ic(),N.ec(33,"app-subscribe-notification",17),N.ic()),2&e&&(N.Bc("formGroup",t.alertSubForm),N.Nb(13),N.Bc("ngIf",t.alertSubForm.controls.eventName.invalid&&!t.alertSubForm.controls.eventName.pristine),N.Nb(7),N.Bc("styleClass","form-field")("options",t.subscriptionTypeList)("virtualScroll",!0)("itemSize",30),N.Nb(1),N.Bc("ngIf",t.alertSubForm.controls.subscriptionType.invalid&&!t.alertSubForm.controls.subscriptionType.pristine),N.Nb(1),N.Bc("ngIf",(null==t.alertSubForm.value?null:t.alertSubForm.value.subscriptionType.length)>0),N.Nb(1),N.Bc("ngIf","project"==t.alertSubForm.controls.subscriptionType.value),N.Nb(1),N.Bc("ngIf",(null==t.alertSubForm.value?null:t.alertSubForm.value.subscriptionType.length)>0&&(null==t.selectedCommName?null:t.selectedCommName.includes(1))),N.Nb(1),N.Bc("ngIf",null==t.selectedCommName?null:t.selectedCommName.includes(2)),N.Nb(1),N.Bc("ngIf",null==t.selectedCommName?null:t.selectedCommName.includes(3)),N.Nb(1),N.Bc("ngIf",null==t.selectedCommName?null:t.selectedCommName.includes(4)),N.Nb(1),N.Bc("ngIf",null==t.selectedCommName?null:t.selectedCommName.includes(5)),N.Nb(3),N.Bc("disabled",!t.alertSubForm.valid),N.Nb(2),N.Bc("subscriptionInner","true")("eventId",t.eventName))},directives:[s.p,s.i,s.d,s.k,s.o,s.g,E.a,l.n,f.a,L.b,Xt,fe.a],styles:["[_ngcontent-%COMP%]::-moz-placeholder{color:gray;opacity:.8}[_ngcontent-%COMP%]::placeholder{color:gray;opacity:.8}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.note[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#eb5454}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]     .p-inputtext{font-size:14px}.p-field[_ngcontent-%COMP%]{margin:0 10px}.p-field-form[_ngcontent-%COMP%]{padding-right:0}.diabled-ip[_ngcontent-%COMP%]{opacity:.7;box-shadow:none!important;cursor:inherit}.diabled-ip[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .p-disabled:hover{cursor:not-allowed!important}.optional-fields[_ngcontent-%COMP%]{color:#789}.form-checkbox[_ngcontent-%COMP%]{padding-left:10px;font-size:16px;padding-top:8px}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.warning-msg[_ngcontent-%COMP%]{font-size:12px;color:#007bff;margin-bottom:0;padding-top:8px;padding-left:5px}[_nghost-%COMP%]     .p-multiselect{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .multiselect-custom .p-multiselect-label{padding-top:.25rem!important;padding-bottom:.25rem!important}[_nghost-%COMP%]     .multiselect-custom .validationType-item-value{padding:.1rem .25rem!important;border-radius:3px!important;display:inline-flex!important;margin-right:.5rem!important;background:linear-gradient(180deg,#ff7526,#fb9a64)!important;color:#fff!important}[_nghost-%COMP%]     .multiselect-custom .validationType-item div{white-space:normal;word-break:break-word;width:400px}[_nghost-%COMP%]     .multiselect-custom .validationType-placeholder{font-family:Open Sans!important;font-size:14px!important;font-weight:400;padding:.25rem}"]}),Wi);function $i(e,t){if(1&e){var i=N.kc();N.jc(0,"div",37),N.jc(1,"span",38),N.jc(2,"input",39),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().globalFilterValue=e})("keyup",function(e){return N.Rc(i),N.uc().globalFilterFun(e)}),N.ic(),N.bd(3,"\xa0 "),N.ec(4,"i",40),N.ic(),N.jc(5,"span",41),N.qc("click",function(){N.Rc(i);var e=N.uc(),t=N.Oc(27);return e.showCustomizeModal(t)}),N.ec(6,"img",42),N.bd(7," \xa0Customize "),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(2),N.Bc("ngModel",n.globalFilterValue),N.Nb(3),N.Qb(0==(null==n.tagsList?null:n.tagsList.length)?"disable":""),N.Nb(1),N.Rb("cursor-pointer ",n.tagsList.length?"":"disabled-opa","")}}function Ji(e,t){if(1&e){var i=N.kc();N.jc(0,"th"),N.bd(1),N.ec(2,"br"),N.ec(3,"p-sortIcon",46),N.jc(4,"app-column-filter",47),N.qc("hideFilterDataBox",function(e){return N.Rc(i),N.uc(3).hideBox(e)})("filterData",function(e){return N.Rc(i),N.uc(3).getFilterData(e)})("resetFilterValues",function(e){return N.Rc(i),N.uc(3).resetFilter(e)}),N.ic(),N.jc(5,"span",48),N.jc(6,"i",49),N.qc("click",function(){N.Rc(i);var e=N.uc().$implicit;return N.uc(2).onFilterClick(e.originalValue)}),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc().$implicit,o=N.uc(2);N.Nb(1),N.dd(" ",n.displayValue,""),N.Nb(2),N.Cc("field",n.originalValue),N.Cc("pSortableColumn",n.originalValue),N.Nb(1),N.Bc("colFilterData",o.getFilterState(n.originalValue))("display",o.displayFiltersFor[n.originalValue])("fieldName",n.originalValue)("customId",n.originalValue),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"selected-filter-column":""),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function Hi(e,t){if(1&e&&(N.hc(0),N.Zc(1,Ji,7,9,"th",45),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",i.isSelected)}}function Yi(e,t){if(1&e&&(N.jc(0,"tr",43),N.Zc(1,Hi,2,1,"ng-container",44),N.jc(2,"th"),N.bd(3," Actions"),N.ic(),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngForOf",i.customizeCols)}}function Qi(e,t){if(1&e&&(N.jc(0,"td",54),N.jc(1,"span",55),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc().$implicit,n=N.uc().$implicit;N.Bc("ngClass","description"==i.originalValue?"rule-ellipsis":"")("title",n[i.originalValue]),N.Nb(2),N.cd(n[i.originalValue])}}function Ki(e,t){if(1&e&&(N.hc(0),N.Zc(1,Qi,3,3,"td",53),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",i.isSelected)}}function Xi(e,t){if(1&e){var i=N.kc();N.jc(0,"tr",50),N.Zc(1,Ki,2,1,"ng-container",44),N.jc(2,"td"),N.jc(3,"span",51),N.qc("click",function(){N.Rc(i);var e=t.$implicit;return N.uc().editTag(e)}),N.ec(4,"i",52),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc(),o=null;N.Nb(1),N.Bc("ngForOf",n.customizeCols),N.Nb(2),N.Bc("ngClass",null!=(o=n.roleOnModule("User Settings"))&&null!=o.accessControl&&o.accessControl.includes("U")?" cursor-pointer":"disable")}}function en(e,t){1&e&&(N.jc(0,"div",56),N.bd(1,"No records found "),N.ic())}function tn(e,t){if(1&e){var i=N.kc();N.jc(0,"div",57),N.jc(1,"p-paginator",58,59),N.qc("onPageChange",function(e){return N.Rc(i),N.uc().onPageChange(e)})("firstChange",function(e){return N.Rc(i),N.uc().first=e}),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("rows",10)("totalRecords",n.tagsList.length)("showCurrentPageReport",!0)("first",n.first)}}function nn(e,t){if(1&e&&(N.jc(0,"div",64),N.jc(1,"div"),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc(3);N.Nb(2),N.ed("Page ",i.selectedPage.page," of ",i.totalNumOfPages,"")}}function on(e,t){if(1&e&&N.Zc(0,nn,3,2,"div",63),2&e){var i=N.uc(2);N.Bc("ngIf",i.selectedPage)}}function an(e,t){if(1&e){var i=N.kc();N.jc(0,"div",60),N.jc(1,"p-dropdown",61),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().selectedPage=e})("onChange",function(e){return N.Rc(i),N.uc().onPageNumChange(e)}),N.Zc(2,on,1,1,"ng-template",62),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("options",n.numOfPages)("filter",!0)("ngModel",n.selectedPage)}}function rn(e,t){if(1&e){var i=N.kc();N.jc(0,"div",73),N.jc(1,"table"),N.jc(2,"tr",74),N.jc(3,"td"),N.jc(4,"p-checkbox",75),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().$implicit.isSelected=e})("onChange",function(){N.Rc(i);var e=N.uc().$implicit;return N.uc(2).checkValue(e.originalValue,e.isSelected)}),N.ic(),N.ic(),N.jc(5,"td"),N.jc(6,"label"),N.bd(7),N.ic(),N.ic(),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc().$implicit;N.Nb(4),N.Bc("ngModel",n.isSelected),N.Nb(3),N.cd(n.displayValue)}}function cn(e,t){if(1&e&&(N.hc(0),N.Zc(1,rn,8,2,"div",72),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",!i.necessaryCol&&!i.alwaysSelected)}}function ln(e,t){if(1&e){var i=N.kc();N.jc(0,"div",65),N.jc(1,"div",66),N.Zc(2,cn,2,1,"ng-container",44),N.ic(),N.ic(),N.jc(3,"div",67),N.jc(4,"div",68),N.jc(5,"div",69),N.jc(6,"div"),N.jc(7,"label",70),N.qc("click",function(){return N.Rc(i),N.uc().modalRef.hide()}),N.bd(8,"Close Customize"),N.ic(),N.jc(9,"img",71),N.qc("click",function(){return N.Rc(i),N.uc().modalRef.hide()}),N.ic(),N.ic(),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(2),N.Bc("ngForOf",n.customizeCols)}}function sn(e,t){if(1&e&&(N.jc(0,"span",76),N.bd(1),N.ic()),2&e){var i=N.uc();N.Nb(1),N.dd("",i.isEditTag?"Edit":"Add"," Tag ")}}function dn(e,t){1&e&&(N.jc(0,"span",77),N.bd(1," Please enter "),N.jc(2,"b"),N.bd(3,"Tag Name"),N.ic(),N.ic())}function un(e,t){1&e&&(N.jc(0,"span",77),N.bd(1,"- is not allowed in tag name"),N.ic())}function pn(e,t){if(1&e&&(N.jc(0,"p",77),N.Zc(1,dn,4,0,"span",28),N.Zc(2,un,2,0,"span",28),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngIf",i.tagForm.controls.tagName.errors.required),N.Nb(1),N.Bc("ngIf",i.tagForm.controls.tagName.errors.pattern)}}function fn(e,t){1&e&&(N.jc(0,"span",77),N.bd(1," Please enter "),N.jc(2,"b"),N.bd(3,"Description"),N.ic(),N.ic())}function gn(e,t){if(1&e&&(N.jc(0,"p",77),N.Zc(1,fn,4,0,"span",28),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngIf",i.tagForm.controls.description.errors.required)}}function hn(e,t){if(1&e){var i=N.kc();N.hc(0),N.jc(1,"div",73),N.jc(2,"table"),N.jc(3,"tr",74),N.jc(4,"td"),N.jc(5,"p-checkbox",85),N.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return N.Rc(i),N.uc(2).pdfColsValue()}),N.ic(),N.ic(),N.jc(6,"td"),N.jc(7,"label"),N.bd(8),N.ic(),N.ic(),N.ic(),N.ic(),N.ic(),N.gc()}if(2&e){var n=t.$implicit,o=N.uc(2);N.Nb(5),N.Bc("ngModel",n.pdfCols)("disabled",o.pdfCheckboxDisabled&&!n.pdfCols),N.Nb(3),N.cd(n.displayValue)}}function mn(e,t){1&e&&(N.jc(0,"div",86),N.bd(1,"You can select up to 9 columns."),N.ic())}function bn(e,t){if(1&e){var i=N.kc();N.jc(0,"div",78),N.jc(1,"span",76),N.bd(2,"Please select columns that need to be downloaded in PDF"),N.ic(),N.ic(),N.jc(3,"div",79),N.jc(4,"div",66),N.Zc(5,hn,9,3,"ng-container",44),N.ic(),N.ic(),N.jc(6,"div",67),N.jc(7,"div",68),N.jc(8,"div",80),N.Zc(9,mn,2,0,"div",81),N.ic(),N.jc(10,"div",82),N.jc(11,"button",83),N.qc("click",function(){N.Rc(i);var e=N.uc();return e.exportPdf(),e.modalRef.hide()}),N.ic(),N.ic(),N.jc(12,"div",84),N.jc(13,"div"),N.jc(14,"label",70),N.qc("click",function(){return N.Rc(i),N.uc().closeExportPdf()}),N.bd(15,"Close"),N.ic(),N.jc(16,"img",71),N.qc("click",function(){return N.Rc(i),N.uc().closeExportPdf()}),N.ic(),N.ic(),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(5),N.Bc("ngForOf",n.customizeCols),N.Nb(4),N.Bc("ngIf",n.pdfCheckboxDisabled),N.Nb(2),N.Bc("disabled",n.disableDownloadBtn)}}var vn=function(){return{width:"100%"}},Cn=function(){return["tagId","tagName","description"]},yn=function(){return{width:"50vw"}};x.a.vfs=j.a.pdfMake.vfs;var xn,Pn,jn=((xn=function(){function e(t,i,n,a,r,c,l,s){o(this,e),this.tagsService=t,this.filterService=i,this.detectChanges=n,this.spinner=a,this.datePipe=r,this.formBuilder=c,this.domainProj=l,this.modalService=s,this.mainTagsList=[],this.tagsList=[],this.pageWiseTags=[],this.pdfData=[],this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols=[{displayValue:"Tag Id",originalValue:"tagId",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Tag Name",originalValue:"tagName",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Tag Description",originalValue:"description",isSelected:!0,necessaryCol:!1,alwaysSelected:!1}],this.displayFiltersFor={tagId:!1,tagName:!1,description:!1},this.totalRecords=0,this.first=0,this.pageSize=9,this.totalNumOfPages=0,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.columnFilter={},this.filterData={},this.display=!1,this.isEditTag=!1,this.noRecordFound=!1,this.regexForTagName=/^[a-zA-z0-9][^\-]*$/}return r(e,[{key:"ngOnInit",value:function(){var e;this.domainProj.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData"),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(function(e){e.accessControl=e.accessControl.split("-")}))),this.getAllDatabuckTags(),this.tagForm=this.formBuilder.group({tagName:new s.f("",[s.w.required,s.w.pattern(this.regexForTagName)]),description:new s.f("",[s.w.required])})}},{key:"getAllDatabuckTags",value:function(){var e=this;this.spinner.show(),this.tagsService.getAllDatabuckTags("getAllDatabuckTags").subscribe(function(i){if("success"===i.status){e.spinner.hide(),e.spinner.hide()&&(e.noRecordFound=!0),e.mainTagsList=t(i.result.databuckTagList),e.tagsList=t(e.mainTagsList),e.pdfData=t(e.mainTagsList);var n=e.first+e.pageSize;e.filterObj&&e.filterObj.forEach(function(t){e.tagsList=e.tagsList.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})});var o=e.tagsList.filter(function(e,t){return t<=n});e.pageWiseTags=t(o),e.calculateNumOfPages(),e.customizeCols.filter(function(e){return!1===e.necessaryCol})}else e.mainTagsList=[],e.tagsList=[],e.pageWiseTags=[]})}},{key:"calculateNumOfPages",value:function(){if(this.totalNumOfPages=this.mainTagsList.length?this.mainTagsList.length<this.pageSize?1:Math.ceil(this.mainTagsList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}},{key:"onPageChange",value:function(e){var i=this;this.first=e.first;var n=this.getSortedData(),o=this.first+this.pageSize,a=n.filter(function(e,t){if(t<=o&&t>=i.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseTags=t(a)}},{key:"onPageNumChange",value:function(e){var i=this;this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);var n=this.getSortedData(),o=this.first+this.pageSize,a=n.filter(function(e,t){if(t<=o&&t>=i.first)return e});this.pageWiseTags=t(a)}},{key:"getSortedData",value:function(){var e=this,i=t(this.tagsList);return this.sortOrderEvent?1===this.sortOrderEvent.order?(i.sort(function(t,i){return t[e.sortOrderEvent.field]>i[e.sortOrderEvent.field]?1:i[e.sortOrderEvent.field]>t[e.sortOrderEvent.field]?-1:0}),i):(i.sort(function(t,i){return t[e.sortOrderEvent.field]>i[e.sortOrderEvent.field]?-1:i[e.sortOrderEvent.field]>t[e.sortOrderEvent.field]?1:0}),i):i}},{key:"customSort",value:function(e){var i=this,n=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=n+1,this.selectedPage.pageIndex=n,this.sortOrderEvent=e;var o=t(this.tagsList);o.sort(1===this.sortOrderEvent.order?function(t,i){return t[e.field]>i[e.field]?1:i[e.field]>t[e.field]?-1:0}:function(t,i){return t[e.field]>i[e.field]?-1:i[e.field]>t[e.field]?1:0});var a=this.first+this.pageSize,r=o.filter(function(e,t){if(t<=a&&t>=i.first)return e});this.pageWiseTags=t(r)}},{key:"setPageNumber",value:function(){if(this.totalNumOfPages=this.tagsList.length?this.tagsList.length<this.pageSize?1:Math.ceil(this.tagsList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}var i=this.first+this.pageSize,n=this.tagsList.filter(function(e,t){return t<=i});this.pageWiseTags=t(n)}},{key:"globalFilterFun",value:function(e){var i=t(this.globalFilterLogic()),n=this.first+this.pageSize,o=i.filter(function(e,t){return t<=n});this.detectChanges.detectChanges(),this.pageWiseTags=t(o),this.setPageNumber()}},{key:"globalFilterLogic",value:function(){var e=this;if(this.mainTagsList.length){var i=Object.keys(this.mainTagsList[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainTagsList.forEach(function(t){var n=!1;i.forEach(function(i){t[i]&&t[i].toString().toLowerCase().includes(e.globalFilterValue.toLowerCase())&&!n&&(e.filterValue.push(t),n=!0)})}),this.columnFilter){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.first=0,n.forEach(function(t){e.filterValue=e.filterValue.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})})}return this.tagsList=t(this.filterValue),this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=t(this.mainTagsList),this.columnFilter){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var o=Object.keys(this.columnFilter);this.first=0,o.forEach(function(t){e.filterValue=e.filterValue.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})})}return this.tagsList=t(this.filterValue),this.calculateNumOfPages(),this.tagsList}return[]}},{key:"showCustomizeModal",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"createTag",value:function(){this.display=!0,this.isEditTag=!1,this.tagForm.reset()}},{key:"onCancel",value:function(){this.display=!1}},{key:"downloadCSV",value:function(){var e=this;this.tagsService.databuckTagsCSV("databuckTagsCSV").subscribe(function(t){var i=e.datePipe.transform(new Date,"yyyy-MM-dd");Object(C.saveAs)(t,"TagCSV_"+i+".csv")})}},{key:"openExportPdf",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"closeExportPdf",value:function(){var e=this;this.modalRef.hide(),setTimeout(function(){e.pdfCheckCount=0,e.pdfCheckboxDisabled=!1,e.disableDownloadBtn=!0,e.customizeCols.forEach(function(e){return e.pdfCols=!1})},1e3)}},{key:"exportPdf",value:function(){var e=this;this.pdfData.length&&(this.spinner.show(),setTimeout(function(){var t=new M.default("l","pt"),i=e.customizeCols.filter(function(e){return e.pdfCols}),n=[];i.forEach(function(e){return n.push(e.displayValue)});var o,a=[];i.forEach(function(e){return a.push(e.originalValue)}),o=e.pdfData.map(function(e){return Object.assign(a.map(function(t){return e[t]}))});var r=t.internal.pageSize,c=r.height?r.height:r.getHeight();S()(t,{columns:n,body:o,didDrawPage:function(e){1==e.pageNumber&&(t.text("Databuck Tags",t.internal.pageSize.width/2,25,null,"center"),t.setFontSize(10)),t.setFontSize(9),t.text("Created by FirstEigen",t.internal.pageSize.width-40,c-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}}}),t.save("Databuck Tags.pdf"),e.disableDownloadBtn=!0,e.pdfCheckboxDisabled=!1,i.forEach(function(e){return e.pdfCols=!1}),e.spinner.hide()},2e3))}},{key:"pdfColsValue",value:function(){var e=this;this.pdfCheckCount=0,this.customizeCols.filter(function(e){return!0===e.pdfCols}).forEach(function(t){!0===t.pdfCols&&e.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}},{key:"onFilterClick",value:function(e){var t=this;Object.keys(this.displayFiltersFor).map(function(i){t.displayFiltersFor[i]=i===e})}},{key:"getFilterState",value:function(e){if(this.filterData&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){var t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}},{key:"hideBox",value:function(e){this.displayFiltersFor[e.fieldName]=!1}},{key:"getFilterData",value:function(e){var i=this;this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.storeFilterValue=n,this.displayFiltersFor[e[0]]=!1,this.first=0,this.globalFilterValue||(this.tagsList=t(this.mainTagsList)),n.forEach(function(e){i.tagsList=i.tagsList.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"resetFilter",value:function(e){var i=this;this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.tagsList=t(this.mainTagsList),n.forEach(function(e){i.tagsList=i.tagsList.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"editTag",value:function(e){this.tagForm.reset(),this.display=!0,this.isEditTag=!0,this.tagObj=e,this.tagForm.patchValue({tagName:e.tagName,description:e.description})}},{key:"checkValue",value:function(e,t){var i=this;null!=this.storeFilterValue&&this.storeFilterValue.map(function(n){n==e&&0==t&&i.resetFilter(e)})}},{key:"onSubmit",value:function(){var e=this,t=this.tagForm.value;this.isEditTag?(t.tagId=this.tagObj.tagId,this.tagsService.updateDatabuckTagInfo(t).subscribe(function(t){"success"===t.status&&(e.display=!1,e.getAllDatabuckTags())})):this.tagsService.createDatabuckTags(t).subscribe(function(t){"success"===t.status&&(e.display=!1,e.getAllDatabuckTags())})}},{key:"filterColumnNameWithHighlightName",value:function(e){return!(Object.keys(this.columnFilter).findIndex(function(t){return t===e})<0)}},{key:"roleOnModule",value:function(e){return this.roleModule.find(function(t){return t.moduleName===e})}}]),e}()).\u0275fac=function(e){return new(e||xn)(N.dc(m.a),N.dc(_.d),N.dc(N.h),N.dc(F.c),N.dc(l.d),N.dc(s.e),N.dc(V.a),N.dc(I.a))},xn.\u0275cmp=N.Xb({type:xn,selectors:[["app-databuck-tags"]],decls:61,vars:39,consts:[[1,"container-fluid","main-container"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","text-right"],["type","button",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn","create-tag",3,"ngClass","click"],[1,"row","p-field","br-top"],[1,"col-sm-12","col-md-12"],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV","id","downloadCsv",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","id","downloadPdf","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["id","view_tags",1,"row","p-field"],["id","databuckTags",1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","responsiveLayout","scroll","sortMode","single","id","tagsListDataTable",3,"value","responsive","rowHover","sortOrder","pageLinks","filterDelay","resetPageOnSort","globalFilterFields","customSort","sortField","rows","first","sortFunction","firstChange"],["connectionsTab",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["template",""],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["id","tagsForm",3,"formGroup"],[1,"col-sm-12"],["for","databuckTagName",1,"form-label","spaces"],[1,"req-field"],["id","databuckTagName","formControlName","tagName","maxlength","500","type","text","pInputText","","placeholder","Enter Tag Name",1,"form-field","copy-ip"],["class","err-msg",4,"ngIf"],["for","descriptionTag",1,"form-label","spaces"],["id","descriptionTag","formControlName","description","maxlength","500","type","text","pInputText","","placeholder","Enter Description",1,"form-field","copy-ip"],[1,"col-sm-12","col-md-12","mr-top","text-right","note"],[1,"col-sm-12","col-md-12","note_name"],[1,"float-right","pad-tp-10"],["pButton","","type","button","id","submitBtn",1,"button","w-button","btn-mr-rt","submit-btn","btn-label-submit",3,"label","disabled","click"],["pButton","","type","button","id","closeCreateTagModal","label","Cancel",1,"cancelButton","w-button","btn-mr-rt","submit-btn","btn-label","btn-cancel",3,"click"],["exportPdfTemplate",""],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],["id","showCustomizeModal",1,"float-right","margin-top-gfilter",3,"click"],["src","assets/images/Vector.png","width","25px"],[1,"header"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil"],["class","td-ellipsis",3,"ngClass","title",4,"ngIf"],[1,"td-ellipsis",3,"ngClass","title"],[1,"word-break-all"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-body"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-12","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname","value","customizeCols[col.displayValue]",3,"ngModel","ngModelChange","onChange"],[1,"modal-title"],[1,"err-msg"],[1,"modal-header"],[1,"modal-body","pdf-modal"],[1,"col-lg-4"],["class","color-code",4,"ngIf"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],[1,"col-lg-4","arrow-text-right"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"]],template:function(e,t){if(1&e){var i=N.kc();N.jc(0,"div",0),N.jc(1,"div",1),N.jc(2,"div",2),N.jc(3,"p",3),N.bd(4," Tags "),N.ic(),N.ic(),N.jc(5,"div",4),N.jc(6,"p",3),N.jc(7,"button",5),N.qc("click",function(){return t.createTag()}),N.bd(8," Add "),N.ic(),N.ic(),N.ic(),N.ic(),N.jc(9,"div",6),N.jc(10,"div",7),N.jc(11,"a"),N.jc(12,"img",8),N.qc("click",function(){return t.downloadCSV()}),N.ic(),N.ic(),N.jc(13,"a"),N.jc(14,"img",9),N.qc("click",function(){N.Rc(i);var e=N.Oc(60);return t.openExportPdf(e)}),N.ic(),N.ic(),N.ic(),N.ic(),N.jc(15,"div",10),N.jc(16,"div",11),N.jc(17,"p-table",12,13),N.qc("sortFunction",function(e){return t.customSort(e)})("firstChange",function(e){return t.first=e}),N.Zc(19,$i,8,6,"ng-template",14),N.Zc(20,Yi,4,1,"ng-template",15),N.Zc(21,Xi,5,2,"ng-template",16),N.ic(),N.ic(),N.Zc(22,en,2,0,"div",17),N.jc(23,"div",18),N.Zc(24,tn,3,4,"div",19),N.Zc(25,an,3,3,"div",20),N.ic(),N.ic(),N.ic(),N.Zc(26,ln,10,1,"ng-template",null,21,N.ad),N.jc(28,"p-dialog",22),N.qc("visibleChange",function(e){return t.display=e}),N.Zc(29,sn,2,1,"ng-template",15),N.jc(30,"form",23),N.jc(31,"div",1),N.jc(32,"div",24),N.jc(33,"label",25),N.bd(34,"Tag Name"),N.jc(35,"sup",26),N.bd(36,"*"),N.ic(),N.ic(),N.ec(37,"input",27),N.Zc(38,pn,3,2,"p",28),N.ic(),N.jc(39,"div",24),N.jc(40,"label",29),N.bd(41,"Description"),N.jc(42,"sup",26),N.bd(43,"*"),N.ic(),N.ic(),N.ec(44,"input",30),N.Zc(45,gn,2,1,"p",28),N.ic(),N.ic(),N.jc(46,"div",31),N.jc(47,"p"),N.bd(48,"Note: Fields marked with "),N.jc(49,"b"),N.bd(50,'"*"'),N.ic(),N.bd(51," are required. "),N.ic(),N.ic(),N.jc(52,"div",32),N.jc(53,"p"),N.bd(54,"Tag name should not contain '-' use :: instead "),N.ic(),N.ic(),N.jc(55,"p-footer",33),N.jc(56,"button",34),N.qc("click",function(){return t.onSubmit()}),N.ic(),N.bd(57,"\xa0 "),N.jc(58,"button",35),N.qc("click",function(){return t.onCancel()}),N.ic(),N.ic(),N.ic(),N.ic(),N.Zc(59,bn,17,3,"ng-template",null,36,N.ad)}if(2&e){var n=null;N.Nb(7),N.Bc("ngClass",null!=(n=t.roleOnModule("User Settings"))&&null!=n.accessControl&&n.accessControl.includes("C")?" cursor-pointer":"disable"),N.Nb(4),N.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseTags&&t.pageWiseTags.length?"":"disabled-opa",""),N.Nb(2),N.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseTags&&t.pageWiseTags.length?"":"disabled-opa",""),N.Nb(4),N.Vc(N.Ec(36,vn)),N.Bc("value",t.pageWiseTags)("responsive",!0)("rowHover",!0)("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("globalFilterFields",N.Ec(37,Cn))("customSort",!0)("sortField","tagId")("rows",10)("first",t.first),N.Nb(5),N.Bc("ngIf",!t.pageWiseTags.length&&t.noRecordFound),N.Nb(2),N.Bc("ngIf",t.pageWiseTags.length),N.Nb(1),N.Bc("ngIf",t.pageWiseTags.length),N.Nb(3),N.Vc(N.Ec(38,yn)),N.Bc("visible",t.display)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),N.Nb(2),N.Bc("formGroup",t.tagForm),N.Nb(8),N.Bc("ngIf",t.tagForm.controls.tagName.invalid&&!t.tagForm.controls.tagName.pristine),N.Nb(7),N.Bc("ngIf",t.tagForm.controls.description.invalid&&!t.tagForm.controls.description.pristine),N.Nb(11),N.Bc("label",t.isEditTag?"Update Tag":"Create Tag")("disabled",!t.tagForm.valid||!t.tagForm.dirty)}},directives:[l.l,R.f,_.i,l.n,B.a,s.x,s.p,s.i,s.d,s.o,s.g,s.k,E.a,_.e,L.b,s.r,l.m,R.d,R.e,z.a,g.a,f.a,T.a],styles:[".no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}.pad-0[_ngcontent-%COMP%]{padding:0}.note[_ngcontent-%COMP%]{color:#eb5454;margin-top:30px!important}.note[_ngcontent-%COMP%], .note_name[_ngcontent-%COMP%]{text-align:left!important;font-size:13px;margin-left:-28px!important}.note_name[_ngcontent-%COMP%]{color:blue;font-style:italic}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}[_nghost-%COMP%]     .p-dropdown-item{white-space:normal}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.main-container[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}.btn-label-submit[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:182px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.p-datatable[_ngcontent-%COMP%]   .p-datatable-thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding-left:1px;padding-right:1px}.p-datatable[_ngcontent-%COMP%]   .p-datatable-thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{font-family:Open Sans!important;font-size:14px!important;font-weight:400;vertical-align:top}.p-field[_ngcontent-%COMP%]{margin:0 10px}.p-datatable[_ngcontent-%COMP%]   .p-datatable-header[_ngcontent-%COMP%]{padding:.2rem;height:30px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.p-datatable[_ngcontent-%COMP%]   .p-paginator-bottom[_ngcontent-%COMP%]{border-bottom-left-radius:10px!important;border-bottom-right-radius:10px!important}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.create-tag[_ngcontent-%COMP%]{font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff;line-height:inherit}"]}),xn),wn=c("mrSG"),On=c("bUwk"),kn=c("acRR"),Sn=((Pn=function(){function e(t,i){o(this,e),this.http=t,this.messages=i}return r(e,[{key:"getDefectCodeList",value:function(e,t){return this.http.post(e,t)}},{key:"deleteDefectCode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Object;return this.http.postWithToasty("mainDefectCodeHandler",e)}},{key:"downloadDefectCodeCSV",value:function(e){return this.http.getforCSV(e)}},{key:"craeteDefectCode",value:function(e,t){return this.http.postWithToasty(e,t)}},{key:"createDefectCodesByFile",value:function(e){return this.http.postWithMultipartWithouttosty("createDefectCodesByFile",e)}},{key:"createDefectCodesByFileByPath",value:function(e){return this.http.postWithoutToasty("createDefectCodesByFileByPath",e)}}]),e}()).\u0275fac=function(e){return new(e||Pn)(N.nc(On.a),N.nc(kn.a))},Pn.\u0275prov=N.Zb({token:Pn,factory:Pn.\u0275fac,providedIn:"root"}),Pn),Mn=c("LuMj");function Nn(e,t){if(1&e){var i=N.kc();N.jc(0,"span",28),N.jc(1,"input",29),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().globalFilterValue=e})("keyup",function(e){return N.Rc(i),N.uc().globalFilterFun(e)}),N.ic(),N.bd(2,"\xa0 "),N.ec(3,"i",30),N.ic(),N.jc(4,"span",31),N.qc("click",function(){N.Rc(i);var e=N.uc(),t=N.Oc(41);return e.showCustomizeModal(t)}),N.ec(5,"img",32),N.bd(6," \xa0Customize "),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("ngModel",n.globalFilterValue),N.Nb(3),N.Qb(0==(null==n.defectsCode?null:n.defectsCode.length)?"disable":""),N.Nb(1),N.Rb("cursor-pointer ",n.defectsCode.length?"":"disabled-opa","")}}function Dn(e,t){if(1&e){var i=N.kc();N.jc(0,"th"),N.bd(1),N.ec(2,"br"),N.ec(3,"p-sortIcon",37),N.jc(4,"app-column-filter",38),N.qc("hideFilterDataBox",function(e){return N.Rc(i),N.uc(3).hideBox(e)})("filterData",function(e){return N.Rc(i),N.uc(3).getFilterData(e)})("resetFilterValues",function(e){return N.Rc(i),N.uc(3).resetFilter(e)}),N.ic(),N.jc(5,"span",39),N.jc(6,"i",40),N.qc("click",function(){N.Rc(i);var e=N.uc().$implicit;return N.uc(2).onFilterClick(e.originalValue)}),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc().$implicit,o=N.uc(2);N.Nb(1),N.dd(" ",n.displayValue,""),N.Nb(2),N.Cc("field",n.originalValue),N.Cc("pSortableColumn",n.originalValue),N.Nb(1),N.Bc("colFilterData",o.getFilterState(n.originalValue))("display",o.displayFiltersFor[n.originalValue])("fieldName",n.originalValue)("customId",n.originalValue),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"selected-filter-column":""),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function Fn(e,t){if(1&e&&(N.hc(0),N.Zc(1,Dn,7,9,"th",36),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",i.isSelected)}}function _n(e,t){1&e&&(N.jc(0,"th",41),N.bd(1,"More"),N.ic())}function In(e,t){if(1&e&&(N.jc(0,"tr",33),N.Zc(1,Fn,2,1,"ng-container",34),N.jc(2,"th"),N.bd(3," Actions"),N.ic(),N.Zc(4,_n,2,0,"th",35),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngForOf",i.customizeCols),N.Nb(3),N.Bc("ngIf",i.isMoreDisplayed)}}function Vn(e,t){if(1&e&&(N.jc(0,"td",48),N.jc(1,"span"),N.bd(2),N.ic(),N.ec(3,"br"),N.ic()),2&e){var i=N.uc().$implicit,n=N.uc().$implicit;N.Bc("title",n[i.originalValue])("ngClass","DefectDescription"==i.originalValue?"rule-ellipsis":""),N.Nb(2),N.cd(n[i.originalValue])}}function Ln(e,t){if(1&e&&(N.hc(0),N.Zc(1,Vn,4,3,"td",47),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",i.isSelected)}}function Rn(e,t){if(1&e){var i=N.kc();N.jc(0,"td",49),N.qc("click",function(){N.Rc(i);var e=N.uc().$implicit,t=N.uc(),n=N.Oc(43);return t.openOtherField(n,e)}),N.bd(1," ... "),N.ic()}}function Bn(e,t){if(1&e){var i=N.kc();N.jc(0,"tr",42),N.Zc(1,Ln,2,1,"ng-container",34),N.jc(2,"td"),N.jc(3,"span",43),N.qc("click",function(){N.Rc(i);var e=t.$implicit;return N.uc().editDefectCode(e)}),N.ec(4,"i",44),N.ic(),N.jc(5,"span",43),N.qc("click",function(){N.Rc(i);var e=t.$implicit;return N.uc().deleteDefectCode(e)}),N.ec(6,"i",45),N.ic(),N.ic(),N.Zc(7,Rn,2,0,"td",46),N.ic()}if(2&e){var n=N.uc(),o=null,a=null;N.Nb(1),N.Bc("ngForOf",n.customizeCols),N.Nb(2),N.Bc("ngClass",null!=(o=n.roleOnModule("User Settings"))&&null!=o.accessControl&&o.accessControl.includes("U")?" cursor-pointer":"disable"),N.Nb(2),N.Bc("ngClass",null!=(a=n.roleOnModule("User Settings"))&&null!=a.accessControl&&a.accessControl.includes("D")?" cursor-pointer":"disable"),N.Nb(2),N.Bc("ngIf",n.isMoreDisplayed)}}function En(e,t){1&e&&(N.jc(0,"div",50),N.bd(1," No records found "),N.ic())}function zn(e,t){if(1&e){var i=N.kc();N.jc(0,"div",51),N.jc(1,"p-paginator",52,53),N.qc("onPageChange",function(e){return N.Rc(i),N.uc().onPageChange(e)})("firstChange",function(e){return N.Rc(i),N.uc().first=e}),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("rows",10)("totalRecords",n.defectsCode.length)("showCurrentPageReport",!0)("first",n.first)}}function Tn(e,t){if(1&e&&(N.jc(0,"div",58),N.jc(1,"div"),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc(3);N.Nb(2),N.ed("Page ",i.selectedPage.page," of ",i.totalNumOfPages,"")}}function qn(e,t){if(1&e&&N.Zc(0,Tn,3,2,"div",57),2&e){var i=N.uc(2);N.Bc("ngIf",i.selectedPage)}}function Zn(e,t){if(1&e){var i=N.kc();N.jc(0,"div",54),N.jc(1,"p-dropdown",55),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().selectedPage=e})("onChange",function(e){return N.Rc(i),N.uc().onPageNumChange(e)}),N.Zc(2,qn,1,1,"ng-template",56),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("options",n.numOfPages)("filter",!0)("ngModel",n.selectedPage)}}function Un(e,t){1&e&&(N.jc(0,"span",59),N.bd(1," Add Defect Code "),N.ic())}function An(e,t){1&e&&(N.jc(0,"span",73),N.bd(1," Special characters are not allowed "),N.ic())}function Wn(e,t){1&e&&(N.jc(0,"span",73),N.bd(1," Please enter "),N.jc(2,"b"),N.bd(3,"Defect Code"),N.ic(),N.ic())}function Gn(e,t){if(1&e&&(N.jc(0,"p",73),N.Zc(1,Wn,4,0,"span",67),N.ic()),2&e){var i=N.uc(2);N.Nb(1),N.Bc("ngIf",i.defectCodeForm.controls.defectCode.errors.required)}}function $n(e,t){1&e&&(N.jc(0,"span",73),N.bd(1," Special characters are not allowed "),N.ic())}function Jn(e,t){1&e&&(N.jc(0,"span",73),N.bd(1," Please enter "),N.jc(2,"b"),N.bd(3,"Defect Code Description"),N.ic(),N.ic())}function Hn(e,t){if(1&e&&(N.jc(0,"p",73),N.Zc(1,Jn,4,0,"span",67),N.ic()),2&e){var i=N.uc(2);N.Nb(1),N.Bc("ngIf",i.defectCodeForm.controls.defectCodeDes.errors.required)}}function Yn(e,t){if(1&e){var i=N.kc();N.jc(0,"div",60),N.jc(1,"form",61),N.jc(2,"div",62),N.jc(3,"div",63),N.jc(4,"label",64),N.bd(5," Defect Code"),N.jc(6,"sup",65),N.bd(7,"*"),N.ic(),N.ic(),N.ic(),N.jc(8,"div",63),N.ec(9,"input",66),N.Zc(10,An,2,0,"span",67),N.Zc(11,Gn,2,1,"p",67),N.ic(),N.ic(),N.jc(12,"div",62),N.jc(13,"div",63),N.jc(14,"label",68),N.bd(15," Defect Code Description"),N.jc(16,"sup",65),N.bd(17,"*"),N.ic(),N.ic(),N.ic(),N.jc(18,"div",63),N.ec(19,"input",69),N.Zc(20,$n,2,0,"span",67),N.Zc(21,Hn,2,1,"p",67),N.ic(),N.ic(),N.jc(22,"div",62),N.jc(23,"div",63),N.jc(24,"label",70),N.bd(25," Dimension"),N.jc(26,"sup",65),N.bd(27,"*"),N.ic(),N.ic(),N.ec(28,"br"),N.ic(),N.jc(29,"div",71),N.jc(30,"p-dropdown",72),N.qc("change",function(){return N.Rc(i),N.uc().onSelectDimension()}),N.ic(),N.ic(),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Bc("ngClass",n.dropdownFlag?"modalHeight":""),N.Nb(1),N.Bc("formGroup",n.defectCodeForm),N.Nb(8),N.Bc("disabled",n.isDisabled),N.Nb(1),N.Bc("ngIf",n.defectCodeForm.controls.defectCode.invalid&&!n.defectCodeForm.controls.defectCode.pristine&&!n.defectCodeForm.controls.defectCode.errors.required),N.Nb(1),N.Bc("ngIf",n.defectCodeForm.controls.defectCode.invalid&&!n.defectCodeForm.controls.defectCode.pristine),N.Nb(9),N.Bc("ngIf",n.defectCodeForm.controls.defectCodeDes.invalid&&!n.defectCodeForm.controls.defectCodeDes.pristine&&!n.defectCodeForm.controls.defectCodeDes.errors.required),N.Nb(1),N.Bc("ngIf",n.defectCodeForm.controls.defectCodeDes.invalid&&!n.defectCodeForm.controls.defectCodeDes.pristine),N.Nb(9),N.Bc("options",n.dimensionList)("virtualScroll",!0)("itemSize",30)}}function Qn(e,t){if(1&e){var i=N.kc();N.jc(0,"div",74),N.jc(1,"div",75),N.jc(2,"p"),N.bd(3,"Note: Fields marked with "),N.jc(4,"b"),N.bd(5,'"*"'),N.ic(),N.bd(6," are required. "),N.ic(),N.ic(),N.ic(),N.jc(7,"p-footer",76),N.jc(8,"button",77),N.qc("click",function(){return N.Rc(i),N.uc().onSubmit()}),N.ic(),N.bd(9,"\xa0 "),N.jc(10,"button",78),N.qc("click",function(){return N.Rc(i),N.uc().onCancel()}),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(8),N.Bc("disabled",!n.defectCodeForm.valid)}}function Kn(e,t){1&e&&(N.jc(0,"span",59),N.bd(1," Update Defect code & Dimension "),N.ic())}function Xn(e,t){1&e&&(N.jc(0,"span",73),N.bd(1," Special characters are not allowed "),N.ic())}function eo(e,t){1&e&&(N.jc(0,"span",73),N.bd(1," Please enter "),N.jc(2,"b"),N.bd(3,"Defect Code"),N.ic(),N.ic())}function to(e,t){if(1&e&&(N.jc(0,"p",73),N.Zc(1,Xn,2,0,"span",67),N.Zc(2,eo,4,0,"span",67),N.ic()),2&e){var i=N.uc(2);N.Nb(1),N.Bc("ngIf",i.defectCodeFormUpdate.controls.defectCodeUpdate.invalid&&!i.defectCodeFormUpdate.controls.defectCodeUpdate.pristine&&!i.defectCodeFormUpdate.controls.defectCodeUpdate.errors.required),N.Nb(1),N.Bc("ngIf",i.defectCodeFormUpdate.controls.defectCodeUpdate.errors.required)}}function io(e,t){1&e&&(N.jc(0,"span",73),N.bd(1," Special characters are not allowed "),N.ic())}function no(e,t){1&e&&(N.jc(0,"span",73),N.bd(1," Please enter "),N.jc(2,"b"),N.bd(3,"Defect Code Description"),N.ic(),N.ic())}function oo(e,t){if(1&e&&(N.jc(0,"p",73),N.Zc(1,io,2,0,"span",67),N.Zc(2,no,4,0,"span",67),N.ic()),2&e){var i=N.uc(2);N.Nb(1),N.Bc("ngIf",i.defectCodeFormUpdate.controls.defectCodeDesUpdate.invalid&&!i.defectCodeFormUpdate.controls.defectCodeDesUpdate.pristine&&!i.defectCodeFormUpdate.controls.defectCodeDesUpdate.errors.required),N.Nb(1),N.Bc("ngIf",i.defectCodeFormUpdate.controls.defectCodeDesUpdate.errors.required)}}function ao(e,t){if(1&e&&(N.jc(0,"form",61),N.jc(1,"div",62),N.jc(2,"div",63),N.jc(3,"label",79),N.bd(4," Defect Code"),N.jc(5,"sup",65),N.bd(6,"*"),N.ic(),N.ic(),N.ic(),N.jc(7,"div",63),N.ec(8,"input",80),N.Zc(9,to,3,2,"p",67),N.ic(),N.ic(),N.jc(10,"div",62),N.jc(11,"div",63),N.jc(12,"label",81),N.bd(13," Defect Code Description"),N.jc(14,"sup",65),N.bd(15,"*"),N.ic(),N.ic(),N.ic(),N.jc(16,"div",63),N.ec(17,"input",82),N.Zc(18,oo,3,2,"p",67),N.ic(),N.ic(),N.jc(19,"div",62),N.jc(20,"div",63),N.jc(21,"label",83),N.bd(22," Dimension"),N.jc(23,"sup",65),N.bd(24,"*"),N.ic(),N.ic(),N.ec(25,"br"),N.ic(),N.jc(26,"div",71),N.ec(27,"p-dropdown",84),N.ic(),N.ic(),N.ic()),2&e){var i=N.uc();N.Bc("formGroup",i.defectCodeFormUpdate),N.Nb(9),N.Bc("ngIf",i.defectCodeFormUpdate.controls.defectCodeUpdate.invalid&&!i.defectCodeFormUpdate.controls.defectCodeUpdate.pristine),N.Nb(9),N.Bc("ngIf",i.defectCodeFormUpdate.controls.defectCodeDesUpdate.invalid&&!i.defectCodeFormUpdate.controls.defectCodeDesUpdate.pristine),N.Nb(9),N.Bc("styleClass","form-field")("options",i.dimensionList)}}function ro(e,t){if(1&e){var i=N.kc();N.jc(0,"p-footer",85),N.jc(1,"button",86),N.qc("click",function(){return N.Rc(i),N.uc().onUpdate()}),N.ic(),N.bd(2," \xa0 "),N.jc(3,"button",78),N.qc("click",function(){return N.Rc(i),N.uc().onCancelUpdate()}),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("disabled",!n.defectCodeFormUpdate.valid||!n.defectCodeFormUpdate.dirty)}}function co(e,t){1&e&&(N.jc(0,"span",87),N.ec(1,"i",88),N.bd(2," Confirmation "),N.ic())}function lo(e,t){if(1&e){var i=N.kc();N.jc(0,"button",89),N.qc("click",function(){return N.Rc(i),N.uc().deleteConfirm()}),N.ic()}}function so(e,t){if(1&e){var i=N.kc();N.jc(0,"div",100),N.jc(1,"table"),N.jc(2,"tr",101),N.jc(3,"td"),N.jc(4,"p-checkbox",102),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().$implicit.isSelected=e})("onChange",function(){N.Rc(i);var e=N.uc().$implicit;return N.uc(2).checkValue(e.originalValue,e.isSelected)}),N.ic(),N.ic(),N.jc(5,"td"),N.jc(6,"label"),N.bd(7),N.ic(),N.ic(),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc().$implicit,o=N.uc(2);N.Nb(4),N.Bc("ngModel",n.isSelected)("disabled",o.checkboxDisabled&&!n.isSelected),N.Nb(3),N.cd(n.displayValue)}}function uo(e,t){if(1&e&&(N.hc(0),N.Zc(1,so,8,3,"div",99),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",!i.necessaryCol&&!i.alwaysSelected)}}function po(e,t){if(1&e&&(N.jc(0,"div",103),N.bd(1),N.ic()),2&e){var i=N.uc(2);N.Nb(1),N.dd("You can select up to ",i.maxCount," columns.")}}function fo(e,t){if(1&e){var i=N.kc();N.jc(0,"div",90),N.jc(1,"div",91),N.Zc(2,uo,2,1,"ng-container",34),N.ic(),N.ic(),N.jc(3,"div",92),N.jc(4,"div",93),N.jc(5,"div",94),N.Zc(6,po,2,1,"div",95),N.ic(),N.jc(7,"div",96),N.jc(8,"div"),N.jc(9,"label",97),N.qc("click",function(){return N.Rc(i),N.uc().modalRef.hide()}),N.bd(10,"Close Customize"),N.ic(),N.jc(11,"img",98),N.qc("click",function(){return N.Rc(i),N.uc().modalRef.hide()}),N.ic(),N.ic(),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(2),N.Bc("ngForOf",n.customizeCols),N.Nb(4),N.Bc("ngIf",n.checkboxDisabled)}}function go(e,t){if(1&e&&(N.jc(0,"div",110),N.jc(1,"table"),N.jc(2,"tr"),N.jc(3,"td",111),N.bd(4),N.ic(),N.jc(5,"td",111),N.bd(6),N.ic(),N.ic(),N.ic(),N.ic()),2&e){var i=N.uc().$implicit,n=N.uc(2);N.Nb(4),N.cd(i.displayValue),N.Nb(2),N.dd(": ",n.selectedRowData[i.originalValue],"")}}function ho(e,t){if(1&e&&(N.hc(0),N.Zc(1,go,7,2,"div",109),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",!i.necessaryCol&&!i.isSelected)}}function mo(e,t){if(1&e){var i=N.kc();N.jc(0,"div",104),N.jc(1,"b"),N.bd(2,"More Columns:"),N.ic(),N.ic(),N.jc(3,"div",90),N.jc(4,"div",105),N.Zc(5,ho,2,1,"ng-container",34),N.ic(),N.ic(),N.jc(6,"div",92),N.jc(7,"div",106),N.qc("click",function(){return N.Rc(i),N.uc().modalRef.hide()}),N.jc(8,"label",107),N.bd(9,"Close"),N.ic(),N.ec(10,"img",108),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(5),N.Bc("ngForOf",n.customizeCols)}}function bo(e,t){if(1&e){var i=N.kc();N.hc(0),N.jc(1,"div",100),N.jc(2,"table"),N.jc(3,"tr",101),N.jc(4,"td"),N.jc(5,"p-checkbox",116),N.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return N.Rc(i),N.uc(2).pdfColsValue()}),N.ic(),N.ic(),N.jc(6,"td"),N.jc(7,"label"),N.bd(8),N.ic(),N.ic(),N.ic(),N.ic(),N.ic(),N.gc()}if(2&e){var n=t.$implicit,o=N.uc(2);N.Nb(5),N.Bc("ngModel",n.pdfCols)("disabled",o.pdfCheckboxDisabled&&!n.pdfCols),N.Nb(3),N.cd(n.displayValue)}}function vo(e,t){1&e&&(N.jc(0,"div",103),N.bd(1,"You can select up to 9 columns."),N.ic())}function Co(e,t){if(1&e){var i=N.kc();N.jc(0,"div",104),N.jc(1,"span",59),N.bd(2,"Please select columns that need to be downloaded in PDF"),N.ic(),N.ic(),N.jc(3,"div",112),N.jc(4,"div",91),N.Zc(5,bo,9,3,"ng-container",34),N.ic(),N.ic(),N.jc(6,"div",92),N.jc(7,"div",93),N.jc(8,"div",113),N.Zc(9,vo,2,0,"div",95),N.ic(),N.jc(10,"div",114),N.jc(11,"button",115),N.qc("click",function(){N.Rc(i);var e=N.uc();return e.exportPdf(),e.modalRef.hide()}),N.ic(),N.ic(),N.jc(12,"div",96),N.jc(13,"div"),N.jc(14,"label",97),N.qc("click",function(){return N.Rc(i),N.uc().closeExportPdf()}),N.bd(15,"Close"),N.ic(),N.jc(16,"img",98),N.qc("click",function(){return N.Rc(i),N.uc().closeExportPdf()}),N.ic(),N.ic(),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(5),N.Bc("ngForOf",n.customizeCols),N.Nb(4),N.Bc("ngIf",n.pdfCheckboxDisabled),N.Nb(2),N.Bc("disabled",n.disableDownloadBtn)}}function yo(e,t){if(1&e){var i=N.kc();N.jc(0,"input",129),N.qc("change",function(e){return N.Rc(i),N.uc(2).changeFile(e)}),N.ic()}}function xo(e,t){if(1&e&&(N.jc(0,"p",130),N.jc(1,"span",73),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc(2);N.Nb(2),N.dd(" ",i.errorMessageCSV," ")}}function Po(e,t){1&e&&N.ec(0,"input",131)}function jo(e,t){if(1&e&&(N.jc(0,"p",130),N.jc(1,"span",73),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc(2);N.Nb(2),N.dd(" ",i.errorMessageCSV," ")}}var wo=function(){return{standalone:!0}};function Oo(e,t){if(1&e){var i=N.kc();N.jc(0,"div",61),N.jc(1,"div",104),N.jc(2,"p",3),N.bd(3,"Add defect code in bulk"),N.ic(),N.jc(4,"div",106),N.qc("click",function(){return N.Rc(i),N.uc().cancel()}),N.jc(5,"label",107),N.bd(6,"Close"),N.ic(),N.ec(7,"img",117),N.ic(),N.ic(),N.jc(8,"div",90),N.jc(9,"div",105),N.hc(10),N.jc(11,"div",118),N.jc(12,"p-radioButton",119),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().selectedValue=e})("onClick",function(){return N.Rc(i),N.uc().getRadioVal("File_Upload")}),N.ic(),N.ic(),N.jc(13,"div",118),N.jc(14,"p-radioButton",120),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().selectedValue=e})("onClick",function(){return N.Rc(i),N.uc().getRadioVal("File_Path")}),N.ic(),N.ic(),N.ec(15,"br"),N.jc(16,"div",118),N.Zc(17,yo,1,0,"input",121),N.Zc(18,xo,3,1,"p",122),N.ic(),N.jc(19,"div",123),N.Zc(20,Po,1,0,"input",124),N.Zc(21,jo,3,1,"p",122),N.ic(),N.gc(),N.ic(),N.jc(22,"div",125),N.jc(23,"div",126),N.jc(24,"button",127),N.qc("click",function(){return N.Rc(i),N.uc().addDefectCodeUsingCSV()}),N.ic(),N.jc(25,"button",128),N.qc("click",function(){return N.Rc(i),N.uc().cancel()}),N.ic(),N.ic(),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Bc("formGroup",n.defectCodeCSVForm),N.Nb(12),N.Bc("ngModelOptions",N.Ec(10,wo))("ngModel",n.selectedValue),N.Nb(2),N.Bc("ngModelOptions",N.Ec(11,wo))("ngModel",n.selectedValue),N.Nb(3),N.Bc("ngIf",n.showFileUpload),N.Nb(1),N.Bc("ngIf",n.errMsgFileUpload),N.Nb(2),N.Bc("ngIf",n.showFilePath),N.Nb(1),N.Bc("ngIf",n.errMsgFilePath),N.Nb(3),N.Bc("disabled",!n.defectCodeCSVForm.valid)}}var ko=function(){return{width:"100%"}},So=function(){return{width:"50vw"}};x.a.vfs=j.a.pdfMake.vfs;var Mo,No,Do=((No=function(){function n(e,t,i,a,r,c,l,d,u,p,f){o(this,n),this.defectCodeService=e,this.modalService=t,this.spinner=i,this.filterService=a,this.router=r,this.formBuilder=c,this.detectChanges=l,this.datePipe=d,this.homeServiceService=u,this.messages=p,this.domainProjService=f,this.totalNumOfPages=0,this.defectsCode=[],this.mainDefectsCode=[],this.pageWiseDefectsCode=[],this.deleteDefectsCode=[],this.first=0,this.pageSize=9,this.maxCount=4,this.checkboxDisabled=!1,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.deleteModal=!1,this.filterData={},this.deleteDimensionLib=[],this.columnFilter={},this.scrollHt="300px",this.projectNames=[],this.displayFiltersFor={DefectCode:!1,DefectDescription:!1,DimensionId:!1,DimensionName:!1,RowId:!1},this.customSortArr=[],this.multiSortMeta=[{field:"RowId",order:-1}],this.pdfData=[],this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols=[{displayValue:"Defect Code",originalValue:"DefectCode",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Defect Code Description",originalValue:"DefectDescription",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Dimension Name",originalValue:"DimensionName",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Row Id",originalValue:"RowId",isSelected:!1,necessaryCol:!1,alwaysSelected:!1}],this.display=!1,this.dimensionList=[],this.dropdownFlag=!1,this.noRecordFound=!1,this.showFilePath=!1,this.showFileUpload=!1,this.errMsgFileUpload=!1,this.errMsgFilePath=!1,this.selectedValue="File_Upload",this.errorMessageCSV="",this.defectCodeForm=this.formBuilder.group({dimension:new s.f("",[s.w.required]),defectCode:new s.f("",[s.w.required,s.w.pattern("[a-zA-Z0-9_ ]+")]),defectCodeDes:new s.f("",[s.w.required,s.w.pattern("[a-zA-Z0-9_ ]+")])}),this.defectCodeFormUpdate=this.formBuilder.group({defectCodeUpdate:new s.f("",[s.w.required,s.w.pattern("[a-zA-Z0-9_ ]+")]),defectCodeDesUpdate:new s.f("",[s.w.required,s.w.pattern("[a-zA-Z0-9_ ]+")]),dimensionUpdate:new s.f("",[s.w.required])}),this.defectCodeCSVForm=this.formBuilder.group({dataupload:["",[]],filePath:["",[]]})}return r(n,[{key:"ngOnInit",value:function(){var e;this.domainProjService.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData"),sessionStorage.removeItem("connDet"),this.appId=sessionStorage.getItem("idApp"),sessionStorage.getItem("userDetail")&&(this.userDetails=JSON.parse(sessionStorage.getItem("userDetail"))),this.fromDate=new Date,this.fromDate.setDate((new Date).getDate()-30),this.toDate=new Date,this.toDate.setDate((new Date).getDate()+1),this.maxDate=new Date,this.maxDate.setDate((new Date).getDate()+3),this.projectNames=this.homeServiceService.getProjectList(),this.projectNames.map(function(e){e.domainProject=e.domainName+"-"+e.projectName,e.domainAndProjectId=e.domainId+"_"+e.idProject,e.domainAndProjectName=e.domainName+"-"+e.projectName}),"File_Upload"===this.selectedValue&&(this.showFileUpload=!0),this.getDefectDimensionList(),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(function(e){e.accessControl=e.accessControl.split("-")})))}},{key:"roleOnModule",value:function(e){return this.roleModule.find(function(t){return t.moduleName===e})}},{key:"hideBox",value:function(e){this.displayFiltersFor[e.fieldName]=!1}},{key:"onSubmit",value:function(){var e=this;this.defectCodeService.craeteDefectCode("mainDefectCodeHandler",{context:"saveDefectCodeRecord",rowId:"-1",defectCode:this.defectCodeForm.value.defectCode,defectDescription:this.defectCodeForm.value.defectCodeDes,dimensionId:this.defectCodeForm.value.dimension}).subscribe(function(t){e.first=0,e.display=!1,e.defectCodeForm.controls.defectCode.reset(),e.defectCodeForm.controls.defectCodeDes.reset(),e.defectCodeForm.controls.dimension.reset(),e.getDefectDimensionList()})}},{key:"onUpdate",value:function(){var e=this;this.display=!1,this.defectCodeService.craeteDefectCode("mainDefectCodeHandler",{context:"saveDefectCodeRecord",rowId:this.editedDataList.RowId,defectCode:this.editedDataList.DefectCode,defectDescription:this.defectCodeFormUpdate.value.defectCodeDesUpdate,dimensionId:this.defectCodeFormUpdate.value.dimensionUpdate}).subscribe(function(t){e.display=!1,e.first=0,e.getDefectDimensionList(),e.displayUpdate=!1})}},{key:"getDefectDimensionList",value:function(){return Object(wn.a)(this,void 0,void 0,e().mark(function i(){var n=this;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.spinner.show(),this.defectCodeService.getDefectCodeList("loadDefectCodeViewList",{}).subscribe(function(e){if("success"===e.status){n.spinner.hide(),n.spinner.hide()&&(n.noRecordFound=!0);var i=[];e.result.DefectCodeViewList.map(function(e){e.RowId=parseInt(e.RowId),i.push(e)}),n.mainDefectsCode=[].concat(i),n.defectsCode=t(n.mainDefectsCode),n.pdfData=t(n.mainDefectsCode),n.dimensionList=t(e.result.DimensionList),n.totalRecords=n.defectsCode.length;var o=n.first+n.pageSize;null!=n.filterObj&&n.filterObj.forEach(function(e){n.defectsCode=n.defectsCode.filter(function(t){return n.filterService.filters.contains(t[e],n.columnFilter[e])})});var a=n.defectsCode.filter(function(e,t){return t<=o});n.pageWiseDefectsCode=t(a),n.calculateNumOfPages(),n.checkCount=0,n.customizeCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(e){!0===e.isSelected&&n.checkCount++}),n.checkboxDisabled=n.checkCount>=n.maxCount}else n.mainDefectsCode=[],n.defectsCode=[],n.pageWiseDefectsCode=[]});case 1:case"end":return e.stop()}},i,this)}))}},{key:"editDefectCode",value:function(e){this.editedDataList=e,this.displayUpdate=!0,this.display=!1,!0===this.displayUpdate?(this.defectCodeFormUpdate.patchValue({defectCodeUpdate:e.DefectCode,defectCodeDesUpdate:e.DefectDescription,dimensionUpdate:e.DimensionId.toString()}),this.isDisabled=!0,this.defectCodeFormUpdate.controls.defectCodeUpdate.disable()):(this.defectCodeForm.controls.defectCode.reset(),this.defectCodeForm.controls.defectCodeDes.reset(),this.defectCodeForm.controls.dimension.reset())}},{key:"onSelectDimension",value:function(){this.dropdownFlag=!0}},{key:"createDimension",value:function(){this.display=!0,this.displayUpdate=!1}},{key:"calculateNumOfPages",value:function(){if(this.totalNumOfPages=this.mainDefectsCode.length?this.mainDefectsCode.length<this.pageSize?1:Math.ceil(this.mainDefectsCode.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}},{key:"onFilterClick",value:function(e){var t=this;Object.keys(this.displayFiltersFor).map(function(i){t.displayFiltersFor[i]=i===e})}},{key:"openOtherField",value:function(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"showCustomizeModal",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"isMoreDisplayed",get:function(){var e;return e=this.customizeCols.length?this.customizeCols.filter(function(e){return e.isSelected}):[],this.customizeCols.length!==e.length}},{key:"resetFilter",value:function(e){var i=this;this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.defectsCode=t(this.mainDefectsCode),n.forEach(function(e){i.defectsCode=i.defectsCode.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"getFilterData",value:function(e){var i=this;this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.storeFilterValue=n,this.displayFiltersFor[e[0]]=!1,this.first=0,this.globalFilterValue||(this.defectsCode=t(this.mainDefectsCode)),this.filterObj.forEach(function(e){i.defectsCode=i.defectsCode.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"globalFilterFun",value:function(e){var i=t(this.globalFilterLogic()),n=this.first+this.pageSize,o=i.filter(function(e,t){return t<=n});this.detectChanges.detectChanges(),this.pageWiseDefectsCode=t(o),this.setPageNumber()}},{key:"globalFilterLogic",value:function(){var e=this;if(this.mainDefectsCode.length){var i=Object.keys(this.mainDefectsCode[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainDefectsCode.forEach(function(t){var n=!1;i.forEach(function(i){t[i]&&t[i].toString().toLowerCase().includes(e.globalFilterValue.toLowerCase())&&!n&&(e.filterValue.push(t),n=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.first=0,n.forEach(function(t){e.filterValue=e.filterValue.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})})}return this.defectsCode=t(this.filterValue),this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=t(this.mainDefectsCode),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var o=Object.keys(this.columnFilter);this.first=0,o.forEach(function(t){e.filterValue=e.filterValue.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})})}return this.defectsCode=t(this.filterValue),this.calculateNumOfPages(),this.defectsCode}return[]}},{key:"getFilterState",value:function(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){var t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}},{key:"setPageNumber",value:function(){if(this.totalNumOfPages=this.defectsCode.length?this.defectsCode.length<this.pageSize?1:Math.ceil(this.defectsCode.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}var i=this.first+this.pageSize,n=this.defectsCode.filter(function(e,t){return t<=i});this.pageWiseDefectsCode=t(n)}},{key:"customSort",value:function(e){var i=this;this.sortField=e.field,this.sortOrder=e.order,this.sortMode=e.mode,this.customSortArr.filter(function(t){return t.field=e.field})[0]?this.customSortArr.map(function(t){t.order=e.order}):this.customSortArr.push(e);var n=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=n+1,this.selectedPage.pageIndex=n,this.sortOrderEvent=e;var o=t(this.defectsCode),a=t(this.sortOrderEvent.multiSortMeta);a.length>=3&&(e.multiSortMeta=e.multiSortMeta.splice(3,1)),1===a.length?o.sort(function(e,t){return e[a[0].field]>t[a[0].field]?a[0].order:t[a[0].field]>e[a[0].field]?-a[0].order:0}):2===a.length?o.sort(function(e,t){return e[a[0].field]>t[a[0].field]?a[0].order:t[a[0].field]>e[a[0].field]&&-a[0].order||e[a[1].field]>t[a[1].field]?a[1].order:t[a[1].field]>e[a[1].field]?-a[1].order:0}):3===a.length&&o.sort(function(e,t){return e[a[0].field]>t[a[0].field]?a[0].order:t[a[0].field]>e[a[0].field]&&-a[0].order||e[a[1].field]>t[a[1].field]?a[1].order:t[a[1].field]>e[a[1].field]&&-a[1].order||e[a[2].field]>t[a[2].field]?a[2].order:t[a[2].field]>e[a[2].field]?-a[2].order:0});var r=this.first+this.pageSize,c=o.filter(function(e,t){if(t<=r&&t>=i.first)return e});this.pageWiseDefectsCode=t(c)}},{key:"openExportPdf",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"closeExportPdf",value:function(){var e=this;this.modalRef.hide(),setTimeout(function(){e.pdfCheckCount=0,e.pdfCheckboxDisabled=!1,e.disableDownloadBtn=!0,e.customizeCols.forEach(function(e){return e.pdfCols=!1})},1e3)}},{key:"exportPdf",value:function(){var e=this;this.pdfData.length&&(this.spinner.show(),setTimeout(function(){var t=new M.default("l","pt"),i=e.customizeCols.filter(function(e){return e.pdfCols}),n=[];i.forEach(function(e){return n.push(e.displayValue)});var o,a=[];i.forEach(function(e){return a.push(e.originalValue)}),o=e.pdfData.map(function(e){return Object.assign(a.map(function(t){return e[t]}))});var r=t.internal.pageSize,c=r.height?r.height:r.getHeight();S()(t,{columns:n,body:o,didDrawPage:function(e){1==e.pageNumber&&(t.text("Defect Codes",t.internal.pageSize.width/2,25,null,"center"),t.setFontSize(10)),t.setFontSize(9),t.text("Created by FirstEigen",t.internal.pageSize.width-40,c-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}},columnStyles:{}}),t.save("Defect Codes.pdf"),e.disableDownloadBtn=!0,e.pdfCheckboxDisabled=!1,i.forEach(function(e){return e.pdfCols=!1}),e.spinner.hide()},2e3))}},{key:"pdfColsValue",value:function(){var e=this;this.pdfCheckCount=0,this.customizeCols.filter(function(e){return!0===e.pdfCols}).forEach(function(t){!0===t.pdfCols&&e.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}},{key:"onCancel",value:function(){this.display=!1,this.defectCodeForm.controls.defectCode.reset(),this.defectCodeForm.controls.defectCodeDes.reset(),this.defectCodeForm.controls.dimension.reset()}},{key:"onCancelUpdate",value:function(){this.displayUpdate=!1}},{key:"downloadCSV",value:function(){this.defectCodeService.downloadDefectCodeCSV("defectCodeCSV").subscribe(function(e){return Object(C.saveAs)(e,"Defect_Code.csv")})}},{key:"checkValue",value:function(e,t){var i=this;this.checkCount=0,this.customizeCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(e){!0===e.isSelected&&i.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount,this.colSpanCount=this.customizeCols.filter(function(e){return!0===e.isSelected}).length,null!=this.storeFilterValue&&this.storeFilterValue.map(function(n){n==e&&0==t&&i.resetFilter(e)})}},{key:"deleteDefectCode",value:function(e){this.deleteModal=!0,this.deleteDefectsCode=e}},{key:"deleteConfirm",value:function(){var e=this;this.deleteModal=!1,this.defectCodeService.deleteDefectCode({context:"deleteDefectCodeRecord",rowId:this.deleteDefectsCode.RowId,defectDescription:this.deleteDefectsCode.DefectDescription,dimensionId:this.deleteDefectsCode.DimensionId,defectCode:this.deleteDefectsCode.DefectCode}).subscribe(function(t){e.getDefectDimensionList()})}},{key:"onPageNumChange",value:function(e){var i=this;this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);var n=this.getSortedData(),o=this.first+this.pageSize,a=n.filter(function(e,t){if(t<=o&&t>=i.first)return e});this.pageWiseDefectsCode=t(a)}},{key:"getSortedData",value:function(){var e=this,i=t(this.defectsCode);return this.sortOrderEvent?1===this.sortOrderEvent.order?(i.sort(function(t,i){return t[e.sortOrderEvent.field]>i[e.sortOrderEvent.field]?1:i[e.sortOrderEvent.field]>t[e.sortOrderEvent.field]?-1:0}),i):(i.sort(function(t,i){return t[e.sortOrderEvent.field]>i[e.sortOrderEvent.field]?-1:i[e.sortOrderEvent.field]>t[e.sortOrderEvent.field]?1:0}),i):i}},{key:"onPageChange",value:function(e){var i=this;this.first=e.first;var n=this.getSortedData(),o=this.first+this.pageSize,a=n.filter(function(e,t){if(t<=o&&t>=i.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseDefectsCode=t(a)}},{key:"successToasty",value:function(e){this.messages.displayToaster(e,"success","Success")}},{key:"filterColumnNameWithHighlightName",value:function(e){return!(Object.keys(this.columnFilter).findIndex(function(t){return t===e})<0)}},{key:"createDimensionUsingCSV",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"getRadioVal",value:function(e){"File_Upload"===e?(this.showFilePath=!1,this.showFileUpload=!0,this.errMsgFilePath=!1,this.defectCodeCSVForm.controls.filePath.setValue("")):"File_Path"===e&&(this.showFilePath=!0,this.showFileUpload=!1,this.errMsgFileUpload=!1,this.defectCodeCSVForm.controls.dataupload.setValue(""))}},{key:"changeFile",value:function(e){var t=this;this.statementFile=[],Array.from(e.target.files).forEach(function(e){t.statementFile.push(e)}),null!=e&&(this.defectCodeCSVForm.get("filePath").setValidators([]),this.defectCodeCSVForm.get("dataupload").updateValueAndValidity())}},{key:"addDefectCodeUsingCSV",value:function(){var e=this;if(""===this.defectCodeCSVForm.value.dataupload&&""===this.defectCodeCSVForm.value.filePath||null===this.defectCodeCSVForm.value.dataupload&&null===this.defectCodeCSVForm.value.filePath)!0===this.showFileUpload?(this.errMsgFileUpload=!0,this.errMsgFilePath=!1,this.errorMessageCSV="Please choose the valid File"):!0===this.showFilePath&&(this.errMsgFilePath=!0,this.errMsgFileUpload=!1,this.errorMessageCSV="Please enter the valid Path");else if(this.defectCodeCSVForm.valid)if(""!==this.defectCodeCSVForm.value.dataupload&&null!=this.defectCodeCSVForm.value.dataupload)if("csv"===this.defectCodeCSVForm.value.dataupload.split(".")[1]){var t=new FormData;Array.from(this.statementFile).forEach(function(e){if(e){var i=e.slice(0,e.size,e.type),n=new File([i],e.name,{type:e.type});t.append("dataupload ",n)}}),this.defectCodeService.createDefectCodesByFile(t).subscribe(function(t){e.modalRef.hide(),"success"===t.status?(e.errMsgFileUpload=!1,e.defectCodeCSVForm.reset(),e.getDefectDimensionList(),0==t.result.failedRecordCount&&0==t.result.duplicateRecordCount?e.messages.displayToaster("Successfully inserted data","success","Success"):0==t.result.failedRecordCount&&0==t.result.duplicateRecordCount||(0==t.result.failedRecordCount&&0!=t.result.duplicateRecordCount&&e.messages.displayToaster("There were "+t.result.totalCount+" total records out of which "+t.result.duplicateRecordCount+(1==t.result.duplicateRecordCount?" was":" were")+" duplicate records and no failed records.","warn","Warning"),0!=t.result.failedRecordCount&&0==t.result.duplicateRecordCount&&e.messages.displayToaster("There were "+t.result.totalCount+" total records out of which "+t.result.failedRecordCount+(1==t.result.failedRecordCount?" was":" were")+" failed records and no duplicate records.","warn","Warning"),0!=t.result.failedRecordCount&&0!=t.result.duplicateRecordCount&&e.messages.displayToaster("There were "+t.result.totalCount+" total records out of which "+t.result.failedRecordCount+(1==t.result.failedRecordCount?" was":" were")+" failed records and "+t.result.duplicateRecordCount+(1==t.result.duplicateRecordCount?" was":" were")+" duplicate records.","warn","Warning"))):(e.defectCodeCSVForm.reset(),e.messages.displayToaster(t.message,"error","Failed"))})}else this.errMsgFileUpload=!0,this.errorMessageCSV="Please select csv file";else""!==this.defectCodeCSVForm.value.filePath?this.defectCodeCSVForm.value.filePath.includes(".csv")?this.defectCodeService.createDefectCodesByFileByPath({filePath:this.defectCodeCSVForm.value.filePath}).subscribe(function(t){e.modalRef.hide(),"success"===t.status?(e.errMsgFilePath=!0,e.defectCodeCSVForm.reset(),e.getDefectDimensionList(),0==t.result.failedRecordCount&&0==t.result.duplicateRecordCount?e.messages.displayToaster("Successfully inserted data","success","Success"):0==t.result.failedRecordCount&&0==t.result.duplicateRecordCount||(0==t.result.failedRecordCount&&0!=t.result.duplicateRecordCount&&e.messages.displayToaster("There were "+t.result.totalCount+" total records out of which "+t.result.duplicateRecordCount+(1==t.result.duplicateRecordCount?" was":" were")+" duplicate records and no failed records.","warn","Warning"),0!=t.result.failedRecordCount&&0==t.result.duplicateRecordCount&&e.messages.displayToaster("There were "+t.result.totalCount+" total records out of which "+t.result.failedRecordCount+(1==t.result.failedRecordCount?" was":" were")+" failed records and no duplicate records.","warn","Warning"),0!=t.result.failedRecordCount&&0!=t.result.duplicateRecordCount&&e.messages.displayToaster("There were "+t.result.totalCount+" total records out of which "+t.result.failedRecordCount+(1==t.result.failedRecordCount?" was":" were")+" failed records and "+t.result.duplicateRecordCount+(1==t.result.duplicateRecordCount?" was":" were")+" duplicate records.","warn","Warning"))):(e.defectCodeCSVForm.reset(),e.messages.displayToaster(t.message,"error","Failed"))}):(this.errMsgFilePath=!0,this.errorMessageCSV="Please select csv file"):(this.errMsgFileUpload="File_Upload"==this.selectedValue,this.errMsgFilePath="File_Upload"!=this.selectedValue,this.errorMessageCSV="File_Upload"==this.selectedValue?"Please choose the valid File":"Please enter the valid Path")}},{key:"downloadCSVOnUI",value:function(e,t){var n=[],o=Object.keys(e[0]);n.push(o.join(","));var a,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,r=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw r}}}}(e);try{var c=function(){var e=a.value,t=o.map(function(t){var i=e[t];return'"'.concat(i?i.toString().replace(/"/g,'""'):"",'"')});n.push(t.join(","))};for(r.s();!(a=r.n()).done;)c()}catch(p){r.e(p)}finally{r.f()}var l=n.join("\n"),s=new Blob([l],{type:"text/csv"}),d=URL.createObjectURL(s),u=document.createElement("a");u.setAttribute("href",d),u.setAttribute("download",t),u.click()}},{key:"call",value:function(){this.downloadCSVOnUI([{name:"John",age:30},{name:"Mary",age:25}],"sampleData.csv")}},{key:"cancel",value:function(){this.modalRef.hide(),this.defectCodeCSVForm.reset(),this.selectedValue="File_Upload",this.showFileUpload=!0,this.showFilePath=!1,this.errMsgFilePath=!1,this.errMsgFileUpload=!1}}]),n}()).\u0275fac=function(e){return new(e||No)(N.dc(Sn),N.dc(I.a),N.dc(F.c),N.dc(_.d),N.dc(d.i),N.dc(s.e),N.dc(N.h),N.dc(l.d),N.dc(Ci.a),N.dc(kn.a),N.dc(V.a))},No.\u0275cmp=N.Xb({type:No,selectors:[["app-defect-codes"]],decls:48,vars:53,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","text-right"],["pButton","","type","button","label","Add",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn","or_style",3,"ngClass","click"],["pButton","","type","button","label","Bulk Upload",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn","or_style",3,"ngClass","click"],[1,"d-flex","justify-content-end","p-field","br-top"],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],[1,"row","p-field"],["id","view_data_temp",1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","sortMode","multiple",3,"value","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","multiSortMeta","rows","first","customSort","firstChange","sortFunction"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["contentStyleClass","defect-code-dialog","appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["template",""],["moreDefectDimension",""],["exportPdfTemplate",""],["defectCodeTemplateUsingCSV",""],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"float-right","margin-top-gfilter",3,"click"],["src","assets/images/Vector.png","width","25px"],[1,"header"],[4,"ngFor","ngForOf"],["class","min_width_50",4,"ngIf"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"min_width_50"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil","iconColor"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],["class","more-display min_width_50",3,"click",4,"ngIf"],["class","text-center wordBreakOverFlow",3,"title","ngClass",4,"ngIf"],[1,"text-center","wordBreakOverFlow",3,"title","ngClass"],[1,"more-display","min_width_50",3,"click"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title"],[3,"ngClass"],[3,"formGroup"],[1,"form-row"],[1,"col"],["for","defectCode",1,"form-label","spaces"],[1,"req-field"],["id","defectCode","formControlName","defectCode","maxlength","500","type","text","pInputText","","placeholder","Enter Defect Code",1,"form-field","copy-ip",3,"disabled"],["class","err-msg",4,"ngIf"],["for","defectCodeDes",1,"form-label","spaces"],["id","defectCodeDes","formControlName","defectCodeDes","maxlength","255","type","text","pInputText","","placeholder","Enter Defect Code Description",1,"form-field","copy-ip"],["for","dimension",1,"form-label","spaces"],[1,"col","pad-tp-10"],["formControlName","dimension","placeholder","Select Dimension","optionValue","row_id","optionLabel","element_text",1,"form-field","dimensionDropdownCss",3,"options","virtualScroll","itemSize","change"],[1,"err-msg"],[1,"note","row"],[1,"col-sm-12","col-md-12","padding-top-10","text-left"],[1,"float-right","pb-10"],["pButton","","type","button","label","Create Defect Code",1,"button","w-button","btn-mr-rt","submit-btn","btn-label-submit",3,"disabled","click"],["pButton","","type","button","label","Cancel",1,"cancelButton","w-button","btn-mr-rt","submit-btn","btn-label","btn-cancel",3,"click"],["for","defectCodeUpdate",1,"form-label","spaces"],["id","defectCodeUpdate","formControlName","defectCodeUpdate","maxlength","500","type","text","pInputText","","placeholder","Enter Defect code",1,"form-field","copy-ip"],["for","defectCodeDesUpdate",1,"form-label","spaces"],["id","defectCodeDesUpdate","formControlName","defectCodeDesUpdate","maxlength","500","type","text","pInputText","","placeholder","Enter Defect Code Description",1,"form-field","copy-ip"],["for","dimensionUpdate",1,"form-label","spaces"],["formControlName","dimensionUpdate","optionLabel","element_text","placeholder","Select Dimension","optionValue","row_id",3,"styleClass","options"],[1,"float-right","pad-tp-20"],["pButton","","type","button","label","Update Defect Code",1,"button","w-button","btn-mr-rt","submit-btn","btn-label-submit",3,"disabled","click"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],[1,"modal-body"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-8"],["class","color-code",4,"ngIf"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname","value","customizeCols[col.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"],[1,"modal-header"],[1,"row","padding-btm1"],[3,"click"],[1,"cursor-pointer"],["src","assets/images/close.png",1,"margin-l","cursor-pointer"],["class","col-sm-6 padding-btm3",4,"ngIf"],[1,"col-sm-6","padding-btm3"],[1,"field-dis-val"],[1,"modal-body","pdf-modal"],[1,"col-lg-4"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],["src","assets/images/close.png",1,"margin-l"],[1,"col-md-12","padding-top-10"],["for","File_Upload","label","Upload file from Local","styleClass","radio-style","name","FileUpload","inputId","File_Upload","value","File_Upload","id","getRadioValFU",1,"spaceRadio",3,"ngModelOptions","ngModel","ngModelChange","onClick"],["for","File_Path","label","File path from Server","styleClass","radio-style","name","FilePath","inputId","File_Path","value","File_Path","id","getRadioValFP",1,"spaceRadio",3,"ngModelOptions","ngModel","ngModelChange","onClick"],["id","rule_name","formControlName","dataupload","placeholder","Upload File To be analyzed","type","file","class","form-field","pInputText","",3,"change",4,"ngIf"],["class","err-msg padding-top-2",4,"ngIf"],[1,"col-md-12"],["id","filePath","formControlName","filePath","placeholder","Enter Server File Path","type","text","class","form-field","pInputText","",4,"ngIf"],[1,"row","p-field","padding-top-10"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button","label","Submit",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],["pButton","","type","button","label","Cancel",1,"button","w-button","shadow","btn-cancel",3,"click"],["id","rule_name","formControlName","dataupload","placeholder","Upload File To be analyzed","type","file","pInputText","",1,"form-field",3,"change"],[1,"err-msg","padding-top-2"],["id","filePath","formControlName","filePath","placeholder","Enter Server File Path","type","text","pInputText","",1,"form-field"]],template:function(e,t){if(1&e){var i=N.kc();N.jc(0,"div",0),N.jc(1,"div",1),N.jc(2,"div",2),N.jc(3,"p",3),N.bd(4," Defect Codes "),N.ic(),N.ic(),N.jc(5,"div",4),N.jc(6,"p",3),N.jc(7,"button",5),N.qc("click",function(){return t.createDimension()}),N.ic(),N.jc(8,"button",6),N.qc("click",function(){N.Rc(i);var e=N.Oc(47);return t.createDimensionUsingCSV(e)}),N.ic(),N.ic(),N.ic(),N.ic(),N.jc(9,"div",7),N.jc(10,"a"),N.jc(11,"img",8),N.qc("click",function(){return t.downloadCSV()}),N.ic(),N.ic(),N.jc(12,"a"),N.jc(13,"img",9),N.qc("click",function(){N.Rc(i);var e=N.Oc(45);return t.openExportPdf(e)}),N.ic(),N.ic(),N.ic(),N.jc(14,"div",10),N.jc(15,"div",11),N.jc(16,"p-table",12),N.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),N.Zc(17,Nn,7,6,"ng-template",13),N.Zc(18,In,5,2,"ng-template",14),N.Zc(19,Bn,8,4,"ng-template",15),N.ic(),N.ic(),N.Zc(20,En,2,0,"div",16),N.jc(21,"div",17),N.Zc(22,zn,3,4,"div",18),N.Zc(23,Zn,3,3,"div",19),N.ic(),N.ic(),N.jc(24,"p-dialog",20),N.qc("visibleChange",function(e){return t.display=e}),N.Zc(25,Un,2,0,"ng-template",14),N.Zc(26,Yn,31,10,"ng-template",21),N.Zc(27,Qn,11,1,"ng-template",22),N.ic(),N.jc(28,"p-dialog",20),N.qc("visibleChange",function(e){return t.displayUpdate=e}),N.Zc(29,Kn,2,0,"ng-template",14),N.Zc(30,ao,28,5,"ng-template",21),N.Zc(31,ro,4,1,"ng-template",22),N.ic(),N.jc(32,"p-dialog",23),N.qc("visibleChange",function(e){return t.deleteModal=e}),N.Zc(33,co,3,0,"ng-template",14),N.jc(34,"p"),N.bd(35,"Are you sure you want to delete Defect Code "),N.jc(36,"b"),N.bd(37),N.ic(),N.bd(38,"?"),N.ic(),N.Zc(39,lo,1,0,"ng-template",22),N.ic(),N.Zc(40,fo,12,2,"ng-template",null,24,N.ad),N.Zc(42,mo,11,1,"ng-template",null,25,N.ad),N.ic(),N.Zc(44,Co,17,3,"ng-template",null,26,N.ad),N.Zc(46,Oo,26,12,"ng-template",null,27,N.ad)}if(2&e){var n=null,o=null;N.Nb(7),N.Bc("ngClass",null!=(n=t.roleOnModule("User Settings"))&&null!=n.accessControl&&n.accessControl.includes("C")?" cursor-pointer":"disable"),N.Nb(1),N.Bc("ngClass",null!=(o=t.roleOnModule("User Settings"))&&null!=o.accessControl&&o.accessControl.includes("C")?" cursor-pointer":"disable"),N.Nb(2),N.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseDefectsCode&&t.pageWiseDefectsCode.length?"":"disabled-opa",""),N.Nb(2),N.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseDefectsCode&&t.pageWiseDefectsCode.length?"":"disabled-opa",""),N.Nb(4),N.Vc(N.Ec(49,ko)),N.Bc("value",t.pageWiseDefectsCode)("responsive",!0)("rowHover",!0)("sortField","RowId")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("multiSortMeta",t.multiSortMeta)("multiSortMeta",t.multiSortMeta)("rows",10)("first",t.first)("filterDelay",0)("customSort",!0),N.Nb(4),N.Bc("ngIf",!t.pageWiseDefectsCode.length&&t.noRecordFound),N.Nb(2),N.Bc("ngIf",t.pageWiseDefectsCode.length),N.Nb(1),N.Bc("ngIf",t.pageWiseDefectsCode.length),N.Nb(1),N.Vc(N.Ec(50,So)),N.Bc("visible",t.display)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!0),N.Nb(4),N.Vc(N.Ec(51,So)),N.Bc("visible",t.displayUpdate)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),N.Nb(4),N.Vc(N.Ec(52,So)),N.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),N.Nb(5),N.dd("",t.deleteDefectsCode.DefectCode," ")}},directives:[L.b,l.l,R.f,_.i,l.n,B.a,s.d,E.a,s.o,s.r,l.m,R.d,R.e,z.a,g.a,f.a,s.x,s.p,s.i,s.g,s.k,_.e,T.a,Mn.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.defect-code-dialog[_ngcontent-%COMP%]{overflow-y:visible!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}.pad-tp-20[_ngcontent-%COMP%]{margin-top:20px}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.modalHeight[_ngcontent-%COMP%]{height:300px}.wordBreakOverFlow[_ngcontent-%COMP%]{overflow:hidden}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.note[_ngcontent-%COMP%]{text-align:left;font-size:13px;color:#eb5454;margin-top:15px}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.deltaStatus[_ngcontent-%COMP%]{border-radius:3px;color:#eef1f5;font-size:10px;padding:1.5px}.approved[_ngcontent-%COMP%]{background-color:#56b608}.revire-waiting[_ngcontent-%COMP%]{background-color:red}.rejected[_ngcontent-%COMP%]{background-color:#e72b56;border-radius:3px;color:#eef1f5}.iconColorOnFailed[_ngcontent-%COMP%]{color:#e72b56}.imgOnSuccess[_ngcontent-%COMP%]{color:#56b608}.imgSize[_ngcontent-%COMP%]{width:14px;height:auto}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}.btn-label-submit[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:182px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}.spaces[_ngcontent-%COMP%]{margin-top:20px}.word_break_word_all[_ngcontent-%COMP%]{word-break:break-word!important;overflow-wrap:break-word!important}.or_style[_ngcontent-%COMP%]{font-size:15px;margin-right:10px}"]}),No),Fo=((Mo=function(){function e(t,i){o(this,e),this.http=t,this.messages=i}return r(e,[{key:"getDomainList",value:function(e,t){return this.http.post(e,t)}},{key:"downloadCSVDimension",value:function(e){return this.http.getforCSV(e)}},{key:"createDimensionList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.postWithToasty(e,t)}},{key:"deleteDimension",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.postWithToasty(e,t)}},{key:"deleteDomain",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.post(e,t)}},{key:"createDomainList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.post(e,t)}},{key:"getDimensionList",value:function(e){return this.http.get(e)}},{key:"downloadCSVDomain",value:function(e){return this.http.getforCSV(e)}}]),e}()).\u0275fac=function(e){return new(e||Mo)(N.nc(On.a),N.nc(kn.a))},Mo.\u0275prov=N.Zb({token:Mo,factory:Mo.\u0275fac,providedIn:"root"}),Mo);function _o(e,t){if(1&e){var i=N.kc();N.jc(0,"div",40),N.jc(1,"span",41),N.jc(2,"input",42),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().globalFilterValue=e})("keyup",function(e){return N.Rc(i),N.uc().globalFilterFun(e)}),N.ic(),N.bd(3,"\xa0 "),N.ec(4,"i",43),N.ic(),N.jc(5,"span",44),N.qc("click",function(){N.Rc(i);var e=N.uc(),t=N.Oc(73);return e.showCustomizeModal(t)}),N.ec(6,"img",45),N.bd(7," \xa0Customize "),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(2),N.Bc("ngModel",n.globalFilterValue),N.Nb(3),N.Qb(0==(null==n.dimensionLibrary?null:n.dimensionLibrary.length)?"disable":""),N.Nb(1),N.Rb("cursor-pointer ",n.dimensionLibrary.length?"":"disabled-opa","")}}function Io(e,t){if(1&e){var i=N.kc();N.jc(0,"th"),N.bd(1),N.ec(2,"br"),N.ec(3,"p-sortIcon",50),N.jc(4,"app-column-filter",51),N.qc("hideFilterDataBox",function(e){return N.Rc(i),N.uc(3).hideBox(e)})("filterData",function(e){return N.Rc(i),N.uc(3).getFilterData(e)})("resetFilterValues",function(e){return N.Rc(i),N.uc(3).resetFilter(e)}),N.ic(),N.jc(5,"span",52),N.jc(6,"i",53),N.qc("click",function(){N.Rc(i);var e=N.uc().$implicit;return N.uc(2).onFilterClick(e.originalValue)}),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc().$implicit,o=N.uc(2);N.Nb(1),N.dd(" ",n.displayValue,""),N.Nb(2),N.Cc("field",n.originalValue),N.Cc("pSortableColumn",n.originalValue),N.Nb(1),N.Bc("colFilterData",o.getFilterState(n.originalValue))("display",o.displayFiltersFor[n.originalValue])("fieldName",n.originalValue)("customId",n.originalValue),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"selected-filter-column":""),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function Vo(e,t){if(1&e&&(N.hc(0),N.Zc(1,Io,7,9,"th",49),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",i.isSelected)}}function Lo(e,t){1&e&&(N.jc(0,"th",54),N.bd(1,"More"),N.ic())}function Ro(e,t){if(1&e&&(N.jc(0,"tr",46),N.Zc(1,Vo,2,1,"ng-container",47),N.jc(2,"th"),N.bd(3," Actions"),N.ic(),N.Zc(4,Lo,2,0,"th",48),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngForOf",i.customizeCols),N.Nb(3),N.Bc("ngIf",i.isMoreDisplayed)}}function Bo(e,t){if(1&e&&(N.jc(0,"td",61),N.jc(1,"span"),N.bd(2),N.ic(),N.ec(3,"br"),N.ic()),2&e){var i=N.uc().$implicit,n=N.uc().$implicit;N.Bc("title",n[i.originalValue]),N.Nb(2),N.cd(n[i.originalValue])}}function Eo(e,t){if(1&e&&(N.hc(0),N.Zc(1,Bo,4,2,"td",60),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",i.isSelected)}}function zo(e,t){if(1&e){var i=N.kc();N.jc(0,"td",62),N.qc("click",function(){N.Rc(i);var e=N.uc().$implicit,t=N.uc(),n=N.Oc(75);return t.openOtherField(n,e)}),N.bd(1," ... "),N.ic()}}function To(e,t){if(1&e){var i=N.kc();N.jc(0,"tr",55),N.Zc(1,Eo,2,1,"ng-container",47),N.jc(2,"td"),N.jc(3,"span",56),N.qc("click",function(){N.Rc(i);var e=t.$implicit;return N.uc().editDimensionLibrary(e)}),N.ec(4,"i",57),N.ic(),N.jc(5,"span",56),N.qc("click",function(){N.Rc(i);var e=t.$implicit;return N.uc().deleteDimensionLibrary(e)}),N.ec(6,"i",58),N.ic(),N.ic(),N.Zc(7,zo,2,0,"td",59),N.ic()}if(2&e){var n=N.uc(),o=null,a=null;N.Nb(1),N.Bc("ngForOf",n.customizeCols),N.Nb(2),N.Bc("ngClass",null!=(o=n.roleOnModule("User Settings"))&&null!=o.accessControl&&o.accessControl.includes("U")?" cursor-pointer":"disable"),N.Nb(2),N.Bc("ngClass",null!=(a=n.roleOnModule("User Settings"))&&null!=a.accessControl&&a.accessControl.includes("D")?" cursor-pointer":"disable"),N.Nb(2),N.Bc("ngIf",n.isMoreDisplayed)}}function qo(e,t){1&e&&(N.jc(0,"div",63),N.bd(1," No records found "),N.ic())}function Zo(e,t){if(1&e){var i=N.kc();N.jc(0,"div",64),N.jc(1,"p-paginator",65,66),N.qc("onPageChange",function(e){return N.Rc(i),N.uc().onPageChange(e)})("firstChange",function(e){return N.Rc(i),N.uc().first=e}),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("rows",10)("totalRecords",n.dimensionLibrary.length)("showCurrentPageReport",!0)("first",n.first)}}function Uo(e,t){if(1&e&&(N.jc(0,"div",71),N.jc(1,"div"),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc(3);N.Nb(2),N.ed("Page ",i.selectedPage.page," of ",i.totalNumOfPages,"")}}function Ao(e,t){if(1&e&&N.Zc(0,Uo,3,2,"div",70),2&e){var i=N.uc(2);N.Bc("ngIf",i.selectedPage)}}function Wo(e,t){if(1&e){var i=N.kc();N.jc(0,"div",67),N.jc(1,"p-dropdown",68),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().selectedPage=e})("onChange",function(e){return N.Rc(i),N.uc().onPageNumChange(e)}),N.Zc(2,Ao,1,1,"ng-template",69),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("options",n.numOfPages)("filter",!0)("ngModel",n.selectedPage)}}function Go(e,t){1&e&&(N.jc(0,"span",72),N.bd(1," Add Dimension "),N.ic())}function $o(e,t){1&e&&(N.jc(0,"span",73),N.bd(1," Please enter "),N.jc(2,"b"),N.bd(3,"Dimension Name"),N.ic(),N.ic())}function Jo(e,t){if(1&e&&(N.jc(0,"p",73),N.Zc(1,$o,4,0,"span",27),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngIf",i.addDimensionForm.controls.DimensionName.errors.required)}}function Ho(e,t){1&e&&(N.jc(0,"span",72),N.bd(1," Update Dimension "),N.ic())}function Yo(e,t){1&e&&(N.jc(0,"span",73),N.bd(1," Please enter "),N.jc(2,"b"),N.bd(3,"Dimension Name"),N.ic(),N.ic())}function Qo(e,t){if(1&e&&(N.jc(0,"p",73),N.Zc(1,Yo,4,0,"span",27),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngIf",i.addDimensionFormUpdate.controls.DimensionNameUpdate.errors.required)}}function Ko(e,t){1&e&&(N.jc(0,"span",74),N.ec(1,"i",75),N.bd(2," Confirmation "),N.ic())}function Xo(e,t){if(1&e){var i=N.kc();N.jc(0,"div",86),N.jc(1,"table"),N.jc(2,"tr",87),N.jc(3,"td"),N.jc(4,"p-checkbox",88),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().$implicit.isSelected=e})("onChange",function(){N.Rc(i);var e=N.uc().$implicit;return N.uc(2).checkValue(e.originalValue,e.isSelected)}),N.ic(),N.ic(),N.jc(5,"td"),N.jc(6,"label"),N.bd(7),N.ic(),N.ic(),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc().$implicit,o=N.uc(2);N.Nb(4),N.Bc("ngModel",n.isSelected)("disabled",o.checkboxDisabled&&!n.isSelected),N.Nb(3),N.cd(n.displayValue)}}function ea(e,t){if(1&e&&(N.hc(0),N.Zc(1,Xo,8,3,"div",85),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",!i.necessaryCol&&!i.alwaysSelected)}}function ta(e,t){if(1&e&&(N.jc(0,"div",89),N.bd(1),N.ic()),2&e){var i=N.uc(2);N.Nb(1),N.dd("You can select up to ",i.maxCount," columns.")}}function ia(e,t){if(1&e){var i=N.kc();N.jc(0,"div",76),N.jc(1,"div",77),N.Zc(2,ea,2,1,"ng-container",47),N.ic(),N.ic(),N.jc(3,"div",78),N.jc(4,"div",79),N.jc(5,"div",80),N.Zc(6,ta,2,1,"div",81),N.ic(),N.jc(7,"div",82),N.jc(8,"div"),N.jc(9,"label",83),N.qc("click",function(){return N.Rc(i),N.uc().modalRef.hide()}),N.bd(10,"Close Customize"),N.ic(),N.jc(11,"img",84),N.qc("click",function(){return N.Rc(i),N.uc().modalRef.hide()}),N.ic(),N.ic(),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(2),N.Bc("ngForOf",n.customizeCols),N.Nb(4),N.Bc("ngIf",n.checkboxDisabled)}}function na(e,t){if(1&e&&(N.jc(0,"div",96),N.jc(1,"table"),N.jc(2,"tr"),N.jc(3,"td",97),N.bd(4),N.ic(),N.jc(5,"td",97),N.bd(6),N.ic(),N.ic(),N.ic(),N.ic()),2&e){var i=N.uc().$implicit,n=N.uc(2);N.Nb(4),N.cd(i.displayValue),N.Nb(2),N.dd(": ",n.selectedRowData[i.originalValue],"")}}function oa(e,t){if(1&e&&(N.hc(0),N.Zc(1,na,7,2,"div",95),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",!i.necessaryCol&&!i.isSelected)}}function aa(e,t){if(1&e){var i=N.kc();N.jc(0,"div",90),N.jc(1,"b"),N.bd(2,"More Columns:"),N.ic(),N.ic(),N.jc(3,"div",76),N.jc(4,"div",91),N.Zc(5,oa,2,1,"ng-container",47),N.ic(),N.ic(),N.jc(6,"div",78),N.jc(7,"div",92),N.qc("click",function(){return N.Rc(i),N.uc().modalRef.hide()}),N.jc(8,"label",93),N.bd(9,"Close"),N.ic(),N.ec(10,"img",94),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(5),N.Bc("ngForOf",n.customizeCols)}}function ra(e,t){if(1&e){var i=N.kc();N.hc(0),N.jc(1,"div",86),N.jc(2,"table"),N.jc(3,"tr",87),N.jc(4,"td"),N.jc(5,"p-checkbox",102),N.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return N.Rc(i),N.uc(2).pdfColsValue()}),N.ic(),N.ic(),N.jc(6,"td"),N.jc(7,"label"),N.bd(8),N.ic(),N.ic(),N.ic(),N.ic(),N.ic(),N.gc()}if(2&e){var n=t.$implicit,o=N.uc(2);N.Nb(5),N.Bc("ngModel",n.pdfCols)("disabled",o.pdfCheckboxDisabled&&!n.pdfCols),N.Nb(3),N.cd(n.displayValue)}}function ca(e,t){1&e&&(N.jc(0,"div",89),N.bd(1,"You can select up to 9 columns."),N.ic())}function la(e,t){if(1&e){var i=N.kc();N.jc(0,"div",90),N.jc(1,"span",72),N.bd(2,"Please select columns that need to be downloaded in PDF"),N.ic(),N.ic(),N.jc(3,"div",98),N.jc(4,"div",77),N.Zc(5,ra,9,3,"ng-container",47),N.ic(),N.ic(),N.jc(6,"div",78),N.jc(7,"div",79),N.jc(8,"div",99),N.Zc(9,ca,2,0,"div",81),N.ic(),N.jc(10,"div",100),N.jc(11,"button",101),N.qc("click",function(){N.Rc(i);var e=N.uc();return e.exportPdf(),e.modalRef.hide()}),N.ic(),N.ic(),N.jc(12,"div",82),N.jc(13,"div"),N.jc(14,"label",83),N.qc("click",function(){return N.Rc(i),N.uc().closeExportPdf()}),N.bd(15,"Close"),N.ic(),N.jc(16,"img",84),N.qc("click",function(){return N.Rc(i),N.uc().closeExportPdf()}),N.ic(),N.ic(),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(5),N.Bc("ngForOf",n.customizeCols),N.Nb(4),N.Bc("ngIf",n.pdfCheckboxDisabled),N.Nb(2),N.Bc("disabled",n.disableDownloadBtn)}}var sa=function(){return{width:"100%"}},da=function(){return{width:"50vw"}};x.a.vfs=j.a.pdfMake.vfs;var ua,pa=((ua=function(){function i(e,t,n,a,r,c,l,d,u,p,f){o(this,i),this.domainService=e,this.modalService=t,this.spinner=n,this.detectChanges=a,this.router=r,this.filterService=c,this.formBuilder=l,this.domainProj=d,this.datePipe=u,this.homeServiceService=p,this.messages=f,this.selectedProjId=JSON.parse(sessionStorage.getItem("activeProjectId")),this.totalNumOfPages=0,this.dimensionLibrary=[],this.mainDimensionLibrary=[],this.pageWiseDimensionLibrary=[],this.first=0,this.pageSize=9,this.maxCount=4,this.checkboxDisabled=!1,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.deleteModal=!1,this.filterData={},this.deleteDimensionLib=[],this.columnFilter={},this.scrollHt="300px",this.displayFiltersFor={idDimension:!1,dimensionName:!1},this.projectNames=[],this.pdfData=[],this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols=[{displayValue:"Dimension Id",originalValue:"idDimension",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Dimension Name ",originalValue:"dimensionName",isSelected:!0,necessaryCol:!1,alwaysSelected:!1}],this.display=!1,this.customSortArr=[],this.noRecordFound=!1,this.addDimensionForm=this.formBuilder.group({DimensionName:new s.f("",[s.w.required])}),this.addDimensionFormUpdate=this.formBuilder.group({DimensionNameUpdate:new s.f("",[s.w.required])})}return r(i,[{key:"ngOnInit",value:function(){var e;this.domainProj.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData"),sessionStorage.removeItem("connDet"),this.appId=sessionStorage.getItem("idApp"),sessionStorage.getItem("userDetail")&&(this.userDetails=JSON.parse(sessionStorage.getItem("userDetail"))),this.fromDate=new Date,this.fromDate.setDate((new Date).getDate()-30),this.toDate=new Date,this.toDate.setDate((new Date).getDate()+1),this.maxDate=new Date,this.maxDate.setDate((new Date).getDate()+3),this.projectNames=this.homeServiceService.getProjectList(),this.projectNames.map(function(e){e.domainProject=e.domainName+"-"+e.projectName,e.domainAndProjectId=e.domainId+"_"+e.idProject,e.domainAndProjectName=e.domainName+"-"+e.projectName}),this.getDimensionList(),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(function(e){e.accessControl=e.accessControl.split("-")})))}},{key:"roleOnModule",value:function(e){return this.roleModule.find(function(t){return t.moduleName===e})}},{key:"hideBox",value:function(e){this.displayFiltersFor[e.fieldName]=!1}},{key:"onSubmit",value:function(){var e=this;this.domainService.createDimensionList("saveDimensionRecord",{DimensionId:"-1",DimensionName:this.addDimensionForm.value.DimensionName}).subscribe(function(t){e.first=0,e.display=!1,e.addDimensionForm.controls.DimensionName.reset(),e.getDimensionList()})}},{key:"onUpdate",value:function(){var e=this;this.display=!1,this.domainService.createDimensionList("saveDimensionRecord",{DimensionId:this.getDimensionId,DimensionName:this.addDimensionFormUpdate.value.DimensionNameUpdate}).subscribe(function(t){e.display=!1,e.first=0,e.getDimensionList(),e.displayUpdate=!1})}},{key:"getDimensionList",value:function(){return Object(wn.a)(this,void 0,void 0,e().mark(function i(){var n=this;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.spinner.show(),this.domainService.getDimensionList("loadDimensionRecordList").subscribe(function(e){if("success"===e.status){n.spinner.hide(),n.spinner.hide()&&(n.noRecordFound=!0),n.mainDimensionLibrary=t(e.result),n.dimensionLibrary=t(n.mainDimensionLibrary),n.pdfData=t(n.mainDimensionLibrary),n.totalRecords=n.dimensionLibrary.length;var i=n.first+n.pageSize;null!=n.filterObj&&n.filterObj.forEach(function(e){n.dimensionLibrary=n.dimensionLibrary.filter(function(t){return n.filterService.filters.contains(t[e],n.columnFilter[e])})});var o=n.dimensionLibrary.filter(function(e,t){return t<=i});n.pageWiseDimensionLibrary=t(o),n.calculateNumOfPages(),n.checkCount=0,n.customizeCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(e){!0===e.isSelected&&n.checkCount++}),n.checkboxDisabled=n.checkCount>=n.maxCount}else n.mainDimensionLibrary=[],n.dimensionLibrary=[],n.pageWiseDimensionLibrary=[]});case 1:case"end":return e.stop()}},i,this)}))}},{key:"editDimensionLibrary",value:function(e){this.getDimensionId=e.idDimension,this.displayUpdate=!0,this.display=!1,!0===this.displayUpdate?this.addDimensionFormUpdate.patchValue({DimensionNameUpdate:e.dimensionName}):this.addDimensionForm.controls.dimensionName.reset()}},{key:"createDimension",value:function(){this.display=!0,this.displayUpdate=!1}},{key:"calculateNumOfPages",value:function(){if(this.totalNumOfPages=this.mainDimensionLibrary.length?this.mainDimensionLibrary.length<this.pageSize?1:Math.ceil(this.mainDimensionLibrary.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}},{key:"onFilterClick",value:function(e){var t=this;Object.keys(this.displayFiltersFor).map(function(i){t.displayFiltersFor[i]=i===e})}},{key:"openOtherField",value:function(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"showCustomizeModal",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"isMoreDisplayed",get:function(){var e;return e=this.customizeCols.length?this.customizeCols.filter(function(e){return e.isSelected}):[],this.customizeCols.length!==e.length}},{key:"resetFilter",value:function(e){var i=this;this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.dimensionLibrary=t(this.mainDimensionLibrary),n.forEach(function(e){i.dimensionLibrary=i.dimensionLibrary.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"getFilterState",value:function(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){var t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}},{key:"setPageNumber",value:function(){if(this.totalNumOfPages=this.dimensionLibrary.length?this.dimensionLibrary.length<this.pageSize?1:Math.ceil(this.dimensionLibrary.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}var i=this.first+this.pageSize,n=this.dimensionLibrary.filter(function(e,t){return t<=i});this.pageWiseDimensionLibrary=t(n)}},{key:"customSort",value:function(e){var i=this,n=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=n+1,this.selectedPage.pageIndex=n,this.sortOrderEvent=e;var o=t(this.dimensionLibrary);o.sort(1===this.sortOrderEvent.order?function(t,i){return t[e.field]>i[e.field]?1:i[e.field]>t[e.field]?-1:0}:function(t,i){return t[e.field]>i[e.field]?-1:i[e.field]>t[e.field]?1:0});var a=this.first+this.pageSize,r=o.filter(function(e,t){if(t<=a&&t>=i.first)return e});this.pageWiseDimensionLibrary=t(r)}},{key:"openExportPdf",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"closeExportPdf",value:function(){var e=this;this.modalRef.hide(),setTimeout(function(){e.pdfCheckCount=0,e.pdfCheckboxDisabled=!1,e.disableDownloadBtn=!0,e.customizeCols.forEach(function(e){return e.pdfCols=!1})},1e3)}},{key:"exportPdf",value:function(){var e=this;this.pdfData.length&&(this.spinner.show(),setTimeout(function(){var t=new M.default("l","pt"),i=e.customizeCols.filter(function(e){return e.pdfCols}),n=[];i.forEach(function(e){return n.push(e.displayValue)});var o,a=[];i.forEach(function(e){return a.push(e.originalValue)}),o=e.pdfData.map(function(e){return Object.assign(a.map(function(t){return e[t]}))});var r=t.internal.pageSize,c=r.height?r.height:r.getHeight();S()(t,{columns:n,body:o,didDrawPage:function(e){1==e.pageNumber&&(t.text("Dimension Library",t.internal.pageSize.width/2,25,null,"center"),t.setFontSize(10)),t.setFontSize(9),t.text("Created by FirstEigen",t.internal.pageSize.width-40,c-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}},columnStyles:{}}),t.save("Dimension Library.pdf"),e.disableDownloadBtn=!0,e.pdfCheckboxDisabled=!1,i.forEach(function(e){return e.pdfCols=!1}),e.spinner.hide()},2e3))}},{key:"pdfColsValue",value:function(){var e=this;this.pdfCheckCount=0,this.customizeCols.filter(function(e){return!0===e.pdfCols}).forEach(function(t){!0===t.pdfCols&&e.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}},{key:"onCancel",value:function(){this.display=!1,this.addDimensionForm.controls.DimensionName.reset()}},{key:"onCancelUpdate",value:function(){this.displayUpdate=!1}},{key:"downloadCSV",value:function(){this.domainService.downloadCSVDimension("dimensionCSV").subscribe(function(e){return Object(C.saveAs)(e,"Data_Dimension.csv")})}},{key:"checkValue",value:function(e,t){var i=this;this.checkCount=0,this.customizeCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(e){!0===e.isSelected&&i.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount,this.colSpanCount=this.customizeCols.filter(function(e){return!0===e.isSelected}).length,null!=this.storeFilterValue&&this.storeFilterValue.map(function(n){n==e&&0==t&&i.resetFilter(e)})}},{key:"deleteDimensionLibrary",value:function(e){this.deleteModal=!0,this.deleteDimensionLib=e}},{key:"deleteConfirm",value:function(){var e=this;this.deleteModal=!1,this.domainService.deleteDimension("deleteDimensionRecord",{DimensionIdToDelete:this.deleteDimensionLib.idDimension}).subscribe(function(t){e.getDimensionList()})}},{key:"onPageNumChange",value:function(e){var i=this;this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);var n=this.getSortedData(),o=this.first+this.pageSize,a=n.filter(function(e,t){if(t<=o&&t>=i.first)return e});this.pageWiseDimensionLibrary=t(a)}},{key:"getSortedData",value:function(){var e=this,i=t(this.dimensionLibrary);return this.sortOrderEvent?1===this.sortOrderEvent.order?(i.sort(function(t,i){return t[e.sortOrderEvent.field]>i[e.sortOrderEvent.field]?1:i[e.sortOrderEvent.field]>t[e.sortOrderEvent.field]?-1:0}),i):(i.sort(function(t,i){return t[e.sortOrderEvent.field]>i[e.sortOrderEvent.field]?-1:i[e.sortOrderEvent.field]>t[e.sortOrderEvent.field]?1:0}),i):i}},{key:"onPageChange",value:function(e){var i=this;this.first=e.first;var n=this.getSortedData(),o=this.first+this.pageSize,a=n.filter(function(e,t){if(t<=o&&t>=i.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseDimensionLibrary=t(a)}},{key:"successToasty",value:function(e){this.messages.displayToaster(e,"success","Success")}},{key:"globalFilterFun",value:function(e){var i=t(this.globalFilterLogic()),n=this.first+this.pageSize,o=i.filter(function(e,t){return t<=n});this.detectChanges.detectChanges(),this.pageWiseDimensionLibrary=t(o),this.setPageNumber()}},{key:"globalFilterLogic",value:function(){var e=this;if(this.mainDimensionLibrary.length){var i=Object.keys(this.mainDimensionLibrary[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainDimensionLibrary.forEach(function(t){var n=!1;i.forEach(function(i){t[i]&&t[i].toString().toLowerCase().includes(e.globalFilterValue.toLowerCase())&&!n&&(e.filterValue.push(t),n=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.first=0,n.forEach(function(t){e.filterValue=e.filterValue.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})})}return this.dimensionLibrary=t(this.filterValue),this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=t(this.mainDimensionLibrary),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var o=Object.keys(this.columnFilter);this.first=0,o.forEach(function(t){e.filterValue=e.filterValue.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})})}return this.dimensionLibrary=t(this.filterValue),this.calculateNumOfPages(),this.dimensionLibrary}return[]}},{key:"getFilterData",value:function(e){var i=this;this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.storeFilterValue=n,this.displayFiltersFor[e[0]]=!1,this.first=0,this.globalFilterValue||(this.dimensionLibrary=t(this.mainDimensionLibrary)),n.forEach(function(e){i.dimensionLibrary=i.dimensionLibrary.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"filterColumnNameWithHighlightName",value:function(e){return!(Object.keys(this.columnFilter).findIndex(function(t){return t===e})<0)}}]),i}()).\u0275fac=function(e){return new(e||ua)(N.dc(Fo),N.dc(I.a),N.dc(F.c),N.dc(N.h),N.dc(d.i),N.dc(_.d),N.dc(s.e),N.dc(V.a),N.dc(l.d),N.dc(Ci.a),N.dc(kn.a))},ua.\u0275cmp=N.Xb({type:ua,selectors:[["app-dimension-library"]],decls:78,vars:56,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","text-right"],["pButton","","type","button","label","Add",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn",3,"ngClass","click"],[1,"d-flex","justify-content-end","p-field","br-top"],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],[1,"row","p-field"],["id","view_data_temp",1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","sortMode","single",3,"value","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","rows","first","customSort","firstChange","sortFunction"],["myTab",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],[3,"formGroup"],[1,"form-row"],[1,"col"],["for","dimensionName",1,"form-label","spaces"],[1,"req-field"],["id","dimensionName","formControlName","DimensionName","maxlength","500","type","text","pInputText","","placeholder","Enter Dimension Name",1,"form-field","copy-ip"],["class","err-msg",4,"ngIf"],[1,"note","row","p-field"],[1,"col-sm-12","col-md-12","mr-top","text-left"],[1,"float-right","pad-tp-10"],["pButton","","type","button","label","Create Dimension",1,"button","w-button","btn-mr-rt","submit-btn","btn-label-submit","moz",3,"disabled","click"],["pButton","","type","button","label","Cancel",1,"cancelButton","w-button","btn-mr-rt","submit-btn","btn-label","btn-cancel",3,"click"],["for","DimensionNameUpdate",1,"form-label","spaces"],["id","DimensionNameUpdate","formControlName","DimensionNameUpdate","maxlength","500","type","text","pInputText","",1,"form-field","copy-ip"],["pButton","","type","button","label","Update Dimension",1,"button","w-button","btn-mr-rt","submit-btn","btn-label-submit",3,"disabled","click"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],["template",""],["moreTrigger",""],["exportPdfTemplate",""],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"float-right","margin-top-gfilter",3,"click"],["src","assets/images/Vector.png","width","25px"],[1,"header"],[4,"ngFor","ngForOf"],["class","min_width_50",4,"ngIf"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"min_width_50"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil","iconColor"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],["class","more-display min_width_50",3,"click",4,"ngIf"],["class","text-center word_break_word_all",3,"title",4,"ngIf"],[1,"text-center","word_break_word_all",3,"title"],[1,"more-display","min_width_50",3,"click"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title"],[1,"err-msg"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],[1,"modal-body"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-8"],["class","color-code",4,"ngIf"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname","value","customizeCols[col.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"],[1,"modal-header"],[1,"row","padding-btm1"],[3,"click"],[1,"cursor-pointer"],["src","assets/images/close.png",1,"margin-l","cursor-pointer"],["class","col-sm-6 padding-btm3",4,"ngIf"],[1,"col-sm-6","padding-btm3"],[1,"field-dis-val"],[1,"modal-body","pdf-modal"],[1,"col-lg-4"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"]],template:function(e,t){if(1&e){var i=N.kc();N.jc(0,"div",0),N.jc(1,"div",1),N.jc(2,"div",2),N.jc(3,"p",3),N.bd(4," Dimensions "),N.ic(),N.ic(),N.jc(5,"div",4),N.jc(6,"p",3),N.jc(7,"button",5),N.qc("click",function(){return t.createDimension()}),N.ic(),N.ic(),N.ic(),N.ic(),N.jc(8,"div",6),N.jc(9,"a"),N.jc(10,"img",7),N.qc("click",function(){return t.downloadCSV()}),N.ic(),N.ic(),N.jc(11,"a"),N.jc(12,"img",8),N.qc("click",function(){N.Rc(i);var e=N.Oc(77);return t.openExportPdf(e)}),N.ic(),N.ic(),N.ic(),N.jc(13,"div",9),N.jc(14,"div",10),N.jc(15,"p-table",11,12),N.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),N.Zc(17,_o,8,6,"ng-template",13),N.Zc(18,Ro,5,2,"ng-template",14),N.Zc(19,To,8,4,"ng-template",15),N.ic(),N.ic(),N.Zc(20,qo,2,0,"div",16),N.jc(21,"div",17),N.Zc(22,Zo,3,4,"div",18),N.Zc(23,Wo,3,3,"div",19),N.ic(),N.ic(),N.jc(24,"p-dialog",20),N.qc("visibleChange",function(e){return t.display=e}),N.Zc(25,Go,2,0,"ng-template",14),N.jc(26,"form",21),N.jc(27,"div",22),N.jc(28,"div",23),N.jc(29,"label",24),N.bd(30,"Dimension Name"),N.jc(31,"sup",25),N.bd(32,"*"),N.ic(),N.ic(),N.ic(),N.jc(33,"div",23),N.ec(34,"input",26),N.Zc(35,Jo,2,1,"p",27),N.ic(),N.ic(),N.jc(36,"div",28),N.jc(37,"div",29),N.jc(38,"p"),N.bd(39,"Note: Fields marked with "),N.jc(40,"b"),N.bd(41,'"*"'),N.ic(),N.bd(42," are required. "),N.ic(),N.ic(),N.ic(),N.jc(43,"p-footer",30),N.jc(44,"button",31),N.qc("click",function(){return t.onSubmit()}),N.ic(),N.bd(45,"\xa0 "),N.jc(46,"button",32),N.qc("click",function(){return t.onCancel()}),N.ic(),N.ic(),N.ic(),N.ic(),N.jc(47,"p-dialog",20),N.qc("visibleChange",function(e){return t.displayUpdate=e}),N.Zc(48,Ho,2,0,"ng-template",14),N.jc(49,"form",21),N.jc(50,"div",22),N.jc(51,"div",23),N.jc(52,"label",33),N.bd(53," Dimension Name"),N.jc(54,"sup",25),N.bd(55,"*"),N.ic(),N.ic(),N.ic(),N.jc(56,"div",23),N.ec(57,"input",34),N.Zc(58,Qo,2,1,"p",27),N.ic(),N.ic(),N.jc(59,"p-footer",30),N.jc(60,"button",35),N.qc("click",function(){return t.onUpdate()}),N.ic(),N.bd(61,"\xa0 "),N.jc(62,"button",32),N.qc("click",function(){return t.onCancelUpdate()}),N.ic(),N.ic(),N.ic(),N.ic(),N.jc(63,"p-dialog",20),N.qc("visibleChange",function(e){return t.deleteModal=e}),N.Zc(64,Ko,3,0,"ng-template",14),N.jc(65,"p"),N.bd(66,"Are you sure you want to delete Dimension Library "),N.jc(67,"b"),N.bd(68),N.ic(),N.bd(69,"?"),N.ic(),N.jc(70,"p-footer"),N.jc(71,"button",36),N.qc("click",function(){return t.deleteConfirm()}),N.ic(),N.ic(),N.ic(),N.Zc(72,ia,12,2,"ng-template",null,37,N.ad),N.Zc(74,aa,11,1,"ng-template",null,38,N.ad),N.ic(),N.Zc(76,la,17,3,"ng-template",null,39,N.ad)}if(2&e){var n=null;N.Nb(7),N.Bc("ngClass",null!=(n=t.roleOnModule("User Settings"))&&null!=n.accessControl&&n.accessControl.includes("C")?" cursor-pointer":"disable"),N.Nb(2),N.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseDimensionLibrary&&t.pageWiseDimensionLibrary.length?"":"disabled-opa",""),N.Nb(2),N.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseDimensionLibrary&&t.pageWiseDimensionLibrary.length?"":"disabled-opa",""),N.Nb(4),N.Vc(N.Ec(52,sa)),N.Bc("value",t.pageWiseDimensionLibrary)("responsive",!0)("rowHover",!0)("sortField","idDimension")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("rows",10)("first",t.first)("filterDelay",0)("customSort",!0),N.Nb(5),N.Bc("ngIf",!t.pageWiseDimensionLibrary.length&&t.noRecordFound),N.Nb(2),N.Bc("ngIf",t.pageWiseDimensionLibrary.length),N.Nb(1),N.Bc("ngIf",t.pageWiseDimensionLibrary.length),N.Nb(1),N.Vc(N.Ec(53,da)),N.Bc("visible",t.display)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),N.Nb(2),N.Bc("formGroup",t.addDimensionForm),N.Nb(9),N.Bc("ngIf",t.addDimensionForm.controls.DimensionName.invalid&&!t.addDimensionForm.controls.DimensionName.pristine),N.Nb(9),N.Bc("disabled",!t.addDimensionForm.valid),N.Nb(3),N.Vc(N.Ec(54,da)),N.Bc("visible",t.displayUpdate)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),N.Nb(2),N.Bc("formGroup",t.addDimensionFormUpdate),N.Nb(9),N.Bc("ngIf",t.addDimensionFormUpdate.controls.DimensionNameUpdate.invalid&&!t.addDimensionFormUpdate.controls.DimensionNameUpdate.pristine),N.Nb(2),N.Bc("disabled",!t.addDimensionFormUpdate.valid||!t.addDimensionFormUpdate.dirty),N.Nb(3),N.Vc(N.Ec(55,da)),N.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),N.Nb(5),N.dd("",t.deleteDimensionLib.dimensionName," ")}},directives:[L.b,l.l,R.f,_.i,l.n,B.a,s.x,s.p,s.i,s.d,s.o,s.g,s.k,E.a,_.e,s.r,l.m,R.d,R.e,z.a,g.a,f.a,T.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.note[_ngcontent-%COMP%]{text-align:left!important;font-size:13px;color:#eb5454;margin-left:-28px!important;margin-top:30px!important}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.deltaStatus[_ngcontent-%COMP%]{border-radius:3px;color:#eef1f5;font-size:10px;padding:1.5px}.approved[_ngcontent-%COMP%]{background-color:#56b608}.revire-waiting[_ngcontent-%COMP%]{background-color:red}.rejected[_ngcontent-%COMP%]{background-color:#e72b56;border-radius:3px;color:#eef1f5}.iconColorOnFailed[_ngcontent-%COMP%]{color:#e72b56}.imgOnSuccess[_ngcontent-%COMP%]{color:#56b608}.imgSize[_ngcontent-%COMP%]{width:14px;height:auto}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}.btn-label-submit[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:172px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}.spaces[_ngcontent-%COMP%]{margin-top:20px}.moz[_ngcontent-%COMP%]{white-space:-moz-pre-space!important}"]}),ua);function fa(e,t){if(1&e){var i=N.kc();N.jc(0,"div",50),N.jc(1,"span",51),N.jc(2,"input",52),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().globalFilterValue=e})("keyup",function(e){return N.Rc(i),N.uc().globalFilterFun(e)}),N.ic(),N.bd(3,"\xa0 "),N.ec(4,"i",53),N.ic(),N.jc(5,"span",54),N.qc("click",function(){N.Rc(i);var e=N.uc(),t=N.Oc(105);return e.showCustomizeModal(t)}),N.ec(6,"img",55),N.bd(7," \xa0Customize "),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(2),N.Bc("ngModel",n.globalFilterValue),N.Nb(4),N.Rb("cursor-pointer ",n.domainLibrary.length?"":"disabled-opa","")}}function ga(e,t){if(1&e){var i=N.kc();N.jc(0,"th"),N.bd(1),N.ec(2,"br"),N.ec(3,"p-sortIcon",60),N.jc(4,"app-column-filter",61),N.qc("hideFilterDataBox",function(e){return N.Rc(i),N.uc(3).hideBox(e)})("filterData",function(e){return N.Rc(i),N.uc(3).getFilterData(e)})("resetFilterValues",function(e){return N.Rc(i),N.uc(3).resetFilter(e)}),N.ic(),N.jc(5,"span",62),N.jc(6,"i",63),N.qc("click",function(){N.Rc(i);var e=N.uc().$implicit;return N.uc(2).onFilterClick(e.originalValue)}),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc().$implicit,o=N.uc(2);N.Nb(1),N.dd(" ",n.displayValue,""),N.Nb(2),N.Cc("field",n.originalValue),N.Cc("pSortableColumn",n.originalValue),N.Nb(1),N.Bc("colFilterData",o.getFilterState(n.originalValue))("display",o.displayFiltersFor[n.originalValue])("fieldName",n.originalValue)("customId",n.originalValue),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"selected-filter-column":""),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function ha(e,t){if(1&e&&(N.hc(0),N.Zc(1,ga,7,9,"th",59),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",i.isSelected)}}function ma(e,t){1&e&&(N.jc(0,"th",64),N.bd(1,"More"),N.ic())}function ba(e,t){if(1&e&&(N.jc(0,"tr",56),N.Zc(1,ha,2,1,"ng-container",57),N.jc(2,"th"),N.bd(3," Actions"),N.ic(),N.Zc(4,ma,2,0,"th",58),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngForOf",i.customizeCols),N.Nb(3),N.Bc("ngIf",i.isMoreDisplayed)}}function va(e,t){if(1&e&&(N.jc(0,"td",71),N.jc(1,"span"),N.bd(2),N.ic(),N.ec(3,"br"),N.ic()),2&e){var i=N.uc().$implicit,n=N.uc().$implicit;N.Bc("title",n[i.originalValue]),N.Nb(2),N.cd(n[i.originalValue])}}function Ca(e,t){if(1&e&&(N.hc(0),N.Zc(1,va,4,2,"td",70),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",i.isSelected)}}function ya(e,t){if(1&e){var i=N.kc();N.jc(0,"td",72),N.qc("click",function(){N.Rc(i);var e=N.uc().$implicit,t=N.uc(),n=N.Oc(107);return t.openOtherField(n,e)}),N.bd(1," ..."),N.ic()}}function xa(e,t){if(1&e){var i=N.kc();N.jc(0,"tr",65),N.Zc(1,Ca,2,1,"ng-container",57),N.jc(2,"td"),N.jc(3,"span",66),N.qc("click",function(){N.Rc(i);var e=t.$implicit;return N.uc().editDomainLibrary(e)}),N.ec(4,"i",67),N.ic(),N.jc(5,"span",66),N.qc("click",function(){N.Rc(i);var e=t.$implicit;return N.uc().deleteDomainLibrary(e)}),N.ec(6,"i",68),N.ic(),N.ic(),N.Zc(7,ya,2,0,"td",69),N.ic()}if(2&e){var n=N.uc(),o=null,a=null;N.Nb(1),N.Bc("ngForOf",n.customizeCols),N.Nb(2),N.Bc("ngClass",null!=(o=n.roleOnModule("User Settings"))&&null!=o.accessControl&&o.accessControl.includes("U")?" cursor-pointer":"disable"),N.Nb(2),N.Bc("ngClass",null!=(a=n.roleOnModule("User Settings"))&&null!=a.accessControl&&a.accessControl.includes("D")?" cursor-pointer":"disable"),N.Nb(2),N.Bc("ngIf",n.isMoreDisplayed)}}function Pa(e,t){1&e&&(N.jc(0,"div",73),N.bd(1," No records found "),N.ic())}function ja(e,t){if(1&e){var i=N.kc();N.jc(0,"div",74),N.jc(1,"p-paginator",75,76),N.qc("onPageChange",function(e){return N.Rc(i),N.uc().onPageChange(e)})("firstChange",function(e){return N.Rc(i),N.uc().first=e}),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("rows",10)("totalRecords",n.domainLibrary.length)("showCurrentPageReport",!0)("first",n.first)}}function wa(e,t){if(1&e&&(N.jc(0,"div",81),N.jc(1,"div"),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc(3);N.Nb(2),N.ed("Page ",i.selectedPage.page," of ",i.totalNumOfPages,"")}}function Oa(e,t){if(1&e&&N.Zc(0,wa,3,2,"div",80),2&e){var i=N.uc(2);N.Bc("ngIf",i.selectedPage)}}function ka(e,t){if(1&e){var i=N.kc();N.jc(0,"div",77),N.jc(1,"p-dropdown",78),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().selectedPage=e})("onChange",function(e){return N.Rc(i),N.uc().onPageNumChange(e)}),N.Zc(2,Oa,1,1,"ng-template",79),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("options",n.numOfPages)("filter",!0)("ngModel",n.selectedPage)}}function Sa(e,t){1&e&&(N.jc(0,"span",82),N.bd(1," Add Domain "),N.ic())}function Ma(e,t){1&e&&(N.jc(0,"span",83),N.bd(1,"Please enter "),N.jc(2,"b"),N.bd(3,"Domain Name"),N.ic(),N.ic())}function Na(e,t){1&e&&(N.jc(0,"span",83),N.bd(1," Please enter valid "),N.jc(2,"b"),N.bd(3,"Domain Name"),N.ic(),N.ic())}function Da(e,t){if(1&e&&(N.jc(0,"p",83),N.Zc(1,Ma,4,0,"span",28),N.Zc(2,Na,4,0,"span",28),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngIf",i.domainForm.controls.domainAccessKey.errors.required),N.Nb(1),N.Bc("ngIf",null==i.domainForm.controls.domainAccessKey.errors?null:i.domainForm.controls.domainAccessKey.errors.pattern)}}var Fa=function(){return{standalone:!0}};function _a(e,t){if(1&e){var i=N.kc();N.jc(0,"div",84),N.jc(1,"p-checkbox",85),N.qc("ngModelChange",function(e){return t.$implicit.checked=e})("onChange",function(){N.Rc(i);var e=t.$implicit;return N.uc().getCheckboxValue(e)}),N.ic(),N.jc(2,"label",86),N.bd(3),N.ic(),N.ic()}if(2&e){var n=t.$implicit;N.Nb(1),N.Bc("ngModel",n.checked)("ngModelOptions",N.Ec(5,Fa))("name",n.ProjectName)("id",n.id),N.Nb(2),N.cd(n.ProjectName)}}function Ia(e,t){1&e&&(N.jc(0,"span",83),N.bd(1,"Please select project "),N.ic())}function Va(e,t){if(1&e&&(N.jc(0,"p",83),N.Zc(1,Ia,2,0,"span",28),N.ic()),2&e){var i=N.uc();N.Sb("form-field copy-ip ",i.checkedNameReq?"ng-invalid":"","\n                                 ",i.checkedNamevalid?"":"ng-invalid",""),N.Nb(1),N.Bc("ngIf",i.domainForm.controls.description.errors.required)}}function La(e,t){1&e&&(N.jc(0,"span",82),N.bd(1," Update Domain "),N.ic())}function Ra(e,t){if(1&e){var i=N.kc();N.jc(0,"div",84),N.jc(1,"p-checkbox",87),N.qc("ngModelChange",function(e){return t.$implicit.checked=e})("click",function(){N.Rc(i);var e=t.$implicit;return N.uc().getCheckboxValue(e)}),N.ic(),N.jc(2,"label",86),N.bd(3),N.ic(),N.ic()}if(2&e){var n=t.$implicit;N.Nb(1),N.Bc("ngModel",n.checked)("value",n.checked)("ngModelOptions",N.Ec(6,Fa))("name",n.ProjectName)("id",n.id),N.Nb(2),N.cd(n.ProjectName)}}function Ba(e,t){1&e&&(N.jc(0,"span",88),N.ec(1,"i",89),N.bd(2," Confirmation "),N.ic())}function Ea(e,t){if(1&e){var i=N.kc();N.jc(0,"div",100),N.jc(1,"table"),N.jc(2,"tr",101),N.jc(3,"td"),N.jc(4,"p-checkbox",102),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().$implicit.isSelected=e})("onChange",function(){N.Rc(i);var e=N.uc().$implicit;return N.uc(2).checkValue(e.originalValue,e.isSelected)}),N.ic(),N.ic(),N.jc(5,"td"),N.jc(6,"label"),N.bd(7),N.ic(),N.ic(),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc().$implicit,o=N.uc(2);N.Nb(4),N.Bc("ngModel",n.isSelected)("disabled",o.checkboxDisabled&&!n.isSelected),N.Nb(3),N.cd(n.displayValue)}}function za(e,t){if(1&e&&(N.hc(0),N.Zc(1,Ea,8,3,"div",99),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",!i.necessaryCol&&!i.alwaysSelected)}}function Ta(e,t){if(1&e&&(N.jc(0,"div",103),N.bd(1),N.ic()),2&e){var i=N.uc(2);N.Nb(1),N.dd("You can select up to ",i.maxCount," columns.")}}function qa(e,t){if(1&e){var i=N.kc();N.jc(0,"div",90),N.jc(1,"div",91),N.Zc(2,za,2,1,"ng-container",57),N.ic(),N.ic(),N.jc(3,"div",92),N.jc(4,"div",93),N.jc(5,"div",94),N.Zc(6,Ta,2,1,"div",95),N.ic(),N.jc(7,"div",96),N.jc(8,"div"),N.jc(9,"label",97),N.qc("click",function(){return N.Rc(i),N.uc().modalRef.hide()}),N.bd(10,"Close Customize"),N.ic(),N.jc(11,"img",98),N.qc("click",function(){return N.Rc(i),N.uc().modalRef.hide()}),N.ic(),N.ic(),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(2),N.Bc("ngForOf",n.customizeCols),N.Nb(4),N.Bc("ngIf",n.checkboxDisabled)}}function Za(e,t){if(1&e&&(N.jc(0,"div",110),N.jc(1,"table"),N.jc(2,"tr"),N.jc(3,"td",111),N.bd(4),N.ic(),N.jc(5,"td",111),N.bd(6),N.ic(),N.ic(),N.ic(),N.ic()),2&e){var i=N.uc().$implicit,n=N.uc(2);N.Nb(4),N.cd(i.displayValue),N.Nb(2),N.dd(": ",n.selectedRowData[i.originalValue],"")}}function Ua(e,t){if(1&e&&(N.hc(0),N.Zc(1,Za,7,2,"div",109),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",!i.necessaryCol&&!i.isSelected)}}function Aa(e,t){if(1&e){var i=N.kc();N.jc(0,"div",104),N.jc(1,"b"),N.bd(2,"More Columns:"),N.ic(),N.ic(),N.jc(3,"div",90),N.jc(4,"div",105),N.Zc(5,Ua,2,1,"ng-container",57),N.ic(),N.ic(),N.jc(6,"div",92),N.jc(7,"div",106),N.qc("click",function(){return N.Rc(i),N.uc().modalRef.hide()}),N.jc(8,"label",107),N.bd(9,"Close"),N.ic(),N.ec(10,"img",108),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(5),N.Bc("ngForOf",n.customizeCols)}}function Wa(e,t){if(1&e){var i=N.kc();N.hc(0),N.jc(1,"div",100),N.jc(2,"table"),N.jc(3,"tr",101),N.jc(4,"td"),N.jc(5,"p-checkbox",116),N.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return N.Rc(i),N.uc(2).pdfColsValue()}),N.ic(),N.ic(),N.jc(6,"td"),N.jc(7,"label"),N.bd(8),N.ic(),N.ic(),N.ic(),N.ic(),N.ic(),N.gc()}if(2&e){var n=t.$implicit,o=N.uc(2);N.Nb(5),N.Bc("ngModel",n.pdfCols)("disabled",o.pdfCheckboxDisabled&&!n.pdfCols),N.Nb(3),N.cd(n.displayValue)}}function Ga(e,t){1&e&&(N.jc(0,"div",103),N.bd(1,"You can select up to 9 columns."),N.ic())}function $a(e,t){if(1&e){var i=N.kc();N.jc(0,"div",104),N.jc(1,"span",82),N.bd(2,"Please select columns that need to be downloaded in PDF"),N.ic(),N.ic(),N.jc(3,"div",112),N.jc(4,"div",91),N.Zc(5,Wa,9,3,"ng-container",57),N.ic(),N.ic(),N.jc(6,"div",92),N.jc(7,"div",93),N.jc(8,"div",113),N.Zc(9,Ga,2,0,"div",95),N.ic(),N.jc(10,"div",114),N.jc(11,"button",115),N.qc("click",function(){N.Rc(i);var e=N.uc();return e.exportPdf(),e.modalRef.hide()}),N.ic(),N.ic(),N.jc(12,"div",96),N.jc(13,"div"),N.jc(14,"label",97),N.qc("click",function(){return N.Rc(i),N.uc().closeExportPdf()}),N.bd(15,"Close"),N.ic(),N.jc(16,"img",98),N.qc("click",function(){return N.Rc(i),N.uc().closeExportPdf()}),N.ic(),N.ic(),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(5),N.Bc("ngForOf",n.customizeCols),N.Nb(4),N.Bc("ngIf",n.pdfCheckboxDisabled),N.Nb(2),N.Bc("disabled",n.disableDownloadBtn)}}var Ja=function(){return{width:"100%"}},Ha=function(){return{width:"50vw"}};x.a.vfs=j.a.pdfMake.vfs;var Ya,Qa,Ka=((Ya=function(){function i(e,t,n,a,r,c,l,d,u,p,f){o(this,i),this.modalService=e,this.spinner=t,this.domainService=n,this.router=a,this.detectChanges=r,this.filterService=c,this.formBuilder=l,this.domainProj=d,this.datePipe=u,this.homeServiceService=p,this.messages=f,this.selectedProjId="",this.totalNumOfPages=0,this.domainLibrary=[],this.mainDomainLibrary=[],this.pageWiseDomainLibrary=[],this.first=0,this.pageSize=9,this.maxCount=4,this.checkboxDisabled=!1,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.deleteModal=!1,this.filterData={},this.deleteDomainLib=[],this.columnFilter={},this.scrollHt="300px",this.displayFiltersFor={DomainId:!1,DomainName:!1,IsGlobalDomain:!1,ProjectIds:!1},this.projectNames=[],this.multiSortMeta=[{field:"DomainId",order:-1}],this.pdfData=[],this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols=[{displayValue:"Domain Id",originalValue:"DomainId",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Domain Name",originalValue:"DomainName",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Is Global Domain",originalValue:"IsGlobalDomain",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Project Ids",originalValue:"ProjectIds",isSelected:!0,necessaryCol:!1,alwaysSelected:!1}],this.display=!1,this.querySelectedValues=[],this.querySelectedValues1=!1,this.getDataProjectList=[],this.getselectedCheckbox=[],this.updatedCheckbox=[],this.checkedNamevalid=!1,this.checkedNameReq=!1,this.customSortArr=[],this.noRecordFound=!1,this.domainForm=this.formBuilder.group({domainAccessKey:new s.f("",[s.w.required]),description:new s.f("",[]),IsGlobalDomain:new s.f("",[]),ProjectIds:new s.f("",[])}),this.updatedomainForm=this.formBuilder.group({domainAccessKey:new s.f("",[s.w.required]),description:new s.f("",[]),IsGlobalDomain:new s.f("",[]),ProjectIds:new s.f("",[])})}return r(i,[{key:"ngOnInit",value:function(){var e;this.domainProj.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData"),sessionStorage.removeItem("connDet"),this.appId=sessionStorage.getItem("idApp"),sessionStorage.getItem("userDetail")&&(this.userDetails=JSON.parse(sessionStorage.getItem("userDetail"))),this.fromDate=new Date,this.fromDate.setDate((new Date).getDate()-30),this.toDate=new Date,this.toDate.setDate((new Date).getDate()+1),this.maxDate=new Date,this.maxDate.setDate((new Date).getDate()+3),this.projectNames=this.homeServiceService.getProjectList(),this.projectNames.map(function(e){e.domainProject=e.domainName+"-"+e.projectName,e.domainAndProjectId=e.domainId+"_"+e.idProject,e.domainAndProjectName=e.domainName+"-"+e.projectName}),this.getDomainList(),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(function(e){e.accessControl=e.accessControl.split("-")})))}},{key:"ngOnDestroy",value:function(){}},{key:"ngOnChanges",value:function(){this.getDomainList()}},{key:"roleOnModule",value:function(e){return this.roleModule.find(function(t){return t.moduleName===e})}},{key:"getCheckboxValue",value:function(e){this.checkedNameReq=!0,this.checkedNamevalid=!0,this.getSelectedObjValue=e.id,this.getselectedCheckbox.push(this.getSelectedObjValue),this.updatedomainForm.controls.ProjectIds.markAsTouched(),this.updatedomainForm.controls.ProjectIds.markAsDirty(),this.updatedomainForm.updateValueAndValidity(),this.updatedomainForm.controls.ProjectIds.updateValueAndValidity()}},{key:"hideBox",value:function(e){this.displayFiltersFor[e.fieldName]=!1}},{key:"getDomainList",value:function(){return Object(wn.a)(this,void 0,void 0,e().mark(function i(){var n,o,a=this;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.pageWiseDomainLibrary=[],n={projectId:this.selectedProjId.split("_")[1]},o=[],this.getDataProjectList=[],this.domainService.getDomainList("loadDomainRecordList",n).subscribe(function(e){if("Success"===e.status){a.spinner.hide(),a.spinner.hide()&&(a.noRecordFound=!0),o.push(e.result),a.getDataProjectList.push(o[0].ProjectData);var i=Object.keys(o[0].ProjectData);a.getDataProjectListNew=[],i.forEach(function(e){var t=o[0].ProjectData[e];t.id=e,t.checked=!1,a.getDataProjectListNew.push(t)});var n=[];e.result.DataSet.map(function(e){e.DomainId=parseInt(e.DomainId),n.push(e)}),a.mainDomainLibrary=[].concat(n),a.domainLibrary=t(a.mainDomainLibrary),a.pdfData=t(a.mainDomainLibrary),a.totalRecords=a.domainLibrary.length;var r=a.first+a.pageSize;null!=a.filterObj&&a.filterObj.forEach(function(e){a.domainLibrary=a.domainLibrary.filter(function(t){return a.filterService.filters.contains(t[e],a.columnFilter[e])})});var c=a.domainLibrary.filter(function(e,t){return t<=r});a.pageWiseDomainLibrary=t(c),a.calculateNumOfPages(),a.checkCount=0,a.customizeCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(e){!0===e.isSelected&&a.checkCount++}),a.checkboxDisabled=a.checkCount>=a.maxCount}else a.mainDomainLibrary=[],a.domainLibrary=[],a.pageWiseDomainLibrary=[]});case 3:case"end":return e.stop()}},i,this)}))}},{key:"ordersFormArray",get:function(){return this.domainForm.controls.orders}},{key:"editDomainLibrary",value:function(e){var t=this,i=[];this.display=!1,this.displayForUpdate=!0,this.domainDetail=e,null===e.ProjectIds||(i=e.ProjectIds.split(",")),this.getDataProjectListNew.forEach(function(e,n){e.checked=!1,i.forEach(function(i){e.id===i&&(e.checked=!0),t.getDataProjectListNew.filter(function(e){return!0===e.checked})})}),this.updatedomainForm.patchValue({domainAccessKey:e.DomainName,description:e.DomainDescription,IsGlobalDomain:"Yes"===e.IsGlobalDomain})}},{key:"createDomain",value:function(){this.getselectedCheckbox=[],this.getDataProjectListNew.forEach(function(e,t){e.checked=!1}),this.display=!0,this.router.url.includes("dbckangui/login"),this.domainForm.reset(),this.domainForm.updateValueAndValidity(),this.displayForUpdate=!1}},{key:"onCancel",value:function(){this.display=!1}},{key:"onCancelUpdate",value:function(){this.displayForUpdate=!1}},{key:"calculateNumOfPages",value:function(){if(this.totalNumOfPages=this.mainDomainLibrary.length?this.mainDomainLibrary.length<this.pageSize?1:Math.ceil(this.mainDomainLibrary.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}},{key:"onFilterClick",value:function(e){var t=this;Object.keys(this.displayFiltersFor).map(function(i){t.displayFiltersFor[i]=i===e})}},{key:"openOtherField",value:function(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"showCustomizeModal",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"isMoreDisplayed",get:function(){var e;return e=this.customizeCols.length?this.customizeCols.filter(function(e){return e.isSelected}):[],this.customizeCols.length!==e.length}},{key:"resetFilter",value:function(e){var i=this;this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.domainLibrary=t(this.mainDomainLibrary),n.forEach(function(e){i.domainLibrary=i.domainLibrary.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"getFilterData",value:function(e){var i=this;this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.storeFilterValue=n,this.displayFiltersFor[e[0]]=!1,this.first=0,this.globalFilterValue||(this.domainLibrary=t(this.mainDomainLibrary)),n.forEach(function(e){i.domainLibrary=i.domainLibrary.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"globalFilterFun",value:function(e){var i=t(this.globalFilterLogic()),n=this.first+this.pageSize,o=i.filter(function(e,t){return t<=n});this.detectChanges.detectChanges(),this.pageWiseDomainLibrary=t(o),this.setPageNumber()}},{key:"globalFilterLogic",value:function(){var e=this;if(this.mainDomainLibrary.length){var i=Object.keys(this.mainDomainLibrary[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainDomainLibrary.forEach(function(t){var n=!1;i.forEach(function(i){t[i]&&t[i].toString().toLowerCase().includes(e.globalFilterValue.toLowerCase())&&!n&&(e.filterValue.push(t),n=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.first=0,n.forEach(function(t){e.filterValue=e.filterValue.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})})}return this.domainLibrary=t(this.filterValue),this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=t(this.mainDomainLibrary),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var o=Object.keys(this.columnFilter);this.first=0,o.forEach(function(t){e.filterValue=e.filterValue.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})})}return this.domainLibrary=t(this.filterValue),this.calculateNumOfPages(),this.domainLibrary}return[]}},{key:"getFilterState",value:function(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){var t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}},{key:"setPageNumber",value:function(){if(this.totalNumOfPages=this.domainLibrary.length?this.domainLibrary.length<this.pageSize?1:Math.ceil(this.domainLibrary.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}var i=this.first+this.pageSize,n=this.domainLibrary.filter(function(e,t){return t<=i});this.pageWiseDomainLibrary=t(n)}},{key:"customSort",value:function(e){var i=this;this.sortField=e.field,this.sortOrder=e.order,this.sortMode=e.mode,this.customSortArr.filter(function(t){return t.field=e.field})[0]?this.customSortArr.map(function(t){t.order=e.order}):this.customSortArr.push(e);var n=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=n+1,this.selectedPage.pageIndex=n,this.sortOrderEvent=e;var o=t(this.domainLibrary),a=t(this.sortOrderEvent.multiSortMeta);a.length>=3&&(e.multiSortMeta=e.multiSortMeta.splice(3,1)),1===a.length?o.sort(function(e,t){return e[a[0].field]>t[a[0].field]?a[0].order:t[a[0].field]>e[a[0].field]?-a[0].order:0}):2===a.length?o.sort(function(e,t){return e[a[0].field]>t[a[0].field]?a[0].order:t[a[0].field]>e[a[0].field]&&-a[0].order||e[a[1].field]>t[a[1].field]?a[1].order:t[a[1].field]>e[a[1].field]?-a[1].order:0}):3===a.length&&o.sort(function(e,t){return e[a[0].field]>t[a[0].field]?a[0].order:t[a[0].field]>e[a[0].field]&&-a[0].order||e[a[1].field]>t[a[1].field]?a[1].order:t[a[1].field]>e[a[1].field]&&-a[1].order||e[a[2].field]>t[a[2].field]?a[2].order:t[a[2].field]>e[a[2].field]?-a[2].order:0});var r=this.first+this.pageSize,c=o.filter(function(e,t){if(t<=r&&t>=i.first)return e});this.pageWiseDomainLibrary=t(c)}},{key:"openExportPdf",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"closeExportPdf",value:function(){var e=this;this.modalRef.hide(),setTimeout(function(){e.pdfCheckCount=0,e.pdfCheckboxDisabled=!1,e.disableDownloadBtn=!0,e.customizeCols.forEach(function(e){return e.pdfCols=!1})},1e3)}},{key:"exportPdf",value:function(){var e=this;this.pdfData.length&&(this.spinner.show(),setTimeout(function(){var t=new M.default("l","pt"),i=e.customizeCols.filter(function(e){return e.pdfCols}),n=[];i.forEach(function(e){return n.push(e.displayValue)});var o,a=[];i.forEach(function(e){return a.push(e.originalValue)}),o=e.pdfData.map(function(e){return Object.assign(a.map(function(t){return e[t]}))});var r=t.internal.pageSize,c=r.height?r.height:r.getHeight();S()(t,{columns:n,body:o,didDrawPage:function(e){1==e.pageNumber&&(t.text("Domain Library",t.internal.pageSize.width/2,25,null,"center"),t.setFontSize(10)),t.setFontSize(9),t.text("Created by FirstEigen",t.internal.pageSize.width-40,c-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}},columnStyles:{}}),t.save("Domain Library.pdf"),e.disableDownloadBtn=!0,e.pdfCheckboxDisabled=!1,i.forEach(function(e){return e.pdfCols=!1}),e.spinner.hide()},2e3))}},{key:"pdfColsValue",value:function(){var e=this;this.pdfCheckCount=0,this.customizeCols.filter(function(e){return!0===e.pdfCols}).forEach(function(t){!0===t.pdfCols&&e.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}},{key:"onSubmit",value:function(){var e=this;if(0!=this.getselectedCheckbox.length){this.displayForUpdate=!1,this.display=!0;var t={Context:"DataSave",Data:{IsGlobalDomain:!0===this.domainForm.value.IsGlobalDomain?"Yes":"No",DomainId:"-1",DomainName:this.domainForm.value.domainAccessKey,ProjectIds:this.getselectedCheckbox.toString(),DomainDescription:null===this.domainForm.value.description?"":this.domainForm.value.description}};this.domainService.createDomainList("mainDomainHandler",t).subscribe(function(t){!0===t.status?e.successToasty(t.message):e.messages.displayToaster(t.message,"error","Failed"),e.first=0,e.display=!1,e.displayForUpdate=!1,e.getDomainList()})}else this.messages.displayToaster("Please Select Project Id","error","Failed")}},{key:"onUpdate",value:function(){var e=this;this.displayForUpdate=!0,this.display=!1;for(var t=[],i=0;i<this.getDataProjectListNew.length;i++)!0===this.getDataProjectListNew[i].checked&&t.push(this.getDataProjectListNew[i].id);var n={Context:"DataSave",Data:{IsGlobalDomain:!0===this.updatedomainForm.value.IsGlobalDomain?"Yes":"No",DomainId:this.domainDetail.DomainId.toString(),DomainName:this.updatedomainForm.value.domainAccessKey,ProjectIds:t.toString(),DomainDescription:null===this.updatedomainForm.value.description?"":this.updatedomainForm.value.description}};this.domainService.createDomainList("mainDomainHandler",n).subscribe(function(t){e.display=!1,!0===t.status?e.successToasty(t.message):e.messages.displayToaster(t.message,"error","Failed"),e.displayForUpdate=!1,e.getDomainList()})}},{key:"downloadCSV",value:function(){this.domainService.downloadCSVDomain("domainCSV").subscribe(function(e){return Object(C.saveAs)(e,"DataDomain.csv")})}},{key:"checkValue",value:function(e,t){var i=this;this.checkCount=0,this.customizeCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(e){!0===e.isSelected&&i.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount,this.colSpanCount=this.customizeCols.filter(function(e){return!0===e.isSelected}).length,null!=this.storeFilterValue&&this.storeFilterValue.map(function(n){n==e&&0==t&&i.resetFilter(e)})}},{key:"deleteDomainLibrary",value:function(e){this.deleteModal=!0,this.deleteDomainLib=e}},{key:"deleteConfirm",value:function(){var e=this;this.deleteModal=!1;var t={Context:"DataDelete",Data:{IsGlobalDomain:this.deleteDomainLib.IsGlobalDomain,DomainId:this.deleteDomainLib.DomainId.toString(),DomainName:this.deleteDomainLib.DomainName,ProjectIds:this.deleteDomainLib.ProjectIds,DomainDescription:this.deleteDomainLib.DomainDescription}};this.domainService.deleteDomain("mainDomainHandler",t).subscribe(function(t){!0===t.status?e.successToasty(t.message):e.messages.displayToaster(t.message,"error","Failed"),e.getDomainList()})}},{key:"onPageNumChange",value:function(e){var i=this;this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);var n=this.getSortedData(),o=this.first+this.pageSize,a=n.filter(function(e,t){if(t<=o&&t>=i.first)return e});this.pageWiseDomainLibrary=t(a)}},{key:"getSortedData",value:function(){var e=this,i=t(this.domainLibrary);return this.sortOrderEvent?1===this.sortOrderEvent.order?(i.sort(function(t,i){return t[e.sortOrderEvent.field]>i[e.sortOrderEvent.field]?1:i[e.sortOrderEvent.field]>t[e.sortOrderEvent.field]?-1:0}),i):(i.sort(function(t,i){return t[e.sortOrderEvent.field]>i[e.sortOrderEvent.field]?-1:i[e.sortOrderEvent.field]>t[e.sortOrderEvent.field]?1:0}),i):i}},{key:"onPageChange",value:function(e){var i=this;this.first=e.first;var n=this.getSortedData(),o=this.first+this.pageSize,a=n.filter(function(e,t){if(t<=o&&t>=i.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseDomainLibrary=t(a)}},{key:"successToasty",value:function(e){this.messages.displayToaster(e,"success","Success")}},{key:"filterColumnNameWithHighlightName",value:function(e){return!(Object.keys(this.columnFilter).findIndex(function(t){return t===e})<0)}}]),i}()).\u0275fac=function(e){return new(e||Ya)(N.dc(I.a),N.dc(F.c),N.dc(Fo),N.dc(d.i),N.dc(N.h),N.dc(_.d),N.dc(s.e),N.dc(V.a),N.dc(l.d),N.dc(Ci.a),N.dc(kn.a))},Ya.\u0275cmp=N.Xb({type:Ya,selectors:[["app-domain-library"]],features:[N.Lb],decls:110,vars:53,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","text-right"],["pButton","","type","button","label","Add",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn",3,"ngClass","click"],[1,"d-flex","justify-content-end","p-field","br-top"],[1,""],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["id","view_data_temp",1,"row","p-field"],[1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","sortMode","multiple",3,"value","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","multiSortMeta","rows","first","customSort","firstChange","sortFunction"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],[3,"formGroup"],[1,"form-row"],[1,"col","container-fluid"],[1,"col-md-11","form-group","p-field"],["for","domainAccessKey",1,"form-label"],[1,"req-field"],["id","domainAccessKey","pInputText","","formControlName","domainAccessKey","maxlength","50","placeholder","Enter Domain Name","type","text","pattern","^\\S+(?: \\S+)*$",1,"form-field"],["class","err-msg",4,"ngIf"],["for","description",1,"form-label"],["id","description","pInputText","","formControlName","description","placeholder","Enter Description","type","text",1,"form-field"],[1,"col-md-12"],["for",""],[1,"card","form-row","inputSpace","overflow-scroll"],[1,"form-group","p-field","height-150"],["class","p-field-checkbox",4,"ngFor","ngForOf"],["class","err-msg",3,"class",4,"ngIf"],[1,"p-field-checkbox","col-md-6","form-group"],["formControlName","IsGlobalDomain","binary","true","inputId","binary"],["for","query",1,"form-label","margin-checkbox"],[1,"note","row","p-field"],[1,"col-sm-12","col-md-12","mr-top","text-left"],["pButton","","type","button","label","Create Domain",1,"button","w-button","btn-mr-rt","submit-btn","btn-label",3,"disabled","click"],["pButton","","type","button","label","Cancel",1,"cancelButton","w-button","btn-mr-rt","submit-btn","btn-label","btn-cancel",3,"click"],["id","domainAccessKey","readonly","","pInputText","","formControlName","domainAccessKey","placeholder","Enter Domain Name","type","text",1,"cursor-not","form-field"],["pButton","","type","button","label","Update Domain",1,"button","w-button","btn-mr-rt","submit-btn","btn-label",3,"disabled","click"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],["template",""],["moreTrigger",""],["exportPdfTemplate",""],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"float-right",3,"click"],["src","assets/images/Vector.png","width","25px"],[1,"header"],[4,"ngFor","ngForOf"],["class","min_width_50",4,"ngIf"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"min_width_50"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil","iconColor"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],["class","more-display min_width_50",3,"click",4,"ngIf"],["class","text-center word_break_word_all",3,"title",4,"ngIf"],[1,"text-center","word_break_word_all",3,"title"],[1,"more-display","min_width_50",3,"click"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title"],[1,"err-msg"],[1,"p-field-checkbox"],["binary","true","inputId","binary","required","",3,"ngModel","ngModelOptions","name","id","ngModelChange","onChange"],["for","checkbox.DomainId",1,"form-label","mar"],["binary","true","inputId","checkbox.id",3,"ngModel","value","ngModelOptions","name","id","ngModelChange","click"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],[1,"modal-body"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-8"],["class","color-code",4,"ngIf"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname","value","customizeCols[col.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"],[1,"modal-header"],[1,"row","padding-btm1"],[3,"click"],[1,"cursor-pointer"],["src","assets/images/close.png",1,"margin-l","cursor-pointer"],["class","col-sm-6 padding-btm3",4,"ngIf"],[1,"col-sm-6","padding-btm3"],[1,"field-dis-val"],[1,"modal-body","pdf-modal"],[1,"col-lg-4"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"]],template:function(e,t){if(1&e){var i=N.kc();N.jc(0,"div",0),N.jc(1,"div",1),N.jc(2,"div",2),N.jc(3,"p",3),N.bd(4," Domains "),N.ic(),N.ic(),N.jc(5,"div",4),N.jc(6,"p",3),N.jc(7,"button",5),N.qc("click",function(){return t.createDomain()}),N.ic(),N.ic(),N.ic(),N.ic(),N.jc(8,"div",6),N.jc(9,"div",7),N.jc(10,"a"),N.jc(11,"img",8),N.qc("click",function(){return t.downloadCSV()}),N.ic(),N.ic(),N.jc(12,"a"),N.jc(13,"img",9),N.qc("click",function(){N.Rc(i);var e=N.Oc(109);return t.openExportPdf(e)}),N.ic(),N.ic(),N.ic(),N.ic(),N.jc(14,"div",10),N.jc(15,"div",11),N.jc(16,"p-table",12),N.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),N.Zc(17,fa,8,4,"ng-template",13),N.Zc(18,ba,5,2,"ng-template",14),N.Zc(19,xa,8,4,"ng-template",15),N.ic(),N.ic(),N.Zc(20,Pa,2,0,"div",16),N.jc(21,"div",17),N.Zc(22,ja,3,4,"div",18),N.Zc(23,ka,3,3,"div",19),N.ic(),N.ic(),N.jc(24,"p-dialog",20),N.qc("visibleChange",function(e){return t.display=e}),N.Zc(25,Sa,2,0,"ng-template",14),N.jc(26,"form",21),N.jc(27,"div",22),N.jc(28,"div",23),N.jc(29,"div",24),N.jc(30,"label",25),N.bd(31,"Domain Name"),N.jc(32,"sup",26),N.bd(33,"*"),N.ic(),N.ic(),N.ec(34,"input",27),N.Zc(35,Da,3,2,"p",28),N.ic(),N.jc(36,"div",24),N.jc(37,"label",29),N.bd(38,"Description "),N.ic(),N.ec(39,"input",30),N.ic(),N.ic(),N.jc(40,"div",23),N.jc(41,"div",31),N.jc(42,"label",32),N.bd(43," Projects belong to Domain:"),N.ic(),N.jc(44,"div",33),N.jc(45,"div",34),N.Zc(46,_a,4,6,"div",35),N.Zc(47,Va,2,5,"p",36),N.ic(),N.ic(),N.ic(),N.ic(),N.ic(),N.jc(48,"div",22),N.jc(49,"div",23),N.jc(50,"div",37),N.ec(51,"p-checkbox",38),N.jc(52,"label",39),N.bd(53,"Global Domain"),N.ic(),N.ic(),N.ic(),N.ic(),N.ic(),N.jc(54,"div",40),N.jc(55,"div",41),N.jc(56,"p"),N.bd(57,"Note: Fields marked with "),N.jc(58,"b"),N.bd(59,'"*"'),N.ic(),N.bd(60," are required. "),N.ic(),N.ic(),N.ic(),N.jc(61,"p-footer"),N.jc(62,"button",42),N.qc("click",function(){return t.onSubmit()}),N.ic(),N.jc(63,"button",43),N.qc("click",function(){return t.onCancel()}),N.ic(),N.ic(),N.ic(),N.jc(64,"p-dialog",20),N.qc("visibleChange",function(e){return t.displayForUpdate=e}),N.Zc(65,La,2,0,"ng-template",14),N.jc(66,"form",21),N.jc(67,"div",22),N.jc(68,"div",23),N.jc(69,"div",24),N.jc(70,"label",25),N.bd(71,"Domain Name"),N.jc(72,"sup",26),N.bd(73,"*"),N.ic(),N.ic(),N.ec(74,"input",44),N.ic(),N.jc(75,"div",24),N.jc(76,"label",29),N.bd(77,"Description "),N.ic(),N.ec(78,"input",30),N.ic(),N.ic(),N.jc(79,"div",23),N.jc(80,"div",31),N.jc(81,"label",32),N.bd(82," Projects belong to Domain:"),N.ic(),N.jc(83,"div",33),N.jc(84,"div",34),N.Zc(85,Ra,4,7,"div",35),N.ic(),N.ic(),N.ic(),N.ic(),N.ic(),N.jc(86,"div",22),N.jc(87,"div",23),N.jc(88,"div",37),N.ec(89,"p-checkbox",38),N.jc(90,"label",39),N.bd(91,"Global Domain"),N.ic(),N.ic(),N.ic(),N.ic(),N.ic(),N.jc(92,"p-footer"),N.jc(93,"button",45),N.qc("click",function(){return t.onUpdate()}),N.ic(),N.jc(94,"button",43),N.qc("click",function(){return t.onCancelUpdate()}),N.ic(),N.ic(),N.ic(),N.jc(95,"p-dialog",20),N.qc("visibleChange",function(e){return t.deleteModal=e}),N.Zc(96,Ba,3,0,"ng-template",14),N.jc(97,"p"),N.bd(98,"Are you sure you want to delete Domain Library "),N.jc(99,"b"),N.bd(100),N.ic(),N.bd(101,"?"),N.ic(),N.jc(102,"p-footer"),N.jc(103,"button",46),N.qc("click",function(){return t.deleteConfirm()}),N.ic(),N.ic(),N.ic(),N.Zc(104,qa,12,2,"ng-template",null,47,N.ad),N.Zc(106,Aa,11,1,"ng-template",null,48,N.ad),N.ic(),N.Zc(108,$a,17,3,"ng-template",null,49,N.ad)}if(2&e){var n=null;N.Nb(7),N.Bc("ngClass",null!=(n=t.roleOnModule("User Settings"))&&null!=n.accessControl&&n.accessControl.includes("C")?" cursor-pointer":"disable"),N.Nb(3),N.Rb("w-inline-block cursor-pointer float-right ",t.pageWiseDomainLibrary.length?"":"disabled-opa",""),N.Nb(2),N.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseDomainLibrary&&t.pageWiseDomainLibrary.length?"":"disabled-opa",""),N.Nb(4),N.Vc(N.Ec(51,Ja)),N.Bc("value",t.pageWiseDomainLibrary)("responsive",!0)("rowHover",!0)("sortField","DomainId")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("multiSortMeta",t.multiSortMeta)("rows",10)("first",t.first)("filterDelay",0)("customSort",!0),N.Nb(4),N.Bc("ngIf",!t.pageWiseDomainLibrary.length&&t.noRecordFound),N.Nb(2),N.Bc("ngIf",t.pageWiseDomainLibrary.length),N.Nb(1),N.Bc("ngIf",t.pageWiseDomainLibrary.length),N.Nb(1),N.Bc("visible",t.display)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!0),N.Nb(2),N.Bc("formGroup",t.domainForm),N.Nb(9),N.Bc("ngIf",t.domainForm.controls.domainAccessKey.invalid&&!t.domainForm.controls.domainAccessKey.pristine),N.Nb(11),N.Bc("ngForOf",t.getDataProjectListNew),N.Nb(1),N.Bc("ngIf",t.domainForm.controls.description.invalid&&!t.domainForm.controls.description.pristine),N.Nb(15),N.Bc("disabled",!t.domainForm.valid),N.Nb(2),N.Bc("visible",t.displayForUpdate)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!0),N.Nb(2),N.Bc("formGroup",t.updatedomainForm),N.Nb(19),N.Bc("ngForOf",t.getDataProjectListNew),N.Nb(8),N.Bc("disabled",!t.updatedomainForm.valid||!t.updatedomainForm.dirty),N.Nb(2),N.Vc(N.Ec(52,Ha)),N.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),N.Nb(5),N.dd("",t.deleteDomainLib.DomainName," ")}},directives:[L.b,l.l,R.f,_.i,l.n,B.a,s.x,s.p,s.i,s.d,E.a,s.o,s.g,s.k,s.t,l.m,T.a,_.e,s.r,R.d,R.e,z.a,g.a,f.a,s.v],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.mar[_ngcontent-%COMP%]{margin-left:5px;margin-bottom:-10px}.note[_ngcontent-%COMP%]{text-align:left!important;font-size:13px;color:#eb5454;margin-left:-28px!important;margin-top:30px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56;margin-top:10px}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.deltaStatus[_ngcontent-%COMP%]{border-radius:3px;color:#eef1f5;font-size:10px;padding:1.5px}.approved[_ngcontent-%COMP%]{background-color:#56b608}.revire-waiting[_ngcontent-%COMP%]{background-color:red}.rejected[_ngcontent-%COMP%]{background-color:#e72b56;border-radius:3px;color:#eef1f5}.iconColorOnFailed[_ngcontent-%COMP%]{color:#e72b56}.imgOnSuccess[_ngcontent-%COMP%]{color:#56b608}.imgSize[_ngcontent-%COMP%]{width:14px;height:auto}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.p-dialog[_ngcontent-%COMP%]{border-radius:14px;height:80vh!important;box-shadow:none!important;max-width:100%!important}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}.spaces[_ngcontent-%COMP%]{margin-top:20px}.margin-checkbox[_ngcontent-%COMP%]{margin-top:.5rem!important;margin-bottom:0!important;padding-left:10px!important}.overflow-scroll[_ngcontent-%COMP%]{overflow:scroll}.height-150[_ngcontent-%COMP%]{height:150px}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}"]}),Ya),Xa=c("E+E9"),er=((Qa=function(){function e(){o(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Qa)},Qa.\u0275cmp=N.Xb({type:Qa,selectors:[["app-user-settings-main"]],decls:3,vars:0,consts:[[1,"content-wrapper","top"]],template:function(e,t){1&e&&(N.jc(0,"div",0),N.ec(1,"app-main-header"),N.ec(2,"router-outlet"),N.ic())},directives:[Xa.a,d.m],styles:[""]}),Qa);function tr(e,t){if(1&e){var i=N.kc();N.jc(0,"div",23),N.jc(1,"span",24),N.jc(2,"input",25),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().globalFilterValue=e})("keyup",function(e){return N.Rc(i),N.uc().globalFilterFun(e)}),N.ic(),N.bd(3,"\xa0 "),N.ec(4,"i",26),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(2),N.Bc("ngModel",n.globalFilterValue)}}function ir(e,t){if(1&e){var i=N.kc();N.jc(0,"th"),N.bd(1),N.ec(2,"br"),N.ec(3,"p-sortIcon",30),N.jc(4,"app-column-filter",31),N.qc("hideFilterDataBox",function(e){return N.Rc(i),N.uc(3).hideBox(e)})("filterData",function(e){return N.Rc(i),N.uc(3).getFilterData(e)})("resetFilterValues",function(e){return N.Rc(i),N.uc(3).resetFilter(e)}),N.ic(),N.jc(5,"span",32),N.jc(6,"i",33),N.qc("click",function(){N.Rc(i);var e=N.uc().$implicit;return N.uc(2).onFilterClick(e.originalValue)}),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc().$implicit,o=N.uc(2);N.Nb(1),N.dd(" ",n.displayValue,""),N.Nb(2),N.Cc("field",n.originalValue),N.Cc("pSortableColumn",n.originalValue),N.Nb(1),N.Bc("colFilterData",o.getFilterState(n.originalValue))("display",o.displayFiltersFor[n.originalValue])("fieldName",n.originalValue)("customId",n.originalValue),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"selected-filter-column":""),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function nr(e,t){if(1&e&&(N.hc(0),N.Zc(1,ir,7,9,"th",29),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",i.isSelected)}}function or(e,t){if(1&e&&(N.jc(0,"tr",27),N.Zc(1,nr,2,1,"ng-container",28),N.jc(2,"th"),N.bd(3," Actions"),N.ic(),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngForOf",i.customizeCols)}}function ar(e,t){if(1&e&&(N.jc(0,"td",39),N.jc(1,"span"),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc().$implicit,n=N.uc().$implicit;N.Bc("ngClass","projectDescription"==i.originalValue?"rule-ellipsis":"")("title",n[i.originalValue]),N.Nb(2),N.cd(n[i.originalValue])}}function rr(e,t){if(1&e&&(N.hc(0),N.Zc(1,ar,3,3,"td",38),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",i.isSelected)}}function cr(e,t){if(1&e){var i=N.kc();N.jc(0,"tr",34),N.Zc(1,rr,2,1,"ng-container",28),N.jc(2,"td"),N.jc(3,"span",35),N.qc("click",function(){N.Rc(i);var e=t.$implicit;return N.uc().editProject(e)}),N.ec(4,"i",36),N.ic(),N.jc(5,"span",35),N.qc("click",function(){N.Rc(i);var e=t.$implicit;return N.uc().deleteProject(e)}),N.ec(6,"i",37),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc(),o=null,a=null;N.Nb(1),N.Bc("ngForOf",n.customizeCols),N.Nb(2),N.Bc("ngClass",null!=(o=n.roleOnModule("User Settings"))&&null!=o.accessControl&&o.accessControl.includes("U")?" cursor-pointer":"disable"),N.Nb(2),N.Bc("ngClass",null!=(a=n.roleOnModule("User Settings"))&&null!=a.accessControl&&a.accessControl.includes("D")?" cursor-pointer":"disable")}}function lr(e,t){1&e&&(N.jc(0,"div",40),N.bd(1," No records found "),N.ic())}function sr(e,t){if(1&e){var i=N.kc();N.jc(0,"div",41),N.jc(1,"p-paginator",42,43),N.qc("onPageChange",function(e){return N.Rc(i),N.uc().onPageChange(e)})("firstChange",function(e){return N.Rc(i),N.uc().first=e}),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("rows",10)("totalRecords",n.projectList.length)("showCurrentPageReport",!0)("first",n.first)}}function dr(e,t){if(1&e&&(N.jc(0,"div",48),N.jc(1,"div"),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc(3);N.Nb(2),N.ed("Page ",i.selectedPage.page," of ",i.totalNumOfPages,"")}}function ur(e,t){if(1&e&&N.Zc(0,dr,3,2,"div",47),2&e){var i=N.uc(2);N.Bc("ngIf",i.selectedPage)}}function pr(e,t){if(1&e){var i=N.kc();N.jc(0,"div",44),N.jc(1,"p-dropdown",45),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().selectedPage=e})("onChange",function(e){return N.Rc(i),N.uc().onPageNumChange(e)}),N.Zc(2,ur,1,1,"ng-template",46),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("options",n.numOfPages)("filter",!0)("ngModel",n.selectedPage)}}function fr(e,t){1&e&&(N.jc(0,"span",49),N.ec(1,"i",50),N.bd(2," Confirmation "),N.ic())}function gr(e,t){if(1&e){var i=N.kc();N.hc(0),N.jc(1,"div",64),N.jc(2,"table"),N.jc(3,"tr",65),N.jc(4,"td"),N.jc(5,"p-checkbox",66),N.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return N.Rc(i),N.uc(2).pdfColsValue()}),N.ic(),N.ic(),N.jc(6,"td"),N.jc(7,"label"),N.bd(8),N.ic(),N.ic(),N.ic(),N.ic(),N.ic(),N.gc()}if(2&e){var n=t.$implicit,o=N.uc(2);N.Nb(5),N.Bc("ngModel",n.pdfCols)("disabled",o.pdfCheckboxDisabled&&!n.pdfCols),N.Nb(3),N.cd(n.displayValue)}}function hr(e,t){1&e&&(N.jc(0,"div",67),N.bd(1,"You can select up to 9 columns."),N.ic())}function mr(e,t){if(1&e){var i=N.kc();N.jc(0,"div",51),N.jc(1,"span",52),N.bd(2,"Please select columns that need to be downloaded in PDF"),N.ic(),N.ic(),N.jc(3,"div",53),N.jc(4,"div",54),N.Zc(5,gr,9,3,"ng-container",28),N.ic(),N.ic(),N.jc(6,"div",55),N.jc(7,"div",56),N.jc(8,"div",57),N.Zc(9,hr,2,0,"div",58),N.ic(),N.jc(10,"div",59),N.jc(11,"button",60),N.qc("click",function(){N.Rc(i);var e=N.uc();return e.exportPdf(),e.modalRef.hide()}),N.ic(),N.ic(),N.jc(12,"div",61),N.jc(13,"div"),N.jc(14,"label",62),N.qc("click",function(){return N.Rc(i),N.uc().closeExportPdf()}),N.bd(15,"Close"),N.ic(),N.jc(16,"img",63),N.qc("click",function(){return N.Rc(i),N.uc().closeExportPdf()}),N.ic(),N.ic(),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(5),N.Bc("ngForOf",n.customizeCols),N.Nb(4),N.Bc("ngIf",n.pdfCheckboxDisabled),N.Nb(2),N.Bc("disabled",n.disableDownloadBtn)}}var br=function(){return{width:"100%"}},vr=function(){return{width:"50vw"}};x.a.vfs=j.a.pdfMake.vfs;var Cr,yr=((Cr=function(){function e(t,i,n,a,r,c,l,s){o(this,e),this.userSettingsService=t,this.spinner=i,this.filterService=n,this.datePipe=a,this.modalService=r,this.router=c,this.cdr=l,this.domainProj=s,this.projectNames=[],this.projectList=[],this.mainUsersList=[],this.pageWiseProjects=[],this.display=!1,this.deleteModal=!1,this.deleteProjectObj={},this.globalRuleObjToCopy={},this.first=0,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.pageSize=9,this.totalNumOfPages=0,this.checkboxDisabled=!1,this.maxCount=4,this.displayFiltersFor={idProject:!1,projectName:!1,projectDescription:!1,domainId:!1},this.customizeCols=[{displayValue:"Project Id",originalValue:"idProject",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Project Name",originalValue:"projectName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Description",originalValue:"projectDescription",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Domain Id",originalValue:"domainId",isSelected:!0,necessaryCol:!0,alwaysSelected:!0}],this.pdfData=[],this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.columnFilter={},this.scrollHt="300px",this.filterData={},this.selectedRowData={},this.noRecordFound=!1}return r(e,[{key:"ngOnInit",value:function(){var e;this.domainProj.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData"),sessionStorage.removeItem("objProject"),this.fromDate=new Date(sessionStorage.getItem("fromDate")),this.toDate=new Date(sessionStorage.getItem("toDate")),this.getProjectList(),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(function(e){e.accessControl=e.accessControl.split("-")})))}},{key:"roleOnModule",value:function(e){return this.roleModule.find(function(t){return t.moduleName===e})}},{key:"hideBox",value:function(e){this.displayFiltersFor[e.fieldName]=!1}},{key:"openExportPdf",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"closeExportPdf",value:function(){var e=this;this.modalRef.hide(),setTimeout(function(){e.pdfCheckCount=0,e.pdfCheckboxDisabled=!1,e.disableDownloadBtn=!0,e.customizeCols.forEach(function(e){return e.pdfCols=!1})},1e3)}},{key:"exportPdf",value:function(){var e=this;this.pdfData.length&&(this.spinner.show(),setTimeout(function(){var t=new M.default("l","pt"),i=e.customizeCols.filter(function(e){return e.pdfCols}),n=[];i.forEach(function(e){return n.push(e.displayValue)});var o,a=[];i.forEach(function(e){return a.push(e.originalValue)}),o=e.pdfData.map(function(e){return Object.assign(a.map(function(t){return e[t]}))});var r=t.internal.pageSize,c=r.height?r.height:r.getHeight();S()(t,{columns:n,body:o,didDrawPage:function(e){1==e.pageNumber&&(t.text("Project Lists",t.internal.pageSize.width/2,25,null,"center"),t.setFontSize(10)),t.setFontSize(9),t.text("Created by FirstEigen",t.internal.pageSize.width-40,c-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}},columnStyles:{}}),t.save("Project lists.pdf"),e.disableDownloadBtn=!0,e.pdfCheckboxDisabled=!1,i.forEach(function(e){return e.pdfCols=!1}),e.spinner.hide()},2e3))}},{key:"pdfColsValue",value:function(){var e=this;this.pdfCheckCount=0,this.customizeCols.filter(function(e){return!0===e.pdfCols}).forEach(function(t){!0===t.pdfCols&&e.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}},{key:"downloadCSV",value:function(){var e=this;this.userSettingsService.downloadProjectCSV("projectCSV").subscribe(function(t){var i=e.datePipe.transform(new Date,"yyyy-MM-dd");Object(C.saveAs)(t,"ProjectCSV_"+i+".csv")})}},{key:"onFilterClick",value:function(e){var t=this;Object.keys(this.displayFiltersFor).map(function(i){t.displayFiltersFor[i]=i===e})}},{key:"checkValue",value:function(){var e=this;this.checkCount=0,this.customizeCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(t){!0===t.isSelected&&e.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}},{key:"showMoreCols",value:function(){return this.customizeCols.filter(function(e){return!e.necessaryCol&&e.isSelected}).length<this.customizeCols.length}},{key:"openOtherField",value:function(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"getProjectList",value:function(){var e=this;this.spinner.show(),this.userSettingsService.getProjectList().subscribe(function(i){if("success"===i.status){e.spinner.hide(),e.spinner.hide()&&(e.noRecordFound=!0),e.mainUsersList=t(i.result),e.projectList=t(e.mainUsersList),e.pdfData=t(e.mainUsersList);var n=e.first+e.pageSize;null!=e.filterObj&&e.filterObj.forEach(function(t){e.projectList=e.projectList.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})});var o=e.projectList.filter(function(e,t){return t<=n});e.pageWiseProjects=t(o),e.calculateNumOfPages(),e.checkCount=0,e.customizeCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(t){!0===t.isSelected&&e.checkCount++}),e.checkboxDisabled=e.checkCount>=e.maxCount}else e.mainUsersList=[],e.projectList=[],e.pageWiseProjects=[]})}},{key:"calculateNumOfPages",value:function(){if(this.totalNumOfPages=this.mainUsersList.length?this.mainUsersList.length<this.pageSize?1:Math.ceil(this.mainUsersList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}},{key:"onPageChange",value:function(e){var i=this;this.first=e.first;var n=this.getSortedData(),o=this.first+this.pageSize,a=n.filter(function(e,t){if(t<=o&&t>=i.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseProjects=t(a)}},{key:"onPageNumChange",value:function(e){var i=this;this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);var n=this.getSortedData(),o=this.first+this.pageSize,a=n.filter(function(e,t){if(t<=o&&t>=i.first)return e});this.pageWiseProjects=t(a)}},{key:"getSortedData",value:function(){var e=this,i=t(this.projectList);return this.sortOrderEvent?1===this.sortOrderEvent.order?(i.sort(function(t,i){return t[e.sortOrderEvent.field]>i[e.sortOrderEvent.field]?1:i[e.sortOrderEvent.field]>t[e.sortOrderEvent.field]?-1:0}),i):(i.sort(function(t,i){return t[e.sortOrderEvent.field]>i[e.sortOrderEvent.field]?-1:i[e.sortOrderEvent.field]>t[e.sortOrderEvent.field]?1:0}),i):i}},{key:"deleteProject",value:function(e){this.deleteModal=!0,this.deleteProjectObj=e}},{key:"deleteConfirm",value:function(){var e=this;this.deleteModal=!1,this.userSettingsService.deleteProject({projectId:this.deleteProjectObj.idProject}).subscribe(function(t){"success"===t.status&&(e.getProjectList(),e.deleteProjectObj={})})}},{key:"customSort",value:function(e){var i=this,n=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=n+1,this.selectedPage.pageIndex=n,this.sortOrderEvent=e;var o=t(this.projectList);o.sort(1===this.sortOrderEvent.order?function(t,i){return t[e.field]>i[e.field]?1:i[e.field]>t[e.field]?-1:0}:function(t,i){return t[e.field]>i[e.field]?-1:i[e.field]>t[e.field]?1:0});var a=this.first+this.pageSize,r=o.filter(function(e,t){if(t<=a&&t>=i.first)return e});this.pageWiseProjects=t(r)}},{key:"globalFilterFun",value:function(e){var i=t(this.globalFilterLogic()),n=this.first+this.pageSize,o=i.filter(function(e,t){return t<=n});this.cdr.detectChanges(),this.pageWiseProjects=t(o),this.setPageNumber()}},{key:"globalFilterLogic",value:function(){var e=this;if(this.mainUsersList.length){var i=Object.keys(this.mainUsersList[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainUsersList.forEach(function(t){var n=!1;i.forEach(function(i){t[i]&&t[i].toString().toLowerCase().includes(e.globalFilterValue.toLowerCase())&&!n&&(e.filterValue.push(t),n=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.first=0,n.forEach(function(t){e.filterValue=e.filterValue.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})})}return this.projectList=t(this.filterValue),this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=t(this.mainUsersList),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var o=Object.keys(this.columnFilter);this.first=0,o.forEach(function(t){e.filterValue=e.filterValue.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})})}return this.projectList=t(this.filterValue),this.calculateNumOfPages(),this.projectList}return[]}},{key:"getFilterData",value:function(e){var i=this;this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.displayFiltersFor[e[0]]=!1,this.first=0,this.projectList=t(this.mainUsersList),n.forEach(function(e){i.projectList=i.projectList.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"resetFilter",value:function(e){var i=this;this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.projectList=t(this.mainUsersList),n.forEach(function(e){i.projectList=i.projectList.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"setPageNumber",value:function(){if(this.totalNumOfPages=this.projectList.length?this.projectList.length<this.pageSize?1:Math.ceil(this.projectList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}var i=this.first+this.pageSize,n=this.projectList.filter(function(e,t){return t<=i});this.pageWiseProjects=t(n)}},{key:"getFilterState",value:function(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){var t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}},{key:"createProject",value:function(){this.router.navigate(["/dbckangui/user-setting/assets/add-project"])}},{key:"editProject",value:function(e){var t=this;this.userSettingsService.getProjectById({projectId:e.idProject}).subscribe(function(e){sessionStorage.setItem("objProject",JSON.stringify(e.result)),t.router.navigateByUrl("/dbckangui/user-setting/assets/edit-project")})}},{key:"filterColumnNameWithHighlightName",value:function(e){return!(Object.keys(this.columnFilter).findIndex(function(t){return t===e})<0)}}]),e}()).\u0275fac=function(e){return new(e||Cr)(N.dc(D.a),N.dc(F.c),N.dc(_.d),N.dc(l.d),N.dc(I.a),N.dc(d.i),N.dc(N.h),N.dc(V.a))},Cr.\u0275cmp=N.Xb({type:Cr,selectors:[["app-view-projects"]],decls:36,vars:33,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","text-right"],["pButton","","type","button","label","Add",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn",3,"ngClass","click"],[1,"d-flex","justify-content-end","p-field","br-top"],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],[1,"row","p-field"],["id","view_project_list",1,"col-sm-12","mr-top-20","pd-0"],["view_project_list",""],["styleClass","p-datatable-gridlines p-datatable-striped","sortMode","single","responsiveLayout","scroll",3,"value","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","rows","first","customSort","firstChange","sortFunction"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],["exportPdfTemplate",""],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"header"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],["class","text-center word_break_word_all",3,"ngClass","title",4,"ngIf"],[1,"text-center","word_break_word_all",3,"ngClass","title"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","pdf-modal"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-4"],["class","color-code",4,"ngIf"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"]],template:function(e,t){if(1&e){var i=N.kc();N.jc(0,"div",0),N.jc(1,"div",1),N.jc(2,"div",2),N.jc(3,"p",3),N.bd(4," Projects "),N.ic(),N.ic(),N.jc(5,"div",4),N.jc(6,"p",3),N.jc(7,"button",5),N.qc("click",function(){return t.createProject()}),N.ic(),N.ic(),N.ic(),N.ic(),N.jc(8,"div",6),N.jc(9,"div"),N.jc(10,"a"),N.jc(11,"img",7),N.qc("click",function(){return t.downloadCSV()}),N.ic(),N.ic(),N.jc(12,"a"),N.jc(13,"img",8),N.qc("click",function(){N.Rc(i);var e=N.Oc(35);return t.openExportPdf(e)}),N.ic(),N.ic(),N.ic(),N.ic(),N.jc(14,"div",9),N.jc(15,"div",10,11),N.jc(17,"p-table",12),N.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),N.Zc(18,tr,5,1,"ng-template",13),N.Zc(19,or,4,1,"ng-template",14),N.Zc(20,cr,7,3,"ng-template",15),N.ic(),N.ic(),N.Zc(21,lr,2,0,"div",16),N.jc(22,"div",17),N.Zc(23,sr,3,4,"div",18),N.Zc(24,pr,3,3,"div",19),N.ic(),N.ic(),N.ic(),N.jc(25,"p-dialog",20),N.qc("visibleChange",function(e){return t.deleteModal=e}),N.Zc(26,fr,3,0,"ng-template",14),N.jc(27,"p"),N.bd(28,"Are you sure you want to delete Project "),N.jc(29,"b"),N.bd(30),N.ic(),N.bd(31,"?"),N.ic(),N.jc(32,"p-footer"),N.jc(33,"button",21),N.qc("click",function(){return t.deleteConfirm()}),N.ic(),N.ic(),N.ic(),N.Zc(34,mr,17,3,"ng-template",null,22,N.ad)}if(2&e){var n=null;N.Nb(7),N.Bc("ngClass",null!=(n=t.roleOnModule("User Settings"))&&null!=n.accessControl&&n.accessControl.includes("C")?" cursor-pointer":"disable"),N.Nb(3),N.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseProjects&&t.pageWiseProjects.length?"":"disabled-opa",""),N.Nb(2),N.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseProjects&&t.pageWiseProjects.length?"":"disabled-opa",""),N.Nb(5),N.Vc(N.Ec(31,br)),N.Bc("value",t.pageWiseProjects)("responsive",!0)("rowHover",!0)("sortField","idProject")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("rows",10)("first",t.first)("customSort",!0),N.Nb(4),N.Bc("ngIf",!t.pageWiseProjects.length&&t.noRecordFound),N.Nb(2),N.Bc("ngIf",t.pageWiseProjects.length),N.Nb(1),N.Bc("ngIf",t.pageWiseProjects.length),N.Nb(1),N.Vc(N.Ec(32,vr)),N.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),N.Nb(5),N.cd(t.deleteProjectObj.projectName)}},directives:[L.b,l.l,R.f,_.i,l.n,B.a,_.e,s.d,E.a,s.o,s.r,l.m,R.d,R.e,z.a,g.a,f.a,T.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}"]}),Cr);function xr(e,t){if(1&e){var i=N.kc();N.jc(0,"div",23),N.jc(1,"span",24),N.jc(2,"input",25),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().globalFilterValue=e})("keyup",function(e){return N.Rc(i),N.uc().globalFilterFun(e)}),N.ic(),N.bd(3,"\xa0 "),N.ec(4,"i",26),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(2),N.Bc("ngModel",n.globalFilterValue)}}function Pr(e,t){if(1&e){var i=N.kc();N.jc(0,"th"),N.bd(1),N.ec(2,"br"),N.ec(3,"p-sortIcon",30),N.jc(4,"app-column-filter",31),N.qc("hideFilterDataBox",function(e){return N.Rc(i),N.uc(3).hideBox(e)})("filterData",function(e){return N.Rc(i),N.uc(3).getFilterData(e)})("resetFilterValues",function(e){return N.Rc(i),N.uc(3).resetFilter(e)}),N.ic(),N.jc(5,"span",32),N.jc(6,"i",33),N.qc("click",function(){N.Rc(i);var e=N.uc().$implicit;return N.uc(2).onFilterClick(e.originalValue)}),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc().$implicit,o=N.uc(2);N.Nb(1),N.dd(" ",n.displayValue,""),N.Nb(2),N.Cc("field",n.originalValue),N.Cc("pSortableColumn",n.originalValue),N.Nb(1),N.Bc("colFilterData",o.getFilterState(n.originalValue))("display",o.displayFiltersFor[n.originalValue])("fieldName",n.originalValue)("customId",n.originalValue),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"selected-filter-column":""),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function jr(e,t){if(1&e&&(N.hc(0),N.Zc(1,Pr,7,9,"th",29),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",i.isSelected)}}function wr(e,t){if(1&e&&(N.jc(0,"tr",27),N.Zc(1,jr,2,1,"ng-container",28),N.jc(2,"th"),N.bd(3," Actions"),N.ic(),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngForOf",i.customizeCols)}}function Or(e,t){if(1&e&&(N.jc(0,"td",39),N.jc(1,"span"),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc().$implicit,n=N.uc().$implicit;N.Bc("ngClass","description"==i.originalValue?"rule-ellipsis":"")("title",n[i.originalValue]),N.Nb(2),N.cd(n[i.originalValue])}}function kr(e,t){if(1&e&&(N.hc(0),N.Zc(1,Or,3,3,"td",38),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",i.isSelected)}}function Sr(e,t){if(1&e){var i=N.kc();N.jc(0,"tr",34),N.Zc(1,kr,2,1,"ng-container",28),N.jc(2,"td"),N.jc(3,"span",35),N.qc("click",function(){N.Rc(i);var e=t.$implicit;return N.uc().editRole(e)}),N.ec(4,"i",36),N.ic(),N.jc(5,"span",35),N.qc("click",function(){N.Rc(i);var e=t.$implicit;return N.uc().deleteRole(e)}),N.ec(6,"i",37),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc(),o=null,a=null;N.Nb(1),N.Bc("ngForOf",n.customizeCols),N.Nb(2),N.Bc("ngClass",null!=(o=n.roleOnModule("User Settings"))&&null!=o.accessControl&&o.accessControl.includes("U")?" cursor-pointer":"disable"),N.Nb(2),N.Bc("ngClass",null!=(a=n.roleOnModule("User Settings"))&&null!=a.accessControl&&a.accessControl.includes("D")?" cursor-pointer":"disable")}}function Mr(e,t){1&e&&(N.jc(0,"div",40),N.bd(1," No records found "),N.ic())}function Nr(e,t){if(1&e){var i=N.kc();N.jc(0,"div",41),N.jc(1,"p-paginator",42,43),N.qc("onPageChange",function(e){return N.Rc(i),N.uc().onPageChange(e)})("firstChange",function(e){return N.Rc(i),N.uc().first=e}),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("rows",10)("totalRecords",n.roleLists.length)("showCurrentPageReport",!0)("first",n.first)}}function Dr(e,t){if(1&e&&(N.jc(0,"div",48),N.jc(1,"div"),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc(3);N.Nb(2),N.ed("Page ",i.selectedPage.page," of ",i.totalNumOfPages,"")}}function Fr(e,t){if(1&e&&N.Zc(0,Dr,3,2,"div",47),2&e){var i=N.uc(2);N.Bc("ngIf",i.selectedPage)}}function _r(e,t){if(1&e){var i=N.kc();N.jc(0,"div",44),N.jc(1,"p-dropdown",45),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().selectedPage=e})("onChange",function(e){return N.Rc(i),N.uc().onPageNumChange(e)}),N.Zc(2,Fr,1,1,"ng-template",46),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("options",n.numOfPages)("filter",!0)("ngModel",n.selectedPage)}}function Ir(e,t){1&e&&(N.jc(0,"span",49),N.ec(1,"i",50),N.bd(2," Confirmation "),N.ic())}function Vr(e,t){if(1&e){var i=N.kc();N.hc(0),N.jc(1,"div",64),N.jc(2,"table"),N.jc(3,"tr",65),N.jc(4,"td"),N.jc(5,"p-checkbox",66),N.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return N.Rc(i),N.uc(2).pdfColsValue()}),N.ic(),N.ic(),N.jc(6,"td"),N.jc(7,"label"),N.bd(8),N.ic(),N.ic(),N.ic(),N.ic(),N.ic(),N.gc()}if(2&e){var n=t.$implicit,o=N.uc(2);N.Nb(5),N.Bc("ngModel",n.pdfCols)("disabled",o.pdfCheckboxDisabled&&!n.pdfCols),N.Nb(3),N.cd(n.displayValue)}}function Lr(e,t){1&e&&(N.jc(0,"div",67),N.bd(1,"You can select up to 9 columns."),N.ic())}function Rr(e,t){if(1&e){var i=N.kc();N.jc(0,"div",51),N.jc(1,"span",52),N.bd(2,"Please select columns that need to be downloaded in PDF"),N.ic(),N.ic(),N.jc(3,"div",53),N.jc(4,"div",54),N.Zc(5,Vr,9,3,"ng-container",28),N.ic(),N.ic(),N.jc(6,"div",55),N.jc(7,"div",56),N.jc(8,"div",57),N.Zc(9,Lr,2,0,"div",58),N.ic(),N.jc(10,"div",59),N.jc(11,"button",60),N.qc("click",function(){N.Rc(i);var e=N.uc();return e.exportPdf(),e.modalRef.hide()}),N.ic(),N.ic(),N.jc(12,"div",61),N.jc(13,"div"),N.jc(14,"label",62),N.qc("click",function(){return N.Rc(i),N.uc().closeExportPdf()}),N.bd(15,"Close"),N.ic(),N.jc(16,"img",63),N.qc("click",function(){return N.Rc(i),N.uc().closeExportPdf()}),N.ic(),N.ic(),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(5),N.Bc("ngForOf",n.customizeCols),N.Nb(4),N.Bc("ngIf",n.pdfCheckboxDisabled),N.Nb(2),N.Bc("disabled",n.disableDownloadBtn)}}var Br=function(){return{width:"100%"}},Er=function(){return{width:"50vw"}};x.a.vfs=j.a.pdfMake.vfs;var zr,Tr=((zr=function(){function e(t,i,n,a,r,c,l,s){o(this,e),this.userSettingsService=t,this.spinner=i,this.filterService=n,this.datePipe=a,this.modalService=r,this.router=c,this.cdr=l,this.domainProjService=s,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.projectNames=[],this.roleLists=[],this.mainRolesList=[],this.pageWiseRoles=[],this.display=!1,this.deleteModal=!1,this.deleteRoleObj={},this.first=0,this.pageSize=9,this.totalNumOfPages=0,this.checkboxDisabled=!1,this.maxCount=4,this.pdfData=[],this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.pdfCheckCount=0,this.columnFilter={},this.scrollHt="300px",this.filterData={},this.selectedRowData={},this.noRecordFound=!1,this.displayFiltersFor={roleName:!1,description:!1},this.customizeCols=[{displayValue:"Role Name",originalValue:"roleName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Description",originalValue:"description",isSelected:!0,necessaryCol:!0,alwaysSelected:!0}],this.selectedProjId=JSON.parse(sessionStorage.getItem("activeProjectId"))}return r(e,[{key:"ngOnInit",value:function(){var e;this.domainProjService.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData"),this.fromDate=new Date(sessionStorage.getItem("fromDate")),this.toDate=new Date(sessionStorage.getItem("toDate")),this.getRoleList(),sessionStorage.removeItem("editRole"),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(function(e){e.accessControl=e.accessControl.split("-")})))}},{key:"roleOnModule",value:function(e){return this.roleModule.find(function(t){return t.moduleName===e})}},{key:"hideBox",value:function(e){this.displayFiltersFor[e.fieldName]=!1}},{key:"openExportPdf",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"closeExportPdf",value:function(){var e=this;this.modalRef.hide(),setTimeout(function(){e.pdfCheckCount=0,e.pdfCheckboxDisabled=!1,e.disableDownloadBtn=!0,e.customizeCols.forEach(function(e){return e.pdfCols=!1})},1e3)}},{key:"exportPdf",value:function(){var e=this;this.pdfData.length&&(this.spinner.show(),setTimeout(function(){var t=new M.default("l","pt"),i=e.customizeCols.filter(function(e){return e.pdfCols}),n=[];i.forEach(function(e){return n.push(e.displayValue)});var o,a=[];i.forEach(function(e){return a.push(e.originalValue)}),o=e.pdfData.map(function(e){return Object.assign(a.map(function(t){return e[t]}))});var r=t.internal.pageSize,c=r.height?r.height:r.getHeight();S()(t,{columns:n,body:o,didDrawPage:function(e){1===e.pageNumber&&(t.text("View Roles",t.internal.pageSize.width/2,25,null,"center"),t.setFontSize(10)),t.setFontSize(9),t.text("Created by FirstEigen",t.internal.pageSize.width-40,c-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}}}),t.save("View Roles.pdf"),e.disableDownloadBtn=!0,e.pdfCheckboxDisabled=!1,i.forEach(function(e){return e.pdfCols=!1}),e.spinner.hide()},2e3))}},{key:"pdfColsValue",value:function(){var e=this;this.pdfCheckCount=0,this.customizeCols.filter(function(e){return!0===e.pdfCols}).forEach(function(t){!0===t.pdfCols&&e.pdfCheckCount++}),this.disableDownloadBtn=0===this.pdfCheckCount,this.pdfCheckboxDisabled=9===this.pdfCheckCount}},{key:"downloadCSV",value:function(){var e=this,t=new Date(this.fromDate),i=new Date(this.toDate);this.datePipe.transform(t,"yyyy-MM-dd"),this.datePipe.transform(i,"yyyy-MM-dd"),this.userSettingsService.downloadUserCSV("roleCSV").subscribe(function(t){var i=e.datePipe.transform(new Date,"yyyy-MM-dd");Object(C.saveAs)(t,"Role_List_"+i+".csv")})}},{key:"onFilterClick",value:function(e){var t=this;Object.keys(this.displayFiltersFor).map(function(i){t.displayFiltersFor[i]=i===e})}},{key:"checkValue",value:function(){var e=this;this.checkCount=0,this.customizeCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(t){!0===t.isSelected&&e.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}},{key:"getRoleList",value:function(){var e=this;this.spinner.show(),this.userSettingsService.getRoleList().subscribe(function(i){if("success"===i.status){e.spinner.hide(),e.spinner.hide()&&(e.noRecordFound=!0),e.mainRolesList=t(i.result),e.roleLists=t(e.mainRolesList),e.pdfData=t(e.mainRolesList);var n=e.first+e.pageSize;null!=e.filterObj&&e.filterObj.forEach(function(t){e.roleLists=e.roleLists.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})});var o=e.roleLists.filter(function(e,t){return t<=n});e.pageWiseRoles=t(o),e.calculateNumOfPages(),e.checkCount=0,e.customizeCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(t){!0===t.isSelected&&e.checkCount++}),e.checkboxDisabled=e.checkCount>=e.maxCount}else e.mainRolesList=[],e.roleLists=[],e.pageWiseRoles=[];e.cdr.detectChanges()})}},{key:"calculateNumOfPages",value:function(){if(this.totalNumOfPages=this.mainRolesList.length?this.mainRolesList.length<this.pageSize?1:Math.ceil(this.mainRolesList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}},{key:"onPageChange",value:function(e){var i=this;this.first=e.first;var n=this.getSortedData(),o=this.first+this.pageSize,a=n.filter(function(e,t){if(t<=o&&t>=i.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseRoles=t(a)}},{key:"onPageNumChange",value:function(e){var i=this;this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);var n=this.getSortedData(),o=this.first+this.pageSize,a=n.filter(function(e,t){if(t<=o&&t>=i.first)return e});this.pageWiseRoles=t(a)}},{key:"getSortedData",value:function(){var e=this,i=t(this.roleLists);return this.sortOrderEvent?1===this.sortOrderEvent.order?(i.sort(function(t,i){return t[e.sortOrderEvent.field]>i[e.sortOrderEvent.field]?1:i[e.sortOrderEvent.field]>t[e.sortOrderEvent.field]?-1:0}),i):(i.sort(function(t,i){return t[e.sortOrderEvent.field]>i[e.sortOrderEvent.field]?-1:i[e.sortOrderEvent.field]>t[e.sortOrderEvent.field]?1:0}),i):i}},{key:"deleteRole",value:function(e){this.deleteModal=!0,this.deleteRoleObj=e}},{key:"deleteConfirm",value:function(){var e=this;this.deleteModal=!1,this.userSettingsService.deleteRole({idRole:this.deleteRoleObj.idRole}).subscribe(function(t){"success"===t.status&&(e.mainRolesList=[],e.getRoleList(),e.deleteRoleObj={})})}},{key:"returnPageWiseRoles",value:function(){return this.pageWiseRoles.length?this.pageWiseRoles:[]}},{key:"editRole",value:function(e){sessionStorage.setItem("editRole",JSON.stringify(e)),this.router.navigateByUrl("/dbckangui/user-setting/edit-role")}},{key:"customSort",value:function(e){var i=this,n=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=n+1,this.selectedPage.pageIndex=n,this.sortOrderEvent=e;var o=t(this.roleLists);o.sort(1===this.sortOrderEvent.order?function(t,i){return t[e.field]>i[e.field]?1:i[e.field]>t[e.field]?-1:0}:function(t,i){return t[e.field]>i[e.field]?-1:i[e.field]>t[e.field]?1:0});var a=this.first+this.pageSize,r=o.filter(function(e,t){if(t<=a&&t>=i.first)return e});this.pageWiseRoles=t(r)}},{key:"globalFilterFun",value:function(e){var i=t(this.globalFilterLogic()),n=this.first+this.pageSize,o=i.filter(function(e,t){return t<=n});this.cdr.detectChanges(),this.pageWiseRoles=t(o),this.setPageNumber()}},{key:"globalFilterLogic",value:function(){var e=this;if(this.mainRolesList.length){var i=Object.keys(this.mainRolesList[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainRolesList.forEach(function(t){var n=!1;i.forEach(function(i){t[i]&&t[i].toString().toLowerCase().includes(e.globalFilterValue.toLowerCase())&&!n&&(e.filterValue.push(t),n=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.first=0,n.forEach(function(t){e.filterValue=e.filterValue.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})})}return this.roleLists=t(this.filterValue),this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=t(this.mainRolesList),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var o=Object.keys(this.columnFilter);this.first=0,o.forEach(function(t){e.filterValue=e.filterValue.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})})}return this.roleLists=t(this.filterValue),this.calculateNumOfPages(),this.roleLists}return[]}},{key:"getFilterData",value:function(e){var i=this;this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.displayFiltersFor[e[0]]=!1,this.first=0,this.globalFilterValue||(this.roleLists=t(this.mainRolesList)),n.forEach(function(e){i.roleLists=i.roleLists.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"resetFilter",value:function(e){var i=this;this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.roleLists=t(this.mainRolesList),n.forEach(function(e){i.roleLists=i.roleLists.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"setPageNumber",value:function(){if(this.totalNumOfPages=this.roleLists.length?this.roleLists.length<this.pageSize?1:Math.ceil(this.roleLists.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}var i=this.first+this.pageSize,n=this.roleLists.filter(function(e,t){return t<=i});this.pageWiseRoles=t(n)}},{key:"getFilterState",value:function(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){var t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}},{key:"createRole",value:function(){this.router.navigate(["/dbckangui/user-setting/add-role"])}},{key:"filterColumnNameWithHighlightName",value:function(e){return!(Object.keys(this.columnFilter).findIndex(function(t){return t===e})<0)}}]),e}()).\u0275fac=function(e){return new(e||zr)(N.dc(D.a),N.dc(F.c),N.dc(_.d),N.dc(l.d),N.dc(I.a),N.dc(d.i),N.dc(N.h),N.dc(V.a))},zr.\u0275cmp=N.Xb({type:zr,selectors:[["app-view-roles"]],decls:35,vars:33,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","text-right"],["pButton","","type","button","label","Add",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn",3,"ngClass","click"],[1,"d-flex","justify-content-end","p-field","br-top"],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],[1,"row","p-field"],["id","view_user_list",1,"col-sm-12","mr-top-20","pd-0"],["view_user_list",""],["styleClass","p-datatable-gridlines p-datatable-striped","sortMode","single",3,"value","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","rows","first","customSort","firstChange","sortFunction"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],["exportPdfTemplate",""],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"header"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],["class","text-center word_break_word_all",3,"ngClass","title",4,"ngIf"],[1,"text-center","word_break_word_all",3,"ngClass","title"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","pdf-modal"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-4"],["class","color-code",4,"ngIf"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"]],template:function(e,t){if(1&e){var i=N.kc();N.jc(0,"div",0),N.jc(1,"div",1),N.jc(2,"div",2),N.jc(3,"p",3),N.bd(4," Roles "),N.ic(),N.ic(),N.jc(5,"div",4),N.jc(6,"p",3),N.jc(7,"button",5),N.qc("click",function(){return t.createRole()}),N.ic(),N.ic(),N.ic(),N.ic(),N.jc(8,"div",6),N.jc(9,"a"),N.jc(10,"img",7),N.qc("click",function(){return t.downloadCSV()}),N.ic(),N.ic(),N.jc(11,"a"),N.jc(12,"img",8),N.qc("click",function(){N.Rc(i);var e=N.Oc(34);return t.openExportPdf(e)}),N.ic(),N.ic(),N.ic(),N.jc(13,"div",9),N.jc(14,"div",10,11),N.jc(16,"p-table",12),N.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),N.Zc(17,xr,5,1,"ng-template",13),N.Zc(18,wr,4,1,"ng-template",14),N.Zc(19,Sr,7,3,"ng-template",15),N.ic(),N.ic(),N.Zc(20,Mr,2,0,"div",16),N.jc(21,"div",17),N.Zc(22,Nr,3,4,"div",18),N.Zc(23,_r,3,3,"div",19),N.ic(),N.ic(),N.ic(),N.jc(24,"p-dialog",20),N.qc("visibleChange",function(e){return t.deleteModal=e}),N.Zc(25,Ir,3,0,"ng-template",14),N.jc(26,"p"),N.bd(27,"Are you sure you want to delete Role "),N.jc(28,"b"),N.bd(29),N.ic(),N.bd(30,"?"),N.ic(),N.jc(31,"p-footer"),N.jc(32,"button",21),N.qc("click",function(){return t.deleteConfirm()}),N.ic(),N.ic(),N.ic(),N.Zc(33,Rr,17,3,"ng-template",null,22,N.ad)}if(2&e){var n=null;N.Nb(7),N.Bc("ngClass",null!=(n=t.roleOnModule("User Settings"))&&null!=n.accessControl&&n.accessControl.includes("C")?" cursor-pointer":"disable"),N.Nb(2),N.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseRoles&&t.pageWiseRoles.length?"":"disabled-opa",""),N.Nb(2),N.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseRoles&&t.pageWiseRoles.length?"":"disabled-opa",""),N.Nb(5),N.Vc(N.Ec(31,Br)),N.Bc("value",t.returnPageWiseRoles())("responsive",!0)("rowHover",!0)("sortField","idRole")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("rows",10)("first",t.first)("customSort",!0),N.Nb(4),N.Bc("ngIf",!t.pageWiseRoles.length&&t.noRecordFound),N.Nb(2),N.Bc("ngIf",t.pageWiseRoles.length),N.Nb(1),N.Bc("ngIf",t.pageWiseRoles.length),N.Nb(1),N.Vc(N.Ec(32,Er)),N.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),N.Nb(5),N.cd(t.deleteRoleObj.roleName)}},directives:[L.b,l.l,R.f,_.i,l.n,B.a,_.e,s.d,E.a,s.o,s.r,l.m,R.d,R.e,z.a,g.a,f.a,T.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}"]}),zr);function qr(e,t){if(1&e){var i=N.kc();N.jc(0,"div",24),N.jc(1,"span",25),N.jc(2,"input",26),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().globalFilterValue=e})("keyup",function(e){return N.Rc(i),N.uc().globalFilterFun(e)}),N.ic(),N.bd(3,"\xa0 "),N.ec(4,"i",27),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(2),N.Bc("ngModel",n.globalFilterValue)}}function Zr(e,t){if(1&e){var i=N.kc();N.jc(0,"th"),N.bd(1),N.ec(2,"br"),N.ec(3,"p-sortIcon",32),N.jc(4,"app-column-filter",33),N.qc("hideFilterDataBox",function(e){return N.Rc(i),N.uc(3).hideBox(e)})("filterData",function(e){return N.Rc(i),N.uc(3).getFilterData(e)})("resetFilterValues",function(e){return N.Rc(i),N.uc(3).resetFilter(e)}),N.ic(),N.jc(5,"span",34),N.jc(6,"i",35),N.qc("click",function(){N.Rc(i);var e=N.uc().$implicit;return N.uc(2).onFilterClick(e.originalValue)}),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc().$implicit,o=N.uc(2);N.Nb(1),N.dd(" ",n.displayValue,""),N.Nb(2),N.Cc("field",n.originalValue),N.Cc("pSortableColumn",n.originalValue),N.Nb(1),N.Bc("colFilterData",o.getFilterState(n.originalValue))("display",o.displayFiltersFor[n.originalValue])("fieldName",n.originalValue)("customId",n.originalValue),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"selected-filter-column":""),N.Nb(1),N.Bc("ngClass",o.filterColumnNameWithHighlightName(n.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function Ur(e,t){if(1&e&&(N.hc(0),N.Zc(1,Zr,7,9,"th",31),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",i.isSelected)}}function Ar(e,t){if(1&e&&(N.jc(0,"tr",28),N.Zc(1,Ur,2,1,"ng-container",29),N.jc(2,"th",30),N.bd(3," Actions"),N.ic(),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngForOf",i.customizeCols)}}function Wr(e,t){if(1&e&&(N.jc(0,"td",41),N.jc(1,"span"),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc().$implicit,n=N.uc().$implicit;N.Bc("title",n[i.originalValue]),N.Nb(2),N.cd(n[i.originalValue])}}function Gr(e,t){if(1&e&&(N.hc(0),N.Zc(1,Wr,3,2,"td",40),N.gc()),2&e){var i=t.$implicit;N.Nb(1),N.Bc("ngIf",i.isSelected)}}function $r(e,t){if(1&e){var i=N.kc();N.jc(0,"tr",36),N.Zc(1,Gr,2,1,"ng-container",29),N.jc(2,"td",30),N.jc(3,"span",37),N.qc("click",function(){N.Rc(i);var e=t.$implicit;return N.uc().editUser(e)}),N.ec(4,"i",38),N.ic(),N.jc(5,"span",37),N.qc("click",function(){N.Rc(i);var e=t.$implicit;return N.uc().deleteUser(e)}),N.ec(6,"i",39),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc(),o=null,a=null;N.Nb(1),N.Bc("ngForOf",n.customizeCols),N.Nb(2),N.Bc("ngClass",null!=(o=n.roleOnModule("User Settings"))&&null!=o.accessControl&&o.accessControl.includes("U")?" cursor-pointer":"disable"),N.Nb(2),N.Bc("ngClass",null!=(a=n.roleOnModule("User Settings"))&&null!=a.accessControl&&a.accessControl.includes("D")?" cursor-pointer":"disable")}}function Jr(e,t){1&e&&(N.jc(0,"div",42),N.bd(1," No records found "),N.ic())}function Hr(e,t){if(1&e){var i=N.kc();N.jc(0,"div",43),N.jc(1,"p-paginator",44,45),N.qc("onPageChange",function(e){return N.Rc(i),N.uc().onPageChange(e)})("firstChange",function(e){return N.Rc(i),N.uc().first=e}),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("rows",10)("totalRecords",n.userLists.length)("showCurrentPageReport",!0)("first",n.first)}}function Yr(e,t){if(1&e&&(N.jc(0,"div",50),N.jc(1,"div"),N.bd(2),N.ic(),N.ic()),2&e){var i=N.uc(3);N.Nb(2),N.ed("Page ",i.selectedPage.page," of ",i.totalNumOfPages,"")}}function Qr(e,t){if(1&e&&N.Zc(0,Yr,3,2,"div",49),2&e){var i=N.uc(2);N.Bc("ngIf",i.selectedPage)}}function Kr(e,t){if(1&e){var i=N.kc();N.jc(0,"div",46),N.jc(1,"p-dropdown",47),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().selectedPage=e})("onChange",function(e){return N.Rc(i),N.uc().onPageNumChange(e)}),N.Zc(2,Qr,1,1,"ng-template",48),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("options",n.numOfPages)("filter",!0)("ngModel",n.selectedPage)}}function Xr(e,t){1&e&&(N.jc(0,"span",51),N.ec(1,"i",52),N.bd(2," Confirmation "),N.ic())}function ec(e,t){if(1&e){var i=N.kc();N.hc(0),N.jc(1,"div",66),N.jc(2,"table"),N.jc(3,"tr",67),N.jc(4,"td"),N.jc(5,"p-checkbox",68),N.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return N.Rc(i),N.uc(2).pdfColsValue()}),N.ic(),N.ic(),N.jc(6,"td"),N.jc(7,"label"),N.bd(8),N.ic(),N.ic(),N.ic(),N.ic(),N.ic(),N.gc()}if(2&e){var n=t.$implicit,o=N.uc(2);N.Nb(5),N.Bc("ngModel",n.pdfCols)("disabled",o.pdfCheckboxDisabled&&!n.pdfCols),N.Nb(3),N.cd(n.displayValue)}}function tc(e,t){1&e&&(N.jc(0,"div",69),N.bd(1,"You can select up to 9 columns."),N.ic())}function ic(e,t){if(1&e){var i=N.kc();N.jc(0,"div",53),N.jc(1,"span",54),N.bd(2,"Please select columns that need to be downloaded in PDF"),N.ic(),N.ic(),N.jc(3,"div",55),N.jc(4,"div",56),N.Zc(5,ec,9,3,"ng-container",29),N.ic(),N.ic(),N.jc(6,"div",57),N.jc(7,"div",58),N.jc(8,"div",59),N.Zc(9,tc,2,0,"div",60),N.ic(),N.jc(10,"div",61),N.jc(11,"button",62),N.qc("click",function(){N.Rc(i);var e=N.uc();return e.exportPdf(),e.modalRef.hide()}),N.ic(),N.ic(),N.jc(12,"div",63),N.jc(13,"div"),N.jc(14,"label",64),N.qc("click",function(){return N.Rc(i),N.uc().closeExportPdf()}),N.bd(15,"Close"),N.ic(),N.jc(16,"img",65),N.qc("click",function(){return N.Rc(i),N.uc().closeExportPdf()}),N.ic(),N.ic(),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(5),N.Bc("ngForOf",n.customizeCols),N.Nb(4),N.Bc("ngIf",n.pdfCheckboxDisabled),N.Nb(2),N.Bc("disabled",n.disableDownloadBtn)}}var nc=function(){return{width:"100%"}},oc=function(){return{width:"50vw"}};x.a.vfs=j.a.pdfMake.vfs;var ac,rc=((ac=function(){function e(t,i,n,a,r,c,l,s){o(this,e),this.userSettingsService=t,this.spinner=i,this.filterService=n,this.datePipe=a,this.modalService=r,this.router=c,this.cdr=l,this.domainProjService=s,this.projectNames=[],this.userLists=[],this.mainUsersList=[],this.pageWiseUsers=[],this.display=!1,this.deleteModal=!1,this.deleteUserObj={},this.first=0,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.pageSize=9,this.totalNumOfPages=0,this.checkboxDisabled=!1,this.maxCount=4,this.displayFiltersFor={firstName:!1,lastName:!1,email:!1,roleName:!1},this.customizeCols=[{displayValue:"First Name",originalValue:"firstName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Last Name",originalValue:"lastName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Email",originalValue:"email",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Role Name",originalValue:"roleName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0}],this.pdfData=[],this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.pdfCheckCount=0,this.selectedProjId=JSON.parse(sessionStorage.getItem("activeProjectId")),this.columnFilter={},this.scrollHt="300px",this.filterData={},this.selectedRowData={},this.noRecordFound=!1}return r(e,[{key:"ngOnInit",value:function(){var e;this.domainProjService.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData"),this.fromDate=new Date(sessionStorage.getItem("fromDate")),this.toDate=new Date(sessionStorage.getItem("toDate")),this.getUserList(),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(function(e){e.accessControl=e.accessControl.split("-")})))}},{key:"roleOnModule",value:function(e){return this.roleModule.find(function(t){return t.moduleName===e})}},{key:"openExportPdf",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"closeExportPdf",value:function(){var e=this;this.modalRef.hide(),setTimeout(function(){e.pdfCheckCount=0,e.pdfCheckboxDisabled=!1,e.disableDownloadBtn=!0,e.customizeCols.forEach(function(e){return e.pdfCols=!1})},1e3)}},{key:"exportPdf",value:function(){var e=this;this.pdfData.length&&(this.spinner.show(),setTimeout(function(){var t=new M.default("l","pt"),i=e.customizeCols.filter(function(e){return e.pdfCols}),n=[];i.forEach(function(e){return n.push(e.displayValue)});var o,a=[];i.forEach(function(e){return a.push(e.originalValue)}),o=e.pdfData.map(function(e){return Object.assign(a.map(function(t){return e[t]}))});var r=t.internal.pageSize,c=r.height?r.height:r.getHeight();S()(t,{columns:n,body:o,didDrawPage:function(e){1==e.pageNumber&&(t.text("Users List",t.internal.pageSize.width/2,25,null,"center"),t.setFontSize(10)),t.setFontSize(9),t.text("Created by FirstEigen",t.internal.pageSize.width-40,c-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}}}),t.save("Users List.pdf"),e.disableDownloadBtn=!0,e.pdfCheckboxDisabled=!1,i.forEach(function(e){return e.pdfCols=!1}),e.spinner.hide()},2e3))}},{key:"pdfColsValue",value:function(){var e=this;this.pdfCheckCount=0,this.customizeCols.filter(function(e){return!0===e.pdfCols}).forEach(function(t){!0===t.pdfCols&&e.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}},{key:"downloadCSV",value:function(){var e=this;this.userSettingsService.downloadUserCSV("userCSV").subscribe(function(t){var i=e.datePipe.transform(new Date,"yyyy-MM-dd");Object(C.saveAs)(t,"User_List_CSV_"+i+".csv")})}},{key:"hideBox",value:function(e){this.displayFiltersFor[e.fieldName]=!1}},{key:"onFilterClick",value:function(e){var t=this;Object.keys(this.displayFiltersFor).map(function(i){t.displayFiltersFor[i]=i===e})}},{key:"checkValue",value:function(){var e=this;this.checkCount=0,this.customizeCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(t){!0===t.isSelected&&e.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}},{key:"showMoreCols",value:function(){return this.customizeCols.filter(function(e){return!e.necessaryCol&&e.isSelected}).length<this.customizeCols.length}},{key:"openOtherField",value:function(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"editUser",value:function(e){sessionStorage.setItem("objUser",JSON.stringify(e)),this.router.navigateByUrl("/dbckangui/user-setting/edit-user")}},{key:"getUserList",value:function(){var e=this;this.spinner.show(),this.userSettingsService.getListOfUsers().subscribe(function(i){if("success"===i.status){e.spinner.hide(),e.spinner.hide()&&(e.noRecordFound=!0),e.mainUsersList=t(i.result),e.userLists=t(e.mainUsersList),e.pdfData=t(e.mainUsersList);var n=e.first+e.pageSize;null!=e.filterObj&&e.filterObj.forEach(function(t){e.userLists=e.userLists.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})});var o=e.userLists.filter(function(e,t){return t<=n});e.pageWiseUsers=t(o),e.calculateNumOfPages(),e.checkCount=0,e.customizeCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(t){!0===t.isSelected&&e.checkCount++}),e.checkboxDisabled=e.checkCount>=e.maxCount}else e.mainUsersList=[],e.userLists=[],e.pageWiseUsers=[]})}},{key:"calculateNumOfPages",value:function(){if(this.totalNumOfPages=this.mainUsersList.length?this.mainUsersList.length<this.pageSize?1:Math.ceil(this.mainUsersList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}},{key:"onPageChange",value:function(e){var i=this;this.first=e.first;var n=this.getSortedData(),o=this.first+this.pageSize,a=n.filter(function(e,t){if(t<=o&&t>=i.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseUsers=t(a)}},{key:"onPageNumChange",value:function(e){var i=this;this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);var n=this.getSortedData(),o=this.first+this.pageSize,a=n.filter(function(e,t){if(t<=o&&t>=i.first)return e});this.pageWiseUsers=t(a)}},{key:"getSortedData",value:function(){var e=this,i=t(this.userLists);return this.sortOrderEvent?1===this.sortOrderEvent.order?(i.sort(function(t,i){return t[e.sortOrderEvent.field]>i[e.sortOrderEvent.field]?1:i[e.sortOrderEvent.field]>t[e.sortOrderEvent.field]?-1:0}),i):(i.sort(function(t,i){return t[e.sortOrderEvent.field]>i[e.sortOrderEvent.field]?-1:i[e.sortOrderEvent.field]>t[e.sortOrderEvent.field]?1:0}),i):i}},{key:"deleteUser",value:function(e){this.deleteModal=!0,this.deleteUserObj=e}},{key:"deleteConfirm",value:function(){var e=this;this.deleteModal=!1,this.userSettingsService.deleteUser({idUser:this.deleteUserObj.idUser}).subscribe(function(t){"success"===t.status&&(e.getUserList(),e.deleteUserObj={})})}},{key:"customSort",value:function(e){var i=this,n=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=n+1,this.selectedPage.pageIndex=n,this.sortOrderEvent=e;var o=t(this.userLists);o.sort(1===this.sortOrderEvent.order?function(t,i){return t[e.field]>i[e.field]?1:i[e.field]>t[e.field]?-1:0}:function(t,i){return t[e.field]>i[e.field]?-1:i[e.field]>t[e.field]?1:0});var a=this.first+this.pageSize,r=o.filter(function(e,t){if(t<=a&&t>=i.first)return e});this.pageWiseUsers=t(r)}},{key:"globalFilterFun",value:function(e){var i=t(this.globalFilterLogic()),n=this.first+this.pageSize,o=i.filter(function(e,t){return t<=n});this.cdr.detectChanges(),this.pageWiseUsers=t(o),this.setPageNumber()}},{key:"globalFilterLogic",value:function(){var e=this;if(this.mainUsersList.length){var i=Object.keys(this.mainUsersList[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainUsersList.forEach(function(t){var n=!1;i.forEach(function(i){t[i]&&t[i].toString().toLowerCase().includes(e.globalFilterValue.toLowerCase())&&!n&&(e.filterValue.push(t),n=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.first=0,n.forEach(function(t){e.filterValue=e.filterValue.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})})}return this.userLists=t(this.filterValue),this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=t(this.mainUsersList),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var o=Object.keys(this.columnFilter);this.first=0,o.forEach(function(t){e.filterValue=e.filterValue.filter(function(i){return e.filterService.filters.contains(i[t],e.columnFilter[t])})})}return this.userLists=t(this.filterValue),this.calculateNumOfPages(),this.userLists}return[]}},{key:"getFilterData",value:function(e){var i=this;this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.displayFiltersFor[e[0]]=!1,this.first=0,this.userLists=t(this.mainUsersList),n.forEach(function(e){i.userLists=i.userLists.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"resetFilter",value:function(e){var i=this;this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.userLists=t(this.mainUsersList),n.forEach(function(e){i.userLists=i.userLists.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"setPageNumber",value:function(){if(this.totalNumOfPages=this.userLists.length?this.userLists.length<this.pageSize?1:Math.ceil(this.userLists.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}var i=this.first+this.pageSize,n=this.userLists.filter(function(e,t){return t<=i});this.pageWiseUsers=t(n)}},{key:"getFilterState",value:function(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){var t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}},{key:"createUser",value:function(){this.router.navigate(["/dbckangui/user-setting/add-user"])}},{key:"filterColumnNameWithHighlightName",value:function(e){return!(Object.keys(this.columnFilter).findIndex(function(t){return t===e})<0)}}]),e}()).\u0275fac=function(e){return new(e||ac)(N.dc(D.a),N.dc(F.c),N.dc(_.d),N.dc(l.d),N.dc(I.a),N.dc(d.i),N.dc(N.h),N.dc(V.a))},ac.\u0275cmp=N.Xb({type:ac,selectors:[["app-view-users"]],decls:35,vars:34,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","text-right"],["pButton","","type","button","id","unitTest","label","Add",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn",3,"ngClass","click"],[1,"d-flex","justify-content-end","p-field","br-top"],["id","downloadCSVid"],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","id","downloadCSV","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],[1,"row","p-field"],["id","view_user_list",1,"col-sm-12","mr-top-20","pd-0"],["view_user_list",""],["styleClass","p-datatable-gridlines p-datatable-striped","sortMode","single",3,"value","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","rows","first","customSort","firstChange","sortFunction"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],["exportPdfTemplate",""],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"header"],[4,"ngFor","ngForOf"],[1,"fix-width"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],["class","text-center word_break_word_all",3,"title",4,"ngIf"],[1,"text-center","word_break_word_all",3,"title"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","pdf-modal"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-4"],["class","color-code",4,"ngIf"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"]],template:function(e,t){if(1&e){var i=N.kc();N.jc(0,"div",0),N.jc(1,"div",1),N.jc(2,"div",2),N.jc(3,"p",3),N.bd(4," Users "),N.ic(),N.ic(),N.jc(5,"div",4),N.jc(6,"p",3),N.jc(7,"button",5),N.qc("click",function(){return t.createUser()}),N.ic(),N.ic(),N.ic(),N.ic(),N.jc(8,"div",6),N.jc(9,"a",7),N.jc(10,"img",8),N.qc("click",function(){return t.downloadCSV()}),N.ic(),N.ic(),N.jc(11,"a"),N.jc(12,"img",9),N.qc("click",function(){N.Rc(i);var e=N.Oc(34);return t.openExportPdf(e)}),N.ic(),N.ic(),N.ic(),N.jc(13,"div",10),N.jc(14,"div",11,12),N.jc(16,"p-table",13),N.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),N.Zc(17,qr,5,1,"ng-template",14),N.Zc(18,Ar,4,1,"ng-template",15),N.Zc(19,$r,7,3,"ng-template",16),N.ic(),N.ic(),N.Zc(20,Jr,2,0,"div",17),N.jc(21,"div",18),N.Zc(22,Hr,3,4,"div",19),N.Zc(23,Kr,3,3,"div",20),N.ic(),N.ic(),N.ic(),N.jc(24,"p-dialog",21),N.qc("visibleChange",function(e){return t.deleteModal=e}),N.Zc(25,Xr,3,0,"ng-template",15),N.jc(26,"p"),N.bd(27,"Are you sure you want to delete User "),N.jc(28,"b"),N.bd(29),N.ic(),N.bd(30,"?"),N.ic(),N.jc(31,"p-footer"),N.jc(32,"button",22),N.qc("click",function(){return t.deleteConfirm()}),N.ic(),N.ic(),N.ic(),N.Zc(33,ic,17,3,"ng-template",null,23,N.ad)}if(2&e){var n=null;N.Nb(7),N.Bc("ngClass",null!=(n=t.roleOnModule("User Settings"))&&null!=n.accessControl&&n.accessControl.includes("C")?" cursor-pointer":"disable"),N.Nb(2),N.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseUsers&&t.pageWiseUsers.length?"":"disabled-opa",""),N.Nb(2),N.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseUsers&&t.pageWiseUsers.length?"":"disabled-opa",""),N.Nb(5),N.Vc(N.Ec(32,nc)),N.Bc("value",t.pageWiseUsers)("responsive",!0)("rowHover",!0)("sortField","idUser")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("rows",10)("first",t.first)("customSort",!0),N.Nb(4),N.Bc("ngIf",!t.pageWiseUsers.length&&t.noRecordFound),N.Nb(2),N.Bc("ngIf",t.pageWiseUsers.length),N.Nb(1),N.Bc("ngIf",t.pageWiseUsers.length),N.Nb(1),N.Vc(N.Ec(33,oc)),N.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),N.Nb(5),N.ed("",t.deleteUserObj.firstName," ",t.deleteUserObj.lastName,"")}},directives:[L.b,l.l,R.f,_.i,l.n,B.a,_.e,s.d,E.a,s.o,s.r,l.m,R.d,R.e,z.a,g.a,f.a,T.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}"]}),ac);function cc(e,t){if(1&e){var i=N.kc();N.jc(0,"input",8),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().accessToken=e}),N.ic()}if(2&e){var n=N.uc();N.Bc("ngModel",n.accessToken)}}function lc(e,t){if(1&e){var i=N.kc();N.jc(0,"input",9),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().secretAccessToken=e}),N.ic()}if(2&e){var n=N.uc();N.Bc("ngModel",n.secretAccessToken)}}var sc,dc=((sc=function(){function e(t,i){o(this,e),this.userSettingsService=t,this.domainProjService=i,this.showSecretToken=!1,this.showAccessToken=!1,this.accessToken="",this.secretAccessToken=""}return r(e,[{key:"generateToken",value:function(){var e=this;this.userSettingsService.generateTokens().subscribe(function(t){e.showAccessToken=!0,e.showSecretToken=!1,e.accessToken=t.result.accessToken,e.secretAccessToken=t.result.secretAccessToken})}},{key:"showToken",value:function(){this.showSecretToken=!0}},{key:"ngOnInit",value:function(){this.domainProjService.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData")}}]),e}()).\u0275fac=function(e){return new(e||sc)(N.dc(D.a),N.dc(V.a))},sc.\u0275cmp=N.Xb({type:sc,selectors:[["app-generate-token"]],decls:19,vars:2,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],["pButton","","type","button","label"," ","id","generateTokenId",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"click"],["pButton","","type","button","id","showSecretTokenId","label"," ",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"click"],["type","text","readonly","","class","width_250","pInputText","","placeholder","Token","id","showAccessTokenId",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","readonly","","class","width_250","pInputText","","placeholder","Token","id","secretAccessTokenId",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","readonly","","pInputText","","placeholder","Token","id","showAccessTokenId",1,"width_250",3,"ngModel","ngModelChange"],["type","text","readonly","","pInputText","","placeholder","Token","id","secretAccessTokenId",1,"width_250",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(N.jc(0,"div",0),N.jc(1,"div",1),N.jc(2,"div",2),N.jc(3,"p",3),N.bd(4," Generate API Token "),N.ic(),N.ic(),N.ic(),N.jc(5,"div",1),N.jc(6,"div",2),N.jc(7,"p",3),N.jc(8,"button",4),N.qc("click",function(){return t.generateToken()}),N.bd(9,"Generate Token"),N.ic(),N.ic(),N.ic(),N.jc(10,"div",2),N.jc(11,"p",3),N.jc(12,"button",5),N.qc("click",function(){return t.showToken()}),N.bd(13,"Show Secret Token"),N.ic(),N.ic(),N.ic(),N.ic(),N.jc(14,"div",1),N.jc(15,"div",2),N.Zc(16,cc,1,1,"input",6),N.ic(),N.jc(17,"div",2),N.Zc(18,lc,1,1,"input",7),N.ic(),N.ic(),N.ic()),2&e&&(N.Nb(16),N.Bc("ngIf",t.showAccessToken),N.Nb(2),N.Bc("ngIf",t.showSecretToken))},directives:[L.b,l.n,s.d,E.a,s.o,s.r],styles:[".create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}"]}),sc),uc=c("mbyg"),pc=c("yLa2"),fc=c("tPnb"),gc=c("ZEcW");function hc(e,t){1&e&&(N.jc(0,"label",23),N.bd(1," Please Click below to download the zip. "),N.ic())}function mc(e,t){if(1&e&&(N.jc(0,"label",24),N.bd(1),N.jc(2,"sup",25),N.bd(3,"*"),N.ic(),N.ic()),2&e){var i=N.uc();N.Nb(1),N.dd(" ",i.appConstant.baseName," Name")}}function bc(e,t){if(1&e){var i=N.kc();N.jc(0,"p-dropdown",26),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc().selectedValidation=e}),N.ic()}if(2&e){var n=N.uc();N.Dc("placeholder","Select ",n.appConstant.baseName," Name"),N.Bc("styleClass","form-field")("ngModel",n.selectedValidation)("filter",!0)("options",n.validationsList)("itemSize",30)}}function vc(e,t){if(1&e){var i=N.kc();N.jc(0,"div",27),N.jc(1,"button",28),N.qc("click",function(){return N.Rc(i),N.uc().export()}),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("disabled",!n.selectedValidation)}}function Cc(e,t){1&e&&(N.jc(0,"div",3),N.jc(1,"div",29),N.bd(2," Skipped Rules: "),N.ic(),N.ic())}function yc(e,t){if(1&e&&(N.jc(0,"tr"),N.jc(1,"td"),N.bd(2),N.ic(),N.jc(3,"td",33),N.jc(4,"div",34),N.bd(5),N.ic(),N.ic(),N.ic()),2&e){var i=t.$implicit;N.Nb(2),N.cd(i.ruleId),N.Nb(2),N.Bc("title",i.ruleName),N.Nb(1),N.dd(" ",i.ruleName," ")}}function xc(e,t){if(1&e&&(N.jc(0,"div",30),N.jc(1,"table",31),N.jc(2,"thead"),N.jc(3,"tr"),N.jc(4,"th"),N.bd(5,"Rule Id"),N.ic(),N.jc(6,"th"),N.bd(7,"Rule Name"),N.ic(),N.ic(),N.ic(),N.jc(8,"tbody"),N.Zc(9,yc,6,3,"tr",32),N.ic(),N.ic(),N.ic()),2&e){var i=N.uc();N.Nb(9),N.Bc("ngForOf",i.skippedRules)}}var Pc=function(){return{standalone:!0}};function jc(e,t){if(1&e){var i=N.kc();N.jc(0,"div",38),N.jc(1,"p-radioButton",39),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc(2).selectedValue=e})("onClick",function(){return N.Rc(i),N.uc(2).setRadioVal("File_Upload")}),N.ic(),N.ic()}if(2&e){var n=N.uc(2);N.Nb(1),N.Bc("ngModel",n.selectedValue)("ngModelOptions",N.Ec(2,Pc))}}function wc(e,t){if(1&e){var i=N.kc();N.jc(0,"div",38),N.jc(1,"p-radioButton",40),N.qc("ngModelChange",function(e){return N.Rc(i),N.uc(2).selectedValue=e})("onClick",function(){return N.Rc(i),N.uc(2).setRadioVal("File_Path")}),N.ic(),N.ic()}if(2&e){var n=N.uc(2);N.Nb(1),N.Bc("ngModel",n.selectedValue)("ngModelOptions",N.Ec(2,Pc))}}function Oc(e,t){if(1&e&&(N.jc(0,"div",41),N.jc(1,"p"),N.bd(2,"This file is already imported. Existing validation name is "),N.jc(3,"b"),N.bd(4),N.ic(),N.bd(5,". "),N.ic(),N.jc(6,"p"),N.bd(7,"Please select different file to import."),N.ic(),N.ic()),2&e){var i=N.uc(2);N.Nb(4),N.cd(null==i.importedValidationDetails?null:i.importedValidationDetails.validationName)}}function kc(e,t){if(1&e){var i=N.kc();N.jc(0,"div",41),N.jc(1,"button",42),N.qc("click",function(){return N.Rc(i),N.uc(2).continue()}),N.bd(2,"Continue"),N.ic(),N.ic()}}function Sc(e,t){if(1&e){var i=N.kc();N.jc(0,"div",43),N.jc(1,"input",44),N.qc("change",function(e){return N.Rc(i),N.uc(2).changeFile(e)}),N.ic(),N.ic()}}function Mc(e,t){1&e&&(N.jc(0,"span",48),N.bd(1," Please enter "),N.jc(2,"b"),N.bd(3,"File Path"),N.ic(),N.ic())}function Nc(e,t){if(1&e&&(N.jc(0,"p",48),N.Zc(1,Mc,4,0,"span",47),N.ic()),2&e){var i=N.uc(3);N.Nb(1),N.Bc("ngIf",i.importForm.controls.filePath.errors.required)}}function Dc(e,t){if(1&e&&(N.jc(0,"div",43),N.jc(1,"label",45),N.bd(2," File Path "),N.ic(),N.ec(3,"input",46),N.Zc(4,Nc,2,1,"p",47),N.ic()),2&e){var i=N.uc(2);N.Nb(4),N.Bc("ngIf",i.importForm.controls.filePath.invalid&&!i.importForm.controls.filePath.pristine)}}function Fc(e,t){if(1&e){var i=N.kc();N.jc(0,"div",41),N.jc(1,"button",49),N.qc("click",function(){return N.Rc(i),N.uc(2).import()}),N.bd(2,"Continue"),N.ic(),N.ic()}if(2&e){var n=N.uc(2);N.Nb(1),N.Bc("disabled",n.importForm.invalid)}}function _c(e,t){if(1&e&&(N.jc(0,"div",3),N.Zc(1,jc,2,3,"div",35),N.Zc(2,wc,2,3,"div",35),N.Zc(3,Oc,8,1,"div",36),N.Zc(4,kc,3,0,"div",36),N.Zc(5,Sc,2,0,"div",37),N.Zc(6,Dc,5,1,"div",37),N.Zc(7,Fc,3,1,"div",36),N.ic()),2&e){var i=N.uc();N.Nb(1),N.Bc("ngIf",""==(null==i.importedValidationDetails?null:i.importedValidationDetails.validationName)),N.Nb(1),N.Bc("ngIf",""==(null==i.importedValidationDetails?null:i.importedValidationDetails.validationName)),N.Nb(1),N.Bc("ngIf",""!==(null==i.importedValidationDetails?null:i.importedValidationDetails.validationName)),N.Nb(1),N.Bc("ngIf",""!==(null==i.importedValidationDetails?null:i.importedValidationDetails.validationName)),N.Nb(1),N.Bc("ngIf","File_Upload"==i.selectedValue&&""==(null==i.importedValidationDetails?null:i.importedValidationDetails.validationName)),N.Nb(1),N.Bc("ngIf","File_Path"==i.selectedValue&&""==(null==i.importedValidationDetails?null:i.importedValidationDetails.validationName)),N.Nb(1),N.Bc("ngIf",""==(null==i.importedValidationDetails?null:i.importedValidationDetails.validationName))}}function Ic(e,t){if(1&e&&N.bd(0),2&e){var i=t.$implicit;N.ed(" ",i.connectionName,"\xa0\xa0(",i.databaseName,") ")}}function Vc(e,t){if(1&e&&(N.jc(0,"p",57),N.bd(1,"Please create data source for "),N.jc(2,"b"),N.bd(3),N.ic(),N.ic()),2&e){var i=N.uc().$implicit;N.Nb(3),N.cd(i.oldConnectionType)}}function Lc(e,t){if(1&e){var i=N.kc();N.jc(0,"div",53),N.jc(1,"div"),N.jc(2,"div"),N.bd(3," The data source from the zip with name "),N.jc(4,"b"),N.bd(5),N.ic(),N.ic(),N.jc(6,"label",45),N.bd(7),N.ic(),N.jc(8,"div"),N.jc(9,"p-dropdown",54),N.qc("onChange",function(e){N.Rc(i);var n=t.$implicit;return N.uc(2).changeConnection(e.value,n)}),N.Zc(10,Ic,1,2,"ng-template",55),N.ic(),N.ic(),N.Zc(11,Vc,4,1,"p",56),N.ic(),N.ic()}if(2&e){var n=t.$implicit;N.Nb(5),N.cd(n.oldConnectionName),N.Nb(2),N.dd(" Data Source with ",n.oldConnectionType," "),N.Nb(2),N.Bc("styleClass","form-field")("filter",!0)("options",n.connectionList)("itemSize",30),N.Nb(2),N.Bc("ngIf",0==n.connectionList.length)}}function Rc(e,t){if(1&e){var i=N.kc();N.jc(0,"div",50),N.Zc(1,Lc,12,7,"div",51),N.jc(2,"div",41),N.jc(3,"button",52),N.qc("click",function(){return N.Rc(i),N.uc().importDetails()}),N.bd(4,"Import"),N.ic(),N.ic(),N.ic()}if(2&e){var n=N.uc();N.Nb(1),N.Bc("ngForOf",n.dataSourceList),N.Nb(2),N.Bc("disabled",n.checkListDisable())}}function Bc(e,t){if(1&e&&(N.jc(0,"div"),N.jc(1,"div",58),N.jc(2,"span",59),N.bd(3,"New Table:"),N.ic(),N.jc(4,"span",60),N.bd(5),N.ic(),N.ic(),N.ec(6,"br"),N.jc(7,"div"),N.jc(8,"span",59),N.bd(9,"New Validation:"),N.ic(),N.jc(10,"span",60),N.bd(11),N.ic(),N.ic(),N.ic()),2&e){var i=N.uc();N.Nb(5),N.cd(null==i.detailImport?null:i.detailImport.newTemplateName),N.Nb(6),N.cd(null==i.detailImport?null:i.detailImport.newValidationName)}}x.a.vfs=j.a.pdfMake.vfs;var Ec,zc,Tc,qc=[{path:"",component:er,data:{breadcrumb:"Users & Roles"},children:[{path:"",redirectTo:"view-users"},{path:"view-users",component:rc,data:{breadcrumb:"Users"}},{path:"add-user",component:xt,data:{breadcrumb:"Add User"}},{path:"edit-user",component:xt,data:{breadcrumb:"Edit User"}},{path:"view-roles",component:Tr,data:{breadcrumb:"Roles"}},{path:"add-role",component:it,data:{breadcrumb:"Add Role"}},{path:"edit-role",component:it,data:{breadcrumb:"Edit Role"}},{path:"login-group-mapping",component:pe,data:{breadcrumb:"Login Groups"}},{path:"add-login-group-mapping",component:Ie,data:{breadcrumb:"Add Login Group Mapping"}},{path:"edit-login-group-mapping",component:Ie,data:{breadcrumb:"Edit Login Group Mapping"}}]},{path:"assets",component:er,data:{breadcrumb:"Assets"},children:[{path:"",redirectTo:"domain-library"},{path:"domain-library",component:Ka,data:{breadcrumb:"Domains"}},{path:"dimension-library",component:pa,data:{breadcrumb:"Dimensions"}},{path:"view-projects",component:yr,data:{breadcrumb:"Projects"}},{path:"add-project",component:$e,data:{breadcrumb:"Add Project"}},{path:"edit-project",component:$e,data:{breadcrumb:"Edit Project"}},{path:"defect-codes",component:Do,data:{breadcrumb:"Defect Codes"}},{path:"databuck-tags",component:jn,data:{breadcrumb:"Tags"}}]},{path:"generate-token",component:er,children:[{path:"",component:dc,data:{breadcrumb:"API Token"}}]},{path:"view-app-setting",component:er,children:[{path:"",component:uc.a,data:{breadcrumb:"Application Settings"}}]},{path:"alert-notification",component:er,data:{breadcrumb:"Alert Notifications"},children:[{path:"",component:vi},{path:"subscription",component:Gi,data:{breadcrumb:"Subscribe Notification"}},{path:"alert-edit",component:kt,data:{breadcrumb:"Edit Alert"}}]},{path:"import-export",component:er,children:[{path:"",component:(Ec=function(){function e(t,i,n,a,r,c,l){o(this,e),this.domainProj=t,this.runService=i,this.userSettingsService=n,this.datePipe=a,this.fb=r,this.dataTemplateService=c,this.messages=l,this.appConstant=new pc.a,this.isTable=!0,this.validationsList=[],this.skippedRules=[],this.selectedValue="File_Upload",this.showFileUpload=!1,this.showFilePath=!1,this.dataSourceList=[],this.firstImport=!0,this.selectedDataSource="",this.showDetails=!1,this.statementFile=[]}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.domainProj.passDomainProjVal(!1);var t={domainId:sessionStorage.getItem("activeDomainId"),projectId:sessionStorage.getItem("activeProjectId")};this.runService.getValCheckNameList("validationCheckName",t).subscribe(function(t){e.validationsList=t.result}),this.resetImportForm()}},{key:"resetImportForm",value:function(){this.importForm=this.fb.group({dataUpload:["",s.w.compose([s.w.required])],filePath:["",s.w.compose([s.w.required])]})}},{key:"setRadioVal",value:function(e){"File_Upload"===e?(this.showFilePath=!1,this.showFileUpload=!0,this.importForm.controls.dataUpload.setValue(""),this.importForm.get("filePath").setValidators([]),this.importForm.get("dataUpload").setValidators([s.w.required]),this.importForm.get("filePath").updateValueAndValidity(),this.importForm.get("dataUpload").updateValueAndValidity()):"File_Path"===e&&(this.showFilePath=!0,this.showFileUpload=!1,this.importForm.controls.filePath.setValue(""),this.importForm.get("filePath").setValidators([s.w.required]),this.importForm.get("dataUpload").setValidators([]),this.importForm.get("filePath").updateValueAndValidity(),this.importForm.get("dataUpload").updateValueAndValidity())}},{key:"export",value:function(){var e=this;this.userSettingsService.exportValidationDetails({idApp:this.selectedValidation}).subscribe(function(t){"success"===t.status&&(e.filepath=t.result.filePath,e.skippedRules=t.result.skippedRules)})}},{key:"exportDownload",value:function(){var e=this;this.userSettingsService.exportValidationDownload({filePath:this.filepath}).subscribe(function(t){var i=e.datePipe.transform(new Date,"yyyy-MM-dd");Object(C.saveAs)(t,e.selectedValidation+"_"+i+".zip")})}},{key:"setTab",value:function(e){this.isTable=e,1==this.isTable?(this.filepath="",this.skippedRules=[],this.selectedValidation=""):(this.firstImport=!0,this.showDetails=!1,this.resetImportForm(),this.dataSourceList=[],this.detailImport={newValidationName:"",newValidationId:0,newTemplateId:0,newTemplateName:""},this.importedValidationDetails={validationId:0,validationName:"",createdByUser:"",filePath:"",startTime:""})}},{key:"import",value:function(){var e=this;if("File_Upload"==this.selectedValue){var t=new FormData;Array.from(this.statementFile).forEach(function(e){if(e){var i=e.slice(0,e.size,e.type),n=new File([i],e.name,{type:e.type});t.append("importfile",n)}}),this.userSettingsService.getConnectionDetailsForImportValidationByFile(t).subscribe(function(t){"success"===t.status?(e.dataSourceList=t.result.connectionDetails,e.importForm.controls.filePath.setValue(t.result.filePath),e.dataSourceList.map(function(t){t.newConnectionId="";var i={connectionType:t.oldConnectionType,projectId:sessionStorage.getItem("activeProjectId"),domainId:sessionStorage.getItem("activeDomainId")};e.dataTemplateService.connectionNameList("getDataConnectionName",i).subscribe(function(i){e.firstImport=!1,t.connectionList=[],i.result.connectionList.length>0&&(i.result.connectionList.map(function(e){e.id=e.id,e.connectionName=e.id+"_"+e.connectionName}),t.connectionList=i.result.connectionList)})})):t.importedValidationDetails?e.importedValidationDetails=t.importedValidationDetails:e.messages.displayToaster(t.message,"warn","Warning!")})}else this.userSettingsService.getConnectionDetailsForimportValidation({filePath:this.importForm.value.filePath}).subscribe(function(t){"success"===t.status?(e.dataSourceList=t.result.connectionDetails,e.dataSourceList.map(function(t){t.newConnectionId="";var i={connectionType:t.oldConnectionType,projectId:sessionStorage.getItem("activeProjectId"),domainId:sessionStorage.getItem("activeDomainId")};e.dataTemplateService.connectionNameList("getDataConnectionName",i).subscribe(function(i){e.firstImport=!1,t.connectionList=[],i.result.connectionList.length>0&&(i.result.connectionList.map(function(e){e.id=e.id,e.connectionName=e.id+"_"+e.connectionName}),t.connectionList=i.result.connectionList)})})):t.importedValidationDetails?e.importedValidationDetails=t.importedValidationDetails:e.messages.displayToaster(t.message,"warn","Warning!")})}},{key:"continue",value:function(){this.resetImportForm(),this.importedValidationDetails={validationId:0,validationName:"",createdByUser:"",filePath:"",startTime:""},this.firstImport=!0,this.showDetails=!1}},{key:"checkListDisable",value:function(){return 0!=this.dataSourceList.filter(function(e){return""==e.newConnectionId}).length}},{key:"importDetails",value:function(){var e=this;this.dataSourceList.map(function(e){delete e.connectionList}),this.userSettingsService.importValidationDetails({connectionDetails:this.dataSourceList,filePath:this.importForm.value.filePath}).subscribe(function(t){"success"===t.status?(e.showDetails=!0,e.detailImport=t.result):e.showDetails=!1})}},{key:"changeConnection",value:function(e,t){t.newConnectionId=e}},{key:"changeFile",value:function(e){var t=this;this.statementFile=[],Array.from(e.target.files).forEach(function(e){t.statementFile.push(e)}),null!=e&&(this.importForm.get("filePath").setValidators([]),this.importForm.get("filePath").updateValueAndValidity(),this.importForm.get("dataUpload").updateValueAndValidity())}}]),e}(),Ec.\u0275fac=function(e){return new(e||Ec)(N.dc(V.a),N.dc(fc.a),N.dc(D.a),N.dc(l.d),N.dc(s.e),N.dc(gc.a),N.dc(Pt.b))},Ec.\u0275cmp=N.Xb({type:Ec,selectors:[["app-import-export"]],decls:33,vars:15,consts:[[1,"main-profile"],["id","profilingscreen",1,"content-wrapper","top","profile-screen"],["profilingscreen",""],[1,"row"],[1,"col-sm-12","adjust"],[1,"nav","nav-pills","justify-content-left"],["id","export-tab","data-toggle","tab","href","#export",3,"ngClass","click"],["id","import-tab","data-toggle","tab","href","#import",3,"ngClass","click"],[1,"tab-content","clearfix"],["id","export",1,"tab-pane",3,"ngClass"],[1,"col-sm-12","col-md-6","mr-top-20"],["for","filepath","class","form-label",4,"ngIf"],["for","validationCheckType","class","form-label",4,"ngIf"],["optionLabel","validationName","optionValue","appId",3,"styleClass","ngModel","filter","options","placeholder","itemSize","ngModelChange",4,"ngIf"],[1,"col-sm-12","col-md-6","form-label","blue","cursor-pointer"],[3,"click"],["class","col-sm-12 col-md-3 pd-top-30 padding-l-0",4,"ngIf"],["class","row",4,"ngIf"],["class","table-responsive font-size-table mr-top-10",4,"ngIf"],["id","import",1,"tab-pane",3,"ngClass"],[3,"formGroup"],["class","margin-top_15",4,"ngIf"],[4,"ngIf"],["for","filepath",1,"form-label"],["for","validationCheckType",1,"form-label"],[1,"req-field"],["optionLabel","validationName","optionValue","appId",3,"styleClass","ngModel","filter","options","placeholder","itemSize","ngModelChange"],[1,"col-sm-12","col-md-3","pd-top-30","padding-l-0"],["pButton","","type","button","label","Export",1,"button","w-button","submit-btn",3,"disabled","click"],[1,"col-sm-12","col-md-6","form-label"],[1,"table-responsive","font-size-table","mr-top-10"],[1,"table","table-bordered","p-table","margin0"],[4,"ngFor","ngForOf"],[1,"font-style"],[3,"title"],["class","col-md-12 mr-top",4,"ngIf"],["class","col-md-12 padding-top-30",4,"ngIf"],["class","col-md-6 mr-top",4,"ngIf"],[1,"col-md-12","mr-top"],["for","File_Upload","label","Upload file to be analyzed (ZIP file)","styleClass","radio-style","name","FileUpload","value","File_Upload",1,"spaceRadio",3,"ngModel","ngModelOptions","ngModelChange","onClick"],["for","File_Path","label","Provide path of file to be analyzed","styleClass","radio-style","name","FilePath","value","File_Path",1,"spaceRadio",3,"ngModel","ngModelOptions","ngModelChange","onClick"],[1,"col-md-12","padding-top-30"],[1,"button","w-button","shadow","btn-mr-rt",3,"click"],[1,"col-md-6","mr-top"],["id","rule_name","formControlName","dataUpload","placeholder","Upload File To be analyzed","type","file","pInputText","","accept",".zip",1,"form-field",3,"change"],["for","dataLocation",1,"col-form-label"],["id","filePath","formControlName","filePath","placeholder","Enter Server File Path","type","text","pInputText","",1,"form-field"],["class","err-msg",4,"ngIf"],[1,"err-msg"],[1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],[1,"margin-top_15"],["class","col-md-12",4,"ngFor","ngForOf"],[1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],[1,"col-md-12"],["optionLabel","name","optionValue","id","placeholder","Select Data Source","optionLabel","connectionName",3,"styleClass","filter","options","itemSize","onChange"],["pTemplate","item"],["class","note",4,"ngIf"],[1,"note"],[1,"padding-top-30"],[1,"default-font-14-weight"],[1,"padding-left-5","default-font-14"]],template:function(e,t){1&e&&(N.jc(0,"div",0),N.jc(1,"div",1,2),N.jc(3,"div",3),N.jc(4,"div",4),N.jc(5,"ul",5),N.jc(6,"li"),N.jc(7,"a",6),N.qc("click",function(){return t.setTab(!0)}),N.bd(8," Export "),N.ic(),N.ic(),N.jc(9,"li"),N.jc(10,"a",7),N.qc("click",function(){return t.setTab(!1)}),N.bd(11,"Import"),N.ic(),N.ic(),N.ic(),N.jc(12,"div",8),N.jc(13,"div",9),N.jc(14,"div",3),N.jc(15,"div",10),N.Zc(16,hc,2,0,"label",11),N.Zc(17,mc,4,1,"label",12),N.ec(18,"br"),N.Zc(19,bc,1,6,"p-dropdown",13),N.ic(),N.ic(),N.jc(20,"div",3),N.jc(21,"div",14),N.jc(22,"span",15),N.qc("click",function(){return t.exportDownload()}),N.bd(23),N.ic(),N.ic(),N.ic(),N.Zc(24,vc,2,1,"div",16),N.ec(25,"br"),N.Zc(26,Cc,3,0,"div",17),N.Zc(27,xc,10,1,"div",18),N.ic(),N.jc(28,"div",19),N.jc(29,"div",20),N.Zc(30,_c,8,7,"div",17),N.Zc(31,Rc,5,2,"div",21),N.Zc(32,Bc,12,2,"div",22),N.ic(),N.ic(),N.ic(),N.ic(),N.ic(),N.ic(),N.ic()),2&e&&(N.Nb(7),N.Bc("ngClass",t.isTable?"active":""),N.Nb(3),N.Bc("ngClass",t.isTable?"":"active"),N.Nb(3),N.Bc("ngClass",t.isTable?"active":""),N.Nb(3),N.Bc("ngIf",t.filepath),N.Nb(1),N.Bc("ngIf",!t.filepath),N.Nb(2),N.Bc("ngIf",!t.filepath),N.Nb(4),N.cd(t.filepath),N.Nb(1),N.Bc("ngIf",!t.filepath),N.Nb(2),N.Bc("ngIf",(null==t.skippedRules?null:t.skippedRules.length)>0),N.Nb(1),N.Bc("ngIf",(null==t.skippedRules?null:t.skippedRules.length)>0),N.Nb(1),N.Bc("ngClass",t.isTable?"":"active"),N.Nb(1),N.Bc("formGroup",t.importForm),N.Nb(1),N.Bc("ngIf",t.firstImport&&!t.showDetails),N.Nb(1),N.Bc("ngIf",!t.firstImport&&!t.showDetails),N.Nb(1),N.Bc("ngIf",t.showDetails))},directives:[l.l,l.n,s.p,s.i,f.a,s.o,s.r,L.b,l.m,Mn.a,s.d,s.g,E.a,_.i],styles:['@charset "UTF-8";[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-dropdown:not(.p-disabled):hover{border-color:#ff7526 2px solid!important;color:#495057!important}.wordBreak[_ngcontent-%COMP%]{overflow-wrap:break-word;width:10rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.domain-project-name[_ngcontent-%COMP%], .padding-l-0[_ngcontent-%COMP%]{padding-left:0!important}.rule-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.p-dropdown-panel[_ngcontent-%COMP%]{width:100%!important}.padd[_ngcontent-%COMP%]{padding-bottom:8px}.marginlt[_ngcontent-%COMP%]{margin-left:-15px}.width-300[_ngcontent-%COMP%]{width:300px!important}.width-50[_ngcontent-%COMP%]{width:20px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.field-dis-vals[_ngcontent-%COMP%]{max-width:200px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:200px}.conn-id-td[_ngcontent-%COMP%]{width:100px}.padd-l[_ngcontent-%COMP%]{padding-left:28px}.pr-28[_ngcontent-%COMP%]{padding-right:28px}[_nghost-%COMP%]     p-dropdown .p-inputtext, [_nghost-%COMP%]     p-dropdown p-dropdownitem{font-family:Open Sans!important;font-size:14px!important;font-weight:400;width:100%!important;border-radius:10px!important;height:38px!important}[_nghost-%COMP%]     p-dropdown .p-dropdown-empty-message{font-family:Open Sans!important;font-size:16px!important;font-weight:400}[_nghost-%COMP%]     p-dropdown ::-webkit-scrollbar{width:7px}[_nghost-%COMP%]     p-dropdown ::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px linear-gradient(180deg,#001585,#ff7526 .01%,#fb9a64 97.92%);border-radius:7px}[_nghost-%COMP%]     p-dropdown ::-webkit-scrollbar-thumb{border-radius:7px;background:linear-gradient(180deg,#001585,#ff7526 .01%,#fb9a64 97.92%);-webkit-box-shadow:inset 0 0 6pxlinear-gradient 180deg,0 #001585,.01% #ff7526,97.92% #fb9a64}[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr>th{padding-left:1px;padding-right:1px}[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr{font-family:Open Sans!important;font-size:14px!important;font-weight:400;vertical-align:top}[_nghost-%COMP%]     .p-datatable .p-datatable-header{height:30px}[_nghost-%COMP%]     .p-datatable .p-paginator-bottom{border-bottom-left-radius:10px!important;border-bottom-right-radius:10px!important}[_nghost-%COMP%]     .pi-filter:before{content:"\ue94c";font-size:14px}[_nghost-%COMP%]     .pi-sort-alt:before{content:"\ue99e";font-size:13px}[_nghost-%COMP%]     .p-overlaypanel .p-overlaypanel-content{padding:1rem;background:#fff4ee!important}[_nghost-%COMP%]     .p-checkbox .p-checkbox-box.p-highlight{border-color:linear-gradient(180deg,#ff7526,#fb9a64)!important;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-checkbox .p-checkbox-box{border-color:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-dialog .p-dialog-header{background:#fff4ee!important;padding:10px!important}[_nghost-%COMP%]     .p-dialog .p-dialog-content{background:#fff4ee!important;padding-bottom:10px!important}[_nghost-%COMP%]     .p-dialog .p-dialog-footer{background:#fff4ee!important;padding-bottom:10px!important}[_nghost-%COMP%]     .p-paginator .p-paginator-pages .p-paginator-page.p-highlight{background:transparent!important;border:2px solid #ff7526!important;color:#495057!important;border-radius:6px!important;font-weight:400!important}[_nghost-%COMP%]     .p-paginator .p-paginator-pages .p-paginator-page{font-weight:400!important}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;width:93%!important}.conn-name[_ngcontent-%COMP%], .conn-status[_ngcontent-%COMP%]{color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.conn-status[_ngcontent-%COMP%]{border-radius:5px;width:25%!important}.alation-div[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:27px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.mr-top-10[_ngcontent-%COMP%]{margin-top:10px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:10px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:500;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:38px!important;margin:0!important;box-shadow:none!important}.marginrem[_ngcontent-%COMP%]{margin:.1rem}.imgSize[_ngcontent-%COMP%]{width:14px;height:auto}.adjust[_ngcontent-%COMP%]{top:10px}.nav-pills[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #dedede;border-radius:8px 8px 0 0}.nav-pills[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:50px;position:relative}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:-1%;margin-top:.1%;top:10px}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;padding:15px 20px;line-height:19px;color:#717171;font-size:14px;font-weight:700;z-index:1}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:transparent;border-color:transparent}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";width:100%;height:50px;position:absolute;bottom:1%;left:-1px;font-size:12px;background:transparent;border:1px solid transparent;z-index:-1}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:before{background:linear-gradient(180deg,transparent,transparent);bottom-border-color:#dedede;font-size:16px;font-family:Open Sans!important;text-align:center;border-radius:8px 8px 0 0}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:focus, .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:hover{border:1px solid transparent;background:transparent;color:#951447;font-weight:700;z-index:2;-webkit-text-decoration:underline 3px;text-decoration:underline 3px;text-underline-offset:8px}a[_ngcontent-%COMP%]:hover{text-decoration:none}.tab-content[_ngcontent-%COMP%]   .tab-pane[_ngcontent-%COMP%]{box-shadow:0 0 15px #e6e5e5;padding:5px 20px 20px;background:#fff;line-height:22px}.tab-content[_ngcontent-%COMP%]   .tab-pane[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.main-profile[_ngcontent-%COMP%]{margin-top:20px}.blue[_ngcontent-%COMP%]{color:blue}.table-bordered[_ngcontent-%COMP%]{height:305px}.table-responsive[_ngcontent-%COMP%]{height:250px;overflow:scroll}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]{background:#e8e8e8;position:sticky;top:0;z-index:10}[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{--webkit-box-shadow:inset 0 0 6px linear-gradient(180deg,#001585,#ff7526 0.01%,#fb9a64 97.92%);--webkit-border-radius:7px;border-radius:7px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:7px;background:linear-gradient(180deg,#001585,#ff7526 .01%,#fb9a64 97.92%);--webkit-box-shadow:inset 0 0 6pxlinear-gradient(180deg,#001585 0%,#ff7526 0.01%,#fb9a64 97.92%)}.font-size-table[_ngcontent-%COMP%]{font-size:15px!important}.table[_ngcontent-%COMP%]{margin-bottom:0!important}.req-field[_ngcontent-%COMP%]{color:red}.mr-top[_ngcontent-%COMP%]{padding-top:10px}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.note[_ngcontent-%COMP%]{text-align:left;font-size:14px;color:#eb5454;margin-top:15px}']}),Ec),data:{breadcrumb:"Export/Import"}}]}],Zc=((Tc=r(function e(){o(this,e)})).\u0275fac=function(e){return new(e||Tc)},Tc.\u0275mod=N.bc({type:Tc}),Tc.\u0275inj=N.ac({imports:[[d.l.forChild(qc)],d.l]}),Tc),Uc=((zc=r(function e(){o(this,e)})).\u0275fac=function(e){return new(e||zc)},zc.\u0275mod=N.bc({type:zc}),zc.\u0275inj=N.ac({providers:[m.a],imports:[[l.b,Zc,h.a,u.b,b.a,p.a,v.a,s.j,g.b,f.b,d.l]]}),zc)},tPnb:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i("fXoL"),a=i("bUwk"),c=i("acRR"),l=function(){var e=function(){function e(t,i){o(this,e),this.http=t,this.messages=i}return r(e,[{key:"getValCheckNameList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.post(e,t)}},{key:"getValidationCheckNameList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.postWithoutSpinner(e,t)}},{key:"getAppGroupNameList",value:function(e){return this.http.get(e)}},{key:"validationApprovedList",value:function(e){return this.http.get(e)}},{key:"schedulerList",value:function(e){return this.http.getCallWithoutSpinner(e)}},{key:"deleteAppGroup",value:function(e,t){return this.http.post(e,t)}},{key:"deleteAppGroupMapping",value:function(e,t){return this.http.post(e,t)}},{key:"getAppGroupList",value:function(e){return this.http.get(e)}},{key:"downloadCSV",value:function(e){return this.http.getforCSV(e)}},{key:"getRunAndTask",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.post(e,t)}},{key:"updateAppGroup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.post(e,t)}},{key:"addAppGroup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.post(e,t)}},{key:"getStatusPoll",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.postWithoutSpinner(e,t)}},{key:"getRunningJobsView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.post(e,t)}},{key:"getAppGroupAssociatedValidations",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.post(e,t)}},{key:"downloadCSVJobs",value:function(e,t){return this.http.postforCSV(e,t)}},{key:"clearAllQueuedJobs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.post(e,t)}},{key:"deleteJobFromQueue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.postWithToasty(e,t)}},{key:"subSchemaJobList",value:function(){return{result:[{taskType:"Template",applicationId:4838,applicationName:"queue_process_right_customer",processId:0,deployMode:null,sparkAppId:null,startTime:null,endTime:null,duration:0,jobDurationStatus:null,fullDuration:null,status:null,uniqueId:"Templ_4838_1660723942742",projectId:null,projectName:null,triggeredByHost:null},{taskType:"Template",applicationId:4839,applicationName:"queue_process_OmniPH",processId:0,deployMode:null,sparkAppId:null,startTime:null,endTime:null,duration:0,jobDurationStatus:null,fullDuration:null,status:null,uniqueId:"Templ_4839_1660723942747",projectId:null,projectName:null,triggeredByHost:null}],message:"Records found successfully",status:"success"}}},{key:"getSchemaJobAssociatedTemplates",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.post(e,t)}},{key:"stopRunningJob",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.postWithToasty(e,t)}},{key:"getAppGroupById",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object;return this.http.post(e,t)}},{key:"getConnectionNameList",value:function(e){return this.http.post("getSchemaNames",e)}},{key:"getRunConnection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Object;return this.http.postWithToasty("triggerDataSchema",e)}},{key:"triggerRunConnection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Object;return this.http.postWithToasty("triggerAppGroup",e)}},{key:"getSchedulersList",value:function(e){return this.http.post("viewSchedules",e)}},{key:"submitScheduler",value:function(e){return this.http.postWithToasty("scheduleTask",e)}},{key:"updatetScheduler",value:function(e){return this.http.postWithToasty("editScheduleTask",e)}},{key:"deleteScheduler",value:function(e){return this.http.postWithToasty("deleteSchedule",e)}},{key:"downloadSchedulerCSV",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Object;return this.http.postforCSV("getScheduleCSV",e)}},{key:"getSchedularById",value:function(e){return this.http.post("editSchedule",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(n.nc(a.a),n.nc(c.a))},e.\u0275prov=n.Zb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}])}();