(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"0DOw":function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return o});class n{}class o{}},"5UR8":function(e,t,i){"use strict";i.r(t),i.d(t,"TestAndRunModule",function(){return En});var n=i("ofXK"),o=i("3Pt+"),r=i("tyNb"),s=i("CV0D"),c=i("6RAO"),a=i("arFO"),l=i("6t4m"),d=i("VEwP"),p=i("ThbA"),g=i("PCNd"),h=i("fXoL"),u=i("Nmef"),m=i("tPnb"),f=i("J4N/"),b=i("7kUa"),C=i("eO1q"),w=i("jIHw"),v=i("Ji6n");function P(e,t){1&e&&(h.jc(0,"span",28),h.bd(1," Please start naming with alphabets and do not use spaces or special characters except _(underscore) "),h.ic())}function O(e,t){1&e&&(h.jc(0,"span",28),h.bd(1,"Please enter "),h.jc(2,"b"),h.bd(3,"Name"),h.ic(),h.ic())}function S(e,t){if(1&e&&(h.jc(0,"p",28),h.Zc(1,P,2,0,"span",9),h.Zc(2,O,4,0,"span",9),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("ngIf",e.schedulerForm.controls.name.errors.pattern),h.Nb(1),h.Bc("ngIf",e.schedulerForm.controls.name.errors.required)}}function x(e,t){1&e&&(h.jc(0,"span",28),h.bd(1,"Please choose "),h.jc(2,"b"),h.bd(3,"Frequency"),h.ic(),h.ic())}function M(e,t){if(1&e&&(h.jc(0,"p",28),h.Zc(1,x,4,0,"span",9),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("ngIf",e.schedulerForm.controls.frequency.errors.required)}}const j=function(){return{standalone:!0}};function y(e,t){if(1&e){const e=h.kc();h.jc(0,"div"),h.jc(1,"p-checkbox",33),h.qc("onChange",function(i){h.Rc(e);const n=t.$implicit;return h.uc(2).checkScheduleDay(i.checked,n.value)})("ngModelChange",function(e){return t.$implicit.checked=e}),h.ic(),h.jc(2,"label",34),h.bd(3),h.ic(),h.ic()}if(2&e){const e=t.$implicit;h.Nb(1),h.Bc("value",e.checked)("ngModel",e.checked)("ngModelOptions",h.Ec(5,j)),h.Nb(1),h.Cc("for",e.value),h.Nb(1),h.cd(e.name)}}function _(e,t){1&e&&(h.jc(0,"span",28),h.bd(1,"Please select "),h.jc(2,"b"),h.bd(3,"Scheduled Day"),h.ic(),h.ic())}function N(e,t){if(1&e&&(h.jc(0,"p",28),h.Zc(1,_,4,0,"span",9),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.Bc("ngIf",e.schedulerForm.controls.scheduledDay.errors.required)}}function k(e,t){if(1&e){const e=h.kc();h.jc(0,"div",12),h.jc(1,"label",29),h.bd(2,"Scheduled Day"),h.jc(3,"sup",7),h.bd(4,"*"),h.ic(),h.ic(),h.ec(5,"br"),h.jc(6,"p-checkbox",30),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().allChkFlg=t})("onChange",function(t){return h.Rc(e),h.uc().allScheduleDay(t)}),h.ic(),h.jc(7,"label",31),h.bd(8,"All"),h.ic(),h.Zc(9,y,4,6,"div",32),h.Zc(10,N,2,1,"p",9),h.ic()}if(2&e){const e=h.uc();h.Nb(6),h.Bc("ngModel",e.allChkFlg)("ngModelOptions",h.Ec(4,j)),h.Nb(3),h.Bc("ngForOf",e.scheduleDayList),h.Nb(1),h.Bc("ngIf",e.schedulerForm.controls.scheduledDay.invalid&&!e.schedulerForm.controls.scheduledDay.pristine)}}function I(e,t){1&e&&(h.jc(0,"span",28),h.bd(1,"Please choose "),h.jc(2,"b"),h.bd(3,"Date"),h.ic(),h.ic())}function F(e,t){if(1&e&&(h.jc(0,"p",28),h.Zc(1,I,4,0,"span",9),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.Bc("ngIf",e.schedulerForm.controls.day.errors.required)}}function D(e,t){if(1&e&&(h.jc(0,"div",35),h.jc(1,"label",13),h.bd(2,"Date"),h.jc(3,"sup",7),h.bd(4,"*"),h.ic(),h.ic(),h.ec(5,"br"),h.jc(6,"div",14),h.jc(7,"p-dropdown",36),h.bd(8,"> "),h.ic(),h.Zc(9,F,2,1,"p",9),h.ic(),h.ic()),2&e){const e=h.uc();h.Nb(7),h.Bc("styleClass","form-field")("options",e.dateList)("virtualScroll",!0)("itemSize",30)("filter",!0),h.Nb(2),h.Bc("ngIf",e.schedulerForm.controls.day.invalid&&!e.schedulerForm.controls.day.pristine)}}function B(e,t){1&e&&(h.jc(0,"span",28),h.bd(1,"Please choose "),h.jc(2,"b"),h.bd(3,"Time"),h.ic(),h.ic())}function V(e,t){if(1&e&&(h.jc(0,"p",28),h.Zc(1,B,4,0,"span",9),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("ngIf",e.schedulerForm.controls.ScheduleTimer.errors.required)}}function T(e,t){if(1&e){const e=h.kc();h.jc(0,"button",37),h.qc("click",function(){return h.Rc(e),h.uc().submitScheduler()}),h.ic()}if(2&e){const e=h.uc();h.Bc("disabled",!e.schedulerForm.valid)}}function W(e,t){if(1&e){const e=h.kc();h.jc(0,"button",38),h.qc("click",function(){return h.Rc(e),h.uc().updateScheduler()}),h.ic()}if(2&e){const e=h.uc();h.Bc("disabled",!e.schedulerForm.valid)}}let z=(()=>{class e{constructor(e,t,i,n,o){this.fb=e,this.homeServiceService=t,this.router=i,this.runService=n,this.domainProjService=o,this.projectDomains=[],this.frequencyList=[{name:"Weekly",value:"weekly"},{name:"Monthly",value:"monthly"}],this.scheduleDayList=[{name:"Monday",value:"monday",checked:!1},{name:"Tuesday",value:"tuesday",checked:!1},{name:"Wednesday",value:"wednesday",checked:!1},{name:"Thursday",value:"thursday",checked:!1},{name:"Friday",value:"friday",checked:!1},{name:"Saturday",value:"saturday",checked:!1},{name:"Sunday",value:"sunday",checked:!1}],this.dateList=[],this.editMode=!1,this.allChkFlg=!1}ngOnInit(){this.domainProjService.passDomainProjVal(!1),this.resetForm();for(let i=0;i<31;i++)this.dateList.push({name:i+1,value:(i+1).toString()});this.projectDomains=this.homeServiceService.getProjectList(),this.projectDomains.map(e=>{e.domainProject=e.domainName+"-"+e.projectName,e.domainProjectValue=e.domainId+"_"+e.idProject});const e=new Date,t=e.getMinutes();if(t>=0&&t<=5?e.setMinutes(5):t>=6&&t<=10?e.setMinutes(10):t>=11&&t<=15?e.setMinutes(15):t>=16&&t<=20?e.setMinutes(20):t>=21&&t<=25?e.setMinutes(25):t>=26&&t<=30?e.setMinutes(30):t>=31&&t<=35?e.setMinutes(35):t>=36&&t<=40?e.setMinutes(40):t>=41&&t<=45?e.setMinutes(45):t>=46&&t<=50?e.setMinutes(50):t>=51&&t<=55?e.setMinutes(55):t>=56&&e.setMinutes(0),this.schedulerForm.controls.ScheduleTimer.setValue(e),this.router.url.includes("edit-scheduler")&&(this.domainProjService.passDomainProjVal(!0),sessionStorage.getItem("objScheduler"))){const e=JSON.parse(sessionStorage.getItem("objScheduler"));if("weekly"===e.frequency){const t=e.scheduleDay.split(", ");this.allChkFlg=7==t.length,t.length>0&&t.forEach((e,t)=>{this.scheduleDayList.find(t=>t.name===e).checked=!0})}const t=new Date,i=e.time.split(":");t.setHours(i[0]),t.setMinutes(i[1]),this.editMode=!0,this.schedulerForm.patchValue({name:e.name,description:e.description,frequency:e.frequency,scheduledDay:"weekly"===e.frequency?e.scheduleDay:"",day:"monthly"===e.frequency?e.scheduleDay:"",ScheduleTimer:t,projectId:e.projectId,domainId:e.domainId})}}resetForm(){this.schedulerForm=this.fb.group({name:new o.f("",[o.w.required,o.w.pattern("^[a-zA-Z][A-Za-z0-9_]*$")]),description:new o.f("",[]),frequency:new o.f("",[o.w.compose([o.w.required])]),scheduledDay:new o.f(""),day:new o.f(""),ScheduleTimer:new o.f("",[o.w.compose([o.w.required])]),projectId:new o.f(sessionStorage.getItem("activeProjectId")),domainId:new o.f(sessionStorage.getItem("activeDomainId"))})}allScheduleDay(e){const t=[];1==e.checked?(this.scheduleDayList.map(e=>{e.checked=!0,t.push(e.value)}),this.schedulerForm.controls.scheduledDay.setValue(t.join())):this.scheduleDayList.map(e=>{e.checked=!1})}updateScheduler(){const e=this.scheduleDayList.filter(e=>!0===e.checked);let t="";if("weekly"===this.schedulerForm.controls.frequency.value&&e.length>0){e.map(e=>{t=t+e.name+", "}),t=t.substring(0,t.length-2);const i=JSON.parse(JSON.stringify(this.schedulerForm.value));i.ScheduleTimer=this.schedulerForm.value.ScheduleTimer.getHours()+":"+this.schedulerForm.value.ScheduleTimer.getMinutes(),i.day="",i.scheduledDay=t,i.idSchedule=JSON.parse(sessionStorage.getItem("objScheduler")).idSchedule,i.domainId=Number(sessionStorage.getItem("activeDomainId")),this.runService.updatetScheduler(i).subscribe(e=>{"success"===e.status&&this.router.navigateByUrl("/dbckangui/test-and-run/view-scheduler")})}else if("monthly"===this.schedulerForm.controls.frequency.value){const e=JSON.parse(JSON.stringify(this.schedulerForm.value));e.ScheduleTimer=this.schedulerForm.value.ScheduleTimer.getHours()+":"+this.schedulerForm.value.ScheduleTimer.getMinutes(),e.scheduledDay="",e.idSchedule=JSON.parse(sessionStorage.getItem("objScheduler")).idSchedule,e.domainId=Number(sessionStorage.getItem("activeDomainId")),this.runService.updatetScheduler(e).subscribe(e=>{"success"===e.status&&this.router.navigateByUrl("/dbckangui/test-and-run/view-scheduler")})}else this.markFormAsTouched()}submitScheduler(){const e=this.scheduleDayList.filter(e=>!0===e.checked);let t="";if("weekly"===this.schedulerForm.controls.frequency.value&&e.length>0){e.map(e=>{t=t+e.name+", "}),t=t.substring(0,t.length-2);const i=JSON.parse(JSON.stringify(this.schedulerForm.value));i.ScheduleTimer=this.schedulerForm.value.ScheduleTimer.getHours()+":"+this.schedulerForm.value.ScheduleTimer.getMinutes(),i.day="",i.scheduledDay=t,i.domainId=sessionStorage.getItem("activeDomainId"),this.runService.submitScheduler(i).subscribe(e=>{"success"===e.status&&this.router.navigateByUrl("/dbckangui/test-and-run/view-scheduler")})}else if("monthly"===this.schedulerForm.controls.frequency.value){const e=JSON.parse(JSON.stringify(this.schedulerForm.value));e.ScheduleTimer=this.schedulerForm.value.ScheduleTimer.getHours()+":"+this.schedulerForm.value.ScheduleTimer.getMinutes(),e.scheduledDay="",e.domainId=sessionStorage.getItem("activeDomainId"),this.runService.submitScheduler(e).subscribe(e=>{"success"===e.status&&this.router.navigateByUrl("/dbckangui/test-and-run/view-scheduler")})}else this.markFormAsTouched()}markFormAsTouched(){this.schedulerForm.updateValueAndValidity(),Object.keys(this.schedulerForm.controls).forEach(e=>{this.schedulerForm.controls[e].markAsTouched(),this.schedulerForm.controls[e].markAsDirty()})}onCancel(){this.router.navigateByUrl("/dbckangui/test-and-run/view-scheduler")}onChangeFrequency(e){"monthly"===e.value?this.setMonthlyValidators():(this.setWeeklyValidators(),this.checkScheduleList()),this.updateFormFieldValidators()}setMonthlyValidators(){this.schedulerForm.controls.day.setValidators([o.w.required]),this.schedulerForm.controls.scheduledDay.clearValidators(),this.schedulerForm.controls.scheduledDay.updateValueAndValidity(),this.schedulerForm.controls.scheduledDay.setValue("")}setWeeklyValidators(){this.schedulerForm.controls.scheduledDay.setValidators([o.w.required]),this.schedulerForm.controls.day.clearValidators(),this.schedulerForm.controls.day.updateValueAndValidity(),this.schedulerForm.controls.day.setValue("")}updateFormFieldValidators(){this.schedulerForm.updateValueAndValidity(),Object.keys(this.schedulerForm.controls).forEach(e=>{this.schedulerForm.controls[e].updateValueAndValidity()})}checkScheduleDay(e,t){this.schedulerForm.controls.scheduledDay.setValue(e?t:this.schedulerForm.controls.scheduledDay.value),this.checkScheduleList()}checkScheduleList(){const e=this.scheduleDayList.filter(e=>!0===e.checked);if(0===e.length)this.setWeeklyValidators(),this.schedulerForm.controls.scheduledDay.setValue("");else{const t=[];e.map(e=>{t.push(e.value)}),t.length<7?(this.allChkFlg=!1,this.schedulerForm.controls.scheduledDay.setValue(t.join())):7==t.length&&(this.allChkFlg=!0,this.schedulerForm.controls.scheduledDay.setValue(t.join()))}}}return e.\u0275fac=function(t){return new(t||e)(h.dc(o.e),h.dc(u.a),h.dc(r.i),h.dc(m.a),h.dc(f.a))},e.\u0275cmp=h.Xb({type:e,selectors:[["app-add-schedule"]],decls:47,vars:16,consts:[[1,"container-fluid","create-conn-main",3,"formGroup"],[1,"row"],[1,"col-sm-12"],[1,"form-title"],[1,"row","p-field"],[1,"col-sm-12","col-md-6"],["for","name_",1,"form-label"],[1,"req-field"],["id","name_","maxlength","255","formControlName","name","placeholder","Enter Name","type","text","pInputText","",1,"form-field"],["class","err-msg",4,"ngIf"],["for","description_",1,"form-label"],["id","description_","maxlength","255","formControlName","description","placeholder","Enter Description","type","text","pInputText","",1,"form-field"],[1,"col-sm-12","col-md-6","mr-top"],["for","connection_type",1,"form-label"],[1,""],["formControlName","frequency","optionLabel","name","optionValue","value","placeholder","Select Frequency",3,"styleClass","options","virtualScroll","itemSize","onChange"],["class","col-sm-12 col-md-6 mr-top",4,"ngIf"],["class","col-sm-6 col-md-6 mr-top",4,"ngIf"],[1,"col-sm-6","col-md-6","mr-top","cal-down-arrow"],["for","timeonly",1,"mar-bottom-0"],["formControlName","ScheduleTimer","inputId","timeonly",1,"time",3,"timeOnly","stepMinute","showTime"],[1,"note","row","p-field"],[1,"col-sm-12","col-md-6","mr-top","text-left"],[1,"row","p-field","mr-top"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button","class","button w-button shadow btn-mr-rt","label","Create Schedule",3,"disabled","click",4,"ngIf"],["pButton","","type","button","class","button w-button shadow btn-mr-rt","label","Update Schedule",3,"disabled","click",4,"ngIf"],["pButton","","type","button","label","Cancel",1,"cancelButton","w-button","shadow","btn-mr-rt","btn-cancel",3,"click"],[1,"err-msg"],["for","scheduled_Day",1,"form-label"],["binary","true",1,"vertical-align-middle",3,"ngModel","ngModelOptions","ngModelChange","onChange"],["for","all",1,"form-label","margin-left"],[4,"ngFor","ngForOf"],["name","scheduled_Days","binary","true",1,"vertical-align-middle",3,"value","ngModel","ngModelOptions","onChange","ngModelChange"],[1,"form-label","margin-left",3,"for"],[1,"col-sm-6","col-md-6","mr-top"],["formControlName","day","optionLabel","name","optionValue","value","placeholder","Select Date",3,"styleClass","options","virtualScroll","itemSize","filter"],["pButton","","type","button","label","Create Schedule",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],["pButton","","type","button","label","Update Schedule",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"]],template:function(e,t){1&e&&(h.jc(0,"div",0),h.jc(1,"div",1),h.jc(2,"div",2),h.jc(3,"p",3),h.bd(4),h.ic(),h.ic(),h.ic(),h.jc(5,"div",4),h.jc(6,"div",5),h.jc(7,"label",6),h.bd(8,"Name"),h.jc(9,"sup",7),h.bd(10,"*"),h.ic(),h.ic(),h.ec(11,"br"),h.ec(12,"input",8),h.Zc(13,S,3,2,"p",9),h.ic(),h.jc(14,"div",5),h.jc(15,"label",10),h.bd(16,"Description"),h.ic(),h.ec(17,"br"),h.ec(18,"input",11),h.ic(),h.jc(19,"div",12),h.jc(20,"label",13),h.bd(21,"Frequency"),h.jc(22,"sup",7),h.bd(23,"*"),h.ic(),h.ic(),h.ec(24,"br"),h.jc(25,"div",14),h.jc(26,"p-dropdown",15),h.qc("onChange",function(e){return t.onChangeFrequency(e)}),h.ic(),h.Zc(27,M,2,1,"p",9),h.ic(),h.ic(),h.Zc(28,k,11,5,"div",16),h.Zc(29,D,10,6,"div",17),h.jc(30,"div",18),h.jc(31,"label",19),h.bd(32,"Time Only"),h.ic(),h.ec(33,"p-calendar",20),h.Zc(34,V,2,1,"p",9),h.ic(),h.ic(),h.jc(35,"div",21),h.jc(36,"div",22),h.jc(37,"p"),h.bd(38,"Note: Fields marked with "),h.jc(39,"b"),h.bd(40,'"*"'),h.ic(),h.bd(41," are required. "),h.ic(),h.ic(),h.ic(),h.jc(42,"div",23),h.jc(43,"div",24),h.Zc(44,T,1,1,"button",25),h.Zc(45,W,1,1,"button",26),h.jc(46,"button",27),h.qc("click",function(){return t.onCancel()}),h.ic(),h.ic(),h.ic(),h.ic()),2&e&&(h.Bc("formGroup",t.schedulerForm),h.Nb(4),h.dd(" ",t.editMode?"Edit ":"Create"," Schedule "),h.Nb(9),h.Bc("ngIf",t.schedulerForm.controls.name.invalid&&!t.schedulerForm.controls.name.pristine),h.Nb(13),h.Bc("styleClass","form-field")("options",t.frequencyList)("virtualScroll",!0)("itemSize",30),h.Nb(1),h.Bc("ngIf",t.schedulerForm.controls.frequency.invalid&&!t.schedulerForm.controls.frequency.pristine),h.Nb(1),h.Bc("ngIf","weekly"===t.schedulerForm.controls.frequency.value),h.Nb(1),h.Bc("ngIf","monthly"===t.schedulerForm.controls.frequency.value),h.Nb(4),h.Bc("timeOnly",!0)("stepMinute",5)("showTime",!0),h.Nb(1),h.Bc("ngIf",t.schedulerForm.controls.ScheduleTimer.invalid&&!t.schedulerForm.controls.ScheduleTimer.pristine),h.Nb(10),h.Bc("ngIf",!t.editMode),h.Nb(1),h.Bc("ngIf",t.editMode))},directives:[o.p,o.i,o.d,o.k,o.o,o.g,b.a,n.n,a.a,C.a,w.b,v.a,o.r,n.m],styles:[".form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.p-field[_ngcontent-%COMP%]{margin:0 10px}.note[_ngcontent-%COMP%]{text-align:left;font-size:13px;color:#eb5454;margin-left:12px;margin-top:25px}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.margin-left[_ngcontent-%COMP%]{margin-left:10px;margin-top:5px}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}.form-checkbox[_ngcontent-%COMP%]{padding-left:10px;font-size:16px;padding-top:8px}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}[_nghost-%COMP%]  .cal-down-arrow .pi-chevron-down:before{font-size:1.25rem!important;font-weight:500!important}"]}),e})();var G=i("yLa2"),A=i("7zfz"),R=i("acRR"),L=i("lVkt"),E=i("/RsI"),q=i("rEr+"),Z=i("guv5");function $(e,t){if(1&e&&h.ec(0,"input",32),2&e){const e=h.uc();h.Rb("",e.editMode?"cursor-not":""," form-field")}}function J(e,t){1&e&&h.ec(0,"input",33)}function H(e,t){1&e&&(h.jc(0,"span",34),h.bd(1," Please start naming with alphabets and do not use spaces or special characters except _(underscore) "),h.ic())}function U(e,t){1&e&&(h.jc(0,"span",34),h.bd(1,"Please enter "),h.jc(2,"b"),h.bd(3,"Name"),h.ic(),h.ic())}function X(e,t){if(1&e&&(h.jc(0,"p",34),h.Zc(1,H,2,0,"span",10),h.Zc(2,U,4,0,"span",10),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("ngIf",e.appGrpForm.controls.appName.errors.pattern),h.Nb(1),h.Bc("ngIf",e.appGrpForm.controls.appName.errors.required)}}function Y(e,t){if(1&e&&(h.jc(0,"div",37),h.jc(1,"div",38),h.bd(2),h.ic(),h.ic()),2&e){const e=h.uc(2);h.Nb(2),h.cd(e.selectedValidation.length<=2?e.getselectedValidationString():"{"+e.selectedValidation.length+"} selected")}}function K(e,t){1&e&&(h.jc(0,"div",39),h.bd(1," Select Validation "),h.ic())}function Q(e,t){if(1&e&&(h.Zc(0,Y,3,1,"div",35),h.Zc(1,K,2,0,"div",36)),2&e){const e=h.uc();h.Bc("ngIf",e.selectedValidation.length),h.Nb(1),h.Bc("ngIf",!e.selectedValidation||0===e.selectedValidation.length)}}function ee(e,t){if(1&e&&(h.jc(0,"div",40),h.jc(1,"div"),h.bd(2),h.ic(),h.ic()),2&e){const e=t.$implicit;h.Nb(2),h.cd(e.value)}}function te(e,t){1&e&&(h.jc(0,"span",34),h.bd(1," Please choose "),h.jc(2,"b"),h.bd(3,"Validation Check"),h.ic(),h.ic())}function ie(e,t){if(1&e&&(h.jc(0,"p",34),h.Zc(1,te,4,0,"span",10),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("ngIf",e.errmsg)}}function ne(e,t){1&e&&(h.jc(0,"span",34),h.bd(1,"Please choose "),h.jc(2,"b"),h.bd(3,"Schedule"),h.ic(),h.ic())}function oe(e,t){if(1&e&&(h.jc(0,"p",34),h.Zc(1,ne,4,0,"span",10),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.Bc("ngIf",e.appGrpForm.controls.idScheduler.errors.required)}}function re(e,t){if(1&e&&(h.jc(0,"div",12),h.jc(1,"label",6),h.bd(2,"Schedule"),h.jc(3,"sup",7),h.bd(4,"*"),h.ic(),h.ic(),h.ec(5,"br"),h.ec(6,"p-dropdown",41),h.Zc(7,oe,2,1,"p",10),h.ic()),2&e){const e=h.uc();h.Nb(6),h.Bc("styleClass","form-field")("options",e.schedulerList)("virtualScroll",!0)("itemSize",30)("filter",!0),h.Nb(1),h.Bc("ngIf",e.appGrpForm.controls.idScheduler.invalid&&!e.appGrpForm.controls.idScheduler.pristine)}}function se(e,t){if(1&e){const e=h.kc();h.jc(0,"button",42),h.qc("click",function(){return h.Rc(e),h.uc().addAppGrp()}),h.ic()}}function ce(e,t){if(1&e){const e=h.kc();h.jc(0,"button",43),h.qc("click",function(){return h.Rc(e),h.uc().addAppGrp()}),h.ic()}if(2&e){const e=h.uc();h.Bc("disabled",!e.appGrpForm.valid||!e.appGrpForm.dirty&&!e.flag)}}function ae(e,t){if(1&e){const e=h.kc();h.jc(0,"th"),h.bd(1),h.ec(2,"br"),h.ec(3,"p-sortIcon",56),h.jc(4,"app-column-filter",57),h.qc("filterData",function(t){return h.Rc(e),h.uc(4).getFilterData(t)})("resetFilterValues",function(t){return h.Rc(e),h.uc(4).resetFilter(t)}),h.ic(),h.jc(5,"span",58),h.jc(6,"i",59),h.qc("click",function(){h.Rc(e);const t=h.uc().$implicit;return h.uc(3).onFilterClick(t.originalValue)}),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc().$implicit,t=h.uc(3);h.Nb(1),h.cd(e.displayValue),h.Nb(2),h.Cc("field",e.originalValue),h.Cc("pSortableColumn",e.originalValue),h.Nb(1),h.Bc("colFilterData",t.getFilterState(e.originalValue))("customId",e.originalValue)("display",t.displayFiltersFor[e.originalValue])("fieldName",e.originalValue),h.Nb(1),h.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"selected-filter-column":""),h.Nb(1),h.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function le(e,t){if(1&e&&(h.hc(0),h.Zc(1,ae,7,9,"th",55),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",e.isSelected)}}function de(e,t){if(1&e&&(h.jc(0,"tr",53),h.Zc(1,le,2,1,"ng-container",54),h.jc(2,"th"),h.bd(3," Actions"),h.ic(),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.Bc("ngForOf",e.customizeCols)}}function pe(e,t){if(1&e&&(h.jc(0,"button",66),h.bd(1),h.ic()),2&e){const e=h.uc(3).$implicit;h.Rb("conn-name ","yes"==e.Status?"conn-pass":"conn-failed",""),h.Bc("title",e.ValidationCheckName),h.Nb(1),h.dd(" ",e.ValidationCheckName," ")}}const ge=function(){return{"word-break":"break-all"}};function he(e,t){if(1&e&&(h.jc(0,"td",64),h.jc(1,"span"),h.bd(2),h.ic(),h.Zc(3,pe,2,5,"button",65),h.ic()),2&e){const e=h.uc().$implicit,t=h.uc().$implicit;h.Bc("ngStyle",h.Ec(4,ge))("title",t[e.originalValue]),h.Nb(2),h.cd(t[e.originalValue]),h.Nb(1),h.Bc("ngIf","ValidationCheckName"==e.originalValue)}}function ue(e,t){if(1&e&&(h.hc(0),h.Zc(1,he,4,5,"td",63),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",e.isSelected)}}function me(e,t){if(1&e){const e=h.kc();h.jc(0,"tr",60),h.Zc(1,ue,2,1,"ng-container",54),h.jc(2,"td"),h.jc(3,"span",61),h.jc(4,"i",62),h.qc("click",function(){h.Rc(e);const i=t.$implicit;return h.uc(2).deleteAppGroupMapping(i)}),h.ic(),h.ic(),h.ec(5,"br"),h.ic(),h.ic()}if(2&e){const e=h.uc(2);h.Nb(1),h.Bc("ngForOf",e.customizeCols)}}function fe(e,t){1&e&&(h.jc(0,"div",67),h.bd(1,"No records found "),h.ic())}function be(e,t){if(1&e&&(h.jc(0,"div",72),h.jc(1,"div"),h.bd(2),h.ic(),h.ic()),2&e){const e=h.uc(4);h.Nb(2),h.ed("Page ",e.selectedPage.page," of ",e.totalNumOfPages,"")}}function Ce(e,t){if(1&e&&h.Zc(0,be,3,2,"div",71),2&e){const e=h.uc(3);h.Bc("ngIf",e.selectedPage)}}const we=function(){return{standalone:!0}};function ve(e,t){if(1&e){const e=h.kc();h.jc(0,"div",68),h.jc(1,"p-dropdown",69),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc(2).selectedPage=t})("onChange",function(t){return h.Rc(e),h.uc(2).onPageNumChange(t)}),h.Zc(2,Ce,1,1,"ng-template",70),h.ic(),h.ic()}if(2&e){const e=h.uc(2);h.Nb(1),h.Bc("options",e.numOfPages)("virtualScroll",!0)("itemSize",30)("filter",!0)("ngModel",e.selectedPage)("ngModelOptions",h.Ec(6,we))}}const Pe=function(){return{width:"100%"}};function Oe(e,t){if(1&e){const e=h.kc();h.jc(0,"div",44),h.jc(1,"div",45),h.jc(2,"p-table",46),h.qc("firstChange",function(t){return h.Rc(e),h.uc().first=t})("sortFunction",function(t){return h.Rc(e),h.uc().customSort(t)}),h.Zc(3,de,4,1,"ng-template",30),h.Zc(4,me,6,1,"ng-template",47),h.ic(),h.Zc(5,fe,2,0,"div",48),h.jc(6,"div",49),h.jc(7,"div"),h.jc(8,"p-paginator",50,51),h.qc("onPageChange",function(t){return h.Rc(e),h.uc().onPageChange(t)})("firstChange",function(t){return h.Rc(e),h.uc().first=t}),h.ic(),h.ic(),h.Zc(10,ve,3,7,"div",52),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(2),h.Vc(h.Ec(21,Pe)),h.Bc("value",e.pageWiseAppGroupMapping)("scrollable",e.pageWiseAppGroupMapping.length>7)("scrollHeight",e.pageWiseAppGroupMapping.length>7?e.scrollHt:"")("responsive",!0)("rowHover",!0)("sortOrder",1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("rows",10)("first",e.first)("customSort",!0)("sortField","ValidationId"),h.Nb(3),h.Bc("ngIf",!e.pageWiseAppGroupMapping.length),h.Nb(3),h.Bc("rows",10)("totalRecords",e.appGroupMapping.length)("showCurrentPageReport",!0)("first",e.first),h.Nb(2),h.Bc("ngIf",e.pageWiseAppGroupMapping.length)}}function Se(e,t){1&e&&(h.jc(0,"span",73),h.ec(1,"i",74),h.bd(2," Confirmation "),h.ic())}const xe=function(){return{width:"100%",height:"36px"}},Me=function(){return{width:"50vw"}};let je=(()=>{class e{constructor(e,t,i,n,o,r,s){this.homeServiceService=e,this.fb=t,this.filterService=i,this.router=n,this.messages=o,this.runService=r,this.domainProjService=s,this.appConstant=new G.a,this.appGroupMapping=[],this.mainAppGroupMapping=[],this.pageWiseAppGroupMapping=[],this.display=!1,this.deleteModal=!1,this.deleteAppGroup={},this.first=0,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.pageSize=9,this.totalNumOfPages=0,this.columnFilter={},this.projectDomains=[],this.selectedCheckbox=!1,this.editMode=!1,this.formState="",this.querySelectedValues=!1,this.validationApprovedList=[],this.scrollHt="300px",this.displayFiltersFor={idAppGroupMapping:!1,appName:!1},this.selectedValidation=[],this.customizeCols=[{displayValue:"Id",originalValue:"idAppGroupMapping",isSelected:!0,necessaryCol:!0,alwaysSelected:!1},{displayValue:"Validation Name",originalValue:"appName",isSelected:!0,necessaryCol:!0,alwaysSelected:!1,width:"35%"}],this.filterData={},this.chooseSchema=[],this.errmsg=!1,this.flag=!1}ngOnInit(){var e,t;this.appGrpForm=this.fb.group({domProj:["",[]],appName:["",o.w.compose([o.w.required,o.w.pattern("^[a-zA-Z][A-Za-z0-9_]*$")])],idScheduler:["",[]],description:[""],schedulerEnabled:[""]}),this.projectDomains=this.homeServiceService.getProjectList(),null===(e=this.projectDomains)||void 0===e||e.map(e=>{e.domainAndProjectId=e.domainId+"_"+e.idProject,e.domainProject=e.domainName+"-"+e.projectName}),this.appGrpForm.controls.domProj.setValue(sessionStorage.getItem("activeDomainId")+"_"+sessionStorage.getItem("activeProjectId")),this.getApproveValidationList(),(null===(t=this.router.url)||void 0===t?void 0:t.includes("edit-app-group"))?(this.domainProjService.passDomainProjVal(!0),this.formState="Edit",sessionStorage.getItem("appGroupDet")&&(this.editMode=!0)):(this.domainProjService.passDomainProjVal(!1),this.formState="Create",this.editMode=!1),this.runService.schedulerList("getSchedulerList").subscribe(e=>{this.schedulerList=e.result})}getApproveValidationList(){const e={domainId:sessionStorage.getItem("activeDomainId"),projectId:sessionStorage.getItem("activeProjectId")};this.runService.getValidationCheckNameList("validationCheckName",e).subscribe(e=>{this.validationApprovedList=[],e.result.forEach(e=>{const t={id:e.appId.toString(),value:e.validationName};this.validationApprovedList.push(t)}),this.editMode&&this.viewAppGroupData(sessionStorage.getItem("appGroupDet"))})}deleteAppGroupMapping(e){this.deleteModal=!0,this.deleteAppGroup=e}onValidationChange(){this.chooseSchema=[],this.editMode&&(this.flag=!0),this.selectedValidation.forEach(e=>{this.chooseSchema.push(e.id)})}deleteConfirm(){this.deleteModal=!1;const e={idAppGroupMapping:this.deleteAppGroup.idAppGroupMapping.toString()};this.runService.deleteAppGroupMapping("deleteAppGroupMapping",e).subscribe(e=>{"success"===e.status&&(this.messages.displayToaster(e.message,"success","Success"),this.chooseSchema.pop(this.deleteAppGroup.appId),this.selectedValidation.pop(this.deleteAppGroup.appId),this.deleteAppGroup={},this.getApproveValidationList())})}viewAppGroupData(e){this.runService.getAppGroupById("getAppGroupById",{appGroupId:e}).subscribe(e=>{if("success"===e.status){this.mainAppGroupMapping=[...e.result.appGroupMappings],this.appGroupMapping=[...this.mainAppGroupMapping],this.chooseSchema=e.result.selectedAppIds.split(","),this.selectedValidation=[],this.chooseSchema.forEach(e=>{const t=this.validationApprovedList.filter(t=>t.id==e)[0];t&&this.selectedValidation.push(t)});const t=this.first+this.pageSize,i=this.appGroupMapping.filter((e,i)=>i<=t);this.pageWiseAppGroupMapping=[...i],this.calculateNumOfPages(),this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount,this.enableScheduling=e.result.listAppGroup.enableScheduling,this.querySelectedValues="N"!=e.result.listAppGroup.enableScheduling,this.appGrpForm.patchValue({domProj:sessionStorage.getItem("activeDomainId")+"_"+sessionStorage.getItem("activeProjectId"),appName:e.result.listAppGroup.name,description:e.result.listAppGroup.description,appIdList:e.result.selectedAppIds,idScheduler:e.result.listAppGroup.idSchedule,schedulerEnabled:this.querySelectedValues})}})}calculateNumOfPages(){if(this.totalNumOfPages=this.mainAppGroupMapping.length?this.mainAppGroupMapping.length<this.pageSize?1:Math.ceil(this.mainAppGroupMapping.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}customSort(e){const t=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=t+1,this.selectedPage.pageIndex=t,this.sortOrderEvent=e;const i=[...this.appGroupMapping];if("listGroupNameValue"===e.field){i.sort(1===this.sortOrderEvent.order?(t,i)=>t[e.field][0].value>i[e.field][0].value?1:i[e.field][0].value>t[e.field][0].value?-1:0:(t,i)=>t[e.field][0].value>i[e.field][0].value?-1:i[e.field][0].value>t[e.field][0].value?1:0);const t=this.first+this.pageSize,n=i.filter((e,i)=>{if(i<=t&&i>=this.first)return e});this.pageWiseAppGroupMapping=[...n]}else{i.sort(1===this.sortOrderEvent.order?(t,i)=>t[e.field]>i[e.field]?1:i[e.field]>t[e.field]?-1:0:(t,i)=>t[e.field]>i[e.field]?-1:i[e.field]>t[e.field]?1:0);const t=this.first+this.pageSize,n=i.filter((e,i)=>{if(i<=t&&i>=this.first)return e});this.pageWiseAppGroupMapping=[...n]}}resetFilter(e){this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.appGroupMapping=[...this.mainAppGroupMapping],t.forEach(e=>{this.appGroupMapping=this.appGroupMapping.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}setPageNumber(){if(this.totalNumOfPages=this.appGroupMapping.length?this.appGroupMapping.length<this.pageSize?1:Math.ceil(this.appGroupMapping.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}const e=this.first+this.pageSize,t=this.appGroupMapping.filter((t,i)=>i<=e);this.pageWiseAppGroupMapping=[...t]}getFilterData(e){this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e[0]]=!1,this.first=0,this.appGroupMapping=[...this.mainAppGroupMapping],t.forEach(e=>{this.appGroupMapping=this.appGroupMapping.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}onFilterClick(e){Object.keys(this.displayFiltersFor).map(t=>{this.displayFiltersFor[t]=t===e})}onPageChange(e){this.first=e.first;const t=this.getSortedData(),i=this.first+this.pageSize,n=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseAppGroupMapping=[...n]}onPageNumChange(e){this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);const t=this.getSortedData(),i=this.first+this.pageSize,n=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.pageWiseAppGroupMapping=[...n]}getSortedData(){const e=[...this.appGroupMapping];return this.sortOrderEvent?1===this.sortOrderEvent.order?(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?-1:0),e):(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?-1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?1:0),e):e}getFilterState(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){const t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}onChangeDomProj(){this.selectedDomProj=this.appGrpForm.controls.domProj.value,this.selectedValidation=[];const e={domainId:sessionStorage.getItem("activeDomainId"),projectId:sessionStorage.getItem("activeProjectId")};this.runService.getValCheckNameList("validationCheckName",e).subscribe(e=>{this.validationApprovedList=[],e.result.forEach(e=>{const t={id:e.appId.toString(),value:e.validationName};this.validationApprovedList.push(t)})})}onChecked(e){this.selectedCheckbox=e,1==e?(this.appGrpForm.get("idScheduler").setValidators(o.w.required),this.appGrpForm.get("idScheduler").updateValueAndValidity()):(this.appGrpForm.get("idScheduler").setValue(""),this.appGrpForm.get("idScheduler").clearValidators(),this.appGrpForm.get("idScheduler").updateValueAndValidity())}markFormAsTouched(){this.appGrpForm.updateValueAndValidity(),Object.keys(this.appGrpForm.controls).forEach(e=>{this.appGrpForm.controls[e].markAsTouched(),this.appGrpForm.controls[e].markAsDirty()})}addAppGrp(){if(this.appGrpForm.valid)if(0!=this.chooseSchema.length)if(!1===this.querySelectedValues?(this.appGrpForm.value.isSchedulerEnabled="N",this.appGrpForm.value.idScheduler=0):this.appGrpForm.value.isSchedulerEnabled="Y",this.router.url.includes("edit-app-group")){const e={projectId:this.appGrpForm.value.domProj.split("_")[1],idAppGroup:sessionStorage.getItem("appGroupDet"),idAppList:this.chooseSchema.toString(),name:this.appGrpForm.value.appName,description:this.appGrpForm.value.description,schedulerEnabled:this.appGrpForm.value.isSchedulerEnabled,idScheduler:"N"==this.appGrpForm.value.isSchedulerEnabled?0:this.appGrpForm.value.idScheduler};this.runService.updateAppGroup("editAppGroup",e).subscribe(e=>{this.displayMessage=e.message,"success"===e.status&&(this.successToasty(e.message),this.router.navigateByUrl("/dbckangui/test-and-run/view-app-group"))})}else{const e={projectId:this.appGrpForm.value.domProj.split("_")[1],appIdList:this.chooseSchema.toString(),appName:this.appGrpForm.value.appName,description:this.appGrpForm.value.description,isSchedulerEnabled:this.appGrpForm.value.isSchedulerEnabled,idScheduler:this.appGrpForm.value.idScheduler};this.runService.addAppGroup("createAppGroup",e).subscribe(e=>{this.displayMessage=e.message,"success"===e.status&&(this.successToasty(e.message),this.router.navigateByUrl("/dbckangui/test-and-run/view-app-group"))})}else this.errmsg=!0,this.messages.displayToaster("Please choose atleast one validation","warn","warning");else this.markFormAsTouched()}successToasty(e){this.messages.displayToaster(e,"success","Success")}onCancel(){this.router.navigateByUrl("/dbckangui/test-and-run/view-app-group")}getselectedValidationString(){let e="";return this.selectedValidation.forEach((t,i)=>{e=e+(0!=i?",":"")+t.value}),e}filterColumnNameWithHighlightName(e){return!(Object.keys(this.columnFilter).findIndex(t=>t===e)<0)}}return e.\u0275fac=function(t){return new(t||e)(h.dc(u.a),h.dc(o.e),h.dc(A.d),h.dc(r.i),h.dc(R.a),h.dc(m.a),h.dc(f.a))},e.\u0275cmp=h.Xb({type:e,selectors:[["app-app-group"]],decls:58,vars:30,consts:[["id","appGrpForm",1,"container-fluid","create-conn-main",3,"formGroup"],[1,"row"],[1,"col-sm-12"],[1,"form-title"],[1,"row","p-field"],[1,"col-sm-12","col-md-6"],["for","connection_type",1,"form-label"],[1,"req-field"],["id","uri","maxlength","255","readonly","","formControlName","appName","placeholder","Enter Name","type","text","pInputText","",3,"class",4,"ngIf"],["id","uri","maxlength","45","formControlName","appName","placeholder","Enter Name","type","text","class","form-field","pInputText","",4,"ngIf"],["class","err-msg",4,"ngIf"],["id","uri","maxlength","255","formControlName","description","placeholder","Enter Description","type","text","pInputText","",1,"form-field"],[1,"col-sm-12","col-md-6","mr-top"],["for","validationCheckType",1,"form-label"],["defaultLabel","Select Validation","optionLabel","validationName","name","selectedValidation",1,"multiselect-custom",3,"options","ngModel","styleClass","maxSelectedLabels","selectedItemsLabel","ngModelOptions","ngModelChange","onChange"],["pTemplate","selectedItems"],["pTemplate","item"],[1,"col-sm-12","col-md-6","mr-top","mar-top22"],["binary","true","inputId","binary","formControlName","schedulerEnabled",1,"pChkBox",3,"ngModel","ngModelChange"],["for","query",1,"form-label","margin-left"],["class","col-sm-12 col-md-6 mr-top",4,"ngIf"],[1,"note","row","p-field"],[1,"col-sm-12","col-md-6","mr-top","text-left"],[1,"row","p-field","mr-top"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button","class","button w-button shadow btn-mr-rt","label","Create Job Group",3,"click",4,"ngIf"],["pButton","","type","button","class","button w-button shadow btn-mr-rt","label","Update Job Group",3,"disabled","click",4,"ngIf"],["pButton","","type","button","id","cancel","label","Cancel",1,"cancelButton","w-button","shadow","btn-mr-rt","btn-cancel",3,"click"],["class","row p-field toptable","id","view_data_conn",4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pTemplate","header"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],["id","uri","maxlength","255","readonly","","formControlName","appName","placeholder","Enter Name","type","text","pInputText",""],["id","uri","maxlength","45","formControlName","appName","placeholder","Enter Name","type","text","pInputText","",1,"form-field"],[1,"err-msg"],["class","validationType-item validationType-item-value",4,"ngIf"],["class","validationType-placeholder",4,"ngIf"],[1,"validationType-item","validationType-item-value"],[1,"word_break_word_all"],[1,"validationType-placeholder"],[1,"validationType-item"],["formControlName","idScheduler","optionLabel","name","optionValue","idSchedule","placeholder","Select Schedule",3,"styleClass","options","virtualScroll","itemSize","filter"],["pButton","","type","button","label","Create Job Group",1,"button","w-button","shadow","btn-mr-rt",3,"click"],["pButton","","type","button","label","Update Job Group",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],["id","view_data_conn",1,"row","p-field","toptable"],[1,"col-md-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","responsiveLayout","scroll","sortMode","single",3,"value","scrollable","scrollHeight","responsive","rowHover","sortOrder","pageLinks","filterDelay","resetPageOnSort","rows","first","customSort","sortField","firstChange","sortFunction"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div","pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],[1,"header"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","customId","display","fieldName","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"row-ht"],[1,"actions"],["title","Delete","aria-hidden","true",1,"fa","fa-trash",3,"click"],[3,"ngStyle","title",4,"ngIf"],[3,"ngStyle","title"],[3,"class","title",4,"ngIf"],[3,"title"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","virtualScroll","itemSize","filter","ngModel","ngModelOptions","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"]],template:function(e,t){1&e&&(h.jc(0,"div",0),h.jc(1,"div",1),h.jc(2,"div",2),h.jc(3,"p",3),h.bd(4),h.ic(),h.ic(),h.ic(),h.jc(5,"div",4),h.jc(6,"div",5),h.jc(7,"label",6),h.bd(8,"Name"),h.jc(9,"sup",7),h.bd(10,"*"),h.ic(),h.ic(),h.ec(11,"br"),h.jc(12,"div"),h.Zc(13,$,1,3,"input",8),h.Zc(14,J,1,0,"input",9),h.Zc(15,X,3,2,"p",10),h.ic(),h.ic(),h.jc(16,"div",5),h.jc(17,"label",6),h.bd(18,"Description"),h.ic(),h.ec(19,"br"),h.ec(20,"input",11),h.ic(),h.jc(21,"div",12),h.jc(22,"label",13),h.bd(23,"Validation"),h.jc(24,"sup",7),h.bd(25,"*"),h.ic(),h.ic(),h.ec(26,"br"),h.jc(27,"p-multiSelect",14),h.qc("ngModelChange",function(e){return t.selectedValidation=e})("onChange",function(){return t.onValidationChange()}),h.Zc(28,Q,2,2,"ng-template",15),h.Zc(29,ee,3,1,"ng-template",16),h.ic(),h.Zc(30,ie,2,1,"p",10),h.ic(),h.jc(31,"div",17),h.jc(32,"p-checkbox",18),h.qc("ngModelChange",function(e){return t.querySelectedValues=e})("ngModelChange",function(){return t.onChecked(t.querySelectedValues)}),h.ic(),h.jc(33,"label",19),h.bd(34,"Enable Scheduling"),h.ic(),h.ic(),h.Zc(35,re,8,6,"div",20),h.ic(),h.jc(36,"div",21),h.jc(37,"div",22),h.jc(38,"p"),h.bd(39,"Note: Fields marked with "),h.jc(40,"b"),h.bd(41,'"*"'),h.ic(),h.bd(42," are required. "),h.ic(),h.ic(),h.ic(),h.jc(43,"div",23),h.jc(44,"div",24),h.Zc(45,se,1,0,"button",25),h.Zc(46,ce,1,1,"button",26),h.jc(47,"button",27),h.qc("click",function(){return t.onCancel()}),h.ic(),h.ic(),h.ic(),h.Zc(48,Oe,11,22,"div",28),h.ic(),h.jc(49,"p-dialog",29),h.qc("visibleChange",function(e){return t.deleteModal=e}),h.Zc(50,Se,3,0,"ng-template",30),h.jc(51,"p"),h.bd(52,"Are you sure you want to delete Validation "),h.jc(53,"b"),h.bd(54),h.ic(),h.bd(55,"?"),h.ic(),h.jc(56,"p-footer"),h.jc(57,"button",31),h.qc("click",function(){return t.deleteConfirm()}),h.ic(),h.ic(),h.ic()),2&e&&(h.Bc("formGroup",t.appGrpForm),h.Nb(4),h.dd(" ",t.formState," Job Group "),h.Nb(9),h.Bc("ngIf",t.editMode),h.Nb(1),h.Bc("ngIf",!t.editMode),h.Nb(1),h.Bc("ngIf",t.appGrpForm.controls.appName.invalid&&!t.appGrpForm.controls.appName.pristine),h.Nb(12),h.Vc(h.Ec(27,xe)),h.Bc("options",t.validationApprovedList)("ngModel",t.selectedValidation)("styleClass","form-field")("maxSelectedLabels",5)("selectedItemsLabel","{0} items selected")("ngModelOptions",h.Ec(28,we)),h.Nb(3),h.Bc("ngIf",t.errmsg),h.Nb(2),h.Bc("ngModel",t.querySelectedValues),h.Nb(3),h.Bc("ngIf",t.selectedCheckbox),h.Nb(10),h.Bc("ngIf",!t.editMode),h.Nb(1),h.Bc("ngIf",t.editMode),h.Nb(2),h.Bc("ngIf",t.editMode),h.Nb(1),h.Vc(h.Ec(29,Me)),h.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),h.Nb(5),h.dd("",t.deleteAppGroup.appName," "))},directives:[o.p,o.i,n.n,o.d,o.k,o.o,o.g,b.a,L.a,o.r,A.i,v.a,w.b,E.a,A.e,a.a,q.f,l.a,n.m,q.d,q.e,Z.a,n.l,n.o],styles:[".add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}.pad-0[_ngcontent-%COMP%]{padding:0}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.mar-top[_ngcontent-%COMP%]{margin-top:-50px!important}.mar[_ngcontent-%COMP%]{margin-right:120px!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.p-field[_ngcontent-%COMP%]{margin:0 10px}.note[_ngcontent-%COMP%]{text-align:left;font-size:13px;color:#eb5454;margin-left:12px;margin-top:20px}.no-records[_ngcontent-%COMP%]{padding:5px 10px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.margin-left[_ngcontent-%COMP%]{margin-left:10px;margin-top:5px}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.toptable[_ngcontent-%COMP%]{padding-top:30px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important;height:36px!important}[_nghost-%COMP%]     .multiselect-custom .p-multiselect-label{padding-top:.25rem!important;padding-bottom:.25rem!important}[_nghost-%COMP%]     .multiselect-custom .validationType-item-value{padding:.1rem .25rem!important;border-radius:3px!important;display:inline-flex!important;margin-right:.5rem!important}[_nghost-%COMP%]     .multiselect-custom .validationType-item div{white-space:normal;word-break:break-word}[_nghost-%COMP%]     .multiselect-custom .validationType-placeholder{font-family:Open Sans!important;font-size:14px!important;font-weight:400;padding:.25rem}.mar-top22[_ngcontent-%COMP%]{margin-top:22px}"]}),e})();var ye=i("dvQU"),_e=i("FcN9"),Ne=i("tRzR"),ke=i("0DOw"),Ie=i("h9v1");function Fe(e,t){if(1&e&&(h.jc(0,"div",1),h.jc(1,"div",2),h.jc(2,"div",3),h.jc(3,"p",4),h.bd(4),h.ic(),h.ic(),h.ic(),h.jc(5,"div",2),h.ec(6,"app-progress-bar",5),h.ic(),h.ic()),2&e){const e=t.$implicit;h.Nb(4),h.dd(" Validation Check: ",e.validationName," "),h.Nb(2),h.Bc("value",e.value)("appName",e.appName)("success",e.success)("progressBarShow",e.progressBarShow)}}let De=(()=>{class e{constructor(e){this.runService=e,this.unitTestDetails={},this.fullLoadDetails={},this.arr=[]}ngOnInit(){var e;this.unitTestDetails=JSON.parse(sessionStorage.getItem("unitTestRun")),this.fullLoadDetails=JSON.parse(sessionStorage.getItem("fullLoadRun"));const t=JSON.parse(sessionStorage.getItem("run"));"run"==t.urlName&&(this.result=t.result,null===(e=this.result)||void 0===e||e.map(e=>{const i=this.result.find(e=>e.uniqueId===this.result[t.barCount].uniqueId);e.intervalId=setInterval(()=>{null===this.unitTestDetails&&null===this.fullLoadDetails?t.selectedValidation.forEach(t=>{t.appId==i.appId&&(e.validationName=t.validationName,this.valName=t.validationName)}):(e.validationName=null!=this.unitTestDetails?this.unitTestDetails.ValidationCheckName:this.fullLoadDetails.ValidationCheckName,this.valName=e.validationName);const n=new ke.b;n.idApp=i.appId,n.task_name=this.valName,n.uniqueId=i.uniqueId,this.runService.getStatusPoll("statusPoll",n).subscribe(t=>{var i;e.success=null===(i=null==t?void 0:t.result)||void 0===i?void 0:i.status,"Task queued"===e.success||"Task started"===e.success?e.progressBarShow=!1:"Task in progress"===e.success?(e.value=t.result.percentage,e.progressBarShow=!0,e.value>=100&&(e.value=100)):("Task killed"===e.success||"Task completed"===e.success||"Task failed"===e.success)&&(e.progressBarShow=!1,clearInterval(e.intervalId))})},2500),this.arr.push(e.intervalId),t.barCount++}))}ngOnDestroy(){this.arr.map(e=>{clearInterval(e),this.arr=[]}),sessionStorage.removeItem("unitTestRun"),sessionStorage.removeItem("fullLoadRun"),sessionStorage.removeItem("run")}}return e.\u0275fac=function(t){return new(t||e)(h.dc(m.a))},e.\u0275cmp=h.Xb({type:e,selectors:[["app-statusbar-popup"]],decls:1,vars:1,consts:[["class","container-fluid create-conn-main",4,"ngFor","ngForOf"],[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-12"],[1,"form-title","wordBreak1"],[3,"value","appName","success","progressBarShow"]],template:function(e,t){1&e&&h.Zc(0,Fe,7,5,"div",0),2&e&&h.Bc("ngForOf",t.result)},directives:[n.m,Ie.a],styles:["[_ngcontent-%COMP%]::-moz-placeholder{color:gray;opacity:.8}[_ngcontent-%COMP%]::placeholder{color:gray;opacity:.8}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.req-field[_ngcontent-%COMP%]{color:#eb5454}.add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.note[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#eb5454}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]     .p-inputtext{font-size:14px!important}.p-field[_ngcontent-%COMP%]{margin:0 10px}.p-field-form[_ngcontent-%COMP%]{padding-right:0}.diabled-ip[_ngcontent-%COMP%]{opacity:.7;box-shadow:none!important;cursor:inherit}.diabled-ip[_ngcontent-%COMP%]:hover{border:1px solid #ced4da;cursor:not-allowed!important}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .p-multiselect{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .multiselect-custom .p-multiselect-label{padding-top:.25rem!important;padding-bottom:.25rem!important}[_nghost-%COMP%]     .multiselect-custom .validationType-item-value{padding:.1rem .25rem!important;border-radius:3px!important;display:inline-flex!important;margin-right:.5rem!important}[_nghost-%COMP%]     .multiselect-custom .validationType-item div{white-space:normal;word-break:break-word}[_nghost-%COMP%]     .multiselect-custom .validationType-placeholder{font-family:Open Sans!important;font-size:14px!important;font-weight:400;padding:.25rem}@media screen and (max-width:640px){[_nghost-%COMP%]     .p-multiselect{width:100%!important}}[_nghost-%COMP%]     .p-disabled:hover{cursor:not-allowed!important}.optional-fields[_ngcontent-%COMP%]{color:#789}.form-checkbox[_ngcontent-%COMP%]{padding-left:10px;font-size:16px;padding-top:8px}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.colorCls[_ngcontent-%COMP%]{color:#fff;text-align:center;position:absolute;z-index:1;left:50%;margin-top:12px;font-weight:600}.progressHt[_ngcontent-%COMP%]{height:28px;border-radius:6px}.progressBarColor[_ngcontent-%COMP%]{background:#3b82f6!important}.progressBarWidth[_ngcontent-%COMP%]{width:100%}.progressBarWidth0[_ngcontent-%COMP%]{width:0}.progressBarWidth1[_ngcontent-%COMP%]{width:1%}.progressBarWidth2[_ngcontent-%COMP%]{width:2%}.progressBarWidth3[_ngcontent-%COMP%]{width:3%}.progressBarWidth4[_ngcontent-%COMP%]{width:4%}.progressBarWidth5[_ngcontent-%COMP%]{width:5%}.progressBarWidth6[_ngcontent-%COMP%]{width:6%}.progressBarWidth7[_ngcontent-%COMP%]{width:7%}.progressBarWidth8[_ngcontent-%COMP%]{width:8%}.progressBarWidth9[_ngcontent-%COMP%]{width:9%}.progressBarWidth10[_ngcontent-%COMP%]{width:10%}.progressBarWidth11[_ngcontent-%COMP%]{width:11%}.progressBarWidth12[_ngcontent-%COMP%]{width:12%}.progressBarWidth13[_ngcontent-%COMP%]{width:13%}.progressBarWidth14[_ngcontent-%COMP%]{width:14%}.progressBarWidth15[_ngcontent-%COMP%]{width:15%}.progressBarWidth16[_ngcontent-%COMP%]{width:16%}.progressBarWidth17[_ngcontent-%COMP%]{width:17%}.progressBarWidth18[_ngcontent-%COMP%]{width:18%}.progressBarWidth19[_ngcontent-%COMP%]{width:19%}.progressBarWidth20[_ngcontent-%COMP%]{width:20%}.progressBarWidth21[_ngcontent-%COMP%]{width:21%}.progressBarWidth22[_ngcontent-%COMP%]{width:22%}.progressBarWidth23[_ngcontent-%COMP%]{width:23%}.progressBarWidth24[_ngcontent-%COMP%]{width:24%}.progressBarWidth25[_ngcontent-%COMP%]{width:25%}.progressBarWidth26[_ngcontent-%COMP%]{width:26%}.progressBarWidth27[_ngcontent-%COMP%]{width:27%}.progressBarWidth28[_ngcontent-%COMP%]{width:28%}.progressBarWidth29[_ngcontent-%COMP%]{width:29%}.progressBarWidth30[_ngcontent-%COMP%]{width:30%}.progressBarWidth31[_ngcontent-%COMP%]{width:31%}.progressBarWidth32[_ngcontent-%COMP%]{width:32%}.progressBarWidth33[_ngcontent-%COMP%]{width:33%}.progressBarWidth34[_ngcontent-%COMP%]{width:34%}.progressBarWidth35[_ngcontent-%COMP%]{width:35%}.progressBarWidth36[_ngcontent-%COMP%]{width:36%}.progressBarWidth37[_ngcontent-%COMP%]{width:37%}.progressBarWidth38[_ngcontent-%COMP%]{width:38%}.progressBarWidth39[_ngcontent-%COMP%]{width:39%}.progressBarWidth40[_ngcontent-%COMP%]{width:40%}.progressBarWidth41[_ngcontent-%COMP%]{width:41%}.progressBarWidth42[_ngcontent-%COMP%]{width:42%}.progressBarWidth43[_ngcontent-%COMP%]{width:43%}.progressBarWidth44[_ngcontent-%COMP%]{width:44%}.progressBarWidth45[_ngcontent-%COMP%]{width:45%}.progressBarWidth46[_ngcontent-%COMP%]{width:46%}.progressBarWidth47[_ngcontent-%COMP%]{width:47%}.progressBarWidth48[_ngcontent-%COMP%]{width:48%}.progressBarWidth49[_ngcontent-%COMP%]{width:49%}.progressBarWidth50[_ngcontent-%COMP%]{width:50%}.progressBarWidth51[_ngcontent-%COMP%]{width:51%}.progressBarWidth52[_ngcontent-%COMP%]{width:42%}.progressBarWidth53[_ngcontent-%COMP%]{width:53%}.progressBarWidth54[_ngcontent-%COMP%]{width:54%}.progressBarWidth55[_ngcontent-%COMP%]{width:55%}.progressBarWidth56[_ngcontent-%COMP%]{width:56%}.progressBarWidth57[_ngcontent-%COMP%]{width:57%}.progressBarWidth58[_ngcontent-%COMP%]{width:58%}.progressBarWidth59[_ngcontent-%COMP%]{width:59%}.progressBarWidth60[_ngcontent-%COMP%]{width:60%}.progressBarWidth61[_ngcontent-%COMP%]{width:61%}.progressBarWidth62[_ngcontent-%COMP%]{width:62%}.progressBarWidth63[_ngcontent-%COMP%]{width:63%}.progressBarWidth64[_ngcontent-%COMP%]{width:64%}.progressBarWidth65[_ngcontent-%COMP%]{width:65%}.progressBarWidth66[_ngcontent-%COMP%]{width:66%}.progressBarWidth67[_ngcontent-%COMP%]{width:67%}.progressBarWidth68[_ngcontent-%COMP%]{width:68%}.progressBarWidth69[_ngcontent-%COMP%]{width:69%}.progressBarWidth70[_ngcontent-%COMP%]{width:70%}.progressBarWidth71[_ngcontent-%COMP%]{width:71%}.progressBarWidth72[_ngcontent-%COMP%]{width:72%}.progressBarWidth73[_ngcontent-%COMP%]{width:73%}.progressBarWidth74[_ngcontent-%COMP%]{width:74%}.progressBarWidth75[_ngcontent-%COMP%]{width:75%}.progressBarWidth76[_ngcontent-%COMP%]{width:76%}.progressBarWidth77[_ngcontent-%COMP%]{width:77%}.progressBarWidth78[_ngcontent-%COMP%]{width:78%}.progressBarWidth79[_ngcontent-%COMP%]{width:79%}.progressBarWidth80[_ngcontent-%COMP%]{width:80%}.progressBarWidth81[_ngcontent-%COMP%]{width:81%}.progressBarWidth82[_ngcontent-%COMP%]{width:82%}.progressBarWidth83[_ngcontent-%COMP%]{width:83%}.progressBarWidth84[_ngcontent-%COMP%]{width:84%}.progressBarWidth85[_ngcontent-%COMP%]{width:85%}.progressBarWidth86[_ngcontent-%COMP%]{width:86%}.progressBarWidth87[_ngcontent-%COMP%]{width:87%}.progressBarWidth88[_ngcontent-%COMP%]{width:88%}.progressBarWidth89[_ngcontent-%COMP%]{width:89%}.progressBarWidth90[_ngcontent-%COMP%]{width:90%}.progressBarWidth91[_ngcontent-%COMP%]{width:91%}.progressBarWidth92[_ngcontent-%COMP%]{width:92%}.progressBarWidth93[_ngcontent-%COMP%]{width:93%}.progressBarWidth94[_ngcontent-%COMP%]{width:94%}.progressBarWidth95[_ngcontent-%COMP%]{width:95%}.progressBarWidth96[_ngcontent-%COMP%]{width:96%}.progressBarWidth97[_ngcontent-%COMP%]{width:97%}.progressBarWidth98[_ngcontent-%COMP%]{width:98%}.progressBarWidth99[_ngcontent-%COMP%]{width:99%}.progressBarWidth100[_ngcontent-%COMP%]{width:100%}"]}),e})();var Be=i("E+E9");let Ve=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xb({type:e,selectors:[["app-test-and-run"]],decls:3,vars:0,consts:[[1,"content-wrapper","top"]],template:function(e,t){1&e&&(h.jc(0,"div",0),h.ec(1,"app-main-header"),h.ec(2,"router-outlet"),h.ic())},directives:[Be.a,r.m],styles:[""]}),e})();var Te=i("Iab2"),We=i("Z2oo"),ze=i.n(We),Ge=i("Tm3k"),Ae=i.n(Ge),Re=i("DaQG"),Le=i.n(Re),Ee=i("i680"),qe=i("dJ3e"),Ze=i("JqCM"),$e=i("K3ix");function Je(e,t){if(1&e){const e=h.kc();h.jc(0,"div",27),h.jc(1,"span",28),h.jc(2,"input",29),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().globalFilterValue=t})("keyup",function(t){return h.Rc(e),h.uc().globalFilterFun(t)}),h.ic(),h.bd(3,"\xa0 "),h.ec(4,"i",30),h.ic(),h.jc(5,"span",31),h.qc("click",function(){h.Rc(e);const t=h.uc(),i=h.Oc(35);return t.showCustomizeModal(i)}),h.ec(6,"img",32),h.bd(7," \xa0Customize "),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(2),h.Bc("ngModel",e.globalFilterValue),h.Nb(4),h.Rb("cursor-pointer ",e.appGroup.length?"":"disabled-opa","")}}function He(e,t){if(1&e){const e=h.kc();h.jc(0,"th"),h.bd(1),h.ec(2,"br"),h.ec(3,"p-sortIcon",38),h.jc(4,"app-column-filter",39),h.qc("hideFilterDataBox",function(t){return h.Rc(e),h.uc(3).hideBox(t)})("filterData",function(t){return h.Rc(e),h.uc(3).getFilterData(t)})("resetFilterValues",function(t){return h.Rc(e),h.uc(3).resetFilter(t)}),h.ic(),h.jc(5,"span",40),h.jc(6,"i",41),h.qc("click",function(){h.Rc(e);const t=h.uc().$implicit;return h.uc(2).onFilterClick(t.originalValue)}),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc().$implicit,t=h.uc(2);h.Nb(1),h.cd(e.displayValue),h.Nb(2),h.Cc("field",e.originalValue),h.Cc("pSortableColumn",e.originalValue),h.Nb(1),h.Bc("colFilterData",t.getFilterState(e.originalValue))("display",t.displayFiltersFor[e.originalValue])("customId",e.originalValue)("fieldName",e.originalValue),h.Nb(1),h.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"selected-filter-column":""),h.Nb(1),h.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function Ue(e,t){if(1&e&&(h.hc(0),h.Zc(1,He,7,9,"th",37),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",e.isSelected)}}function Xe(e,t){1&e&&(h.jc(0,"th",42),h.bd(1," More"),h.ic())}function Ye(e,t){if(1&e&&(h.jc(0,"tr",33),h.Zc(1,Ue,2,1,"ng-container",34),h.jc(2,"th",35),h.bd(3," Actions"),h.ic(),h.Zc(4,Xe,2,0,"th",36),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("ngForOf",e.customizeCols),h.Nb(3),h.Bc("ngIf",e.showMoreCols())}}const Ke=function(){return{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}};function Qe(e,t){if(1&e&&(h.jc(0,"td",49),h.jc(1,"span"),h.bd(2),h.ic(),h.ic()),2&e){const e=h.uc().$implicit,t=h.uc().$implicit;h.Bc("ngStyle",h.Ec(4,Ke))("ngClass","name"==e.originalValue?"rule-ellipsis":"")("title",null==t[e.originalValue]?"":t[e.originalValue]),h.Nb(2),h.cd(t[e.originalValue])}}function et(e,t){if(1&e&&(h.hc(0),h.Zc(1,Qe,3,5,"td",48),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",e.isSelected)}}function tt(e,t){if(1&e){const e=h.kc();h.jc(0,"td",50),h.qc("click",function(){h.Rc(e);const t=h.uc().$implicit,i=h.uc(),n=h.Oc(37);return i.openOtherField(n,t)}),h.bd(1," ... "),h.ic()}}function it(e,t){if(1&e){const e=h.kc();h.jc(0,"tr",43),h.Zc(1,et,2,1,"ng-container",34),h.jc(2,"td",35),h.jc(3,"span",44),h.qc("click",function(){h.Rc(e);const i=t.$implicit;return h.uc().editAppGroup(i.idAppGroup)}),h.ec(4,"i",45),h.ic(),h.jc(5,"span",44),h.qc("click",function(){h.Rc(e);const i=t.$implicit;return h.uc().deleteAppGroup(i)}),h.ec(6,"i",46),h.ic(),h.ec(7,"br"),h.ic(),h.Zc(8,tt,2,0,"td",47),h.ic()}if(2&e){const e=h.uc();h.Nb(1),h.Bc("ngForOf",e.customizeCols),h.Nb(7),h.Bc("ngIf",e.showMoreCols())}}function nt(e,t){1&e&&(h.jc(0,"div",51),h.bd(1,"No records found"),h.ic())}function ot(e,t){if(1&e){const e=h.kc();h.jc(0,"div",52),h.jc(1,"p-paginator",53,54),h.qc("onPageChange",function(t){return h.Rc(e),h.uc().onPageChange(t)})("firstChange",function(t){return h.Rc(e),h.uc().first=t}),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(1),h.Bc("rows",10)("totalRecords",e.appGroup.length)("showCurrentPageReport",!0)("first",e.first)}}function rt(e,t){if(1&e&&(h.jc(0,"div",59),h.jc(1,"div"),h.bd(2),h.ic(),h.ic()),2&e){const e=h.uc(3);h.Nb(2),h.ed("Page ",e.selectedPage.page," of ",e.totalNumOfPages,"")}}function st(e,t){if(1&e&&h.Zc(0,rt,3,2,"div",58),2&e){const e=h.uc(2);h.Bc("ngIf",e.selectedPage)}}function ct(e,t){if(1&e){const e=h.kc();h.jc(0,"div",55),h.jc(1,"p-dropdown",56),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().selectedPage=t})("onChange",function(t){return h.Rc(e),h.uc().onPageNumChange(t)}),h.Zc(2,st,1,1,"ng-template",57),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(1),h.Bc("options",e.numOfPages)("virtualScroll",!0)("itemSize",30)("filter",!0)("ngModel",e.selectedPage)}}function at(e,t){1&e&&(h.jc(0,"span",60),h.ec(1,"i",61),h.bd(2," Confirmation "),h.ic())}function lt(e,t){if(1&e){const e=h.kc();h.jc(0,"div",72),h.jc(1,"table"),h.jc(2,"tr",73),h.jc(3,"td"),h.jc(4,"p-checkbox",74),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().$implicit.isSelected=t})("onChange",function(){h.Rc(e);const t=h.uc().$implicit;return h.uc(2).checkValue(t.originalValue,t.isSelected)}),h.ic(),h.ic(),h.jc(5,"td"),h.jc(6,"label"),h.bd(7),h.ic(),h.ic(),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc().$implicit,t=h.uc(2);h.Nb(4),h.Bc("ngModel",e.isSelected)("disabled",t.checkboxDisabled&&!e.isSelected),h.Nb(3),h.cd(e.displayValue)}}function dt(e,t){if(1&e&&(h.hc(0),h.Zc(1,lt,8,3,"div",71),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",!e.necessaryCol&&!e.alwaysSelected)}}function pt(e,t){if(1&e&&(h.jc(0,"div",75),h.bd(1),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.dd("You can select up to ",e.maxCount," columns.")}}function gt(e,t){if(1&e){const e=h.kc();h.jc(0,"div",62),h.jc(1,"div",63),h.Zc(2,dt,2,1,"ng-container",34),h.ic(),h.ic(),h.jc(3,"div",64),h.jc(4,"div",65),h.jc(5,"div",66),h.Zc(6,pt,2,1,"div",67),h.ic(),h.jc(7,"div",68),h.jc(8,"div"),h.jc(9,"label",69),h.qc("click",function(){return h.Rc(e),h.uc().modalRef.hide()}),h.bd(10,"Close Customize"),h.ic(),h.jc(11,"img",70),h.qc("click",function(){return h.Rc(e),h.uc().modalRef.hide()}),h.ic(),h.ic(),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(2),h.Bc("ngForOf",e.customizeCols),h.Nb(4),h.Bc("ngIf",e.checkboxDisabled)}}function ht(e,t){if(1&e&&(h.jc(0,"div",82),h.jc(1,"table"),h.jc(2,"tr"),h.jc(3,"td",83),h.bd(4),h.ic(),h.jc(5,"td",83),h.bd(6),h.ic(),h.ic(),h.ic(),h.ic()),2&e){const e=h.uc().$implicit,t=h.uc(2);h.Nb(4),h.cd(e.displayValue),h.Nb(2),h.dd(": ",t.selectedRowData[e.originalValue],"")}}function ut(e,t){if(1&e&&(h.hc(0),h.Zc(1,ht,7,2,"div",81),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",!e.necessaryCol&&!e.isSelected)}}function mt(e,t){if(1&e){const e=h.kc();h.jc(0,"div",76),h.jc(1,"b"),h.bd(2,"More Columns:"),h.ic(),h.ic(),h.jc(3,"div",62),h.jc(4,"div",77),h.Zc(5,ut,2,1,"ng-container",34),h.ic(),h.ic(),h.jc(6,"div",64),h.jc(7,"div",78),h.qc("click",function(){return h.Rc(e),h.uc().modalRef.hide()}),h.jc(8,"label",79),h.bd(9,"Close"),h.ic(),h.ec(10,"img",80),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(5),h.Bc("ngForOf",e.customizeCols)}}function ft(e,t){if(1&e){const e=h.kc();h.hc(0),h.jc(1,"div",72),h.jc(2,"table"),h.jc(3,"tr",73),h.jc(4,"td"),h.jc(5,"p-checkbox",89),h.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return h.Rc(e),h.uc(2).pdfColsValue()}),h.ic(),h.ic(),h.jc(6,"td"),h.jc(7,"label"),h.bd(8),h.ic(),h.ic(),h.ic(),h.ic(),h.ic(),h.gc()}if(2&e){const e=t.$implicit,i=h.uc(2);h.Nb(5),h.Bc("ngModel",e.pdfCols)("disabled",i.pdfCheckboxDisabled&&!e.pdfCols),h.Nb(3),h.cd(e.displayValue)}}function bt(e,t){1&e&&(h.jc(0,"div",75),h.bd(1,"You can select up to 9 columns."),h.ic())}function Ct(e,t){if(1&e){const e=h.kc();h.jc(0,"div",76),h.jc(1,"span",84),h.bd(2,"Please select columns that need to be downloaded in PDF"),h.ic(),h.ic(),h.jc(3,"div",85),h.jc(4,"div",63),h.Zc(5,ft,9,3,"ng-container",34),h.ic(),h.ic(),h.jc(6,"div",64),h.jc(7,"div",65),h.jc(8,"div",86),h.Zc(9,bt,2,0,"div",67),h.ic(),h.jc(10,"div",87),h.jc(11,"button",88),h.qc("click",function(){h.Rc(e);const t=h.uc();return t.exportPdf(),t.modalRef.hide()}),h.ic(),h.ic(),h.jc(12,"div",68),h.jc(13,"div"),h.jc(14,"label",69),h.qc("click",function(){return h.Rc(e),h.uc().closeExportPdf()}),h.bd(15,"Close"),h.ic(),h.jc(16,"img",70),h.qc("click",function(){return h.Rc(e),h.uc().closeExportPdf()}),h.ic(),h.ic(),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(5),h.Bc("ngForOf",e.customizeCols),h.Nb(4),h.Bc("ngIf",e.pdfCheckboxDisabled),h.Nb(2),h.Bc("disabled",e.disableDownloadBtn)}}const wt=function(){return{width:"100%"}},vt=function(){return[10,25,50]},Pt=function(){return["idAppGroup","name","description","projectName","enableScheduling","frequency","scheduleDay","time","CreatedBy"]},Ot=function(){return{width:"50vw"}};ze.a.vfs=Ae.a.pdfMake.vfs;let St=(()=>{class e{constructor(e,t,i,n,o,r,s,c,a){this.runService=e,this.messages=t,this.spinner=i,this.filterService=n,this.datePipe=o,this.router=r,this.modalService=s,this.detectChanges=c,this.domainProjService=a,this.appConstant=new G.a,this.appGroup=[],this.mainAppGroup=[],this.pageWiseAppGroup=[],this.display=!1,this.deleteModal=!1,this.appGroupData={},this.first=0,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.pageSize=9,this.totalNumOfPages=0,this.checkboxDisabled=!1,this.maxCount=4,this.displayFiltersFor={idAppGroup:!1,name:!1,description:!1,enableScheduling:!1,frequency:!1,scheduleDay:!1,time:!1,projectName:!1},this.customSortArr=[],this.multiSortMeta=[{field:"idAppGroup",order:-1}],this.customizeCols=[{displayValue:"Id",originalValue:"idAppGroup",isSelected:!0,necessaryCol:!0,alwaysSelected:!1},{displayValue:"Name",originalValue:"name",isSelected:!0,necessaryCol:!0,alwaysSelected:!1},{displayValue:"Description",originalValue:"description",isSelected:!0,necessaryCol:!0,alwaysSelected:!1,width:"35%"},{displayValue:"Project Name",originalValue:"projectName",isSelected:!1,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Scheduling Enabled",originalValue:"enableScheduling",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Frequency",originalValue:"frequency",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Schedule Day",originalValue:"scheduleDay",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Time",originalValue:"time",isSelected:!0,necessaryCol:!1,alwaysSelected:!1}],this.pdfData=[],this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.columnFilter={},this.filterData={},this.selectedRowData={},this.noRecordFoundFlag=!1}ngOnInit(){this.domainProjService.passDomainProjVal(!0),this.getAppGroupList()}openExportPdf(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}closeExportPdf(){this.modalRef.hide(),setTimeout(()=>{this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols.forEach(e=>e.pdfCols=!1)},1e3)}hideBox(e){this.displayFiltersFor[e.fieldName]=!1}exportPdf(){this.pdfData.length&&(this.spinner.show(),setTimeout(()=>{const e=new Ee.default("l","pt"),t=this.customizeCols.filter(e=>e.pdfCols),i=[];t.forEach(e=>i.push(e.displayValue));const n=[];t.forEach(e=>n.push(e.originalValue));let o=[];o=this.pdfData.map(e=>Object.assign(n.map(t=>e[t])));const r=e.internal.pageSize,s=r.height?r.height:r.getHeight();Le()(e,{columns:i,body:o,didDrawPage:t=>{1==t.pageNumber&&(e.text("Job Group",e.internal.pageSize.width/2,25,null,"center"),e.setFontSize(10)),e.setFontSize(9),e.text("Created by FirstEigen",e.internal.pageSize.width-40,s-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}},columnStyles:{}}),e.save("App Group.pdf"),this.disableDownloadBtn=!0,this.pdfCheckboxDisabled=!1,t.forEach(e=>e.pdfCols=!1),this.spinner.hide()},2e3))}pdfColsValue(){this.pdfCheckCount=0,this.customizeCols.filter(e=>!0===e.pdfCols).forEach(e=>{!0===e.pdfCols&&this.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}downloadCSV(){this.runService.downloadCSV("getAppGroupsCSV").subscribe(e=>{const t=this.datePipe.transform(new Date,"yyyy-MM-dd");Object(Te.saveAs)(e,"App_Group_"+t+".csv")})}onFilterClick(e){Object.keys(this.displayFiltersFor).map(t=>{this.displayFiltersFor[t]=t===e})}checkValue(e,t){this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount,null!=this.storeFilterValue&&this.storeFilterValue.map(i=>{i==e&&0==t&&this.resetFilter(e)})}showMoreCols(){return this.customizeCols.filter(e=>!e.necessaryCol&&e.isSelected).length<this.customizeCols.length}openOtherField(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}getAppGroupList(){this.spinner.show(),this.runService.getAppGroupList("getAppGroups").subscribe(e=>{this.spinner.hide(),this.spinner.hide()&&(this.noRecordFoundFlag=!0),this.mainAppGroup=[...e.result],this.appGroup=[...this.mainAppGroup],this.pdfData=[...this.mainAppGroup];const t=this.first+this.pageSize;null!=this.filterObj&&this.filterObj.forEach(e=>{this.appGroup=this.appGroup.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))});const i=this.appGroup.filter((e,i)=>i<=t);this.pageWiseAppGroup=[...i],this.calculateNumOfPages(),this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount})}createAppGrp(){this.router.navigateByUrl("/dbckangui/test-and-run/add-app-group")}calculateNumOfPages(){if(this.totalNumOfPages=this.mainAppGroup.length?this.mainAppGroup.length<this.pageSize?1:Math.ceil(this.mainAppGroup.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}onPageChange(e){this.first=e.first;const t=this.getSortedData(),i=this.first+this.pageSize,n=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseAppGroup=[...n]}onPageNumChange(e){this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);const t=this.getSortedData(),i=this.first+this.pageSize,n=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.pageWiseAppGroup=[...n]}getSortedData(){const e=[...this.appGroup];return this.sortOrderEvent?1===this.sortOrderEvent.order?(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?-1:0),e):(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?-1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?1:0),e):e}deleteAppGroup(e){this.deleteModal=!0,this.appGroupData=e}deleteConfirm(){this.deleteModal=!1,this.runService.deleteAppGroup("deleteAppGroup",{appGroupId:this.appGroupData.idAppGroup}).subscribe(e=>{"success"===e.status&&(this.messages.displayToaster(e.message,"success","Success"),this.getAppGroupList(),this.appGroupData={})})}editAppGroup(e){sessionStorage.setItem("appGroupDet",JSON.stringify(e)),this.router.navigateByUrl("/dbckangui/test-and-run/edit-app-group")}customSort(e){this.sortField=e.field,this.sortOrder=e.order,this.sortMode=e.mode;const t=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=t+1,this.selectedPage.pageIndex=t,this.sortOrderEvent=e;const i=[...this.appGroup],n=[...this.sortOrderEvent.multiSortMeta];n.length>=6&&(e.multiSortMeta=e.multiSortMeta.splice(6,1)),1===n.length?i.sort((e,t)=>e[n[0].field]>t[n[0].field]?n[0].order:t[n[0].field]>e[n[0].field]?-n[0].order:0):2===n.length?i.sort((e,t)=>e[n[0].field]>t[n[0].field]?n[0].order:t[n[0].field]>e[n[0].field]&&-n[0].order||e[n[1].field]>t[n[1].field]?n[1].order:t[n[1].field]>e[n[1].field]?-n[1].order:0):3===n.length?i.sort((e,t)=>e[n[0].field]>t[n[0].field]?n[0].order:t[n[0].field]>e[n[0].field]&&-n[0].order||e[n[1].field]>t[n[1].field]?n[1].order:t[n[1].field]>e[n[1].field]&&-n[1].order||e[n[2].field]>t[n[2].field]?n[2].order:t[n[2].field]>e[n[2].field]?-n[2].order:0):4===n.length?i.sort((e,t)=>e[n[0].field]>t[n[0].field]?n[0].order:t[n[0].field]>e[n[0].field]&&-n[0].order||e[n[1].field]>t[n[1].field]?n[1].order:t[n[1].field]>e[n[1].field]&&-n[1].order||e[n[2].field]>t[n[2].field]?n[2].order:t[n[2].field]>e[n[2].field]&&-n[2].order||e[n[3].field]>t[n[3].field]?n[3].order:t[n[3].field]>e[n[3].field]?-n[3].order:0):5===n.length?i.sort((e,t)=>e[n[0].field]>t[n[0].field]?n[0].order:t[n[0].field]>e[n[0].field]&&-n[0].order||e[n[1].field]>t[n[1].field]?n[1].order:t[n[1].field]>e[n[1].field]&&-n[1].order||e[n[2].field]>t[n[2].field]?n[2].order:t[n[2].field]>e[n[2].field]&&-n[2].order||e[n[3].field]>t[n[3].field]?n[3].order:t[n[3].field]>e[n[3].field]&&-n[3].order||e[n[4].field]>t[n[4].field]?n[4].order:t[n[4].field]>e[n[4].field]?-n[4].order:0):6===n.length&&i.sort((e,t)=>e[n[0].field]>t[n[0].field]?n[0].order:t[n[0].field]>e[n[0].field]&&-n[0].order||e[n[1].field]>t[n[1].field]?n[1].order:t[n[1].field]>e[n[1].field]&&-n[1].order||e[n[2].field]>t[n[2].field]?n[2].order:t[n[2].field]>e[n[2].field]&&-n[2].order||e[n[3].field]>t[n[3].field]?n[3].order:t[n[3].field]>e[n[3].field]&&-n[3].order||e[n[4].field]>t[n[4].field]?n[4].order:t[n[4].field]>e[n[4].field]&&-n[4].order||e[n[5].field]>t[n[5].field]?n[5].order:t[n[5].field]>e[n[5].field]?-n[5].order:0);const o=this.first+this.pageSize,r=i.filter((e,t)=>{if(t<=o&&t>=this.first)return e});this.pageWiseAppGroup=[...r]}showCustomizeModal(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}getFilterData(e){this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.storeFilterValue=t,this.displayFiltersFor[e[0]]=!1,this.first=0,this.globalFilterValue||(this.appGroup=[...this.mainAppGroup]),t.forEach(e=>{this.appGroup=this.appGroup.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}globalFilterFun(e){const t=[...this.globalFilterLogic()],i=this.first+this.pageSize,n=t.filter((e,t)=>t<=i);this.detectChanges.detectChanges(),this.pageWiseAppGroup=[...n],this.setPageNumber()}globalFilterLogic(){if(this.mainAppGroup.length){const e=Object.keys(this.mainAppGroup[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainAppGroup.forEach(t=>{let i=!1;e.forEach(e=>{t[e]&&t[e].toString().toLowerCase().includes(this.globalFilterValue.toLowerCase())&&!i&&(this.filterValue.push(t),i=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.appGroup=[...this.filterValue],this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=[...this.mainAppGroup],this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.appGroup=[...this.filterValue],this.calculateNumOfPages(),this.appGroup}return[]}resetFilter(e){this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.appGroup=[...this.mainAppGroup],t.forEach(e=>{this.appGroup=this.appGroup.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}setPageNumber(){if(this.totalNumOfPages=this.appGroup.length?this.appGroup.length<this.pageSize?1:Math.ceil(this.appGroup.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}const e=this.first+this.pageSize,t=this.appGroup.filter((t,i)=>i<=e);this.pageWiseAppGroup=[...t]}getFilterState(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){const t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}filterColumnNameWithHighlightName(e){return!(Object.keys(this.columnFilter).findIndex(t=>t===e)<0)}}return e.\u0275fac=function(t){return new(t||e)(h.dc(m.a),h.dc(qe.b),h.dc(Ze.c),h.dc(A.d),h.dc(n.d),h.dc(r.i),h.dc($e.a),h.dc(h.h),h.dc(f.a))},e.\u0275cmp=h.Xb({type:e,selectors:[["app-view-app-group"]],decls:40,vars:37,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title","marginrem"],[1,"col-sm-6","text-right"],[1,"form-title"],["pButton","","type","button","label","Add","id","addAppGrp",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn",3,"click"],[1,"p-field","br-top"],[1,"d-flex","justify-content-end"],["src","assets/images/csv_icon.png","title","Download CSV","id","downloadCSVOfAppGroup","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","id","downloadPdfOfAppGroup","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["id","view_data_conn",1,"row","p-field"],[1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","responsiveLayout","scroll","sortMode","multiple",3,"value","responsive","rowsPerPageOptions","rowHover","globalFilterFields","sortOrder","pageLinks","filterDelay","resetPageOnSort","multiSortMeta","rows","first","customSort","sortField","firstChange","sortFunction"],["myTab",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],["template",""],["moreTemplate",""],["exportPdfTemplate",""],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],["id","showCustomizeVApp",1,"float-right",3,"click"],["src","assets/images/Vector.png","width","25px"],[1,"header"],[4,"ngFor","ngForOf"],[1,"actionbtn"],["class","min_width_50",4,"ngIf"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","customId","fieldName","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"min_width_50"],[1,"row-ht"],[1,"actions",3,"click"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],["class","more-display min_width_50",3,"click",4,"ngIf"],[3,"ngStyle","ngClass","title",4,"ngIf"],[3,"ngStyle","ngClass","title"],[1,"more-display","min_width_50",3,"click"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","virtualScroll","itemSize","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],[1,"modal-body"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-8"],["class","color-code",4,"ngIf"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname","value","customizeCols[col.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"],[1,"modal-header"],[1,"row","padding-btm1"],[3,"click"],[1,"cursor-pointer"],["src","assets/images/close.png",1,"margin-l"],["class","col-sm-6 padding-btm3",4,"ngIf"],[1,"col-sm-6","padding-btm3"],[1,"field-dis-val"],[1,"modal-title"],[1,"modal-body","pdf-modal"],[1,"col-lg-4"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"]],template:function(e,t){if(1&e){const e=h.kc();h.jc(0,"div",0),h.jc(1,"div",1),h.jc(2,"div",2),h.jc(3,"p",3),h.bd(4," Job Groups "),h.ic(),h.ic(),h.jc(5,"div",4),h.jc(6,"p",5),h.jc(7,"button",6),h.qc("click",function(){return t.createAppGrp()}),h.ic(),h.ic(),h.ic(),h.ic(),h.jc(8,"div",7),h.jc(9,"div",8),h.jc(10,"a"),h.jc(11,"img",9),h.qc("click",function(){return t.downloadCSV()}),h.ic(),h.ic(),h.jc(12,"a"),h.jc(13,"img",10),h.qc("click",function(){h.Rc(e);const i=h.Oc(39);return t.openExportPdf(i)}),h.ic(),h.ic(),h.ic(),h.ic(),h.jc(14,"div",11),h.jc(15,"div",12),h.jc(16,"p-table",13,14),h.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),h.Zc(18,Je,8,4,"ng-template",15),h.Zc(19,Ye,5,2,"ng-template",16),h.Zc(20,it,9,2,"ng-template",17),h.ic(),h.ic(),h.Zc(21,nt,2,0,"div",18),h.jc(22,"div",19),h.Zc(23,ot,3,4,"div",20),h.Zc(24,ct,3,5,"div",21),h.ic(),h.ic(),h.ic(),h.jc(25,"p-dialog",22),h.qc("visibleChange",function(e){return t.deleteModal=e}),h.Zc(26,at,3,0,"ng-template",16),h.jc(27,"p"),h.bd(28,"Are you sure you want to delete App Group "),h.jc(29,"b"),h.bd(30),h.ic(),h.bd(31,"?"),h.ic(),h.jc(32,"p-footer"),h.jc(33,"button",23),h.qc("click",function(){return t.deleteConfirm()}),h.ic(),h.ic(),h.ic(),h.Zc(34,gt,12,2,"ng-template",null,24,h.ad),h.Zc(36,mt,11,1,"ng-template",null,25,h.ad),h.Zc(38,Ct,17,3,"ng-template",null,26,h.ad)}2&e&&(h.Nb(10),h.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseAppGroup&&t.pageWiseAppGroup.length?"":"disabled-opa",""),h.Nb(2),h.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseAppGroup&&t.pageWiseAppGroup.length?"":"disabled-opa",""),h.Nb(4),h.Vc(h.Ec(33,wt)),h.Bc("value",t.pageWiseAppGroup)("responsive",!0)("rowsPerPageOptions",h.Ec(34,vt))("rowHover",!0)("globalFilterFields",h.Ec(35,Pt))("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("multiSortMeta",t.multiSortMeta)("rows",10)("first",t.first)("customSort",!0)("sortField","idAppGroup"),h.Nb(5),h.Bc("ngIf",!t.pageWiseAppGroup.length&&t.noRecordFoundFlag),h.Nb(2),h.Bc("ngIf",t.pageWiseAppGroup.length),h.Nb(1),h.Bc("ngIf",t.pageWiseAppGroup.length),h.Nb(1),h.Vc(h.Ec(36,Ot)),h.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),h.Nb(5),h.cd(t.appGroupData.name))},directives:[w.b,q.f,A.i,n.n,E.a,A.e,o.d,b.a,o.o,o.r,n.m,q.d,q.e,Z.a,n.l,n.o,l.a,a.a,v.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.rule-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}.marginrem[_ngcontent-%COMP%]{margin:.1rem}"]}),e})();function xt(e,t){if(1&e){const e=h.kc();h.jc(0,"div",28),h.jc(1,"span",29),h.jc(2,"input",30),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().globalFilterValue=t})("keyup",function(t){return h.Rc(e),h.uc().globalFilterFun(t)}),h.ic(),h.bd(3,"\xa0 "),h.ec(4,"i",31),h.ic(),h.jc(5,"span",32),h.qc("click",function(){h.Rc(e);const t=h.uc(),i=h.Oc(36);return t.showCustomizeModal(i)}),h.ec(6,"img",33),h.bd(7," \xa0Customize "),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(2),h.Bc("ngModel",e.globalFilterValue),h.Nb(3),h.Qb(0==(null==e.schedulerList?null:e.schedulerList.length)?"disable":""),h.Nb(1),h.Rb("cursor-pointer ",e.schedulerList.length?"":"disabled-opa","")}}const Mt=function(e){return{width:e}};function jt(e,t){if(1&e){const e=h.kc();h.jc(0,"th",39),h.bd(1),h.ec(2,"br"),h.ec(3,"p-sortIcon",40),h.jc(4,"app-column-filter",41),h.qc("hideFilterDataBox",function(t){return h.Rc(e),h.uc(3).hideBox(t)})("filterData",function(t){return h.Rc(e),h.uc(3).getFilterData(t)})("resetFilterValues",function(t){return h.Rc(e),h.uc(3).resetFilter(t)}),h.ic(),h.jc(5,"span",42),h.jc(6,"i",43),h.qc("click",function(){h.Rc(e);const t=h.uc().$implicit;return h.uc(2).onFilterClick(t.originalValue)}),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc().$implicit,t=h.uc(2);h.Bc("ngStyle",h.Fc(10,Mt,e.width)),h.Nb(1),h.cd(e.displayValue),h.Nb(2),h.Cc("field",e.originalValue),h.Cc("pSortableColumn",e.originalValue),h.Nb(1),h.Bc("colFilterData",t.getFilterState(e.originalValue))("display",t.displayFiltersFor[e.originalValue])("fieldName",e.originalValue)("customId",e.originalValue),h.Nb(1),h.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"selected-filter-column":""),h.Nb(1),h.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function yt(e,t){if(1&e&&(h.hc(0),h.Zc(1,jt,7,12,"th",38),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",e.isSelected)}}function _t(e,t){1&e&&(h.jc(0,"th",44),h.bd(1,"More"),h.ic())}function Nt(e,t){if(1&e&&(h.jc(0,"tr",34),h.Zc(1,yt,2,1,"ng-container",35),h.jc(2,"th",36),h.bd(3," Actions"),h.ic(),h.Zc(4,_t,2,0,"th",37),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("ngForOf",e.customizeCols),h.Nb(3),h.Bc("ngIf",e.showMoreCols())}}function kt(e,t){if(1&e&&(h.jc(0,"td",51),h.jc(1,"span",52),h.bd(2),h.ic(),h.ic()),2&e){const e=h.uc().$implicit,t=h.uc().$implicit;h.Qb("name"===e.originalValue||"description"===e.originalValue?"left":""),h.Bc("ngStyle",h.Fc(7,Mt,e.width))("title",t[e.originalValue])("ngClass","description-ellipsis"),h.Nb(1),h.Bc("ngClass","scheduleDay"==e.originalValue?"word-break-break-word":""),h.Nb(1),h.cd(t[e.originalValue])}}function It(e,t){if(1&e&&(h.hc(0),h.Zc(1,kt,3,9,"td",50),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",e.isSelected)}}function Ft(e,t){if(1&e){const e=h.kc();h.jc(0,"td",53),h.qc("click",function(){h.Rc(e);const t=h.uc().$implicit,i=h.uc(),n=h.Oc(38);return i.openOtherField(n,t)}),h.bd(1," ... "),h.ic()}}function Dt(e,t){if(1&e){const e=h.kc();h.jc(0,"tr",45),h.Zc(1,It,2,1,"ng-container",35),h.jc(2,"td",36),h.jc(3,"span",46),h.qc("click",function(){h.Rc(e);const i=t.$implicit;return h.uc().editScheduler(i)}),h.ec(4,"i",47),h.ic(),h.jc(5,"span",46),h.qc("click",function(){h.Rc(e);const i=t.$implicit;return h.uc().deleteSchedulerPop(i)}),h.ec(6,"i",48),h.ic(),h.ic(),h.Zc(7,Ft,2,0,"td",49),h.ic()}if(2&e){const e=h.uc();let t=null,i=null;h.Nb(1),h.Bc("ngForOf",e.customizeCols),h.Nb(2),h.Bc("ngClass",null!=(t=e.roleOnModule("Tasks"))&&null!=t.accessControl&&t.accessControl.includes("U")?" cursor-pointer":"disable"),h.Nb(2),h.Bc("ngClass",null!=(i=e.roleOnModule("Tasks"))&&null!=i.accessControl&&i.accessControl.includes("D")?" cursor-pointer":"disable"),h.Nb(2),h.Bc("ngIf",e.showMoreCols())}}function Bt(e,t){1&e&&(h.jc(0,"div",54),h.bd(1,"No records found "),h.ic())}function Vt(e,t){if(1&e){const e=h.kc();h.jc(0,"div",55),h.jc(1,"p-paginator",56,57),h.qc("onPageChange",function(t){return h.Rc(e),h.uc().onPageChange(t)})("firstChange",function(t){return h.Rc(e),h.uc().first=t}),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(1),h.Bc("rows",10)("totalRecords",e.schedulerList.length)("showCurrentPageReport",!0)("first",e.first)}}function Tt(e,t){if(1&e&&(h.jc(0,"div",62),h.jc(1,"div"),h.bd(2),h.ic(),h.ic()),2&e){const e=h.uc(3);h.Nb(2),h.ed("Page ",e.selectedPage.page," of ",e.totalNumOfPages,"")}}function Wt(e,t){if(1&e&&h.Zc(0,Tt,3,2,"div",61),2&e){const e=h.uc(2);h.Bc("ngIf",e.selectedPage)}}function zt(e,t){if(1&e){const e=h.kc();h.jc(0,"div",58),h.jc(1,"p-dropdown",59),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().selectedPage=t})("onChange",function(t){return h.Rc(e),h.uc().onPageNumChange(t)}),h.Zc(2,Wt,1,1,"ng-template",60),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(1),h.Bc("options",e.numOfPages)("filter",!0)("ngModel",e.selectedPage)("virtualScroll",!0)("itemSize",30)}}function Gt(e,t){1&e&&(h.jc(0,"span",63),h.ec(1,"i",64),h.bd(2," Confirmation "),h.ic())}function At(e,t){if(1&e){const e=h.kc();h.jc(0,"div",75),h.jc(1,"table"),h.jc(2,"tr",76),h.jc(3,"td"),h.jc(4,"p-checkbox",77),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().$implicit.isSelected=t})("onChange",function(){h.Rc(e);const t=h.uc().$implicit;return h.uc(2).checkValue(t.originalValue,t.isSelected)}),h.ic(),h.ic(),h.jc(5,"td"),h.jc(6,"label"),h.bd(7),h.ic(),h.ic(),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc().$implicit,t=h.uc(2);h.Nb(4),h.Bc("ngModel",e.isSelected)("disabled",t.checkboxDisabled&&!e.isSelected),h.Nb(3),h.cd(e.displayValue)}}function Rt(e,t){if(1&e&&(h.hc(0),h.Zc(1,At,8,3,"div",74),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",!e.necessaryCol&&!e.alwaysSelected)}}function Lt(e,t){if(1&e&&(h.jc(0,"div",78),h.bd(1),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.dd("You can select up to ",e.maxCount," columns.")}}function Et(e,t){if(1&e){const e=h.kc();h.jc(0,"div",65),h.jc(1,"div",66),h.Zc(2,Rt,2,1,"ng-container",35),h.ic(),h.ic(),h.jc(3,"div",67),h.jc(4,"div",68),h.jc(5,"div",69),h.Zc(6,Lt,2,1,"div",70),h.ic(),h.jc(7,"div",71),h.jc(8,"div"),h.jc(9,"label",72),h.qc("click",function(){return h.Rc(e),h.uc().modalRef.hide()}),h.bd(10,"Close Customize"),h.ic(),h.jc(11,"img",73),h.qc("click",function(){return h.Rc(e),h.uc().modalRef.hide()}),h.ic(),h.ic(),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(2),h.Bc("ngForOf",e.customizeCols),h.Nb(4),h.Bc("ngIf",e.checkboxDisabled)}}function qt(e,t){if(1&e&&(h.jc(0,"div",85),h.jc(1,"table"),h.jc(2,"tr"),h.jc(3,"td",86),h.bd(4),h.ic(),h.jc(5,"td",86),h.bd(6),h.ic(),h.ic(),h.ic(),h.ic()),2&e){const e=h.uc().$implicit,t=h.uc(2);h.Nb(4),h.cd(e.displayValue),h.Nb(2),h.dd(": ",t.selectedRowData[e.originalValue],"")}}function Zt(e,t){if(1&e&&(h.hc(0),h.Zc(1,qt,7,2,"div",84),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",!e.necessaryCol&&!e.isSelected)}}function $t(e,t){if(1&e){const e=h.kc();h.jc(0,"div",79),h.jc(1,"b"),h.bd(2,"More Columns:"),h.ic(),h.ic(),h.jc(3,"div",65),h.jc(4,"div",80),h.Zc(5,Zt,2,1,"ng-container",35),h.ic(),h.ic(),h.jc(6,"div",67),h.jc(7,"div",81),h.qc("click",function(){return h.Rc(e),h.uc().modalRef.hide()}),h.jc(8,"label",82),h.bd(9,"Close"),h.ic(),h.ec(10,"img",83),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(5),h.Bc("ngForOf",e.customizeCols)}}function Jt(e,t){if(1&e){const e=h.kc();h.hc(0),h.jc(1,"div",75),h.jc(2,"table"),h.jc(3,"tr",76),h.jc(4,"td"),h.jc(5,"p-checkbox",92),h.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return h.Rc(e),h.uc(2).pdfColsValue()}),h.ic(),h.ic(),h.jc(6,"td"),h.jc(7,"label"),h.bd(8),h.ic(),h.ic(),h.ic(),h.ic(),h.ic(),h.gc()}if(2&e){const e=t.$implicit,i=h.uc(2);h.Nb(5),h.Bc("ngModel",e.pdfCols)("disabled",i.pdfCheckboxDisabled&&!e.pdfCols),h.Nb(3),h.cd(e.displayValue)}}function Ht(e,t){1&e&&(h.jc(0,"div",78),h.bd(1,"You can select up to 9 columns."),h.ic())}function Ut(e,t){if(1&e){const e=h.kc();h.jc(0,"div",79),h.jc(1,"span",87),h.bd(2,"Please select columns that need to be downloaded in PDF"),h.ic(),h.ic(),h.jc(3,"div",88),h.jc(4,"div",66),h.Zc(5,Jt,9,3,"ng-container",35),h.ic(),h.ic(),h.jc(6,"div",67),h.jc(7,"div",68),h.jc(8,"div",89),h.Zc(9,Ht,2,0,"div",70),h.ic(),h.jc(10,"div",90),h.jc(11,"button",91),h.qc("click",function(){h.Rc(e);const t=h.uc();return t.exportPdf(),t.modalRef.hide()}),h.ic(),h.ic(),h.jc(12,"div",71),h.jc(13,"div"),h.jc(14,"label",72),h.qc("click",function(){return h.Rc(e),h.uc().closeExportPdf()}),h.bd(15,"Close"),h.ic(),h.jc(16,"img",73),h.qc("click",function(){return h.Rc(e),h.uc().closeExportPdf()}),h.ic(),h.ic(),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(5),h.Bc("ngForOf",e.customizeCols),h.Nb(4),h.Bc("ngIf",e.pdfCheckboxDisabled),h.Nb(2),h.Bc("disabled",e.disableDownloadBtn)}}const Xt=function(){return{width:"100%"}},Yt=function(){return{width:"50vw"}};ze.a.vfs=Ae.a.pdfMake.vfs;let Kt=(()=>{class e{constructor(e,t,i,n,o,r,s,c,a){this.runService=e,this.filterService=t,this.datePipe=i,this.router=n,this.modalService=o,this.homeServiceService=r,this.detectChanges=s,this.spinner=c,this.domainProjService=a,this.schedulerList=[],this.mainSchedulers=[],this.pageWiseSchedulers=[],this.display=!1,this.deleteModal=!1,this.deleteScheduler={},this.first=0,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.pageSize=9,this.totalNumOfPages=0,this.checkboxDisabled=!1,this.maxCount=4,this.displayFiltersFor={name:!1,description:!1,frequency:!1,scheduleDay:!1,time:!1,projectName:!1},this.pdfData=[],this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.columnFilter={},this.scrollHt="300px",this.filterData={},this.selectedRowData={},this.projectDomains=[],this.customSortArr=[],this.noRecordFound=!1,this.customizeCols=[{displayValue:"Name",originalValue:"name",isSelected:!0,necessaryCol:!0,alwaysSelected:!1,style:"word-wrap:break-word"},{displayValue:"Description",originalValue:"description",isSelected:!0,necessaryCol:!0,alwaysSelected:!1,width:"35%"},{displayValue:"Project Name",originalValue:"projectName",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Time",originalValue:"time",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Frequency",originalValue:"frequency",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Schedule Day",originalValue:"scheduleDay",isSelected:!0,necessaryCol:!1,alwaysSelected:!1}],this.multiSortMeta=[{field:"idSchedule",order:-1}]}ngOnInit(){var e;this.domainProjService.passDomainProjVal(!1),sessionStorage.removeItem("viewBackData"),this.projectDomains=this.homeServiceService.getProjectList(),this.projectDomains.map(e=>{e.domainProject=e.domainName+"-"+e.projectName,e.domainProjectValue=e.domainId+"_"+e.idProject}),this.getSchedulerList(sessionStorage.getItem("activeProjectId"),sessionStorage.getItem("activeDomainId")),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(e=>{e.accessControl=e.accessControl.split("-")})))}roleOnModule(e){return this.roleModule.find(t=>t.moduleName===e)}hideBox(e){this.displayFiltersFor[e.fieldName]=!1}openExportPdf(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}closeExportPdf(){this.modalRef.hide(),setTimeout(()=>{this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols.forEach(e=>e.pdfCols=!1)},1e3)}exportPdf(){this.pdfData.length&&(this.spinner.show(),setTimeout(()=>{const e=this.projectDomains.filter(e=>e.idProject===parseInt(sessionStorage.getItem("activeProjectId"),10))[0].projectName+"_"+this.projectDomains.filter(e=>e.domainId===parseInt(sessionStorage.getItem("activeDomainId"),10))[0].domainName,t=new Ee.default("l","pt"),i=this.customizeCols.filter(e=>e.pdfCols),n=[];i.forEach(e=>n.push(e.displayValue));const o=[];i.forEach(e=>o.push(e.originalValue));let r=[];r=this.pdfData.map(e=>Object.assign(o.map(t=>e[t])));const s=t.internal.pageSize,c=s.height?s.height:s.getHeight();Le()(t,{columns:n,body:r,didDrawPage:i=>{1==i.pageNumber&&(t.text("Schedules List",t.internal.pageSize.width/2,35,null,"center"),t.setFontSize(10),t.text("Domain-Project Name: "+e,i.settings.margin.left,50)),t.setFontSize(9),t.text("Created by FirstEigen",t.internal.pageSize.width-40,c-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}}}),t.save("Scheduler.pdf"),this.disableDownloadBtn=!0,this.pdfCheckboxDisabled=!1,i.forEach(e=>e.pdfCols=!1),this.spinner.hide()},2e3))}pdfColsValue(){this.pdfCheckCount=0,this.customizeCols.filter(e=>!0===e.pdfCols).forEach(e=>{!0===e.pdfCols&&this.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}downloadCSV(){const e={projectId:sessionStorage.getItem("activeProjectId"),domainId:sessionStorage.getItem("activeDomainId")};this.runService.downloadSchedulerCSV(e).subscribe(e=>{const t=this.datePipe.transform(new Date,"yyyy-MM-dd");Object(Te.saveAs)(e,"Scheduler_CSV_"+t+".csv")})}onFilterClick(e){Object.keys(this.displayFiltersFor).map(t=>{this.displayFiltersFor[t]=t===e})}checkValue(e,t){this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount,null!=this.storeFilterValue&&this.storeFilterValue.map(i=>{i==e&&0==t&&this.resetFilter(e)})}showMoreCols(){return this.customizeCols.filter(e=>!e.necessaryCol&&e.isSelected).length<this.customizeCols.length-2}openOtherField(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}getSchedulerList(e,t){this.spinner.show(),this.runService.getSchedulersList({projectId:e,domainId:t}).subscribe(e=>{this.spinner.hide(),this.spinner.hide()&&(this.noRecordFound=!0),e.result.map(e=>{const t=e.scheduleDay.split(",");e.scheduleDay=7==t.length?"All":t.toString()}),this.mainSchedulers=[...e.result],this.schedulerList=[...this.mainSchedulers],this.pdfData=[...this.schedulerList];const t=this.first+this.pageSize;null!=this.filterObj&&this.filterObj.forEach(e=>{this.schedulerList=this.schedulerList.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))});const i=this.schedulerList.filter((e,i)=>i<=t);this.pageWiseSchedulers=[...i],this.calculateNumOfPages(),this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount})}addSchedulers(){this.router.navigate(["/dbckangui/test-and-run/add-scheduler"])}calculateNumOfPages(){if(this.totalNumOfPages=this.mainSchedulers.length?this.mainSchedulers.length<this.pageSize?1:Math.ceil(this.mainSchedulers.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}onPageChange(e){this.first=e.first;const t=this.getSortedData(),i=this.first+this.pageSize,n=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseSchedulers=[...n]}onPageNumChange(e){this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);const t=this.getSortedData(),i=this.first+this.pageSize,n=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.pageWiseSchedulers=[...n]}getSortedData(){const e=[...this.schedulerList];return this.sortOrderEvent?1===this.sortOrderEvent.order?(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?-1:0),e):(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?-1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?1:0),e):e}deleteSchedulerPop(e){this.deleteModal=!0,this.deleteScheduler=e}deleteConfirm(){this.deleteModal=!1,this.runService.deleteScheduler({idSchedule:this.deleteScheduler.idSchedule}).subscribe(e=>{"success"===e.status&&(this.deleteScheduler={},this.getSchedulerList(sessionStorage.getItem("activeProjectId"),sessionStorage.getItem("activeDomainId")))})}customSort(e){this.sortField=e.field,this.sortOrder=e.order,this.sortMode=e.mode,this.customSortArr.filter(t=>t.field=e.field)[0]?this.customSortArr.map(t=>{t.order=e.order}):this.customSortArr.push(e);const t=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=t+1,this.selectedPage.pageIndex=t,this.sortOrderEvent=e;const i=[...this.schedulerList],n=[...this.sortOrderEvent.multiSortMeta];n.length>=4&&(e.multiSortMeta=e.multiSortMeta.splice(4,1)),1===n.length?i.sort((e,t)=>e[n[0].field]>t[n[0].field]?n[0].order:t[n[0].field]>e[n[0].field]?-n[0].order:0):2===n.length?i.sort((e,t)=>e[n[0].field]>t[n[0].field]?n[0].order:t[n[0].field]>e[n[0].field]&&-n[0].order||e[n[1].field]>t[n[1].field]?n[1].order:t[n[1].field]>e[n[1].field]?-n[1].order:0):3===n.length?i.sort((e,t)=>e[n[0].field]>t[n[0].field]?n[0].order:t[n[0].field]>e[n[0].field]&&-n[0].order||e[n[1].field]>t[n[1].field]?n[1].order:t[n[1].field]>e[n[1].field]&&-n[1].order||e[n[2].field]>t[n[2].field]?n[2].order:t[n[2].field]>e[n[2].field]?-n[2].order:0):4===n.length&&i.sort((e,t)=>e[n[0].field]>t[n[0].field]?n[0].order:t[n[0].field]>e[n[0].field]&&-n[0].order||e[n[1].field]>t[n[1].field]?n[1].order:t[n[1].field]>e[n[1].field]&&-n[1].order||e[n[2].field]>t[n[2].field]?n[2].order:t[n[2].field]>e[n[2].field]&&-n[2].order||e[n[3].field]>t[n[3].field]?n[3].order:t[n[3].field]>e[n[3].field]?-n[3].order:0);const o=this.first+this.pageSize,r=i.filter((e,t)=>{if(t<=o&&t>=this.first)return e});this.pageWiseSchedulers=[...r]}showCustomizeModal(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}getFilterData(e){this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.storeFilterValue=t,this.displayFiltersFor[e[0]]=!1,this.first=0,this.globalFilterValue||(this.schedulerList=[...this.mainSchedulers]),t.forEach(e=>{this.schedulerList=this.schedulerList.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}globalFilterFun(e){const t=[...this.globalFilterLogic()],i=this.first+this.pageSize,n=t.filter((e,t)=>t<=i);this.detectChanges.detectChanges(),this.pageWiseSchedulers=[...n],this.setPageNumber()}globalFilterLogic(){if(this.mainSchedulers.length){const e=Object.keys(this.mainSchedulers[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainSchedulers.forEach(t=>{let i=!1;e.forEach(e=>{t[e]&&t[e].toString().toLowerCase().includes(this.globalFilterValue.toLowerCase())&&!i&&(this.filterValue.push(t),i=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.schedulerList=[...this.filterValue],this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=[...this.mainSchedulers],this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.schedulerList=[...this.filterValue],this.calculateNumOfPages(),this.schedulerList}return[]}resetFilter(e){this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.schedulerList=[...this.mainSchedulers],t.forEach(e=>{this.schedulerList=this.schedulerList.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}setPageNumber(){if(this.totalNumOfPages=this.schedulerList.length?this.schedulerList.length<this.pageSize?1:Math.ceil(this.schedulerList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}const e=this.first+this.pageSize,t=this.schedulerList.filter((t,i)=>i<=e);this.pageWiseSchedulers=[...t]}getFilterState(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){const t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}editScheduler(e){this.runService.getSchedularById({idSchedule:e.idSchedule}).subscribe(e=>{sessionStorage.setItem("objScheduler",JSON.stringify(e.result)),this.router.navigateByUrl("/dbckangui/test-and-run/edit-scheduler")})}getSchedulerListWithShow(){this.getSchedulerList(sessionStorage.getItem("activeProjectId"),sessionStorage.getItem("activeDomainId"))}filterColumnNameWithHighlightName(e){return!(Object.keys(this.columnFilter).findIndex(t=>t===e)<0)}}return e.\u0275fac=function(t){return new(t||e)(h.dc(m.a),h.dc(A.d),h.dc(n.d),h.dc(r.i),h.dc($e.a),h.dc(u.a),h.dc(h.h),h.dc(Ze.c),h.dc(f.a))},e.\u0275cmp=h.Xb({type:e,selectors:[["app-view-schedules"]],decls:41,vars:34,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title","marginrem"],[1,"col-sm-6","text-right"],[1,"form-title"],["pButton","","type","button","label","Add",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn",3,"ngClass","click"],[1,"row","br-top"],[1,"col-sm-12","col-md-12","d-flex","align-items-end","justify-content-end"],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["id","scheduler_screen",1,"row","p-field"],["scheduler_screen",""],[1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","responsiveLayout","scroll","sortMode","multiple",3,"value","responsive","rowHover","sortOrder","sortField","pageLinks","filterDelay","resetPageOnSort","multiSortMeta","rows","first","customSort","firstChange","sortFunction"],["schTab",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],["template",""],["moreTemplate",""],["exportPdfTemplate",""],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"float-right","margin-top-gfilter",3,"click"],["src","assets/images/Vector.png","width","25px"],[1,"header"],[4,"ngFor","ngForOf"],[1,"min_width_70"],["class","min_width_50",4,"ngIf"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"min_width_50"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],["class","more-display min_width_50",3,"click",4,"ngIf"],[3,"ngStyle","title","ngClass","class",4,"ngIf"],[3,"ngStyle","title","ngClass"],[3,"ngClass"],[1,"more-display","min_width_50",3,"click"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","virtualScroll","itemSize","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],[1,"modal-body"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-8"],["class","color-code",4,"ngIf"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname","value","customizeCols[col.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"],[1,"modal-header"],[1,"row","padding-btm1"],[3,"click"],[1,"cursor-pointer"],["src","assets/images/close.png",1,"margin-l"],["class","col-sm-6 padding-btm3",4,"ngIf"],[1,"col-sm-6","padding-btm3"],[1,"field-dis-val"],[1,"modal-title"],[1,"modal-body","pdf-modal"],[1,"col-lg-4"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"]],template:function(e,t){if(1&e){const e=h.kc();h.jc(0,"div",0),h.jc(1,"div",1),h.jc(2,"div",2),h.jc(3,"p",3),h.bd(4," Schedule "),h.ic(),h.ic(),h.jc(5,"div",4),h.jc(6,"p",5),h.jc(7,"button",6),h.qc("click",function(){return t.addSchedulers()}),h.ic(),h.ic(),h.ic(),h.ic(),h.jc(8,"div",7),h.jc(9,"div",8),h.jc(10,"a"),h.jc(11,"img",9),h.qc("click",function(){return t.downloadCSV()}),h.ic(),h.ic(),h.jc(12,"a"),h.jc(13,"img",10),h.qc("click",function(){h.Rc(e);const i=h.Oc(40);return t.openExportPdf(i)}),h.ic(),h.ic(),h.ic(),h.jc(14,"div",11,12),h.jc(16,"div",13),h.jc(17,"p-table",14,15),h.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),h.Zc(19,xt,8,6,"ng-template",16),h.Zc(20,Nt,5,2,"ng-template",17),h.Zc(21,Dt,8,4,"ng-template",18),h.ic(),h.ic(),h.Zc(22,Bt,2,0,"div",19),h.jc(23,"div",20),h.Zc(24,Vt,3,4,"div",21),h.Zc(25,zt,3,5,"div",22),h.ic(),h.ic(),h.ic(),h.ic(),h.jc(26,"p-dialog",23),h.qc("visibleChange",function(e){return t.deleteModal=e}),h.Zc(27,Gt,3,0,"ng-template",17),h.jc(28,"p"),h.bd(29,"Are you sure you want to delete Schedule "),h.jc(30,"b"),h.bd(31),h.ic(),h.bd(32,"?"),h.ic(),h.jc(33,"p-footer"),h.jc(34,"button",24),h.qc("click",function(){return t.deleteConfirm()}),h.ic(),h.ic(),h.ic(),h.Zc(35,Et,12,2,"ng-template",null,25,h.ad),h.Zc(37,$t,11,1,"ng-template",null,26,h.ad),h.Zc(39,Ut,17,3,"ng-template",null,27,h.ad)}if(2&e){let e=null;h.Nb(7),h.Bc("ngClass",null!=(e=t.roleOnModule("Tasks"))&&null!=e.accessControl&&e.accessControl.includes("C")?" cursor-pointer":"disable"),h.Nb(3),h.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseSchedulers&&t.pageWiseSchedulers.length?"":"disabled-opa",""),h.Nb(2),h.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseSchedulers&&t.pageWiseSchedulers.length?"":"disabled-opa",""),h.Nb(5),h.Vc(h.Ec(32,Xt)),h.Bc("value",t.pageWiseSchedulers)("responsive",!0)("rowHover",!0)("sortOrder",-1)("sortField","idSchedule")("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("multiSortMeta",t.multiSortMeta)("rows",10)("first",t.first)("customSort",!0),h.Nb(5),h.Bc("ngIf",!t.pageWiseSchedulers.length&&t.noRecordFound),h.Nb(2),h.Bc("ngIf",t.pageWiseSchedulers.length),h.Nb(1),h.Bc("ngIf",t.pageWiseSchedulers.length),h.Nb(1),h.Vc(h.Ec(33,Yt)),h.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),h.Nb(5),h.dd("",t.deleteScheduler.name," ")}},directives:[w.b,n.l,q.f,A.i,n.n,E.a,A.e,o.d,b.a,o.o,o.r,n.m,n.o,q.d,q.e,Z.a,l.a,a.a,v.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.note[_ngcontent-%COMP%]{text-align:left;font-size:13px;color:#eb5454;margin-left:-28px!important;margin-top:30px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}.marginrem[_ngcontent-%COMP%]{margin:.1rem}.description-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.word-break-break-word[_ngcontent-%COMP%]{word-break:break-word}.min_width_70[_ngcontent-%COMP%]{min-width:70px!important;width:70px!important}.padd-l[_ngcontent-%COMP%]{padding-left:28px}.left[_ngcontent-%COMP%]{text-align:left!important}"]}),e})();var Qt=i("6G/8"),ei=i("z4+R"),ti=i("bUwk");let ii=(()=>{class e{constructor(e,t){this.http=e,this.messages=t}downloadTriggerCSV(e,t){return this.http.postforCSV(e,t)}createTriggerList(e,t=new Object){return this.http.postWithToasty(e,t)}triggerRunConnection(e=new Object){return this.http.postWithToasty("triggerAppGroup",e)}getTriggerTaskList(e=new Object){return this.http.post("triggerTaskSchema",e)}submitScheduler(e){return this.http.postWithToasty("scheduleTask",e)}updatetScheduler(e){return this.http.postWithToasty("editScheduleTask",e)}deleteScheduler(e){return this.http.postWithToasty("deleteSchedule",e)}downloadSchedulerCSV(e,t=new Object){return this.http.postforCSV(e,t)}getDetailsOfTriggersList(e,t=new Object){return this.http.post(e,t)}deleteTrigger(e,t=new Object){return this.http.postWithToasty(e,t)}getSchedularById(e){return this.http.post("editSchedule",e)}}return e.\u0275fac=function(t){return new(t||e)(h.nc(ti.a),h.nc(R.a))},e.\u0275prov=h.Zb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ni=i("ey9i");function oi(e,t){1&e&&(h.jc(0,"span",20),h.bd(1,"Please choose "),h.jc(2,"b"),h.bd(3,"Schedular"),h.ic(),h.ic())}function ri(e,t){if(1&e&&(h.jc(0,"p",20),h.Zc(1,oi,4,0,"span",11),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("ngIf",e.addTriggerForm.controls.schedulerId.errors.required)}}function si(e,t){1&e&&(h.jc(0,"span",20),h.bd(1,"Please choose "),h.jc(2,"b"),h.bd(3,"Trigger Type"),h.ic(),h.ic())}function ci(e,t){if(1&e&&(h.jc(0,"p",20),h.Zc(1,si,4,0,"span",11),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.Bc("ngIf",e.addTriggerForm.controls.triggerType.errors.required)}}function ai(e,t){if(1&e){const e=h.kc();h.jc(0,"div",6),h.jc(1,"div",7),h.jc(2,"label",21),h.bd(3,"Trigger Type"),h.jc(4,"sup",9),h.bd(5,"*"),h.ic(),h.ic(),h.jc(6,"p-dropdown",22),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().onTriggerChange(t)}),h.ic(),h.Zc(7,ci,2,1,"p",11),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(6),h.Bc("styleClass","form-field")("options",e.triggerTypeList),h.Nb(1),h.Bc("ngIf",e.addTriggerForm.controls.triggerType.invalid&&!e.addTriggerForm.controls.triggerType.pristine)}}function li(e,t){if(1&e&&(h.jc(0,"div",31),h.jc(1,"div",32),h.bd(2),h.ic(),h.ic()),2&e){const e=t.$implicit;h.Nb(2),h.cd(e.schemaName)}}function di(e,t){1&e&&(h.jc(0,"div",33),h.bd(1," Select Data Source "),h.ic())}function pi(e,t){if(1&e&&(h.Zc(0,li,3,1,"div",29),h.Zc(1,di,2,0,"div",30)),2&e){const e=t.$implicit,i=h.uc(2);h.Bc("ngForOf",e),h.Nb(1),h.Bc("ngIf",!i.selectedValidationCheckbox||0===i.selectedValidationCheckbox.length)}}function gi(e,t){if(1&e&&(h.jc(0,"div",34),h.jc(1,"div"),h.bd(2),h.ic(),h.ic()),2&e){const e=t.$implicit;h.Nb(2),h.cd(e.schemaName)}}function hi(e,t){1&e&&(h.jc(0,"p",20),h.bd(1," Please choose "),h.jc(2,"b"),h.bd(3,"Data Source"),h.ic(),h.ic())}function ui(e,t){if(1&e&&(h.jc(0,"div"),h.Zc(1,hi,4,0,"p",11),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.Bc("ngIf",!e.selectedValidationCheckbox)}}const mi=function(){return{width:"100%"}},fi=function(){return{standalone:!0}};function bi(e,t){if(1&e){const e=h.kc();h.jc(0,"div",23),h.jc(1,"div",7),h.jc(2,"label",24),h.bd(3,"Data Source"),h.jc(4,"sup",9),h.bd(5,"*"),h.ic(),h.ic(),h.jc(6,"p-multiSelect",25),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().selectedValidationCheckbox=t})("ngModelChange",function(t){return h.Rc(e),h.uc().choosSchema(t)}),h.Zc(7,pi,2,2,"ng-template",26),h.Zc(8,gi,3,1,"ng-template",27),h.ic(),h.Zc(9,ui,2,1,"div",28),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(6),h.Vc(h.Ec(9,mi)),h.Bc("options",e.getSchedularListForSchemaCheck)("ngModel",e.selectedValidationCheckbox)("styleClass","form-field")("maxSelectedLabels",5)("selectedItemsLabel","{0} items selected")("ngModelOptions",h.Ec(10,fi)),h.Nb(3),h.Bc("ngIf",2==e.getTriggerId)}}function Ci(e,t){if(1&e&&(h.jc(0,"div",31),h.jc(1,"div",32),h.bd(2),h.ic(),h.ic()),2&e){const e=t.$implicit;h.Nb(2),h.cd(e.validationName)}}function wi(e,t){if(1&e&&(h.jc(0,"div",33),h.bd(1),h.ic()),2&e){const e=h.uc(3);h.Nb(1),h.dd(" Select ",e.appConstant.baseName," ")}}function vi(e,t){if(1&e&&(h.Zc(0,Ci,3,1,"div",29),h.Zc(1,wi,2,1,"div",30)),2&e){const e=t.$implicit,i=h.uc(2);h.Bc("ngForOf",e),h.Nb(1),h.Bc("ngIf",!i.selectedChedularCheckbox||0===i.selectedChedularCheckbox.length)}}function Pi(e,t){if(1&e&&(h.jc(0,"div",34),h.jc(1,"div"),h.bd(2),h.ic(),h.ic()),2&e){const e=t.$implicit;h.Nb(2),h.cd(e.validationName)}}function Oi(e,t){if(1&e&&(h.jc(0,"p",20),h.bd(1," Please choose "),h.jc(2,"b"),h.bd(3),h.ic(),h.ic()),2&e){const e=h.uc(3);h.Nb(3),h.cd(e.appConstant.baseName)}}function Si(e,t){if(1&e&&(h.jc(0,"div"),h.Zc(1,Oi,4,1,"p",11),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.Bc("ngIf",!e.selectedChedularCheckbox)}}function xi(e,t){if(1&e){const e=h.kc();h.jc(0,"div",23),h.jc(1,"div",7),h.jc(2,"label",35),h.bd(3),h.jc(4,"sup",9),h.bd(5,"*"),h.ic(),h.ic(),h.jc(6,"p-multiSelect",36),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().selectedChedularCheckbox=t})("ngModelChange",function(t){return h.Rc(e),h.uc().onValidationChange(t)}),h.Zc(7,vi,2,2,"ng-template",26),h.Zc(8,Pi,3,1,"ng-template",27),h.ic(),h.Zc(9,Si,2,1,"div",28),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(3),h.cd(e.appConstant.baseName),h.Nb(3),h.Vc(h.Ec(10,mi)),h.Bc("options",e.getSchedularListForValidationCheck)("ngModel",e.selectedChedularCheckbox)("styleClass","form-field")("maxSelectedLabels",5)("selectedItemsLabel","{0} items selected")("ngModelOptions",h.Ec(11,fi)),h.Nb(3),h.Bc("ngIf",1==e.getTriggerId)}}function Mi(e,t){if(1&e&&(h.jc(0,"div",31),h.jc(1,"div",32),h.bd(2),h.ic(),h.ic()),2&e){const e=t.$implicit;h.Nb(2),h.cd(e.value)}}function ji(e,t){1&e&&(h.jc(0,"div",33),h.bd(1," Select App Group "),h.ic())}function yi(e,t){if(1&e&&(h.Zc(0,Mi,3,1,"div",29),h.Zc(1,ji,2,0,"div",30)),2&e){const e=t.$implicit,i=h.uc(2);h.Bc("ngForOf",e),h.Nb(1),h.Bc("ngIf",!i.selectedAppGroupCheckbox||0===i.selectedAppGroupCheckbox.length)}}function _i(e,t){if(1&e&&(h.jc(0,"div",34),h.jc(1,"div"),h.bd(2),h.ic(),h.ic()),2&e){const e=t.$implicit;h.Nb(2),h.cd(e.name)}}function Ni(e,t){1&e&&(h.jc(0,"p",20),h.bd(1," Please choose "),h.jc(2,"b"),h.bd(3,"App Group Name"),h.ic(),h.ic())}function ki(e,t){if(1&e&&(h.jc(0,"div"),h.Zc(1,Ni,4,0,"p",11),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.Bc("ngIf",!e.selectedAppGroupCheckbox)}}function Ii(e,t){if(1&e){const e=h.kc();h.jc(0,"div",23),h.jc(1,"div",7),h.jc(2,"label",24),h.bd(3,"App Groups"),h.jc(4,"sup",9),h.bd(5,"*"),h.ic(),h.ic(),h.jc(6,"p-multiSelect",37),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().selectedAppGroupCheckbox=t})("ngModelChange",function(t){return h.Rc(e),h.uc().choosAppGroup(t)}),h.Zc(7,yi,2,2,"ng-template",26),h.Zc(8,_i,3,1,"ng-template",27),h.ic(),h.Zc(9,ki,2,1,"div",28),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(6),h.Vc(h.Ec(9,mi)),h.Bc("options",e.appGroupList)("ngModel",e.selectedAppGroupCheckbox)("styleClass","form-field")("maxSelectedLabels",5)("selectedItemsLabel","{0} items selected")("ngModelOptions",h.Ec(10,fi)),h.Nb(3),h.Bc("ngIf",3==e.getTriggerId)}}let Fi=(()=>{class e{constructor(e,t,i,n,r,s,c,a,l){this.formBuilder=e,this.fh=t,this.homeServiceService=i,this.runService=n,this.validationCheckSer=r,this.router=s,this.triggerService=c,this.messages=a,this.domainProjService=l,this.appConstant=new G.a,this.triggerTypeList=[{id:1,name:this.appConstant.baseName,value:"Validation"},{id:2,name:"Data Source",value:"Schema"}],this.getSchedularList=[],this.projectNames=[],this.validatiomDropdown=!1,this.schemaDropdown=!1,this.selectedChedularCheckbox="",this.selectedValidationCheckbox="",this.selectedAppGroupCheckbox="",this.getSchedularListForSchemaCheck=[],this.triggerTaskData=[],this.triggerTypeDrop=!1,this.appGroupDropdown=!1,this.addTriggerForm=this.formBuilder.group({schedulerId:new o.f("",[o.w.required]),domainId:new o.f("",[]),triggerType:new o.f("",[o.w.required]),idDataSchema:new o.f("",[])})}ngOnInit(){this.domainProjService.passDomainProjVal(!1),null!=sessionStorage.getItem("fromDate")?(this.fromDate=new Date(sessionStorage.getItem("fromDate")),this.toDate=new Date(sessionStorage.getItem("toDate"))):(this.fromDate=new Date,this.fromDate.setDate((new Date).getDate()-30),this.toDate=new Date,this.toDate.setDate((new Date).getDate()+1)),this.projectNames=this.homeServiceService.getProjectList(),this.projectNames.map(e=>{e.domainProject=e.domainName+"-"+e.projectName,e.domainAndProjectId=e.domainId+"_"+e.idProject,e.domainAndProjectName=e.domainName+"-"+e.projectName});const e={projectId:sessionStorage.getItem("activeProjectId"),domainId:sessionStorage.getItem("activeDomainId")};this.triggerService.getTriggerTaskList(e).subscribe(e=>{const t=Object.keys(e.result.listScheduleData),i=Object.values(e.result.listScheduleData);for(let n=0;n<t.length&&n<i.length;n++){const e={};e.id=t[n],e.value=i[n],this.triggerTaskData.push(e)}}),this.triggerService.getDetailsOfTriggersList("viewTriggers",e).subscribe(e=>{this.schemaDropdownlist=e.result.schemaTriggerData,e.result.validationTriggerData.map(e=>{e.idDataSchema=e.idTrigger,e.schedulerId=e.idTrigger}),this.getSchedularList=e.result.validationTriggerData});const t={projectId:sessionStorage.getItem("activeProjectId")};this.validationCheckSer.validationDropdownData("validation-dropdownData",t).subscribe(e=>{this.getSchedularListForSchemaCheck=e.result.listDataSchemas});const i={domainId:sessionStorage.getItem("activeDomainId"),projectId:sessionStorage.getItem("activeProjectId")};this.runService.getValCheckNameList("validationCheckName",i).subscribe(e=>{this.getSchedularListForValidationCheck=e.result,this.getSchedularListForValidationCheck.map(e=>{e.validationName=e.validationName})}),this.runService.getAppGroupList("getAppGroups").subscribe(e=>{this.appGroupList=[...e.result]})}onSubmit(e){this.displayButton=e.target.value,this.progressCheck()}onCancel(){this.router.navigateByUrl("/dbckangui/test-and-run/view-triggers")}progressCheck(){if(1===this.getTriggerId)if(null!=this.validationCheckLength){const e={idApp:1===this.getTriggerId?this.chooseSchema.toString():"",idDataSchema:2===this.getTriggerId?this.chooseSchemaValue.toString():"",idScheduler:this.schedularId,projectId:sessionStorage.getItem("activeProjectId")};this.triggerService.createTriggerList("triggerTaskSchedule",e).subscribe(e=>{this.displayMessage=e.message,this.router.navigateByUrl("/dbckangui/test-and-run/view-triggers")})}else this.messages.displayToaster("Please choose "+this.appConstant.baseName,"error","Failed");if(2===this.getTriggerId)if(null!=this.schemaCheckLength){const e={idApp:1===this.getTriggerId?this.chooseSchema.toString():"",idDataSchema:2===this.getTriggerId?this.chooseSchemaValue.toString():"",idScheduler:this.schedularId,projectId:sessionStorage.getItem("activeProjectId")};this.triggerService.createTriggerList("triggerTaskSchedule",e).subscribe(e=>{this.displayMessage=e.message,this.router.navigateByUrl("/dbckangui/test-and-run/view-triggers")})}else this.messages.displayToaster("Please choose Schema","error","Failed");if(3===this.getTriggerId)if(null!=this.appGroupLength){const e={idApp:1===this.getTriggerId?this.chooseSchema.toString():"",idDataSchema:2===this.getTriggerId?this.chooseSchemaValue.toString():"",idScheduler:this.schedularId,projectId:sessionStorage.getItem("activeProjectId")};this.triggerService.createTriggerList("triggerTaskSchedule",e).subscribe(e=>{this.displayMessage=e.message,this.router.navigateByUrl("/dbckangui/test-and-run/view-triggers")})}else this.messages.displayToaster("Please choose Schema","error","Failed")}choosSchema(e){this.schemaCheckLength=e.length;const t=e.map(e=>e.idDataSchema);this.chooseSchemaValue=t}choosAppGroup(e){this.appGroupLength=e.length;const t=e.map(e=>e.idAppGroup);this.chooseAppGroupValue=t}onValidationChange(e){this.validationCheckLength=e.length;const t=e.map(e=>e.appId);this.chooseSchema=t}onTriggerChange(e){var t,i;this.filteredSchedular=this.triggerTaskData.find(e=>e.id===this.schedularId).value;let n=[];for(let r=0;r<(null===(t=this.getSchedularListForValidationCheck)||void 0===t?void 0:t.length);r++)n=this.getSchedularList.filter(e=>e.scheduleName===this.filteredSchedular),n.forEach(e=>{if(e.validationCheck===this.getSchedularListForValidationCheck[r].validationName){const t=e.validationCheck.split(",");this.getSchedularListForValidationCheck.forEach((e,i)=>{t.forEach(t=>{e.validationName===t&&(e.disabled=!0)})})}});const o=this.schemaDropdownlist.filter(e=>e.scheduleName===this.filteredSchedular);for(let r=0;r<(null===(i=this.getSchedularListForSchemaCheck)||void 0===i?void 0:i.length);r++)o.forEach(e=>{this.getSchedularListForSchemaCheck.forEach((t,i)=>{e.schemaName===t.value?(t.id=t.id,t.value=t.value,t.disabled=!0):t.disabled=!1})});this.getTriggerId=e,1===e?(this.validatiomDropdown=!0,this.schemaDropdown=!1,this.appGroupDropdown=!1):2===e?(this.schemaDropdown=!0,this.validatiomDropdown=!1,this.appGroupDropdown=!1):3===e&&(this.schemaDropdown=!1,this.validatiomDropdown=!1,this.appGroupDropdown=!0)}onSchedular(e){this.schedularId=e,null!=this.schedularId&&(this.triggerTypeDrop=!0)}}return e.\u0275fac=function(t){return new(t||e)(h.dc(o.e),h.dc(Qt.a),h.dc(u.a),h.dc(m.a),h.dc(ei.a),h.dc(r.i),h.dc(ii),h.dc(ni.b),h.dc(f.a))},e.\u0275cmp=h.Xb({type:e,selectors:[["app-add-trigger"]],decls:33,vars:13,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-12"],[1,"form-title"],[3,"formGroup"],[1,"form-row","inputSpaces"],[1,"col-md-6"],[1,"form-group","p-field"],["for","schedulerId",1,"form-label"],[1,"req-field"],["formControlName","schedulerId","optionLabel","value","placeholder","Select Schedular","optionValue","id",3,"styleClass","options","virtualScroll","itemSize","filter","ngModelChange"],["class","err-msg",4,"ngIf"],["class","col-md-6",4,"ngIf"],["class","col-md-6 inputSpace",4,"ngIf"],[1,"note","row","p-field"],[1,"col-sm-12","col-md-12","mr-top","text-left"],[1,"row","p-field","mr-top"],[1,"col-sm-12","col-md-12","text-center"],["type","button",1,"button","w-button","shadow",3,"disabled","click"],["type","button",1,"cancelButton","w-button","shadow","btn-cancel",3,"click"],[1,"err-msg"],["for","triggerType",1,"form-label"],["formControlName","triggerType","optionLabel","name","placeholder","Select Trigger Type","optionValue","id",3,"styleClass","options","ngModelChange"],[1,"col-md-6","inputSpace"],["for","",1,"form-label"],["optionLabel","value","name","selectedValidationCheckbox","defaultLabel","Select Data Source",1,"multiselect-custom",3,"options","ngModel","styleClass","maxSelectedLabels","selectedItemsLabel","ngModelOptions","ngModelChange"],["pTemplate","selectedItems"],["pTemplate","item"],[4,"ngIf"],["class","validationType-item validationType-item-value",4,"ngFor","ngForOf"],["class","validationType-placeholder",4,"ngIf"],[1,"validationType-item","validationType-item-value"],[1,"word_break_word_all"],[1,"validationType-placeholder"],[1,"validationType-item"],[1,"form-label"],["optionLabel","validationName","name","selectedChedularCheckbox","defaultLabel","Select Validation",1,"multiselect-custom",3,"options","ngModel","styleClass","maxSelectedLabels","selectedItemsLabel","ngModelOptions","ngModelChange"],["optionLabel","value","name","selectedAppGroupCheckbox","defaultLabel","Select App Groups",1,"multiselect-custom",3,"options","ngModel","styleClass","maxSelectedLabels","selectedItemsLabel","ngModelOptions","ngModelChange"]],template:function(e,t){1&e&&(h.jc(0,"div",0),h.jc(1,"div",1),h.jc(2,"div",2),h.jc(3,"p",3),h.bd(4),h.ic(),h.ic(),h.ic(),h.jc(5,"form",4),h.jc(6,"div",5),h.jc(7,"div",6),h.jc(8,"div",7),h.jc(9,"label",8),h.bd(10,"Schedular"),h.jc(11,"sup",9),h.bd(12,"*"),h.ic(),h.ic(),h.jc(13,"p-dropdown",10),h.qc("ngModelChange",function(e){return t.onSchedular(e)}),h.ic(),h.Zc(14,ri,2,1,"p",11),h.ic(),h.ic(),h.Zc(15,ai,8,3,"div",12),h.Zc(16,bi,10,11,"div",13),h.Zc(17,xi,10,12,"div",13),h.Zc(18,Ii,10,11,"div",13),h.ic(),h.jc(19,"div",14),h.jc(20,"div",15),h.jc(21,"p"),h.bd(22,"Note: Fields marked with "),h.jc(23,"b"),h.bd(24,'"*"'),h.ic(),h.bd(25," are required. "),h.ic(),h.ic(),h.ic(),h.jc(26,"div",16),h.jc(27,"div",17),h.jc(28,"button",18),h.qc("click",function(e){return t.onSubmit(e)}),h.bd(29,"Create Trigger"),h.ic(),h.bd(30," \xa0 "),h.jc(31,"button",19),h.qc("click",function(){return t.onCancel()}),h.bd(32,"Cancel"),h.ic(),h.ic(),h.ic(),h.ic(),h.ic()),2&e&&(h.Nb(4),h.dd(" \xa0","Trigger Task"," "),h.Nb(1),h.Bc("formGroup",t.addTriggerForm),h.Nb(8),h.Bc("styleClass","form-field")("options",t.triggerTaskData)("virtualScroll",!0)("itemSize",30)("filter",!0),h.Nb(1),h.Bc("ngIf",t.addTriggerForm.controls.schedulerId.invalid&&!t.addTriggerForm.controls.schedulerId.pristine),h.Nb(1),h.Bc("ngIf",t.triggerTypeDrop),h.Nb(1),h.Bc("ngIf",t.schemaDropdown),h.Nb(1),h.Bc("ngIf",t.validatiomDropdown),h.Nb(1),h.Bc("ngIf",t.appGroupDropdown),h.Nb(10),h.Bc("disabled",!t.addTriggerForm.valid&&!t.selectedChedularCheckbox&&!t.selectedValidationCheckbox))},directives:[o.x,o.p,o.i,a.a,o.o,o.g,n.n,L.a,o.r,A.i,n.m],styles:["[_ngcontent-%COMP%]::-moz-placeholder{color:gray;opacity:.8}[_ngcontent-%COMP%]::placeholder{color:gray;opacity:.8}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.note[_ngcontent-%COMP%]{text-align:left;font-size:13px;color:#eb5454;margin-left:0!important;margin-top:30px!important}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]     .p-inputtext{font-size:14px}.p-field[_ngcontent-%COMP%]{margin:0 10px}.p-field-form[_ngcontent-%COMP%]{padding-right:0}.diabled-ip[_ngcontent-%COMP%]:hover{border:1px solid #ced4da}[_nghost-%COMP%]     .multiselect-custom .p-multiselect-label{padding-top:.25rem!important;padding-bottom:.25rem!important}[_nghost-%COMP%]     .multiselect-custom .validationType-item-value{padding:.1rem .25rem!important;border-radius:3px!important;display:inline-flex!important;margin-right:.5rem!important}[_nghost-%COMP%]     .multiselect-custom .validationType-item div{white-space:normal;word-break:break-word}[_nghost-%COMP%]     .multiselect-custom .validationType-placeholder{font-family:Open Sans!important;font-size:14px!important;font-weight:400;padding:.25rem}.custom-break[_ngcontent-%COMP%]{overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;white-space:normal!important}.wordBreak[_ngcontent-%COMP%]{overflow-wrap:break-word!important;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .p-disabled:hover{cursor:not-allowed!important}.optional-fields[_ngcontent-%COMP%]{color:#789}.form-checkbox[_ngcontent-%COMP%]{padding-left:10px;font-size:16px;padding-top:8px}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}.margin-top10[_ngcontent-%COMP%]{margin-top:10px}.margin-left[_ngcontent-%COMP%]{margin-left:-40px}.margin-right[_ngcontent-%COMP%]{margin-right:20px}.margin-left1[_ngcontent-%COMP%]{margin-left:-200px}.margin-top1[_ngcontent-%COMP%]{margin-top:-15px}.inputSpace[_ngcontent-%COMP%]{margin-top:10px}.diabled-ip[_ngcontent-%COMP%]{opacity:.7;box-shadow:none!important;cursor:inherit}.diabled-ip[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.inputSpaces1[_ngcontent-%COMP%]{margin-top:10px}"]}),e})();var Di=i("mrSG");class Bi{}var Vi=i("7rT8"),Ti=i.n(Vi);function Wi(e,t){if(1&e){const e=h.kc();h.jc(0,"div",23),h.jc(1,"span",24),h.jc(2,"input",25),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().globalFilterValue=t})("keyup",function(t){return h.Rc(e),h.uc().globalFilterFun(t)}),h.ic(),h.bd(3,"\xa0 "),h.ec(4,"i",26),h.ic(),h.jc(5,"span",27),h.qc("click",function(){h.Rc(e);const t=h.uc(),i=h.Oc(31);return t.showCustomizeModal(i)}),h.ec(6,"img",28),h.bd(7," \xa0Customize "),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(2),h.Bc("ngModel",e.globalFilterValue),h.Nb(3),h.Qb(0==(null==e.triggers?null:e.triggers.length)?"disable":""),h.Nb(1),h.Rb("cursor-pointer ",e.triggers.length?"":"disabled-opa","")}}function zi(e,t){if(1&e){const e=h.kc();h.jc(0,"th"),h.bd(1),h.ec(2,"br"),h.ec(3,"p-sortIcon",33),h.jc(4,"app-column-filter",34),h.qc("hideFilterDataBox",function(t){return h.Rc(e),h.uc(3).hideBox(t)})("filterData",function(t){return h.Rc(e),h.uc(3).getFilterData(t)})("resetFilterValues",function(t){return h.Rc(e),h.uc(3).resetFilter(t)}),h.ic(),h.jc(5,"span",35),h.jc(6,"i",36),h.qc("click",function(){h.Rc(e);const t=h.uc().$implicit;return h.uc(2).onFilterClick(t.originalValue)}),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc().$implicit,t=h.uc(2);h.Nb(1),h.dd(" ",e.displayValue,""),h.Nb(2),h.Cc("field",e.originalValue),h.Cc("pSortableColumn",e.originalValue),h.Bc("pSortableColumnDisabled",t.isDisabled),h.Nb(1),h.Bc("colFilterData",t.getFilterState(e.originalValue))("display",t.displayFiltersFor[e.originalValue])("fieldName",e.originalValue)("customId",e.originalValue),h.Nb(1),h.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"selected-filter-column":""),h.Nb(1),h.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function Gi(e,t){if(1&e&&(h.hc(0),h.Zc(1,zi,7,10,"th",32),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",e.isSelected)}}function Ai(e,t){1&e&&(h.jc(0,"th",37),h.bd(1,"More"),h.ic())}function Ri(e,t){if(1&e&&(h.jc(0,"tr",29),h.Zc(1,Gi,2,1,"ng-container",30),h.jc(2,"th"),h.bd(3," Actions"),h.ic(),h.Zc(4,Ai,2,0,"th",31),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("ngForOf",e.customizeColsForChema),h.Nb(3),h.Bc("ngIf",e.isMoreDisplayed)}}function Li(e,t){if(1&e&&(h.jc(0,"td",43),h.jc(1,"span"),h.bd(2),h.ic(),h.ec(3,"br"),h.ic()),2&e){const e=h.uc().$implicit,t=h.uc().$implicit;h.Bc("title",t[e.originalValue]),h.Nb(2),h.cd(t[e.originalValue])}}function Ei(e,t){if(1&e&&(h.hc(0),h.Zc(1,Li,4,2,"td",42),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",e.isSelected)}}function qi(e,t){if(1&e){const e=h.kc();h.jc(0,"td",44),h.qc("click",function(){h.Rc(e);const t=h.uc().$implicit,i=h.uc(),n=h.Oc(33);return i.openOtherField(n,t)}),h.bd(1," ..."),h.ic()}}function Zi(e,t){if(1&e){const e=h.kc();h.jc(0,"tr",38),h.Zc(1,Ei,2,1,"ng-container",30),h.jc(2,"td"),h.jc(3,"span"),h.jc(4,"span",39),h.qc("click",function(){h.Rc(e);const i=t.$implicit;return h.uc().deleteTriggers(i)}),h.ec(5,"i",40),h.ic(),h.ic(),h.ic(),h.Zc(6,qi,2,0,"td",41),h.ic()}if(2&e){const e=h.uc();h.Nb(1),h.Bc("ngForOf",e.customizeColsForChema),h.Nb(5),h.Bc("ngIf",e.isMoreDisplayed)}}function $i(e,t){1&e&&(h.jc(0,"div",45),h.bd(1,"No records found "),h.ic())}function Ji(e,t){if(1&e){const e=h.kc();h.jc(0,"div",46),h.jc(1,"p-paginator",47,48),h.qc("onPageChange",function(t){return h.Rc(e),h.uc().onPageChange(t)})("firstChange",function(t){return h.Rc(e),h.uc().first=t}),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(1),h.Bc("rows",10)("totalRecords",e.triggers.length)("showCurrentPageReport",!0)("first",e.first)}}function Hi(e,t){if(1&e&&(h.jc(0,"div",53),h.jc(1,"div"),h.bd(2),h.ic(),h.ic()),2&e){const e=h.uc(3);h.Nb(2),h.ed("Page ",e.selectedPage.page," of ",e.totalNumOfPages,"")}}function Ui(e,t){if(1&e&&h.Zc(0,Hi,3,2,"div",52),2&e){const e=h.uc(2);h.Bc("ngIf",e.selectedPage)}}function Xi(e,t){if(1&e){const e=h.kc();h.jc(0,"div",49),h.jc(1,"p-dropdown",50),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().selectedPage=t})("onChange",function(t){return h.Rc(e),h.uc().onPageNumChange(t)}),h.Zc(2,Ui,1,1,"ng-template",51),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(1),h.Bc("options",e.numOfPages)("filter",!0)("ngModel",e.selectedPage)("virtualScroll",!0)("itemSize",30)}}function Yi(e,t){1&e&&(h.jc(0,"span",54),h.ec(1,"i",55),h.bd(2," Confirmation "),h.ic())}function Ki(e,t){if(1&e){const e=h.kc();h.jc(0,"div",66),h.jc(1,"table"),h.jc(2,"tr",67),h.jc(3,"td"),h.jc(4,"p-checkbox",68),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().$implicit.isSelected=t})("onChange",function(){h.Rc(e);const t=h.uc().$implicit;return h.uc(2).checkValue(t.originalValue,t.isSelected)}),h.ic(),h.ic(),h.jc(5,"td"),h.jc(6,"label"),h.bd(7),h.ic(),h.ic(),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc().$implicit,t=h.uc(2);h.Nb(4),h.Bc("ngModel",e.isSelected)("disabled",t.checkboxDisabled&&!e.isSelected),h.Nb(3),h.cd(e.displayValue)}}function Qi(e,t){if(1&e&&(h.hc(0),h.Zc(1,Ki,8,3,"div",65),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",!e.necessaryCol&&!e.alwaysSelected)}}function en(e,t){if(1&e&&(h.jc(0,"div",69),h.bd(1),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.dd("You can select up to ",e.maxCount," columns.")}}function tn(e,t){if(1&e){const e=h.kc();h.jc(0,"div",56),h.jc(1,"div",57),h.Zc(2,Qi,2,1,"ng-container",30),h.ic(),h.ic(),h.jc(3,"div",58),h.jc(4,"div",59),h.jc(5,"div",60),h.Zc(6,en,2,1,"div",61),h.ic(),h.jc(7,"div",62),h.jc(8,"div"),h.jc(9,"label",63),h.qc("click",function(){return h.Rc(e),h.uc().modalRef.hide()}),h.bd(10,"Close Customize"),h.ic(),h.jc(11,"img",64),h.qc("click",function(){return h.Rc(e),h.uc().modalRef.hide()}),h.ic(),h.ic(),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(2),h.Bc("ngForOf",e.customizeColsForChema),h.Nb(4),h.Bc("ngIf",e.checkboxDisabled)}}function nn(e,t){if(1&e&&(h.jc(0,"div",76),h.jc(1,"table"),h.jc(2,"tr"),h.jc(3,"td",77),h.bd(4),h.ic(),h.jc(5,"td",77),h.bd(6),h.ic(),h.ic(),h.ic(),h.ic()),2&e){const e=h.uc().$implicit,t=h.uc(2);h.Nb(4),h.cd(e.displayValue),h.Nb(2),h.dd(": ",t.selectedRowData[e.originalValue],"")}}function on(e,t){if(1&e&&(h.hc(0),h.Zc(1,nn,7,2,"div",75),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",!e.necessaryCol&&!e.isSelected)}}function rn(e,t){if(1&e){const e=h.kc();h.jc(0,"div",70),h.jc(1,"b"),h.bd(2,"More Columns:"),h.ic(),h.ic(),h.jc(3,"div",56),h.jc(4,"div",71),h.Zc(5,on,2,1,"ng-container",30),h.ic(),h.ic(),h.jc(6,"div",58),h.jc(7,"div",72),h.qc("click",function(){return h.Rc(e),h.uc().modalRef.hide()}),h.jc(8,"label",73),h.bd(9,"Close"),h.ic(),h.ec(10,"img",74),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(5),h.Bc("ngForOf",e.customizeColsForChema)}}function sn(e,t){if(1&e){const e=h.kc();h.hc(0),h.jc(1,"div",66),h.jc(2,"table"),h.jc(3,"tr",67),h.jc(4,"td"),h.jc(5,"p-checkbox",83),h.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return h.Rc(e),h.uc(2).pdfColsValue()}),h.ic(),h.ic(),h.jc(6,"td"),h.jc(7,"label"),h.bd(8),h.ic(),h.ic(),h.ic(),h.ic(),h.ic(),h.gc()}if(2&e){const e=t.$implicit,i=h.uc(2);h.Nb(5),h.Bc("ngModel",e.pdfCols)("disabled",i.pdfCheckboxDisabled&&!e.pdfCols),h.Nb(3),h.cd(e.displayValue)}}function cn(e,t){1&e&&(h.jc(0,"div",69),h.bd(1,"You can select up to 9 columns."),h.ic())}function an(e,t){if(1&e){const e=h.kc();h.jc(0,"div",70),h.jc(1,"span",78),h.bd(2,"Please select columns that need to be downloaded in PDF"),h.ic(),h.ic(),h.jc(3,"div",79),h.jc(4,"div",57),h.Zc(5,sn,9,3,"ng-container",30),h.ic(),h.ic(),h.jc(6,"div",58),h.jc(7,"div",59),h.jc(8,"div",80),h.Zc(9,cn,2,0,"div",61),h.ic(),h.jc(10,"div",81),h.jc(11,"button",82),h.qc("click",function(){h.Rc(e);const t=h.uc();return t.exportPdf(),t.modalRef.hide()}),h.ic(),h.ic(),h.jc(12,"div",62),h.jc(13,"div"),h.jc(14,"label",63),h.qc("click",function(){return h.Rc(e),h.uc().closeExportPdf()}),h.bd(15,"Close"),h.ic(),h.jc(16,"img",64),h.qc("click",function(){return h.Rc(e),h.uc().closeExportPdf()}),h.ic(),h.ic(),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(5),h.Bc("ngForOf",e.customizeColsForChema),h.Nb(4),h.Bc("ngIf",e.pdfCheckboxDisabled),h.Nb(2),h.Bc("disabled",e.disableDownloadBtn)}}const ln=function(){return{width:"100%"}},dn=function(){return["idTrigger","schemaName","scheduleName","projectName"]},pn=function(){return{width:"50vw"}};ze.a.vfs=Ae.a.pdfMake.vfs;let gn=(()=>{class e{constructor(e,t,i,n,o,r,s,c){this.triggerService=e,this.modalService=t,this.spinner=i,this.filterService=n,this.detectChanges=o,this.datePipe=r,this.homeServiceService=s,this.messages=c,this.mainTriggers=[],this.deleteScheduler=new h.p,this.appConstant=new G.a,this.triggers=[],this.pageWiseTriggers=[],this.selectedProjId="",this.totalNumOfPages=0,this.first=0,this.pageSize=9,this.maxCount=4,this.checkboxDisabled=!1,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.deleteModal=!1,this.filterData={},this.deleteTrigger=[],this.columnFilter={},this.scrollHt="300px",this.customSortArr=[],this.displayFiltersFor={idTrigger:!1,validationCheck:!1,scheduleName:!1,projectName:!1,schemaName:!1,triggerType:!1},this.projectNames=[],this.multiSortMeta=[{field:"idTrigger",order:-1}],this.pdfData=[],this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeColsForChema=[{displayValue:"Trigger Id",originalValue:"idTrigger",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Schema Name",originalValue:"schemaName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Schedule",originalValue:"scheduleName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Project Name ",originalValue:"projectName",isSelected:!0,necessaryCol:!1,alwaysSelected:!1}],this.isDisabled=!1,this.norecordfound=!1}ngOnInit(){sessionStorage.removeItem("connDet"),this.appId=sessionStorage.getItem("idApp"),sessionStorage.getItem("userDetail")&&(this.userDetails=JSON.parse(sessionStorage.getItem("userDetail"))),sessionStorage.getItem("fromDate")?(this.fromDate=new Date(sessionStorage.getItem("fromDate")),this.toDate=new Date(sessionStorage.getItem("toDate"))):(this.fromDate=new Date,this.fromDate.setDate((new Date).getDate()-30),this.toDate=new Date,this.toDate.setDate((new Date).getDate()+1)),this.maxDate=new Date,this.maxDate.setDate((new Date).getDate()+3),this.projectNames=this.homeServiceService.getProjectList(),this.projectNames.map(e=>{e.domainProject=e.domainName+"-"+e.projectName,e.domainAndProjectId=e.domainId+"_"+e.idProject,e.domainAndProjectName=e.domainName+"-"+e.projectName})}ngOnChanges(){this.getTriggerList()}getTriggerList(){this.norecordfound=0==this.mainTriggers.length,this.triggers=[...this.mainTriggers],this.pdfData=[...this.triggers],this.totalrecords=this.triggers.length;const e=this.first+this.pageSize;null!=this.filterObj&&this.filterObj.forEach(e=>{this.triggers=this.triggers.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))});const t=this.triggers.filter((t,i)=>i<=e);this.pageWiseTriggers=[...t],this.calculateNumOfPages(),this.checkCount=0,this.customizeColsForChema.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}calculateNumOfPages(){if(this.totalNumOfPages=this.mainTriggers.length?this.mainTriggers.length<this.pageSize?1:Math.ceil(this.mainTriggers.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}onFilterClick(e){Object.keys(this.displayFiltersFor).map(t=>{this.displayFiltersFor[t]=t===e})}openOtherField(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}showCustomizeModal(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}get isMoreDisplayed(){let e=[];return e=this.customizeColsForChema.length?this.customizeColsForChema.filter(e=>e.isSelected):[],this.customizeColsForChema.length!==e.length}resetFilter(e){this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.triggers=[...this.mainTriggers],t.forEach(e=>{this.triggers=this.triggers.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}getFilterData(e){this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.storeFilterValue=t,this.displayFiltersFor[e[0]]=!1,this.first=0,this.globalFilterValue||(this.triggers=[...this.mainTriggers]),t.forEach(e=>{this.triggers=this.triggers.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}globalFilterFun(e){const t=[...this.globalFilterLogic()],i=this.first+this.pageSize,n=t.filter((e,t)=>t<=i);this.detectChanges.detectChanges(),this.pageWiseTriggers=[...n],this.setPageNumber()}globalFilterLogic(){if(this.mainTriggers.length){const e=Object.keys(this.mainTriggers[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainTriggers.forEach(t=>{let i=!1;e.forEach(e=>{t[e]&&t[e].toString().toLowerCase().includes(this.globalFilterValue.toLowerCase())&&!i&&(this.filterValue.push(t),i=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.triggers=[...this.filterValue],this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=[...this.mainTriggers],this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.triggers=[...this.filterValue],this.calculateNumOfPages(),this.triggers}return[]}getFilterState(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){const t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}setPageNumber(){if(this.totalNumOfPages=this.triggers.length?this.triggers.length<this.pageSize?1:Math.ceil(this.triggers.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}const e=this.first+this.pageSize,t=this.triggers.filter((t,i)=>i<=e);this.pageWiseTriggers=[...t]}customSort(e){this.sortField=e.field,this.sortOrder=e.order,this.sortMode=e.mode,this.customSortArr.filter(t=>t.field=e.field)[0]?this.customSortArr.map(t=>{t.order=e.order}):this.customSortArr.push(e);const t=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=t+1,this.selectedPage.pageIndex=t,this.sortOrderEvent=e;const i=[...this.triggers];if("listGroupNameValue"===e.field){i.sort(1===this.sortOrderEvent.order?(t,i)=>t[e.field][0].value>i[e.field][0].value?1:i[e.field][0].value>t[e.field][0].value?-1:0:(t,i)=>t[e.field][0].value>i[e.field][0].value?-1:i[e.field][0].value>t[e.field][0].value?1:0);const t=this.first+this.pageSize,n=i.filter((e,i)=>{if(i<=t&&i>=this.first)return e});this.pageWiseTriggers=[...n]}else{const e=[...this.sortOrderEvent.multiSortMeta];1===e.length?i.sort((t,i)=>t[e[0].field]>i[e[0].field]?e[0].order:i[e[0].field]>t[e[0].field]?-e[0].order:0):2===e.length?i.sort((t,i)=>t[e[0].field]>i[e[0].field]?e[0].order:i[e[0].field]>t[e[0].field]&&-e[0].order||t[e[1].field]>i[e[1].field]?e[1].order:i[e[1].field]>t[e[1].field]?-e[1].order:0):3===e.length?i.sort((t,i)=>t[e[0].field]>i[e[0].field]?e[0].order:i[e[0].field]>t[e[0].field]&&-e[0].order||t[e[1].field]>i[e[1].field]?e[1].order:i[e[1].field]>t[e[1].field]&&-e[1].order||t[e[2].field]>i[e[2].field]?e[2].order:i[e[2].field]>t[e[2].field]?-e[2].order:0):4===e.length&&i.sort((t,i)=>t[e[0].field]>i[e[0].field]?e[0].order:i[e[0].field]>t[e[0].field]&&-e[0].order||t[e[1].field]>i[e[1].field]?e[1].order:i[e[1].field]>t[e[1].field]&&-e[1].order||t[e[2].field]>i[e[2].field]?e[2].order:i[e[2].field]>t[e[2].field]&&-e[2].order||t[e[3].field]>i[e[3].field]?e[3].order:i[e[3].field]>t[e[3].field]?-e[3].order:0);const t=this.first+this.pageSize,n=i.filter((e,i)=>{if(i<=t&&i>=this.first)return e});this.pageWiseTriggers=[...n]}}capture(){if(this.pageWiseTriggers.length){this.spinner.show(),this.scrollHt="1500px";const e="DataTrigger.pdf";setTimeout(()=>{Ti()(document.querySelector("#view_data_temp"),{height:1200}).then(t=>{try{const i=new Date(this.fromDate),n=new Date(this.toDate),o=this.datePipe.transform(i,"yyyy-MM-dd"),r=this.datePipe.transform(n,"yyyy-MM-dd");t.toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onloadend=()=>{ze.a.createPdf({footer:{columns:[{text:"Created by FirstEigen",alignment:"right",style:"footerSection"}]},content:[{text:"Schedule "+this.appConstant.baseName+" Trigger",alignment:"center",pageSize:"A4",pageOrientation:"portrait",margin:[0,5,0,5]},{text:"Domain-Project Name: "+this.getDomainName+"-"+this.getProjectName,style:"textStyle"},{text:"From Date: "+o,style:"textStyle"},{text:"To Date: "+r,style:"textStyle"},{image:i.result,width:500,alignment:"left"}],styles:{sectionHeader:{bold:!0,decoration:"underline",fontSize:14,margin:[0,5,0,5]},textStyle:{bold:!1,fontSize:9,margin:[0,5,0,5]},footerSection:{fontSize:7,margin:[5,7,7,5]}}}).download(e),this.scrollHt="300px",this.spinner.hide()}})}catch(i){this.spinner.hide()}})},2e3)}}openExportPdf(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}closeExportPdf(){this.modalRef.hide(),setTimeout(()=>{this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeColsForChema.forEach(e=>e.pdfCols=!1)},1e3)}exportPdf(){this.pdfData.length&&(this.spinner.show(),setTimeout(()=>{this.getProjectName=this.projectNames.filter(e=>e.idProject===parseInt(sessionStorage.getItem("activeProjectId"),10))[0].projectName,this.getDomainName=this.projectNames.filter(e=>e.domainId===parseInt(sessionStorage.getItem("activeDomainId"),10))[0].domainName;const e=new Ee.default("l","pt"),t=this.customizeColsForChema.filter(e=>e.pdfCols),i=[];t.forEach(e=>i.push(e.displayValue));const n=[];t.forEach(e=>n.push(e.originalValue));let o=[];o=this.pdfData.map(e=>Object.assign(n.map(t=>e[t])));const r=e.internal.pageSize,s=r.height?r.height:r.getHeight();Le()(e,{columns:i,body:o,didDrawPage:t=>{1==t.pageNumber&&(e.text("Data Trigger",e.internal.pageSize.width/2,25,null,"center"),e.setFontSize(10),e.text("Domain-Project Name: "+this.getDomainName+"-"+this.getProjectName,t.settings.margin.left,40)),e.setFontSize(9),e.text("Created by FirstEigen",e.internal.pageSize.width-40,s-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}},columnStyles:{}}),e.save("DataTrigger.pdf"),this.disableDownloadBtn=!0,this.pdfCheckboxDisabled=!1,t.forEach(e=>e.pdfCols=!1),this.spinner.hide()},2e3))}pdfColsValue(){this.pdfCheckCount=0,this.customizeColsForChema.filter(e=>!0===e.pdfCols).forEach(e=>{!0===e.pdfCols&&this.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}hideBox(e){this.displayFiltersFor[e.fieldName]=!1}downloadCSV(){const e=new Bi;e.projectId=JSON.parse(sessionStorage.getItem("activeProjectId")),e.domainId=JSON.parse(sessionStorage.getItem("activeDomainId")),this.triggerService.downloadSchedulerCSV("scheduledSchemasCSV",e).subscribe(e=>Object(Te.saveAs)(e,"Schedule"+this.appConstant.baseName+".csv"))}checkValue(e,t){this.checkCount=0,this.customizeColsForChema.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount,this.colSpanCount=this.customizeColsForChema.filter(e=>!0===e.isSelected).length,null!=this.storeFilterValue&&this.storeFilterValue.map(i=>{i==e&&0==t&&this.resetFilter(e)})}deleteTriggers(e){this.deleteModal=!0,this.deleteTrigger=e}deleteConfirm(){this.deleteModal=!1,this.triggerService.deleteTrigger("deleteTrigger",{idTrigger:this.deleteTrigger.idTrigger}).subscribe(e=>{this.deleteScheduler.emit()})}onPageNumChange(e){this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);const t=this.getSortedData(),i=this.first+this.pageSize,n=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.pageWiseTriggers=[...n]}getSortedData(){const e=[...this.triggers];return this.sortOrderEvent?1===this.sortOrderEvent.order?(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?-1:0),e):(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?-1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?1:0),e):e}onPageChange(e){this.first=e.first;const t=this.getSortedData(),i=this.first+this.pageSize,n=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseTriggers=[...n]}successToasty(e){this.messages.displayToaster(e,"success","Success")}filterColumnNameWithHighlightName(e){return!(Object.keys(this.columnFilter).findIndex(t=>t===e)<0)}}return e.\u0275fac=function(t){return new(t||e)(h.dc(ii),h.dc($e.a),h.dc(Ze.c),h.dc(A.d),h.dc(h.h),h.dc(n.d),h.dc(u.a),h.dc(R.a))},e.\u0275cmp=h.Xb({type:e,selectors:[["app-schema-trigger-table"]],inputs:{mainTriggers:"mainTriggers"},outputs:{deleteScheduler:"deleteScheduler"},features:[h.Lb],decls:36,vars:33,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","text-right","d-flex","align-items-end","justify-content-end"],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["id","view_data_temp",1,"row","p-field"],[1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","sortMode","multiple",3,"value","responsive","rowHover","pageLinks","filterDelay","resetPageOnSort","multiSortMeta","rows","first","customSort","globalFilterFields","firstChange","sortFunction"],["myTab",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],["template",""],["moreTrigger",""],["exportPdfTemplate",""],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"float-right","margin-top-gfilter",3,"click"],["src","assets/images/Vector.png","width","25px"],[1,"header"],[4,"ngFor","ngForOf"],["class","min_width_50",4,"ngIf"],[4,"ngIf"],[3,"field","pSortableColumn","pSortableColumnDisabled"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"min_width_50"],[1,"row-ht"],[1,"actions",3,"click"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],["class","more-display min_width_50",3,"click",4,"ngIf"],["class","text-center word_break_word_all",3,"title",4,"ngIf"],[1,"text-center","word_break_word_all",3,"title"],[1,"more-display","min_width_50",3,"click"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","virtualScroll","itemSize","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],[1,"modal-body"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-8"],["class","color-code",4,"ngIf"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname","value","customizeColsForChema[col.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"],[1,"modal-header"],[1,"row","padding-btm1"],[3,"click"],[1,"cursor-pointer"],["src","assets/images/close.png",1,"margin-l","cursor-pointer"],["class","col-sm-6 padding-btm3",4,"ngIf"],[1,"col-sm-6","padding-btm3"],[1,"field-dis-val"],[1,"modal-title"],[1,"modal-body","pdf-modal"],[1,"col-lg-4"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"]],template:function(e,t){if(1&e){const e=h.kc();h.jc(0,"div",0),h.jc(1,"div",1),h.jc(2,"div",2),h.jc(3,"p",3),h.bd(4," Scheduled Schemas "),h.ic(),h.ic(),h.jc(5,"div",4),h.jc(6,"a"),h.jc(7,"img",5),h.qc("click",function(){return t.downloadCSV()}),h.ic(),h.ic(),h.jc(8,"a"),h.jc(9,"img",6),h.qc("click",function(){h.Rc(e);const i=h.Oc(35);return t.openExportPdf(i)}),h.ic(),h.ic(),h.ic(),h.ic(),h.jc(10,"div",7),h.jc(11,"div",8),h.jc(12,"p-table",9,10),h.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),h.Zc(14,Wi,8,6,"ng-template",11),h.Zc(15,Ri,5,2,"ng-template",12),h.Zc(16,Zi,7,2,"ng-template",13),h.ic(),h.Zc(17,$i,2,0,"div",14),h.ic(),h.jc(18,"div",15),h.Zc(19,Ji,3,4,"div",16),h.Zc(20,Xi,3,5,"div",17),h.ic(),h.ic(),h.jc(21,"p-dialog",18),h.qc("visibleChange",function(e){return t.deleteModal=e}),h.Zc(22,Yi,3,0,"ng-template",12),h.jc(23,"p"),h.bd(24,"Are you sure you want to delete trigger "),h.jc(25,"b"),h.bd(26),h.ic(),h.bd(27,"?"),h.ic(),h.jc(28,"p-footer"),h.jc(29,"button",19),h.qc("click",function(){return t.deleteConfirm()}),h.ic(),h.ic(),h.ic(),h.Zc(30,tn,12,2,"ng-template",null,20,h.ad),h.Zc(32,rn,11,1,"ng-template",null,21,h.ad),h.ic(),h.Zc(34,an,17,3,"ng-template",null,22,h.ad)}2&e&&(h.Nb(6),h.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseTriggers&&t.pageWiseTriggers.length?"":"disabled-opa",""),h.Nb(2),h.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseTriggers&&t.pageWiseTriggers.length?"":"disabled-opa",""),h.Nb(4),h.Vc(h.Ec(30,ln)),h.Bc("value",t.pageWiseTriggers)("responsive",!0)("rowHover",!0)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("multiSortMeta",t.multiSortMeta)("rows",10)("first",t.first)("customSort",!0)("globalFilterFields",h.Ec(31,dn)),h.Nb(5),h.Bc("ngIf",!t.pageWiseTriggers.length),h.Nb(2),h.Bc("ngIf",t.pageWiseTriggers.length),h.Nb(1),h.Bc("ngIf",t.pageWiseTriggers.length),h.Nb(1),h.Vc(h.Ec(32,pn)),h.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),h.Nb(5),h.dd("",t.deleteTrigger.schemaName," "))},directives:[q.f,A.i,n.n,E.a,A.e,w.b,o.d,b.a,o.o,o.r,n.m,q.d,q.e,Z.a,n.l,l.a,a.a,v.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.min_width_50[_ngcontent-%COMP%]{min-width:50px!important;width:50px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.deltaStatus[_ngcontent-%COMP%]{border-radius:3px;color:#eef1f5;font-size:10px;padding:1.5px}.approved[_ngcontent-%COMP%]{background-color:#56b608}.revire-waiting[_ngcontent-%COMP%]{background-color:red}.rejected[_ngcontent-%COMP%]{background-color:#e72b56;border-radius:3px;color:#eef1f5}.iconColorOnFailed[_ngcontent-%COMP%]{color:#e72b56}.imgOnSuccess[_ngcontent-%COMP%]{color:#56b608}.imgSize[_ngcontent-%COMP%]{width:14px;height:auto}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}"]}),e})();const hn=["myTab"];function un(e,t){if(1&e){const e=h.kc();h.jc(0,"div",34),h.jc(1,"span",35),h.jc(2,"input",36),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().globalFilterValue=t})("keyup",function(t){return h.Rc(e),h.uc().globalFilterFun(t)}),h.ic(),h.bd(3,"\xa0 "),h.ec(4,"i",37),h.ic(),h.jc(5,"span",38),h.qc("click",function(){h.Rc(e);const t=h.uc(),i=h.Oc(47);return t.showCustomizeModal(i)}),h.ec(6,"img",39),h.bd(7," \xa0Customize "),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(2),h.Bc("ngModel",e.globalFilterValue),h.Nb(3),h.Qb(0==(null==e.triggers?null:e.triggers.length)?"disable":""),h.Nb(1),h.Rb("cursor-pointer ",null!=e.triggers&&e.triggers.length?"":"disabled-opa","")}}function mn(e,t){if(1&e){const e=h.kc();h.jc(0,"th"),h.bd(1),h.ec(2,"br"),h.ec(3,"p-sortIcon",45),h.jc(4,"app-column-filter",46),h.qc("hideFilterDataBox",function(t){return h.Rc(e),h.uc(3).hideBox(t)})("filterData",function(t){return h.Rc(e),h.uc(3).getFilterData(t)})("resetFilterValues",function(t){return h.Rc(e),h.uc(3).resetFilter(t)}),h.ic(),h.jc(5,"span",47),h.jc(6,"i",48),h.qc("click",function(){h.Rc(e);const t=h.uc().$implicit;return h.uc(2).onFilterClick(t.originalValue)}),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc().$implicit,t=h.uc(2);h.Nb(1),h.dd(" ",e.displayValue,""),h.Nb(2),h.Cc("field",e.originalValue),h.Cc("pSortableColumn",e.originalValue),h.Nb(1),h.Bc("colFilterData",t.getFilterState(e.originalValue))("display",t.displayFiltersFor[e.originalValue])("fieldName",e.originalValue)("customId",e.originalValue),h.Nb(1),h.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"selected-filter-column":""),h.Nb(1),h.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function fn(e,t){if(1&e&&(h.hc(0),h.Zc(1,mn,7,9,"th",44),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",e.isSelected)}}function bn(e,t){1&e&&(h.jc(0,"th",49),h.bd(1,"More"),h.ic())}function Cn(e,t){if(1&e&&(h.jc(0,"tr",40),h.Zc(1,fn,2,1,"ng-container",41),h.jc(2,"th",42),h.bd(3," Actions"),h.ic(),h.Zc(4,bn,2,0,"th",43),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("ngForOf",e.customizeCols),h.Nb(3),h.Bc("ngIf",e.isMoreDisplayed)}}function wn(e,t){if(1&e&&(h.jc(0,"td",55),h.jc(1,"span"),h.bd(2),h.ic(),h.ec(3,"br"),h.ic()),2&e){const e=h.uc().$implicit,t=h.uc().$implicit;h.Bc("ngClass","validationCheck"==e.originalValue?"rule-ellipsis":"")("title",t[e.originalValue]),h.Nb(2),h.cd(t[e.originalValue])}}function vn(e,t){if(1&e&&(h.hc(0),h.Zc(1,wn,4,3,"td",54),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",e.isSelected)}}function Pn(e,t){if(1&e){const e=h.kc();h.jc(0,"td",56),h.qc("click",function(){h.Rc(e);const t=h.uc().$implicit,i=h.uc(),n=h.Oc(49);return i.openOtherField(n,t)}),h.bd(1," ..."),h.ic()}}function On(e,t){if(1&e){const e=h.kc();h.jc(0,"tr",50),h.Zc(1,vn,2,1,"ng-container",41),h.jc(2,"td"),h.jc(3,"span"),h.jc(4,"span",51),h.qc("click",function(){h.Rc(e);const i=t.$implicit;return h.uc().deleteTriggers(i)}),h.ec(5,"i",52),h.ic(),h.ic(),h.ic(),h.Zc(6,Pn,2,0,"td",53),h.ic()}if(2&e){const e=h.uc();h.Nb(1),h.Bc("ngForOf",e.customizeCols),h.Nb(5),h.Bc("ngIf",e.isMoreDisplayed)}}function Sn(e,t){1&e&&(h.jc(0,"div",57),h.bd(1,"No records found "),h.ic())}function xn(e,t){if(1&e){const e=h.kc();h.jc(0,"div",58),h.jc(1,"p-paginator",59,60),h.qc("onPageChange",function(t){return h.Rc(e),h.uc().onPageChange(t)})("firstChange",function(t){return h.Rc(e),h.uc().first=t}),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(1),h.Bc("rows",10)("totalRecords",e.triggers.length)("showCurrentPageReport",!0)("first",e.first)}}function Mn(e,t){if(1&e&&(h.jc(0,"div",65),h.jc(1,"div"),h.bd(2),h.ic(),h.ic()),2&e){const e=h.uc(3);h.Nb(2),h.ed("Page ",e.selectedPage.page," of ",e.totalNumOfPages,"")}}function jn(e,t){if(1&e&&h.Zc(0,Mn,3,2,"div",64),2&e){const e=h.uc(2);h.Bc("ngIf",e.selectedPage)}}function yn(e,t){if(1&e){const e=h.kc();h.jc(0,"div",61),h.jc(1,"p-dropdown",62),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().selectedPage=t})("onChange",function(t){return h.Rc(e),h.uc().onPageNumChange(t)}),h.Zc(2,jn,1,1,"ng-template",63),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(1),h.Bc("options",e.numOfPages)("filter",!0)("ngModel",e.selectedPage)("virtualScroll",!0)("itemSize",30)}}function _n(e,t){1&e&&(h.jc(0,"span",66),h.ec(1,"i",67),h.bd(2," Confirmation "),h.ic())}function Nn(e,t){if(1&e){const e=h.kc();h.jc(0,"div",78),h.jc(1,"table"),h.jc(2,"tr",79),h.jc(3,"td"),h.jc(4,"p-checkbox",80),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().$implicit.isSelected=t})("onChange",function(){h.Rc(e);const t=h.uc().$implicit;return h.uc(2).checkValue(t.originalValue,t.isSelected)}),h.ic(),h.ic(),h.jc(5,"td"),h.jc(6,"label"),h.bd(7),h.ic(),h.ic(),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc().$implicit,t=h.uc(2);h.Nb(4),h.Bc("ngModel",e.isSelected)("disabled",t.checkboxDisabled&&!e.isSelected),h.Nb(3),h.cd(e.displayValue)}}function kn(e,t){if(1&e&&(h.hc(0),h.Zc(1,Nn,8,3,"div",77),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",!e.necessaryCol&&!e.alwaysSelected)}}function In(e,t){if(1&e&&(h.jc(0,"div",81),h.bd(1),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.dd("You can select up to ",e.maxCount," columns.")}}function Fn(e,t){if(1&e){const e=h.kc();h.jc(0,"div",68),h.jc(1,"div",69),h.Zc(2,kn,2,1,"ng-container",41),h.ic(),h.ic(),h.jc(3,"div",70),h.jc(4,"div",71),h.jc(5,"div",72),h.Zc(6,In,2,1,"div",73),h.ic(),h.jc(7,"div",74),h.jc(8,"div"),h.jc(9,"label",75),h.qc("click",function(){return h.Rc(e),h.uc().modalRef.hide()}),h.bd(10,"Close Customize"),h.ic(),h.jc(11,"img",76),h.qc("click",function(){return h.Rc(e),h.uc().modalRef.hide()}),h.ic(),h.ic(),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(2),h.Bc("ngForOf",e.customizeCols),h.Nb(4),h.Bc("ngIf",e.checkboxDisabled)}}function Dn(e,t){if(1&e&&(h.jc(0,"div",88),h.jc(1,"table"),h.jc(2,"tr"),h.jc(3,"td",89),h.bd(4),h.ic(),h.jc(5,"td",89),h.bd(6),h.ic(),h.ic(),h.ic(),h.ic()),2&e){const e=h.uc().$implicit,t=h.uc(2);h.Nb(4),h.cd(e.displayValue),h.Nb(2),h.dd(": ",t.selectedRowData[e.originalValue],"")}}function Bn(e,t){if(1&e&&(h.hc(0),h.Zc(1,Dn,7,2,"div",87),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",!e.necessaryCol&&!e.isSelected)}}function Vn(e,t){if(1&e){const e=h.kc();h.jc(0,"div",82),h.jc(1,"b"),h.bd(2,"More Columns:"),h.ic(),h.ic(),h.jc(3,"div",68),h.jc(4,"div",83),h.Zc(5,Bn,2,1,"ng-container",41),h.ic(),h.ic(),h.jc(6,"div",70),h.jc(7,"div",84),h.qc("click",function(){return h.Rc(e),h.uc().modalRef.hide()}),h.jc(8,"label",85),h.bd(9,"Close"),h.ic(),h.ec(10,"img",86),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(5),h.Bc("ngForOf",e.customizeCols)}}function Tn(e,t){if(1&e){const e=h.kc();h.hc(0),h.jc(1,"div",78),h.jc(2,"table"),h.jc(3,"tr",79),h.jc(4,"td"),h.jc(5,"p-checkbox",95),h.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return h.Rc(e),h.uc(2).pdfColsValue()}),h.ic(),h.ic(),h.jc(6,"td"),h.jc(7,"label"),h.bd(8),h.ic(),h.ic(),h.ic(),h.ic(),h.ic(),h.gc()}if(2&e){const e=t.$implicit,i=h.uc(2);h.Nb(5),h.Bc("ngModel",e.pdfCols)("disabled",i.pdfCheckboxDisabled&&!e.pdfCols),h.Nb(3),h.cd(e.displayValue)}}function Wn(e,t){1&e&&(h.jc(0,"div",81),h.bd(1,"You can select up to 9 columns."),h.ic())}function zn(e,t){if(1&e){const e=h.kc();h.jc(0,"div",82),h.jc(1,"span",90),h.bd(2,"Please select columns that need to be downloaded in PDF"),h.ic(),h.ic(),h.jc(3,"div",91),h.jc(4,"div",69),h.Zc(5,Tn,9,3,"ng-container",41),h.ic(),h.ic(),h.jc(6,"div",70),h.jc(7,"div",71),h.jc(8,"div",92),h.Zc(9,Wn,2,0,"div",73),h.ic(),h.jc(10,"div",93),h.jc(11,"button",94),h.qc("click",function(){h.Rc(e);const t=h.uc();return t.exportPdf(),t.modalRef.hide()}),h.ic(),h.ic(),h.jc(12,"div",74),h.jc(13,"div"),h.jc(14,"label",75),h.qc("click",function(){return h.Rc(e),h.uc().closeExportPdf()}),h.bd(15,"Close"),h.ic(),h.jc(16,"img",76),h.qc("click",function(){return h.Rc(e),h.uc().closeExportPdf()}),h.ic(),h.ic(),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(5),h.Bc("ngForOf",e.customizeCols),h.Nb(4),h.Bc("ngIf",e.pdfCheckboxDisabled),h.Nb(2),h.Bc("disabled",e.disableDownloadBtn)}}const Gn=function(){return{width:"100%"}},An=function(){return{width:"50vw"}};ze.a.vfs=Ae.a.pdfMake.vfs;const Rn=[{path:"",component:Ve,data:{breadcrumb:"Jobs & Tasks"},children:[{path:"",redirectTo:"view-job-status",pathMatch:"full"},{path:"run",component:Ne.a,data:{breadcrumb:"Run"}},{path:"run/main",component:Ne.a,data:{breadcrumb:"Run"}},{path:"run-connection",component:_e.a,data:{breadcrumb:"Run Data Source"}},{path:"statusbar",component:De,data:{breadcrumb:"Run"}},{path:"view-job-status",loadChildren:()=>i.e(38).then(i.bind(null,"OepF")).then(e=>e.ViewJobStatusModule),data:{breadcrumb:"Job Status"}},{path:"run-app-group",component:ye.a,data:{breadcrumb:"Run Job Group"}},{path:"view-triggers",component:(()=>{class e{constructor(e,t,i,n,o,r,s,c,a){this.modalService=e,this.spinner=t,this.detectChanges=i,this.filterService=n,this.router=o,this.triggerService=r,this.datePipe=s,this.homeServiceService=c,this.domainProjService=a,this.appConstant=new G.a,this.totalNumOfPages=0,this.triggers=[],this.mainTriggers=[],this.pageWiseTriggers=[],this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.first=0,this.pageSize=9,this.maxCount=4,this.checkboxDisabled=!1,this.deleteModal=!1,this.filterData={},this.deleteTrigger=[],this.columnFilter={},this.scrollHt="300px",this.customSortArr=[],this.projectNames=[],this.pdfData=[],this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.splitedProjId="",this.isDisabled=!1,this.noRecordFound=!1,this.schemaTriggerData=[],this.displayFiltersFor={idTrigger:!1,validationCheck:!1,scheduleName:!1,projectName:!1,schemaName:!1,triggerType:!1},this.customizeCols=[{displayValue:"Trigger Id",originalValue:"idTrigger",isSelected:!0,necessaryCol:!1,alwaysSelected:!1,disableSortKey:!1},{displayValue:this.appConstant.baseName,originalValue:"validationCheck",isSelected:!0,necessaryCol:!0,alwaysSelected:!0,disableSortKey:!1},{displayValue:"Schedule",originalValue:"scheduleName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0,disableSortKey:!1},{displayValue:"Project Name ",originalValue:"projectName",isSelected:!1,necessaryCol:!1,alwaysSelected:!1,disableSortKey:!1}],this.customizeColsForChema=[{displayValue:"Trigger Id",originalValue:"idTrigger",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:this.appConstant.baseName,originalValue:"schemaName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Schedule",originalValue:"scheduleName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Project Name ",originalValue:"projectName",isSelected:!0,necessaryCol:!1,alwaysSelected:!1}],this.multiSortMeta=[{field:"idTrigger",order:-1}]}ngOnInit(){this.domainProjService.passDomainProjVal(!1),sessionStorage.removeItem("connDet"),this.appId=sessionStorage.getItem("idApp"),sessionStorage.getItem("userDetail")&&(this.userDetails=JSON.parse(sessionStorage.getItem("userDetail"))),sessionStorage.getItem("fromDate")?(this.fromDate=new Date(sessionStorage.getItem("fromDate")),this.toDate=new Date(sessionStorage.getItem("toDate"))):(this.fromDate=new Date,this.fromDate.setDate((new Date).getDate()-30),this.toDate=new Date,this.toDate.setDate((new Date).getDate()+1)),this.maxDate=new Date,this.maxDate.setDate((new Date).getDate()+3),this.projectNames=this.homeServiceService.getProjectList(),this.projectNames.map(e=>{e.domainProject=e.domainName+"-"+e.projectName,e.domainAndProjectId=e.domainId+"_"+e.idProject,e.domainAndProjectName=e.domainName+"-"+e.projectName}),this.getProjectName=this.projectNames.find(e=>e.idProject===this.splitedProjId),this.getTriggerList()}getTriggerList(){return Object(Di.a)(this,void 0,void 0,function*(){const e={projectId:sessionStorage.getItem("activeProjectId"),domainId:sessionStorage.getItem("activeDomainId")};this.triggerService.getDetailsOfTriggersList("viewTriggers",e).subscribe(e=>{var t,i;if("success"===e.status){this.spinner.hide(),this.spinner.hide()&&(this.noRecordFound=!0),this.mainTriggers=[...e.result.validationTriggerData],this.schemaTriggerData=(null===(i=null===(t=e.result)||void 0===t?void 0:t.schemaTriggerData)||void 0===i?void 0:i.length)>0?[...e.result.schemaTriggerData]:[],this.triggers=[...this.mainTriggers],this.pdfData=[...this.triggers],this.totalrecords=this.triggers.length;const n=this.first+this.pageSize;null!=this.filterObj&&this.filterObj.forEach(e=>{this.triggers=this.triggers.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))});const o=this.triggers.filter((e,t)=>t<=n);this.pageWiseTriggers=[...o],this.calculateNumOfPages(),this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}else this.mainTriggers=[],this.triggers=[],this.pageWiseTriggers=[],this.schemaTriggerData=[]})})}calculateNumOfPages(){if(this.totalNumOfPages=this.mainTriggers.length?this.mainTriggers.length<this.pageSize?1:Math.ceil(this.mainTriggers.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}onFilterClick(e){Object.keys(this.displayFiltersFor).map(t=>{this.displayFiltersFor[t]=t===e})}hideBox(e){this.displayFiltersFor[e.fieldName]=!1}openOtherField(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}showCustomizeModal(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}get isMoreDisplayed(){let e=[];return e=this.customizeCols.length?this.customizeCols.filter(e=>e.isSelected):[],this.customizeCols.length!==e.length}resetFilter(e){this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.triggers=[...this.mainTriggers],t.forEach(e=>{this.triggers=this.triggers.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}getFilterState(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){const t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}globalFilterFun(e){const t=[...this.globalFilterLogic()],i=this.first+this.pageSize,n=t.filter((e,t)=>t<=i);this.detectChanges.detectChanges(),this.pageWiseTriggers=[...n],this.setPageNumber()}globalFilterLogic(){if(this.mainTriggers.length){const e=Object.keys(this.mainTriggers[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainTriggers.forEach(t=>{let i=!1;e.forEach(e=>{t[e]&&t[e].toString().toLowerCase().includes(this.globalFilterValue.toLowerCase())&&!i&&(this.filterValue.push(t),i=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.triggers=[...this.filterValue],this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=[...this.mainTriggers],this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.triggers=[...this.filterValue],this.calculateNumOfPages(),this.triggers}return[]}getFilterData(e){this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.storeFilterValue=t,this.displayFiltersFor[e[0]]=!1,this.first=0,this.globalFilterValue||(this.triggers=[...this.mainTriggers]),t.forEach(e=>{this.triggers=this.triggers.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}setPageNumber(){if(this.totalNumOfPages=this.triggers.length?this.triggers.length<this.pageSize?1:Math.ceil(this.triggers.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}const e=this.first+this.pageSize,t=this.triggers.filter((t,i)=>i<=e);this.pageWiseTriggers=[...t]}customSort(e){this.sortField=e.field,this.sortOrder=e.order,this.sortMode=e.mode;const t=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=t+1,this.selectedPage.pageIndex=t,this.sortOrderEvent=e;const i=[...this.triggers],n=[...this.sortOrderEvent.multiSortMeta];n.length>=3&&(e.multiSortMeta=e.multiSortMeta.splice(3,1)),1===n.length?i.sort((e,t)=>e[n[0].field]>t[n[0].field]?n[0].order:t[n[0].field]>e[n[0].field]?-n[0].order:0):2===n.length?i.sort((e,t)=>e[n[0].field]>t[n[0].field]?n[0].order:t[n[0].field]>e[n[0].field]&&-n[0].order||e[n[1].field]>t[n[1].field]?n[1].order:t[n[1].field]>e[n[1].field]?-n[1].order:0):3===n.length&&i.sort((e,t)=>e[n[0].field]>t[n[0].field]?n[0].order:t[n[0].field]>e[n[0].field]&&-n[0].order||e[n[1].field]>t[n[1].field]?n[1].order:t[n[1].field]>e[n[1].field]&&-n[1].order||e[n[2].field]>t[n[2].field]?n[2].order:t[n[2].field]>e[n[2].field]?-n[2].order:0);const o=this.first+this.pageSize,r=i.filter((e,t)=>{if(t<=o&&t>=this.first)return e});this.pageWiseTriggers=[...r]}createTriggers(){this.router.navigate(["/dbckangui/test-and-run/add-triggers"])}openExportPdf(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}closeExportPdf(){this.modalRef.hide(),setTimeout(()=>{this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols.forEach(e=>e.pdfCols=!1)},1e3)}exportPdf(){this.pdfData.length&&(this.spinner.show(),setTimeout(()=>{this.getProjectName=this.projectNames.filter(e=>e.idProject===parseInt(sessionStorage.getItem("activeProjectId"),10))[0].projectName,this.getDomainName=this.projectNames.filter(e=>e.domainId===parseInt(sessionStorage.getItem("activeDomainId"),10))[0].domainName;const e=new Date(this.fromDate),t=new Date(this.toDate),i=this.datePipe.transform(e,"yyyy-MM-dd"),n=this.datePipe.transform(t,"yyyy-MM-dd"),o=new Ee.default("l","pt"),r=this.customizeCols.filter(e=>e.pdfCols),s=[];r.forEach(e=>s.push(e.displayValue));const c=[];r.forEach(e=>c.push(e.originalValue));let a=[];a=this.pdfData.map(e=>Object.assign(c.map(t=>e[t])));const l=o.internal.pageSize,d=l.height?l.height:l.getHeight();Le()(o,{columns:s,body:a,didDrawPage:e=>{1==e.pageNumber&&(o.text("Scheduled "+this.appConstant.baseName,o.internal.pageSize.width/2,25,null,"center"),o.setFontSize(10),o.text("Domain-Project Name: "+this.getDomainName+"-"+this.getProjectName,e.settings.margin.left,40),o.text("From Date: "+i,e.settings.margin.left,55),o.text("To Date: "+n,e.settings.margin.left,70)),o.setFontSize(9),o.text("Created by FirstEigen",o.internal.pageSize.width-40,d-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}}}),o.save("Trigger.pdf"),this.disableDownloadBtn=!0,this.pdfCheckboxDisabled=!1,r.forEach(e=>e.pdfCols=!1),this.spinner.hide()},2e3))}pdfColsValue(){this.pdfCheckCount=0,this.customizeCols.filter(e=>!0===e.pdfCols).forEach(e=>{!0===e.pdfCols&&this.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}downloadCSV(){const e=new Bi;e.projectId=sessionStorage.getItem("activeProjectId"),this.triggerService.downloadTriggerCSV("getValidationTriggerDataCSV",e).subscribe(e=>Object(Te.saveAs)(e,this.appConstant.baseName+"Trigger.csv"))}checkValue(e,t){this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount,this.colSpanCount=this.customizeCols.filter(e=>!0===e.isSelected).length,null!=this.storeFilterValue&&this.storeFilterValue.map(i=>{i==e&&0==t&&this.resetFilter(e)})}deleteTriggers(e){this.deleteModal=!0,this.deleteTrigger=e}deleteConfirm(){this.deleteModal=!1,this.triggerService.deleteTrigger("deleteTrigger",{idTrigger:this.deleteTrigger.idTrigger}).subscribe(e=>{this.getTriggerList()})}onPageNumChange(e){this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);const t=this.getSortedData(),i=this.first+this.pageSize,n=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.pageWiseTriggers=[...n]}getSortedData(){const e=[...this.triggers];return this.sortOrderEvent?1===this.sortOrderEvent.order?(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?-1:0),e):(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?-1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?1:0),e):e}onPageChange(e){this.first=e.first;const t=this.getSortedData(),i=this.first+this.pageSize,n=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseTriggers=[...n]}deleteSchedulerEvent(){this.getTriggerList()}filterColumnNameWithHighlightName(e){return!(Object.keys(this.columnFilter).findIndex(t=>t===e)<0)}}return e.\u0275fac=function(t){return new(t||e)(h.dc($e.a),h.dc(Ze.c),h.dc(h.h),h.dc(A.d),h.dc(r.i),h.dc(ii),h.dc(n.d),h.dc(u.a),h.dc(f.a))},e.\u0275cmp=h.Xb({type:e,selectors:[["app-view-triggers"]],viewQuery:function(e,t){if(1&e&&h.gd(hn,1),2&e){let e;h.Nc(e=h.rc())&&(t.table=e.first)}},decls:53,vars:50,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","text-right"],["pButton","","type","button","label","Add",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn",3,"click"],[1,"row","p-field","br-top"],[1,"col-sm-12","col-md-3","pad-left-0"],["for","from_date",1,"form-label"],["yearRange","2000:2030","inputId","dateformat","dateFormat","yy-mm-dd","appendTo","body",3,"styleClass","maxDate","ngModel","showIcon","monthNavigator","yearNavigator","readonlyInput","ngModelChange"],[1,"col-sm-12","col-md-3"],["yearRange","2000:2030","inputId","dateformat","dateFormat","yy-mm-dd","appendTo","body",3,"styleClass","minDate","maxDate","ngModel","showIcon","monthNavigator","yearNavigator","readonlyInput","ngModelChange"],[1,"col-sm-12","col-md-3","pd-top-30"],["pButton","","type","button","label","Show",1,"button","w-button","logoutButton","submit-btn",3,"click"],[1,"col-md-3","pd-0","d-flex","align-items-end","justify-content-end"],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["id","view_data_temp",1,"row","p-field"],[1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","responsiveLayout","scroll","sortMode","multiple",3,"value","responsive","rowHover","pageLinks","filterDelay","resetPageOnSort","rows","first","sortField","sortOrder","customSort","multiSortMeta","firstChange","sortFunction"],["myTab",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],["template",""],["moreTrigger",""],["exportPdfTemplate",""],[3,"mainTriggers","deleteScheduler"],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"float-right","margin-top-gfilter",3,"click"],["src","assets/images/Vector.png","width","25px"],[1,"header"],[4,"ngFor","ngForOf"],[1,"actionbtn"],["class","min_width_50",4,"ngIf"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"min_width_50"],[1,"row-ht"],[1,"actions",3,"click"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],["class","more-display min_width_50",3,"click",4,"ngIf"],["class","text-center word_break_word_all",3,"ngClass","title",4,"ngIf"],[1,"text-center","word_break_word_all",3,"ngClass","title"],[1,"more-display","min_width_50",3,"click"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","virtualScroll","itemSize","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],[1,"modal-body"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-8"],["class","color-code",4,"ngIf"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname","value","customizeCols[col.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"],[1,"modal-header"],[1,"row","padding-btm1"],[3,"click"],[1,"cursor-pointer"],["src","assets/images/close.png",1,"margin-l","cursor-pointer"],["class","col-sm-6 padding-btm3",4,"ngIf"],[1,"col-sm-6","padding-btm3"],[1,"field-dis-val"],[1,"modal-title"],[1,"modal-body","pdf-modal"],[1,"col-lg-4"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"]],template:function(e,t){if(1&e){const e=h.kc();h.jc(0,"div",0),h.jc(1,"div",1),h.jc(2,"div",2),h.jc(3,"p",3),h.bd(4),h.ic(),h.ic(),h.jc(5,"div",4),h.jc(6,"p",3),h.jc(7,"button",5),h.qc("click",function(){return t.createTriggers()}),h.ic(),h.ic(),h.ic(),h.ic(),h.jc(8,"div",6),h.jc(9,"div",7),h.jc(10,"label",8),h.bd(11,"From Date"),h.ic(),h.ec(12,"br"),h.jc(13,"p-calendar",9),h.qc("ngModelChange",function(e){return t.fromDate=e}),h.ic(),h.ic(),h.jc(14,"div",10),h.jc(15,"label",8),h.bd(16,"To Date"),h.ic(),h.ec(17,"br"),h.jc(18,"p-calendar",11),h.qc("ngModelChange",function(e){return t.toDate=e}),h.ic(),h.ic(),h.jc(19,"div",12),h.jc(20,"button",13),h.qc("click",function(){return t.getTriggerList()}),h.ic(),h.ic(),h.jc(21,"div",14),h.jc(22,"a"),h.jc(23,"img",15),h.qc("click",function(){return t.downloadCSV()}),h.ic(),h.ic(),h.jc(24,"a"),h.jc(25,"img",16),h.qc("click",function(){h.Rc(e);const i=h.Oc(51);return t.openExportPdf(i)}),h.ic(),h.ic(),h.ic(),h.ic(),h.jc(26,"div",17),h.jc(27,"div",18),h.jc(28,"p-table",19,20),h.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),h.Zc(30,un,8,6,"ng-template",21),h.Zc(31,Cn,5,2,"ng-template",22),h.Zc(32,On,7,2,"ng-template",23),h.ic(),h.ic(),h.Zc(33,Sn,2,0,"div",24),h.jc(34,"div",25),h.Zc(35,xn,3,4,"div",26),h.Zc(36,yn,3,5,"div",27),h.ic(),h.ic(),h.ic(),h.jc(37,"p-dialog",28),h.qc("visibleChange",function(e){return t.deleteModal=e}),h.Zc(38,_n,3,0,"ng-template",22),h.jc(39,"p"),h.bd(40,"Are you sure you want to delete trigger "),h.jc(41,"b"),h.bd(42),h.ic(),h.bd(43,"?"),h.ic(),h.jc(44,"p-footer"),h.jc(45,"button",29),h.qc("click",function(){return t.deleteConfirm()}),h.ic(),h.ic(),h.ic(),h.Zc(46,Fn,12,2,"ng-template",null,30,h.ad),h.Zc(48,Vn,11,1,"ng-template",null,31,h.ad),h.Zc(50,zn,17,3,"ng-template",null,32,h.ad),h.jc(52,"app-schema-trigger-table",33),h.qc("deleteScheduler",function(){return t.deleteSchedulerEvent()}),h.ic()}2&e&&(h.Nb(4),h.dd(" Scheduled ",t.appConstant.baseName," "),h.Nb(9),h.Bc("styleClass","form-field")("maxDate",t.toDate)("ngModel",t.fromDate)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("readonlyInput",!0),h.Nb(5),h.Bc("styleClass","form-field")("minDate",t.fromDate)("maxDate",t.maxDate)("ngModel",t.toDate)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("readonlyInput",!0),h.Nb(4),h.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseTriggers&&t.pageWiseTriggers.length?"":"disabled-opa",""),h.Nb(2),h.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseTriggers&&t.pageWiseTriggers.length?"":"disabled-opa",""),h.Nb(4),h.Vc(h.Ec(48,Gn)),h.Bc("value",t.pageWiseTriggers)("responsive",!0)("rowHover",!0)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("rows",10)("first",t.first)("sortField","idTrigger")("sortOrder",1)("customSort",!0)("multiSortMeta",t.multiSortMeta),h.Nb(5),h.Bc("ngIf",!t.pageWiseTriggers.length&&t.noRecordFound),h.Nb(2),h.Bc("ngIf",t.pageWiseTriggers.length),h.Nb(1),h.Bc("ngIf",t.pageWiseTriggers.length),h.Nb(1),h.Vc(h.Ec(49,An)),h.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),h.Nb(5),h.dd("",t.deleteTrigger.validationCheck," "),h.Nb(10),h.Bc("mainTriggers",t.schemaTriggerData))},directives:[w.b,C.a,o.o,o.r,q.f,A.i,n.n,E.a,A.e,gn,o.d,b.a,n.m,q.d,q.e,Z.a,n.l,l.a,a.a,v.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.deltaStatus[_ngcontent-%COMP%]{border-radius:3px;color:#eef1f5;font-size:10px;padding:1.5px}.approved[_ngcontent-%COMP%]{background-color:#56b608}.revire-waiting[_ngcontent-%COMP%]{background-color:red}.rejected[_ngcontent-%COMP%]{background-color:#e72b56;border-radius:3px;color:#eef1f5}.iconColorOnFailed[_ngcontent-%COMP%]{color:#e72b56}.imgOnSuccess[_ngcontent-%COMP%]{color:#56b608}.imgSize[_ngcontent-%COMP%]{width:14px;height:auto}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.pr-28[_ngcontent-%COMP%]{padding-right:22px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}.pi-sort-alt[_ngcontent-%COMP%]{opacity:.3}.pi-sort-alt[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:not-allowed}.min_width_50[_ngcontent-%COMP%]{min-width:50px!important;width:50px!important}"]}),e})(),data:{breadcrumb:"Triggers"}},{path:"add-triggers",component:Fi,data:{breadcrumb:"Add Triggers"}},{path:"view-scheduler",component:Kt,data:{breadcrumb:"Schedule"}},{path:"add-scheduler",component:z,data:{breadcrumb:"Add Schedule"}},{path:"edit-scheduler",component:z,data:{breadcrumb:"Edit Schedule"}},{path:"view-app-group",component:St,data:{breadcrumb:"Job Groups"}},{path:"edit-app-group",component:je,data:{breadcrumb:"Edit Job Group"}},{path:"add-app-group",component:je,data:{breadcrumb:"Add Job Group"}}]}];let Ln=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.bc({type:e}),e.\u0275inj=h.ac({imports:[[r.l.forChild(Rn)],r.l]}),e})(),En=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.bc({type:e}),e.\u0275inj=h.ac({imports:[[n.b,Ln,d.a,s.b,p.a,c.a,g.a,o.j,l.b,a.b,r.l]]}),e})()},"6G/8":function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i("3Pt+"),o=i("fXoL");let r=(()=>{class e{constructor(e){this.formBuilder=e}getFormControls(e){const t=[];return e.required&&t.push(n.w.required),e.minLength&&t.push(n.w.minLength(e.minLength)),e.maxLength&&t.push(n.w.minLength(e.maxLength)),e.pattern&&t.push(n.w.pattern(e.pattern)),this.formBuilder.control(e.value,t)}formInputError(e,t){const i=e.get(t);if(i){const n=i.errors;for(const o in n){if(n[o]==n.pattern)return"";switch(o){case"required":return"This field is required";case"minlength":return`Minimum ${i.errors.minlength.requiredLength} characters allowed.`;case"maxlength":return`Maximum  ${i.errors.maxlength.requiredLength} characters allowed.`;case"email":return"Please enter valid email address";case"checkbox":return"checkbox is required";default:return e.controls[t].errors[o]}}return""}return""}getFormGroup(e){return this.formBuilder.group(e)}getControls(e,t){return e.get(t)}}return e.\u0275fac=function(t){return new(t||e)(o.nc(n.e))},e.\u0275prov=o.Zb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},FcN9:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i("fXoL"),o=i("tPnb"),r=i("Nmef"),s=i("arFO"),c=i("3Pt+"),a=i("jIHw");let l=(()=>{class e{constructor(e,t){this.runService=e,this.homeServiceService=t,this.selectedConnection="",this.selectedConnectionList=[],this.projectDomains=[],this.domainId=sessionStorage.getItem("activeDomainId")+"_"+sessionStorage.getItem("activeProjectId")}ngOnInit(){this.projectDomains=this.homeServiceService.getProjectList(),this.projectDomains.map(e=>{e.domainProject=e.domainName+"-"+e.projectName,e.domainAndProjectId=e.domainId+"_"+e.idProject,e.domainAndProjectName=e.domainName+"-"+e.projectName}),this.onChange(sessionStorage.getItem("activeDomainId")+"_"+sessionStorage.getItem("activeProjectId"))}submit(){this.runService.getRunConnection({idDataSchema:this.selectedConnection}).subscribe(e=>{this.selectedConnection="",this.onChange(sessionStorage.getItem("activeDomainId")+"_"+sessionStorage.getItem("activeProjectId"))})}onChange(e){this.selectedConnectionList=[];const t={projectId:e.split("_")[1]};sessionStorage.setItem("activeProjectId",e.split("_")[1]),this.selectedConnection="",this.runService.getConnectionNameList(t).subscribe(e=>{e.result.map(e=>{this.selectedConnectionList.push({name:e,idDataSchema:e.split("-")[0]})})})}}return e.\u0275fac=function(t){return new(t||e)(n.dc(o.a),n.dc(r.a))},e.\u0275cmp=n.Xb({type:e,selectors:[["app-run-connection"]],decls:20,vars:7,consts:[[1,"create-conn-main"],[1,"main-container"],[1,"row"],[1,"col-sm-12","col-md-6","mr-top"],["for","validationCheckType",1,"form-label"],[1,"req-field"],["optionLabel","name","optionValue","idDataSchema","placeholder","Select Data Source",3,"styleClass","ngModel","virtualScroll","itemSize","options","filter","ngModelChange"],[1,"note","row"],[1,"col-sm-12","col-md-6","mr-top","text-left"],[1,"row","mr-top"],[1,"col-sm-12","col-md-12"],["pButton","","type","button","label","Submit",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"]],template:function(e,t){1&e&&(n.jc(0,"div",0),n.jc(1,"div",1),n.jc(2,"div",2),n.jc(3,"div",3),n.jc(4,"label",4),n.bd(5,"Data Source"),n.jc(6,"sup",5),n.bd(7,"*"),n.ic(),n.ic(),n.ec(8,"br"),n.jc(9,"p-dropdown",6),n.qc("ngModelChange",function(e){return t.selectedConnection=e}),n.ic(),n.ic(),n.ic(),n.jc(10,"div",7),n.jc(11,"div",8),n.jc(12,"p"),n.bd(13,"Note: Fields marked with "),n.jc(14,"b"),n.bd(15,'"*"'),n.ic(),n.bd(16," are required. "),n.ic(),n.ic(),n.ic(),n.jc(17,"div",9),n.jc(18,"div",10),n.jc(19,"button",11),n.qc("click",function(){return t.submit()}),n.ic(),n.ic(),n.ic(),n.ic(),n.ic()),2&e&&(n.Nb(9),n.Bc("styleClass","form-field")("ngModel",t.selectedConnection)("virtualScroll",!0)("itemSize",30)("options",t.selectedConnectionList)("filter",!0),n.Nb(10),n.Bc("disabled",""===t.selectedConnection))},directives:[s.a,c.o,c.r,a.b],styles:["[_ngcontent-%COMP%]::-moz-placeholder{color:gray;opacity:.8}[_ngcontent-%COMP%]::placeholder{color:gray;opacity:.8}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.note[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#eb5454;padding-top:15px}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:15px;background-color:#fff;font-family:Open Sans!important}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]     .p-inputtext{font-size:14px!important}.p-field[_ngcontent-%COMP%]{margin:0 10px}.p-field-form[_ngcontent-%COMP%]{padding-right:0}.diabled-ip[_ngcontent-%COMP%]{opacity:.7;box-shadow:none!important;cursor:inherit}.diabled-ip[_ngcontent-%COMP%]:hover{border:1px solid #ced4da;cursor:not-allowed!important}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .p-multiselect{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .multiselect-custom .p-multiselect-label{padding-top:.25rem!important;padding-bottom:.25rem!important}[_nghost-%COMP%]     .multiselect-custom .validationType-item-value{padding:.1rem .25rem!important;border-radius:3px!important;display:inline-flex!important;margin-right:.5rem!important;background:linear-gradient(180deg,#ff7526,#fb9a64)!important;color:#fff!important}[_nghost-%COMP%]     .multiselect-custom .validationType-placeholder{font-family:Open Sans!important;font-size:14px!important;font-weight:400;padding:.25rem}@media screen and (max-width:640px){[_nghost-%COMP%]     .p-multiselect{width:100%!important}}[_nghost-%COMP%]     .p-disabled:hover{cursor:not-allowed!important}.optional-fields[_ngcontent-%COMP%]{color:#789}.form-checkbox[_ngcontent-%COMP%]{padding-left:10px;font-size:16px;padding-top:8px}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}"]}),e})()},dvQU:function(e,t,i){"use strict";i.d(t,"a",function(){return g});var n=i("3Pt+"),o=i("fXoL"),r=i("tPnb"),s=i("Nmef"),c=i("arFO"),a=i("ofXK"),l=i("jIHw");function d(e,t){1&e&&(o.jc(0,"span",13),o.bd(1,"Please Choose "),o.jc(2,"b"),o.bd(3,"App Group Name"),o.ic(),o.ic())}function p(e,t){if(1&e&&(o.jc(0,"p",13),o.Zc(1,d,4,0,"span",7),o.ic()),2&e){const e=o.uc();o.Nb(1),o.Bc("ngIf",e.runAppGroupForm.controls.idAppGroup.errors.required)}}let g=(()=>{class e{constructor(e,t,i){this.runService=e,this.homeServiceService=t,this.fb=i,this.projectDomains=[],this.domainId=sessionStorage.getItem("activeDomainId")+"_"+sessionStorage.getItem("activeProjectId")}ngOnInit(){this.projectDomains=this.homeServiceService.getProjectList(),this.projectDomains.map(e=>{e.domainProject=e.domainName+"-"+e.projectName,e.domainAndProjectId=e.domainId+"_"+e.idProject,e.domainAndProjectName=e.domainName+"-"+e.projectName}),this.getFormValue(),this.getAppGroupNameList(),this.onChangeDomProj()}getFormValue(){this.runAppGroupForm=this.fb.group({domProj:new n.f(this.domainId),idAppGroup:new n.f("",n.w.compose([n.w.required]))})}onChangeDomProj(){const e=this.runAppGroupForm.controls.domProj.value;this.domainId=e.domainId,this.projectId=e.idProject}getAppGroupNameList(){this.runService.getAppGroupNameList("getAppGroupNames").subscribe(e=>{this.appGroupNameList=[],e.result.forEach((e,t)=>{const i=e.split("-");this.appGroupNameList.push({id:i[0],value:i[1]})})})}markFormAsTouched(){this.runAppGroupForm.updateValueAndValidity(),Object.keys(this.runAppGroupForm.controls).forEach(e=>{this.runAppGroupForm.controls[e].markAsTouched(),this.runAppGroupForm.controls[e].markAsDirty()})}triggerAppGroup(){this.runAppGroupForm.valid?this.runService.triggerRunConnection({appGroupId:this.runAppGroupForm.value.idAppGroup}).subscribe(e=>{this.selectedProjId=this.projectDomains[0].idProject,this.getFormValue()}):this.markFormAsTouched()}}return e.\u0275fac=function(t){return new(t||e)(o.dc(r.a),o.dc(s.a),o.dc(n.e))},e.\u0275cmp=o.Xb({type:e,selectors:[["app-run-app-group"]],decls:21,vars:7,consts:[[1,"create-conn-main",3,"formGroup"],[1,"main-container"],[1,"row"],[1,"col-sm-12","col-md-6","mr-top"],["for","validationCheckType",1,"form-label"],[1,"req-field"],["optionLabel","value","formControlName","idAppGroup","optionValue","id","placeholder","Select App Group",3,"styleClass","options","virtualScroll","itemSize"],["class","err-msg",4,"ngIf"],[1,"note","row"],[1,"col-sm-12","col-md-6","mr-top","text-left"],[1,"row","mr-top"],[1,"col-sm-12","col-md-12"],["pButton","","type","button","label","Submit",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],[1,"err-msg"]],template:function(e,t){1&e&&(o.jc(0,"div",0),o.jc(1,"div",1),o.jc(2,"div",2),o.jc(3,"div",3),o.jc(4,"label",4),o.bd(5,"App Group"),o.jc(6,"sup",5),o.bd(7,"*"),o.ic(),o.ic(),o.ec(8,"br"),o.ec(9,"p-dropdown",6),o.Zc(10,p,2,1,"p",7),o.ic(),o.ic(),o.jc(11,"div",8),o.jc(12,"div",9),o.jc(13,"p"),o.bd(14,"Note: Fields marked with "),o.jc(15,"b"),o.bd(16,'"*"'),o.ic(),o.bd(17," are required. "),o.ic(),o.ic(),o.ic(),o.jc(18,"div",10),o.jc(19,"div",11),o.jc(20,"button",12),o.qc("click",function(){return t.triggerAppGroup()}),o.ic(),o.ic(),o.ic(),o.ic(),o.ic()),2&e&&(o.Bc("formGroup",t.runAppGroupForm),o.Nb(9),o.Bc("styleClass","form-field")("options",t.appGroupNameList)("virtualScroll",!0)("itemSize",30),o.Nb(1),o.Bc("ngIf",t.runAppGroupForm.controls.idAppGroup.invalid&&!t.runAppGroupForm.controls.idAppGroup.pristine),o.Nb(10),o.Bc("disabled",t.runAppGroupForm.invalid))},directives:[n.p,n.i,c.a,n.o,n.g,a.n,l.b],styles:["[_ngcontent-%COMP%]::-moz-placeholder{color:gray;opacity:.8}[_ngcontent-%COMP%]::placeholder{color:gray;opacity:.8}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.form-checkbox-alation[_ngcontent-%COMP%]{padding-top:22px;padding-left:10px}.add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.note[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#eb5454;padding-top:15px}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:15px;background-color:#fff;font-family:Open Sans!important}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]     .p-inputtext{font-size:13px}.p-field[_ngcontent-%COMP%]{margin:0 10px}.p-field-form[_ngcontent-%COMP%]{padding-right:0}.diabled-ip[_ngcontent-%COMP%]{opacity:.7;box-shadow:none!important;cursor:inherit}.diabled-ip[_ngcontent-%COMP%]:hover{border:1px solid #ced4da;cursor:not-allowed!important}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .p-disabled:hover{cursor:not-allowed!important}.optional-fields[_ngcontent-%COMP%]{color:#789}.form-checkbox[_ngcontent-%COMP%]{padding-left:10px;font-size:16px;padding-top:8px}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}"]}),e})()},h9v1:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i("fXoL"),o=i("ofXK");function r(e,t){if(1&e&&(n.jc(0,"div",2),n.jc(1,"div",4),n.ec(2,"div",5),n.jc(3,"span",6),n.bd(4),n.ic(),n.ic(),n.ic()),2&e){const e=n.uc();n.Nb(1),n.Bc("ngClass",e.slimer?"progressHt_slim":"progressHt"),n.Nb(1),n.Bc("ngClass",e.progressBarClass),n.Nb(1),n.Bc("ngClass",e.slimer?"colorCls_slim":"colorCls"),n.Nb(1),n.dd(" ",e.value,"% ")}}let s=(()=>{class e{constructor(){this.success="",this.value=0,this.appName="",this.progressBarShow=!1,this.slimer=!1,this.progressBarClass="progress-bar progressBarColor progressBarWidth0"}ngOnInit(){}ngOnChanges(){this.progressBarClass="progress-bar progressBarColor progressBarWidth"+this.value}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xb({type:e,selectors:[["app-progress-bar"]],inputs:{success:"success",value:"value",appName:"appName",progressBarShow:"progressBarShow",slimer:"slimer"},features:[n.Lb],decls:5,vars:3,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-12","col-md-12","mr-top"],["class","col-sm-12 col-md-12 mr-top",4,"ngIf"],[1,"progress",3,"ngClass"],["role","progressbar","aria-valuenow","30","aria-valuemin","0","aria-valuemax","100",3,"ngClass"],[3,"ngClass"]],template:function(e,t){1&e&&(n.jc(0,"div",0),n.jc(1,"div",1),n.jc(2,"div",2),n.bd(3),n.ic(),n.Zc(4,r,5,4,"div",3),n.ic(),n.ic()),2&e&&(n.Nb(3),n.ed(" ",t.appName,"",t.success," "),n.Nb(1),n.Bc("ngIf",t.progressBarShow))},directives:[o.n,o.l],styles:[".colorCls[_ngcontent-%COMP%]{margin-top:9px;font-size:14.5px}.colorCls[_ngcontent-%COMP%], .colorCls_slim[_ngcontent-%COMP%]{color:#fff;text-align:center;position:absolute;z-index:1;left:48%;font-weight:700;font-family:system-ui}.colorCls_slim[_ngcontent-%COMP%]{margin-top:7px;font-size:11px}.progressBar[_ngcontent-%COMP%]{width:100%;padding:2%}.progressHt[_ngcontent-%COMP%]{height:20px;margin-top:1%}.progressHt[_ngcontent-%COMP%], .progressHt_slim[_ngcontent-%COMP%]{border-radius:3px;background-color:#cdcdcd!important}.progressHt_slim[_ngcontent-%COMP%]{height:14px;margin-top:2%}.progressBarColor[_ngcontent-%COMP%]{background:#001f8c!important}.progressBarWidth[_ngcontent-%COMP%]{width:100%}.progressBarWidth0[_ngcontent-%COMP%]{width:0}.progressBarWidth1[_ngcontent-%COMP%]{width:1%}.progressBarWidth2[_ngcontent-%COMP%]{width:2%}.progressBarWidth3[_ngcontent-%COMP%]{width:3%}.progressBarWidth4[_ngcontent-%COMP%]{width:4%}.progressBarWidth5[_ngcontent-%COMP%]{width:5%}.progressBarWidth6[_ngcontent-%COMP%]{width:6%}.progressBarWidth7[_ngcontent-%COMP%]{width:7%}.progressBarWidth8[_ngcontent-%COMP%]{width:8%}.progressBarWidth9[_ngcontent-%COMP%]{width:9%}.progressBarWidth10[_ngcontent-%COMP%]{width:10%}.progressBarWidth11[_ngcontent-%COMP%]{width:11%}.progressBarWidth12[_ngcontent-%COMP%]{width:12%}.progressBarWidth13[_ngcontent-%COMP%]{width:13%}.progressBarWidth14[_ngcontent-%COMP%]{width:14%}.progressBarWidth15[_ngcontent-%COMP%]{width:15%}.progressBarWidth16[_ngcontent-%COMP%]{width:16%}.progressBarWidth17[_ngcontent-%COMP%]{width:17%}.progressBarWidth18[_ngcontent-%COMP%]{width:18%}.progressBarWidth19[_ngcontent-%COMP%]{width:19%}.progressBarWidth20[_ngcontent-%COMP%]{width:20%}.progressBarWidth21[_ngcontent-%COMP%]{width:21%}.progressBarWidth22[_ngcontent-%COMP%]{width:22%}.progressBarWidth23[_ngcontent-%COMP%]{width:23%}.progressBarWidth24[_ngcontent-%COMP%]{width:24%}.progressBarWidth25[_ngcontent-%COMP%]{width:25%}.progressBarWidth26[_ngcontent-%COMP%]{width:26%}.progressBarWidth27[_ngcontent-%COMP%]{width:27%}.progressBarWidth28[_ngcontent-%COMP%]{width:28%}.progressBarWidth29[_ngcontent-%COMP%]{width:29%}.progressBarWidth30[_ngcontent-%COMP%]{width:30%}.progressBarWidth31[_ngcontent-%COMP%]{width:31%}.progressBarWidth32[_ngcontent-%COMP%]{width:32%}.progressBarWidth33[_ngcontent-%COMP%]{width:33%}.progressBarWidth34[_ngcontent-%COMP%]{width:34%}.progressBarWidth35[_ngcontent-%COMP%]{width:35%}.progressBarWidth36[_ngcontent-%COMP%]{width:36%}.progressBarWidth37[_ngcontent-%COMP%]{width:37%}.progressBarWidth38[_ngcontent-%COMP%]{width:38%}.progressBarWidth39[_ngcontent-%COMP%]{width:39%}.progressBarWidth40[_ngcontent-%COMP%]{width:40%}.progressBarWidth41[_ngcontent-%COMP%]{width:41%}.progressBarWidth42[_ngcontent-%COMP%]{width:42%}.progressBarWidth43[_ngcontent-%COMP%]{width:43%}.progressBarWidth44[_ngcontent-%COMP%]{width:44%}.progressBarWidth45[_ngcontent-%COMP%]{width:45%}.progressBarWidth46[_ngcontent-%COMP%]{width:46%}.progressBarWidth47[_ngcontent-%COMP%]{width:47%}.progressBarWidth48[_ngcontent-%COMP%]{width:48%}.progressBarWidth49[_ngcontent-%COMP%]{width:49%}.progressBarWidth50[_ngcontent-%COMP%]{width:50%}.progressBarWidth51[_ngcontent-%COMP%]{width:51%}.progressBarWidth52[_ngcontent-%COMP%]{width:42%}.progressBarWidth53[_ngcontent-%COMP%]{width:53%}.progressBarWidth54[_ngcontent-%COMP%]{width:54%}.progressBarWidth55[_ngcontent-%COMP%]{width:55%}.progressBarWidth56[_ngcontent-%COMP%]{width:56%}.progressBarWidth57[_ngcontent-%COMP%]{width:57%}.progressBarWidth58[_ngcontent-%COMP%]{width:58%}.progressBarWidth59[_ngcontent-%COMP%]{width:59%}.progressBarWidth60[_ngcontent-%COMP%]{width:60%}.progressBarWidth61[_ngcontent-%COMP%]{width:61%}.progressBarWidth62[_ngcontent-%COMP%]{width:62%}.progressBarWidth63[_ngcontent-%COMP%]{width:63%}.progressBarWidth64[_ngcontent-%COMP%]{width:64%}.progressBarWidth65[_ngcontent-%COMP%]{width:65%}.progressBarWidth66[_ngcontent-%COMP%]{width:66%}.progressBarWidth67[_ngcontent-%COMP%]{width:67%}.progressBarWidth68[_ngcontent-%COMP%]{width:68%}.progressBarWidth69[_ngcontent-%COMP%]{width:69%}.progressBarWidth70[_ngcontent-%COMP%]{width:70%}.progressBarWidth71[_ngcontent-%COMP%]{width:71%}.progressBarWidth72[_ngcontent-%COMP%]{width:72%}.progressBarWidth73[_ngcontent-%COMP%]{width:73%}.progressBarWidth74[_ngcontent-%COMP%]{width:74%}.progressBarWidth75[_ngcontent-%COMP%]{width:75%}.progressBarWidth76[_ngcontent-%COMP%]{width:76%}.progressBarWidth77[_ngcontent-%COMP%]{width:77%}.progressBarWidth78[_ngcontent-%COMP%]{width:78%}.progressBarWidth79[_ngcontent-%COMP%]{width:79%}.progressBarWidth80[_ngcontent-%COMP%]{width:80%}.progressBarWidth81[_ngcontent-%COMP%]{width:81%}.progressBarWidth82[_ngcontent-%COMP%]{width:82%}.progressBarWidth83[_ngcontent-%COMP%]{width:83%}.progressBarWidth84[_ngcontent-%COMP%]{width:84%}.progressBarWidth85[_ngcontent-%COMP%]{width:85%}.progressBarWidth86[_ngcontent-%COMP%]{width:86%}.progressBarWidth87[_ngcontent-%COMP%]{width:87%}.progressBarWidth88[_ngcontent-%COMP%]{width:88%}.progressBarWidth89[_ngcontent-%COMP%]{width:89%}.progressBarWidth90[_ngcontent-%COMP%]{width:90%}.progressBarWidth91[_ngcontent-%COMP%]{width:91%}.progressBarWidth92[_ngcontent-%COMP%]{width:92%}.progressBarWidth93[_ngcontent-%COMP%]{width:93%}.progressBarWidth94[_ngcontent-%COMP%]{width:94%}.progressBarWidth95[_ngcontent-%COMP%]{width:95%}.progressBarWidth96[_ngcontent-%COMP%]{width:96%}.progressBarWidth97[_ngcontent-%COMP%]{width:97%}.progressBarWidth98[_ngcontent-%COMP%]{width:98%}.progressBarWidth99[_ngcontent-%COMP%]{width:99%}.progressBarWidth100[_ngcontent-%COMP%]{width:100%}"]}),e})()},tPnb:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i("fXoL"),o=i("bUwk"),r=i("acRR");let s=(()=>{class e{constructor(e,t){this.http=e,this.messages=t}getValCheckNameList(e,t=new Object){return this.http.post(e,t)}getValidationCheckNameList(e,t=new Object){return this.http.postWithoutSpinner(e,t)}getAppGroupNameList(e){return this.http.get(e)}validationApprovedList(e){return this.http.get(e)}schedulerList(e){return this.http.getCallWithoutSpinner(e)}deleteAppGroup(e,t){return this.http.post(e,t)}deleteAppGroupMapping(e,t){return this.http.post(e,t)}getAppGroupList(e){return this.http.get(e)}downloadCSV(e){return this.http.getforCSV(e)}getRunAndTask(e,t=new Object){return this.http.post(e,t)}updateAppGroup(e,t=new Object){return this.http.post(e,t)}addAppGroup(e,t=new Object){return this.http.post(e,t)}getStatusPoll(e,t=new Object){return this.http.postWithoutSpinner(e,t)}getRunningJobsView(e,t=new Object){return this.http.post(e,t)}getAppGroupAssociatedValidations(e,t=new Object){return this.http.post(e,t)}downloadCSVJobs(e,t){return this.http.postforCSV(e,t)}clearAllQueuedJobs(e,t=new Object){return this.http.post(e,t)}deleteJobFromQueue(e,t=new Object){return this.http.postWithToasty(e,t)}subSchemaJobList(){return{result:[{taskType:"Template",applicationId:4838,applicationName:"queue_process_right_customer",processId:0,deployMode:null,sparkAppId:null,startTime:null,endTime:null,duration:0,jobDurationStatus:null,fullDuration:null,status:null,uniqueId:"Templ_4838_1660723942742",projectId:null,projectName:null,triggeredByHost:null},{taskType:"Template",applicationId:4839,applicationName:"queue_process_OmniPH",processId:0,deployMode:null,sparkAppId:null,startTime:null,endTime:null,duration:0,jobDurationStatus:null,fullDuration:null,status:null,uniqueId:"Templ_4839_1660723942747",projectId:null,projectName:null,triggeredByHost:null}],message:"Records found successfully",status:"success"}}getSchemaJobAssociatedTemplates(e,t=new Object){return this.http.post(e,t)}stopRunningJob(e,t=new Object){return this.http.postWithToasty(e,t)}getAppGroupById(e,t=new Object){return this.http.post(e,t)}getConnectionNameList(e){return this.http.post("getSchemaNames",e)}getRunConnection(e=new Object){return this.http.postWithToasty("triggerDataSchema",e)}triggerRunConnection(e=new Object){return this.http.postWithToasty("triggerAppGroup",e)}getSchedulersList(e){return this.http.post("viewSchedules",e)}submitScheduler(e){return this.http.postWithToasty("scheduleTask",e)}updatetScheduler(e){return this.http.postWithToasty("editScheduleTask",e)}deleteScheduler(e){return this.http.postWithToasty("deleteSchedule",e)}downloadSchedulerCSV(e=new Object){return this.http.postforCSV("getScheduleCSV",e)}getSchedularById(e){return this.http.post("editSchedule",e)}}return e.\u0275fac=function(t){return new(t||e)(n.nc(o.a),n.nc(r.a))},e.\u0275prov=n.Zb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"z4+R":function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i("fXoL"),o=i("bUwk"),r=i("acRR");let s=(()=>{class e{constructor(e,t){this.http=e,this.messages=t}getValidationCheckList(e,t=new Object){return this.http.post(e,t)}updateValidationJobSize(e,t=new Object){return this.http.postWithoutToasty(e,t)}validationDropdownData(e,t=new Object){return this.http.post(e,t)}connectionDropdownData(e,t=new Object){return this.http.post(e,t)}getConnectionListFM(e,t=new Object){return this.http.post(e,t)}validationDropdownDatawithoutSpinner(e,t=new Object){return this.http.postWithoutSpinner(e,t)}duplicateValidationCheckName(e,t=new Object){return this.http.postWithoutToastyWithoutSpinner(e,t)}createValidationCheck(e,t=new Object){return this.http.postWithoutSpinner(e,t)}editDBKFileMonitoringRule(e,t=new Object){return this.http.postWithToasty(e,t)}saveDBKFileMonitoringRule(e,t=new Object){return this.http.postWithToasty(e,t)}updateSchemaMatching(e,t=new Object){return this.http.postWithToasty(e,t)}updateValidationCheck(e,t=new Object){return this.http.postWithToasty(e,t)}downloadCSV(e,t=new Object){return this.http.postforCSV(e,t)}copyViewCheck(e,t=new Object){return this.http.post(e,t)}editVal(e,t=new Object){return this.http.post(e,t)}submitFileMonitoringCSV(e){return this.http.postWithMultipart("submitFileMonitoringCSV",e)}deleteFileMonitorRuleById(e,t=new Object){return this.http.postWithToasty(e,t)}changeValStatus(e,t=new Object){return this.http.post(e,t)}saveDataIntoListDMCriteria(e,t=new Object){return this.http.postWithToasty(e,t)}changeDataColumnWithoutSpinner(e,t=new Object){return this.http.postWithoutSpinner(e,t)}changeDataColumn(e,t=new Object){return this.http.post(e,t)}mainPrimaryMatchingHandler(e,t=new Object){return this.http.post(e,t)}deleteKeyMatchRule(e,t=new Object){return this.http.post(e,t)}}return e.\u0275fac=function(t){return new(t||e)(n.nc(o.a),n.nc(r.a))},e.\u0275prov=n.Zb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);