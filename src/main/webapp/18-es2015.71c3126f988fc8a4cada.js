(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"0DOw":function(e,t,i){"use strict";i.d(t,"a",function(){return o}),i.d(t,"b",function(){return l});class o{}class l{}},"7zwA":function(e,t,i){"use strict";i.r(t),i.d(t,"GlobalRuleModule",function(){return Vi});var o=i("ofXK"),l=i("3Pt+"),n=i("7zfz"),a=i("Nf9I"),s=i("/RsI"),r=i("6t4m"),c=i("VEwP"),d=i("ThbA"),u=i("tyNb"),g=i("0DOw"),p=i("yLa2"),h=i("fXoL"),m=i("ey9i"),f=i("K3ix"),b=i("JqCM"),C=i("Nmef"),y=i("J4N/"),v=i("7kUa"),w=i("arFO"),F=i("jIHw"),O=i("h9v1");function N(e,t){1&e&&(h.jc(0,"span",26),h.bd(1," Please enter "),h.jc(2,"b"),h.bd(3,"Filter Name"),h.ic(),h.ic())}function P(e,t){1&e&&(h.jc(0,"span",26),h.bd(1," Please start naming with alphabets and do not use spaces or special characters except _(underscore) "),h.ic())}function x(e,t){if(1&e&&(h.jc(0,"p",26),h.Zc(1,N,4,0,"span",9),h.Zc(2,P,2,0,"span",9),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("ngIf",e.globalFilterForm.controls.filterName.errors.required),h.Nb(1),h.Bc("ngIf",e.globalFilterForm.controls.filterName.errors.pattern)}}function S(e,t){1&e&&(h.jc(0,"span",26),h.bd(1," Please select "),h.jc(2,"b"),h.bd(3,"Domain"),h.ic(),h.ic())}function j(e,t){if(1&e&&(h.jc(0,"p",26),h.Zc(1,S,4,0,"span",9),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("ngIf",e.globalFilterForm.controls.domain.errors.required)}}function M(e,t){1&e&&(h.jc(0,"span",26),h.bd(1," Please enter "),h.jc(2,"b"),h.bd(3,"Filter Condition"),h.ic(),h.ic())}function R(e,t){if(1&e&&(h.jc(0,"p",26),h.Zc(1,M,4,0,"span",9),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("ngIf",e.globalFilterForm.controls.filterCondition.errors.required)}}function _(e,t){if(1&e&&(h.jc(0,"div",1),h.ec(1,"app-progress-bar",32),h.ic()),2&e){const e=h.uc().$implicit;h.Nb(1),h.Bc("value",e.value)("success",e.success)("progressBarShow",e.progressBarShow)}}function I(e,t){if(1&e&&(h.jc(0,"div",33),h.jc(1,"div",34),h.jc(2,"p",35),h.bd(3),h.ic(),h.jc(4,"p",35),h.bd(5,"For full details please refer '"),h.jc(6,"span"),h.bd(7),h.ic(),h.bd(8,"' "),h.ic(),h.ic(),h.ic()),2&e){const e=h.uc().$implicit;h.Nb(2),h.Bc("title",e.message),h.Nb(1),h.cd(e.message),h.Nb(1),h.Bc("title",e.filePath),h.Nb(3),h.cd(e.filePath)}}function k(e,t){if(1&e&&(h.jc(0,"div",36),h.jc(1,"div",34),h.jc(2,"p",35),h.bd(3),h.ic(),h.ic(),h.ic()),2&e){const e=h.uc().$implicit;h.Nb(2),h.Bc("title",e.successMessage),h.Nb(1),h.cd(e.successMessage)}}function D(e,t){if(1&e&&(h.hc(0),h.Zc(1,_,2,3,"div",29),h.Zc(2,I,9,4,"div",30),h.Zc(3,k,4,2,"div",31),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",""==e.message&&""==e.successMessage),h.Nb(1),h.Bc("ngIf",""!=e.message),h.Nb(1),h.Bc("ngIf",""!=e.successMessage)}}function B(e,t){if(1&e&&(h.jc(0,"div",27),h.Zc(1,D,4,3,"ng-container",28),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("ngForOf",e.resultData)}}function V(e,t){if(1&e){const e=h.kc();h.jc(0,"button",37),h.qc("click",function(){return h.Rc(e),h.uc().saveGlobalFilter()}),h.ic()}if(2&e){const e=h.uc();h.Bc("disabled",!e.globalFilterForm.valid)}}function L(e,t){if(1&e){const e=h.kc();h.jc(0,"button",38),h.qc("click",function(){return h.Rc(e),h.uc().updateGlobalFilter()}),h.ic()}if(2&e){const e=h.uc();h.Bc("disabled",!e.globalFilterForm.valid||!e.globalFilterForm.dirty)}}function q(e,t){1&e&&(h.jc(0,"div",33),h.jc(1,"div",53),h.jc(2,"p"),h.bd(3,"Synonym mapping was incorrect "),h.ic(),h.ic(),h.ic())}function E(e,t){if(1&e&&(h.jc(0,"div",54),h.bd(1),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.dd(" ",e.appConstant.dataTabelName," Synonym Mapping")}}function G(e,t){if(1&e&&(h.jc(0,"div",4),h.jc(1,"div",55),h.jc(2,"label",56),h.bd(3),h.ic(),h.ic(),h.jc(4,"div",57),h.jc(5,"p-dropdown",58),h.qc("ngModelChange",function(e){return t.$implicit.columnName=e}),h.ic(),h.ic(),h.ic()),2&e){const e=t.$implicit;h.Nb(3),h.cd(e.synonymName),h.Nb(1),h.Bc("ngClass",""),h.Nb(1),h.Bc("styleClass","form-field")("options",e.columnList)("ngModel",e.columnName)("virtualScroll",!0)("itemSize",30)}}function z(e,t){if(1&e){const e=h.kc();h.jc(0,"div",39),h.jc(1,"b"),h.bd(2,"Synonym Mapping"),h.ic(),h.ic(),h.jc(3,"div",40),h.Zc(4,q,4,0,"div",30),h.jc(5,"div",41),h.Zc(6,E,2,1,"div",42),h.Zc(7,G,6,7,"div",43),h.ic(),h.ic(),h.jc(8,"div",44),h.jc(9,"div",45),h.ec(10,"div",46),h.jc(11,"div",47),h.jc(12,"button",48),h.qc("click",function(){h.Rc(e);const t=h.uc(),i=h.Oc(49);return t.submitSynonymMapping(i)}),h.ic(),h.ic(),h.jc(13,"div",49),h.jc(14,"div",50),h.qc("click",function(){return h.Rc(e),h.uc().modalRef.hide()}),h.jc(15,"label",51),h.bd(16,"Close"),h.ic(),h.ec(17,"img",52),h.ic(),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(4),h.Bc("ngIf",e.showMessage),h.Nb(2),h.Bc("ngIf",e.columnListResponse.length>0),h.Nb(1),h.Bc("ngForOf",e.columnListResponse)}}const W=function(){return{standalone:!0}};function T(e,t){if(1&e){const e=h.kc();h.jc(0,"div",39),h.jc(1,"b"),h.bd(2),h.ic(),h.ic(),h.jc(3,"div",59),h.jc(4,"div",60),h.jc(5,"label",61),h.bd(6,"Project"),h.ic(),h.ec(7,"br"),h.jc(8,"p-dropdown",62),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().projectId=t})("onChange",function(t){return h.Rc(e),h.uc().changeProjectName(t.value)}),h.ic(),h.ic(),h.jc(9,"div",60),h.jc(10,"label",63),h.bd(11),h.jc(12,"sup",7),h.bd(13,"*"),h.ic(),h.ic(),h.ec(14,"br"),h.jc(15,"p-dropdown",64),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().templateId=t})("onFocus",function(){return h.Rc(e),h.uc().adjustHeight()}),h.ic(),h.ic(),h.ic(),h.jc(16,"div",44),h.jc(17,"div",45),h.ec(18,"div",46),h.jc(19,"div",47),h.jc(20,"button",65),h.qc("click",function(){h.Rc(e);const t=h.uc(),i=h.Oc(49);return t.validateGlobalFilter(i),t.modalRef.hide()}),h.ic(),h.ic(),h.jc(21,"div",49),h.jc(22,"div",50),h.qc("click",function(){return h.Rc(e),h.uc().modalRef.hide()}),h.jc(23,"label",51),h.bd(24,"Close"),h.ic(),h.ec(25,"img",52),h.ic(),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(2),h.dd("Please select ",e.appConstant.dataTabelName,""),h.Nb(1),h.Bc("ngClass",e.templateHeightCheck?"height-300":""),h.Nb(5),h.Bc("ngModelOptions",h.Ec(19,W))("styleClass","form-field")("filter",!0)("ngModel",e.projectId)("options",e.projectList)("virtualScroll",!0)("itemSize",30),h.Nb(3),h.cd(e.appConstant.dataTabelName),h.Nb(4),h.Dc("placeholder","Select ",e.appConstant.dataTabelName,""),h.Bc("styleClass","form-field")("ngModelOptions",h.Ec(20,W))("ngModel",e.templateId)("options",e.sourceTemplateList)("filter",!0)("virtualScroll",!0)("itemSize",30),h.Nb(5),h.Bc("disabled",""==e.templateId)}}let Z=(()=>{class e{constructor(e,t,i,o,l,n,a,s){this.fb=e,this.router=t,this.messages=i,this.globalRulesService=o,this.modalService=l,this.spinner=n,this.homeServiceService=a,this.domainProjService=s,this.appConstant=new p.a,this.ruleCategoryList=[],this.showColumn=!1,this.dupEmail="",this.domainList=[],this.isDisabled=!1,this.regexForFilterName=/^[a-zA-Z][A-Za-z0-9_]*$/,this.templateId="",this.templateHeightCheck=!1,this.resultData=[],this.showMessage=!1,this.projectId="",this.projectList=[]}ngOnDestroy(){sessionStorage.removeItem("editGlobalFilter")}ngOnInit(){this.domainProjService.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData"),this.resetFormValidators(),this.editGlobalDetails=JSON.parse(sessionStorage.getItem("editGlobalFilter"));const e=this.homeServiceService.getProjectList();[...new Set(e.map(e=>e.idProject))].map(t=>{this.projectList.push(e.find(e=>e.idProject===t))}),this.projectId=this.projectList[0].idProject,this.changeProjectName(this.projectList[0].idProject),this.router.url.includes("edit-global-filter")?(this.globalRulesService.getGlobalRuleCreateList().subscribe(e=>{e.result.ruleCategory.forEach(e=>{this.ruleCategoryList.push({name:e,value:e.toLowerCase()})}),this.domainList=e.result.domainList,this.domainName=this.domainList.find(e=>e.domainName===this.editGlobalDetails.domain).domainName,this.globalFilterForm.patchValue({filterId:this.editGlobalDetails.filterId,filterName:this.editGlobalDetails.filterName,filterCondition:this.editGlobalDetails.filterCondition,description:this.editGlobalDetails.description,domain:this.domainName})}),this.isDisabled=!0,this.globalFilterForm.controls.filterName.disable()):this.globalRulesService.getGlobalRuleCreateList().subscribe(e=>{e.result.ruleCategory.forEach(e=>{this.ruleCategoryList.push({name:e,value:e.toLowerCase()})}),this.domainList=e.result.domainList})}templateSelect(e){this.templateId="",this.modalRef=this.modalService.show(e,{class:"gray modal-md",backdrop:"static",keyboard:!1})}getGlobalFilters(e){let t="";e&&(t=e),e.value&&(t=e.value)}resetFormValidators(){this.globalFilterForm=this.fb.group({filterName:["",l.w.compose([l.w.required,l.w.pattern(this.regexForFilterName)])],filterCondition:["",l.w.compose([l.w.required])],description:[""],domain:[,l.w.compose([l.w.required])]})}saveGlobalFilter(){this.globalFilterForm.valid?this.globalRulesService.saveGlobalFilter(this.globalFilterForm.value).subscribe(e=>{"success"===e.status&&this.backToScreen()}):this.markFormAsTouched()}updateGlobalFilter(){this.globalFilterForm.valid?this.globalRulesService.updateGlobalFilter({filterId:this.editGlobalDetails.filterId,filterName:this.globalFilterForm.value.filterName,filterCondition:this.globalFilterForm.value.filterCondition,description:this.globalFilterForm.value.description,domain:this.domainName}).subscribe(e=>{"success"===e.status&&this.backToScreen()}):this.markFormAsTouched()}backToScreen(){this.editGlobalDetails={},sessionStorage.removeItem("editGlobalFilter"),this.router.navigateByUrl("/dbckangui/global-rule/view-global-filter")}markFormAsTouched(){this.globalFilterForm.updateValueAndValidity(),Object.keys(this.globalFilterForm.controls).forEach(e=>{this.globalFilterForm.controls[e].markAsTouched(),this.globalFilterForm.controls[e].markAsDirty()})}adjustHeight(){this.templateHeightCheck=!0}validateGlobalFilter(e){if(""==this.templateId)this.messages.displayToaster("Please select "+this.appConstant.dataTabelName,"warn","Warning!");else{const t=JSON.parse(JSON.stringify(this.globalFilterForm.value));delete t.filterId,t.idData=this.templateId,this.globalRulesService.getSynonymMappingForGlobalFilterVerification(t).subscribe(t=>{if("success"===t.status)if(t.result.fail)this.messages.displayToaster(t.result.fail,"warn","Warning!");else if(this.validateResultResponse=t,this.validateResultResponse.result.isFilterConditionValid)this.validateGlobalRuleWithAPICall();else{this.columnListResponse=[];let t=[];this.validateResultResponse.result.columnDetails.map((e,i)=>{t.push({name:e,id:i+1})}),this.validateResultResponse.result.unmatchedSynonyms.map(e=>{this.columnListResponse.push({synonymName:e.synonymName,columnName:e.columnName,columnList:t})}),this.modalRef=this.modalService.show(e,{class:"gray modal-md",backdrop:"static",keyboard:!1})}else this.messages.displayToaster(t.message,"error","Failed")})}}submitSynonymMapping(e){const t=JSON.parse(JSON.stringify(this.globalFilterForm.value));delete t.filterIdVal,t.idData=this.templateId;let i=[];this.columnListResponse.forEach(e=>{i.push({synonymName:e.synonymName,columnName:e.columnName})}),this.globalRulesService.validateSynonymMappingForGlobalFilter({globalFilterDetails:t,unmatchedSynonyms:i}).subscribe(t=>{if(this.modalRef.hide(),"success"===t.status)if(this.showMessage=!1,this.validateResultResponse=t,this.validateResultResponse.result.isFilterConditionValid)this.validateGlobalRuleWithAPICall();else{this.columnListResponse=[];let t=[];this.validateResultResponse.result.columnDetails.map((e,i)=>{t.push({name:e,id:i+1})}),this.validateResultResponse.result.unmatchedSynonyms.map(e=>{this.columnListResponse.push({synonymName:e.synonymName,columnName:e.columnName,columnList:t})}),setTimeout(()=>{this.showMessage=!0,this.modalRef=this.modalService.show(e,{class:"gray modal-md",backdrop:"static",keyboard:!1})},1e3)}else this.messages.displayToaster(t.message,"error","Failed")})}validateGlobalRuleWithAPICall(){this.resultData=[],this.showMessage=!1,this.globalRulesService.validateGlobalFilter({idData:this.templateId,filterCondition:this.validateResultResponse.result.globalFilterDetails.filterCondition}).subscribe(e=>{"success"===e.status?(e.result.message="",e.result.successMessage="",this.resultData.push(e.result),this.resultData.map(e=>{e.interval=setInterval(()=>{const t=new g.b;t.uniqueId=e.uniqueId,this.globalRulesService.getValidateGlobalFilterStatus(t).subscribe(t=>{const i=t.result.globalFilterData;e.message="",e.filePath="","started"===i.status?(e.progressBarShow=!0,e.value=0,this.spinner.show("spinner3")):"in progress"===i.status?(e.value=i.executionPercentage,e.progressBarShow=!0,e.value>=100&&(e.value=100)):"completed"===i.status?(e.progressBarShow=!1,e.successMessage="Successfully Validated Global Filter",clearInterval(e.interval),this.spinner.hide("spinner3")):"failed"===i.status&&(e.progressBarShow=!1,e.message=i.validateGlobalFilterMessage+" "+i.executionError,e.filePath=i.logFilePath,clearInterval(e.interval),this.spinner.hide("spinner3"))})},2500)})):this.messages.displayToaster(e.message,"error","Failed")})}changeProjectName(e){this.globalRulesService.getListDataSourcesName({projectId:e}).subscribe(e=>{this.sourceTemplateList=e.result})}}return e.\u0275fac=function(t){return new(t||e)(h.dc(l.e),h.dc(u.i),h.dc(m.b),h.dc(m.d),h.dc(f.a),h.dc(b.c),h.dc(C.a),h.dc(y.a))},e.\u0275cmp=h.Xb({type:e,selectors:[["app-add-global-filter"]],decls:52,vars:17,consts:[[1,"container-fluid","create-conn-main",3,"formGroup"],[1,"row"],[1,"col-sm-12"],[1,"form-title"],[1,"row","p-field"],[1,"col-sm-12","col-md-6","mr-top"],["for","filterName",1,"form-label"],[1,"req-field"],["id","filterName","maxlength","500","formControlName","filterName","placeholder","Enter Filter Name","type","text","pInputText","",1,"form-field",3,"disabled","ngClass"],["class","err-msg",4,"ngIf"],["for","last_name",1,"form-label"],["id","last_name","maxlength","500","formControlName","description","placeholder","Enter Description","type","text","pInputText","",1,"form-field"],["for","domain_id",1,"form-label"],["formControlName","domain","placeholder","Select Domain","optionValue","domainName","optionLabel","domainName",3,"styleClass","options","disabled","ngClass","virtualScroll","itemSize","onChange"],["for","filterCondition",1,"form-label"],["id","filterCondition","formControlName","filterCondition","placeholder","Enter Filter Condition","type","text","rows","4",1,"form-field"],[1,"col-sm-12","col-md-6","note"],["class","col-sm-12 col-md-12",4,"ngIf"],[1,"row","p-field","mr-top"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button","label","Validate Global Filter",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],["pButton","","type","button","class","button w-button shadow btn-mr-rt","label","Create Global Filter",3,"disabled","click",4,"ngIf"],["pButton","","type","button","class","button w-button shadow btn-mr-rt","label","Update Global Filter",3,"disabled","click",4,"ngIf"],["pButton","","type","button","label","Cancel",1,"button","w-button","shadow","btn-cancel",3,"click"],["synonymTemplate",""],["leftTemplate",""],[1,"err-msg"],[1,"col-sm-12","col-md-12"],[4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["class","note row",4,"ngIf"],["class","success_note row",4,"ngIf"],[3,"value","appName","success","progressBarShow"],[1,"note","row"],[1,"col-sm-11","col-md-11","text-left"],[1,"rule-ellipsis",3,"title"],[1,"success_note","row"],["pButton","","type","button","label","Create Global Filter",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],["pButton","","type","button","label","Update Global Filter",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],[1,"modal-header"],[1,"modal-body","height-300"],[1,"container-fluid","create-conn-main"],["class","col-sm-12 col-md-12 padding-top-15 pad_bottom_20",4,"ngIf"],["class","row p-field",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-4"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Submit",1,"button","w-button","btn-mr-rt","submit-btn","btn-label",3,"click"],[1,"col-lg-4","arrow-text-right"],[3,"click"],[1,"cursor-pointer"],["src","assets/images/close.png",1,"margin-l","cursor-pointer"],[1,"col-sm-12","col-md-6","text-left"],[1,"col-sm-12","col-md-12","padding-top-15","pad_bottom_20"],[1,"col-sm-12","col-md-12","padding-top-15"],[1,"form-label","word_break_all"],[1,"col-sm-12","col-md-12","padding-top-10",3,"ngClass"],["inputId","id","placeholder","Select Column","optionValue","name","optionLabel","name",3,"styleClass","options","ngModel","virtualScroll","itemSize","ngModelChange"],[1,"modal-body",3,"ngClass"],[1,"col-sm-12","col-md-12","mr-top"],["for","rule_category",1,"form-label"],["placeholder","Select Project","optionValue","idProject","optionLabel","projectName",3,"ngModelOptions","styleClass","filter","ngModel","options","virtualScroll","itemSize","ngModelChange","onChange"],["for","dimension_id",1,"form-label"],["optionValue","idData","optionLabel","name",1,"tempDropdown","templateDropdownCss",3,"styleClass","ngModelOptions","ngModel","options","placeholder","filter","virtualScroll","itemSize","ngModelChange","onFocus"],["pButton","","type","button","label","Submit",1,"button","w-button","btn-mr-rt","submit-btn","btn-label",3,"disabled","click"]],template:function(e,t){if(1&e){const e=h.kc();h.jc(0,"div",0),h.jc(1,"div",1),h.jc(2,"div",2),h.jc(3,"p",3),h.bd(4),h.ic(),h.ic(),h.ic(),h.jc(5,"div",4),h.jc(6,"div",5),h.jc(7,"label",6),h.bd(8,"Filter Name"),h.jc(9,"sup",7),h.bd(10,"*"),h.ic(),h.ic(),h.ec(11,"br"),h.ec(12,"input",8),h.Zc(13,x,3,2,"p",9),h.ic(),h.jc(14,"div",5),h.jc(15,"label",10),h.bd(16,"Description"),h.ic(),h.ec(17,"br"),h.ec(18,"input",11),h.ic(),h.jc(19,"div",5),h.jc(20,"label",12),h.bd(21,"Domain"),h.jc(22,"sup",7),h.bd(23,"*"),h.ic(),h.ic(),h.ec(24,"br"),h.jc(25,"p-dropdown",13),h.qc("onChange",function(e){return t.getGlobalFilters(e)}),h.ic(),h.Zc(26,j,2,1,"p",9),h.ic(),h.jc(27,"div",5),h.jc(28,"label",14),h.bd(29,"Filter Condition"),h.jc(30,"sup",7),h.bd(31,"*"),h.ic(),h.ic(),h.ec(32,"br"),h.ec(33,"textarea",15),h.Zc(34,R,2,1,"p",9),h.ic(),h.jc(35,"div",16),h.jc(36,"p"),h.bd(37,"Note: Fields marked with "),h.jc(38,"b"),h.bd(39,'"*"'),h.ic(),h.bd(40," are required. "),h.ic(),h.ic(),h.Zc(41,B,2,1,"div",17),h.ic(),h.jc(42,"div",18),h.jc(43,"div",19),h.jc(44,"button",20),h.qc("click",function(){h.Rc(e);const i=h.Oc(51);return t.templateSelect(i)}),h.ic(),h.Zc(45,V,1,1,"button",21),h.Zc(46,L,1,1,"button",22),h.jc(47,"button",23),h.qc("click",function(){return t.backToScreen()}),h.ic(),h.ic(),h.ic(),h.ic(),h.Zc(48,z,18,3,"ng-template",null,24,h.ad),h.Zc(50,T,26,21,"ng-template",null,25,h.ad)}2&e&&(h.Bc("formGroup",t.globalFilterForm),h.Nb(4),h.dd("\xa0",t.isDisabled?"Edit Global Filter":"Create Global Filter"," "),h.Nb(8),h.Bc("disabled",t.isDisabled)("ngClass",t.isDisabled?"diabledfield":""),h.Nb(1),h.Bc("ngIf",t.globalFilterForm.controls.filterName.invalid&&!t.globalFilterForm.controls.filterName.pristine),h.Nb(12),h.Bc("styleClass","form-field")("options",t.domainList)("disabled",t.isDisabled)("ngClass",t.isDisabled?"diabledfield":"")("virtualScroll",!0)("itemSize",30),h.Nb(1),h.Bc("ngIf",t.globalFilterForm.controls.domain.invalid&&!t.globalFilterForm.controls.domain.pristine),h.Nb(8),h.Bc("ngIf",t.globalFilterForm.controls.filterCondition.invalid&&!t.globalFilterForm.controls.filterCondition.pristine),h.Nb(7),h.Bc("ngIf",(null==t.resultData?null:t.resultData.length)>0),h.Nb(3),h.Bc("disabled",!t.globalFilterForm.valid||!t.globalFilterForm.dirty),h.Nb(1),h.Bc("ngIf",!t.isDisabled),h.Nb(1),h.Bc("ngIf",t.isDisabled))},directives:[l.p,l.i,l.d,l.k,l.o,l.g,v.a,o.l,o.n,w.a,F.b,o.m,O.a,l.r],styles:["[_ngcontent-%COMP%]::-moz-placeholder{color:gray;opacity:.8}[_ngcontent-%COMP%]::placeholder{color:gray;opacity:.8}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.note[_ngcontent-%COMP%]{text-align:left;font-size:13px;color:#eb5454;padding-top:25px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]     .p-inputtext{font-size:14px}.p-field[_ngcontent-%COMP%]{margin:0 10px}.p-field-form[_ngcontent-%COMP%]{padding-right:0}.diabled-ip[_ngcontent-%COMP%]{opacity:.7;box-shadow:none!important;cursor:inherit}.diabled-ip[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .p-disabled:hover{cursor:not-allowed!important}.optional-fields[_ngcontent-%COMP%]{color:#789}.form-checkbox[_ngcontent-%COMP%]{padding-left:10px;font-size:16px;padding-top:8px}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.warning-msg[_ngcontent-%COMP%]{font-size:12px;color:#007bff;margin-bottom:0;padding-top:8px;padding-left:5px}.diabledfield[_ngcontent-%COMP%]{cursor:not-allowed!important}.success_note[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:green;padding-top:10px}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}.height-300[_ngcontent-%COMP%]{height:300px}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}"]}),e})();var A=i("MKIF"),U=i("Ji6n");function $(e,t){1&e&&(h.jc(0,"span",33),h.bd(1,"Please enter "),h.jc(2,"b"),h.bd(3,"Custom Rule Name"),h.ic(),h.ic())}function J(e,t){1&e&&(h.jc(0,"span",33),h.bd(1,"Only alphanumeric and underscore characters allowed"),h.ic())}function H(e,t){if(1&e&&(h.jc(0,"p",33),h.Zc(1,$,4,0,"span",9),h.Zc(2,J,2,0,"span",9),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("ngIf",e.globalForm.controls.ruleName.errors.required),h.Nb(1),h.Bc("ngIf",e.globalForm.controls.ruleName.errors.pattern)}}function X(e,t){1&e&&(h.jc(0,"p",34),h.jc(1,"span",33),h.bd(2,"This "),h.jc(3,"b"),h.bd(4,"Custom Rule Name"),h.ic(),h.bd(5," is in use. Please choose another name."),h.ic(),h.ic())}function Y(e,t){1&e&&(h.jc(0,"span",33),h.bd(1,"Please choose "),h.jc(2,"b"),h.bd(3,"Rule Category"),h.ic(),h.ic())}function Q(e,t){if(1&e&&(h.jc(0,"p",33),h.Zc(1,Y,4,0,"span",9),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("ngIf",e.globalForm.controls.ruleCategory.errors.required)}}function K(e,t){1&e&&(h.jc(0,"span",33),h.bd(1,"Please enter "),h.jc(2,"b"),h.bd(3,"Rule Threshold"),h.ic(),h.ic())}function ee(e,t){1&e&&(h.jc(0,"span",33),h.jc(1,"b"),h.bd(2,"Rule Threshold %"),h.ic(),h.bd(3," should be less than or equal to 100 and upto 2 decimal places "),h.ic())}function te(e,t){if(1&e&&(h.jc(0,"p",33),h.Zc(1,K,4,0,"span",9),h.Zc(2,ee,4,0,"span",9),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("ngIf",e.globalForm.controls.ruleThreshold.errors.required),h.Nb(1),h.Bc("ngIf",e.globalForm.controls.ruleThreshold.errors.pattern)}}function ie(e,t){1&e&&(h.jc(0,"span",33),h.bd(1,"Please choose "),h.jc(2,"b"),h.bd(3,"Dimension"),h.ic(),h.ic())}function oe(e,t){if(1&e&&(h.jc(0,"p",33),h.Zc(1,ie,4,0,"span",9),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("ngIf",e.globalForm.controls.dimensionId.errors.required)}}function le(e,t){if(1&e&&(h.jc(0,"span",33),h.bd(1,"Please choose "),h.jc(2,"b"),h.bd(3),h.ic(),h.ic()),2&e){const e=h.uc(3);h.Nb(3),h.dd("Reference ",e.appConstant.dataTabelName,"")}}function ne(e,t){if(1&e&&(h.jc(0,"p",33),h.Zc(1,le,4,1,"span",9),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.Bc("ngIf",e.globalForm.controls.rightIdData.errors.required)}}function ae(e,t){if(1&e){const e=h.kc();h.jc(0,"div",5),h.jc(1,"label",35),h.bd(2),h.jc(3,"sup",7),h.bd(4,"*"),h.ic(),h.ic(),h.ec(5,"br"),h.jc(6,"p-dropdown",36),h.qc("onChange",function(t){return h.Rc(e),h.uc().getSourceDataColumn(t.value)}),h.ic(),h.Zc(7,ne,2,1,"p",9),h.ic()}if(2&e){const e=h.uc();h.Nb(2),h.dd("Reference ",e.appConstant.dataTabelName,""),h.Nb(4),h.Qb(e.editMode?"diabled-ip":""),h.Dc("placeholder","Select Reference ",e.appConstant.dataTabelName,""),h.Bc("styleClass","form-field")("options",e.sourceTemplateList)("filter",!0)("disabled",e.editMode)("virtualScroll",!0)("itemSize",30),h.Nb(1),h.Bc("ngIf",e.globalForm.controls.rightIdData.invalid&&!e.globalForm.controls.rightIdData.pristine)}}function se(e,t){if(1&e){const e=h.kc();h.jc(0,"div",5),h.jc(1,"label",37),h.bd(2,"Data Column"),h.ic(),h.ec(3,"br"),h.jc(4,"p-dropdown",38),h.qc("onChange",function(t){return h.Rc(e),h.uc().setMatchingExpression(t)}),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(4),h.Bc("styleClass","form-field")("options",e.datacolumnList)("virtualScroll",!0)("itemSize",30)("filter",!0)}}function re(e,t){1&e&&(h.jc(0,"span",33),h.bd(1," Please choose "),h.jc(2,"b"),h.bd(3,"Global Filter"),h.ic(),h.ic())}function ce(e,t){if(1&e&&(h.jc(0,"p",33),h.Zc(1,re,4,0,"span",9),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.Bc("ngIf",e.globalForm.controls.filterId.errors.required)}}function de(e,t){if(1&e){const e=h.kc();h.jc(0,"div",5),h.jc(1,"label",39),h.bd(2," Global Filter"),h.jc(3,"sup",7),h.bd(4,"*"),h.ic(),h.ic(),h.ec(5,"br"),h.jc(6,"p-dropdown",40),h.qc("onChange",function(t){return h.Rc(e),h.uc().setFilterCondition(t)}),h.ic(),h.Zc(7,ce,2,1,"p",9),h.ic()}if(2&e){const e=h.uc();h.Nb(6),h.Bc("styleClass","form-field")("options",e.globalFilterList)("virtualScroll",!0)("itemSize",30)("filter",!0),h.Nb(1),h.Bc("ngIf",e.globalForm.controls.filterId.invalid&&!e.globalForm.controls.filterId.pristine)}}function ue(e,t){1&e&&(h.jc(0,"div",41),h.jc(1,"label",42),h.bd(2,"Filter Condition"),h.ic(),h.ec(3,"br"),h.ec(4,"input",43),h.ic())}function ge(e,t){if(1&e&&(h.jc(0,"span",33),h.bd(1,"Please choose "),h.jc(2,"b"),h.bd(3),h.ic(),h.ic()),2&e){const e=h.uc(3);h.Nb(3),h.dd("Global Filter for Reference ",e.appConstant.dataTabelName,"")}}function pe(e,t){if(1&e&&(h.jc(0,"p",33),h.Zc(1,ge,4,1,"span",9),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.Bc("ngIf",e.globalForm.controls.rightTemplateFilterId.errors.required)}}function he(e,t){if(1&e){const e=h.kc();h.jc(0,"div",5),h.jc(1,"label",39),h.bd(2),h.ic(),h.ec(3,"br"),h.jc(4,"p-dropdown",44),h.qc("onChange",function(t){return h.Rc(e),h.uc().setFilterConditionSecond(t)}),h.ic(),h.Zc(5,pe,2,1,"p",9),h.ic()}if(2&e){const e=h.uc();h.Nb(2),h.dd("Global Filter for Reference ",e.appConstant.dataTabelName,""),h.Nb(2),h.Dc("placeholder","Select Global Filter for Second ",e.appConstant.dataTabelName,""),h.Bc("styleClass","form-field")("options",e.globalFilterList)("virtualScroll",!0)("itemSize",30)("filter",!0),h.Nb(1),h.Bc("ngIf",e.globalForm.controls.rightTemplateFilterId.invalid&&!e.globalForm.controls.rightTemplateFilterId.pristine)}}function me(e,t){if(1&e&&(h.jc(0,"div",41),h.jc(1,"label",42),h.bd(2),h.ic(),h.ec(3,"br"),h.ec(4,"input",45),h.ic()),2&e){const e=h.uc();h.Nb(2),h.dd("Filter Condition for Reference ",e.appConstant.dataTabelName,""),h.Nb(2),h.Dc("placeholder","Enter Filter Condition for Reference ",e.appConstant.dataTabelName,"")}}function fe(e,t){1&e&&(h.jc(0,"span",33),h.bd(1,"Please enter "),h.jc(2,"b"),h.bd(3,"Matching Expression"),h.ic(),h.ic())}function be(e,t){if(1&e&&(h.jc(0,"p",33),h.Zc(1,fe,4,0,"span",9),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.Bc("ngIf",e.globalForm.controls.matchingRules.errors.required)}}function Ce(e,t){if(1&e&&(h.jc(0,"div",41),h.jc(1,"label",42),h.bd(2,"Matching Expression"),h.jc(3,"sup",7),h.bd(4,"*"),h.ic(),h.ic(),h.ec(5,"br"),h.jc(6,"textarea",46),h.bd(7,"            "),h.ic(),h.Zc(8,be,2,1,"p",9),h.ic()),2&e){const e=h.uc();h.Nb(8),h.Bc("ngIf",e.globalForm.controls.matchingRules.invalid&&!e.globalForm.controls.matchingRules.pristine)}}function ye(e,t){if(1&e&&(h.jc(0,"span",33),h.bd(1,"Please enter "),h.jc(2,"b"),h.bd(3),h.ic(),h.ic()),2&e){const e=h.uc(3);h.Nb(3),h.cd("conditional duplicate check"===e.globalForm.controls.ruleCategory.value?"Duplicate Check Columns":"conditional completeness check"===e.globalForm.controls.ruleCategory.value?"Completeness Check Column":"Rule Expression")}}function ve(e,t){if(1&e&&(h.jc(0,"p",33),h.Zc(1,ye,4,1,"span",9),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.Bc("ngIf",e.globalForm.controls.ruleExpression.errors.required)}}function we(e,t){1&e&&(h.jc(0,"p"),h.jc(1,"span",49),h.bd(2," For SqlInternalRule, 'INTERNALQUERY' must be used instead of actual table name. Write sql to get failed data instead of passed data "),h.ic(),h.ic())}function Fe(e,t){if(1&e&&(h.jc(0,"div",41),h.jc(1,"label",47),h.bd(2),h.jc(3,"sup",7),h.bd(4,"*"),h.ic(),h.ic(),h.ec(5,"br"),h.jc(6,"textarea",48),h.bd(7,"            "),h.ic(),h.Zc(8,ve,2,1,"p",9),h.Zc(9,we,3,0,"p",24),h.ic()),2&e){const e=h.uc();h.Nb(2),h.cd("conditional duplicate check"===e.globalForm.controls.ruleCategory.value?"Duplicate Check Columns":"conditional completeness check"===e.globalForm.controls.ruleCategory.value?"Completeness Check Column":"Rule Expression"),h.Nb(4),h.Bc("placeholder","conditional duplicate check"===e.globalForm.controls.ruleCategory.value?"Eg: @synonym_name_column1@,@synonym_name_column2@":"conditional completeness check"===e.globalForm.controls.ruleCategory.value?"Eg: @synonym_name_column@":"conditional sql internal rule"===e.globalForm.controls.ruleCategory.value||"sql internal rule"===e.globalForm.controls.ruleCategory.value?"Eg: Select * from INTERNALQUERY where @synonym_name_column1@>6000":"Eg: @synonym_name_column1@>5000"),h.Nb(2),h.Bc("ngIf",e.globalForm.controls.ruleExpression.invalid&&!e.globalForm.controls.ruleExpression.pristine),h.Nb(1),h.Bc("ngIf","conditional sql internal rule"===e.globalForm.controls.ruleCategory.value&&"sql internal rule"===e.globalForm.controls.ruleCategory.value)}}function Oe(e,t){if(1&e&&(h.jc(0,"div",50),h.ec(1,"p-checkbox",51),h.jc(2,"label",52),h.bd(3,"Enable Aggregate Results"),h.ic(),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("value",e.globalForm.controls.aggregateResultsEnabled.value)}}function Ne(e,t){if(1&e&&(h.jc(0,"div",1),h.ec(1,"app-progress-bar",57),h.ic()),2&e){const e=h.uc().$implicit;h.Nb(1),h.Bc("value",e.value)("success",e.success)("progressBarShow",e.progressBarShow)}}function Pe(e,t){if(1&e&&(h.jc(0,"div",22),h.jc(1,"div",58),h.jc(2,"p",59),h.bd(3),h.ic(),h.jc(4,"p",59),h.bd(5),h.ic(),h.ic(),h.ic()),2&e){const e=h.uc().$implicit;h.Nb(2),h.Bc("title",e.message),h.Nb(1),h.cd(e.message),h.Nb(1),h.Bc("title",e.filePath),h.Nb(1),h.cd(e.filePath)}}function xe(e,t){if(1&e&&(h.jc(0,"div",60),h.jc(1,"div",58),h.jc(2,"p",59),h.bd(3),h.ic(),h.ic(),h.ic()),2&e){const e=h.uc().$implicit;h.Nb(2),h.Bc("title",e.successMessage),h.Nb(1),h.cd(e.successMessage)}}function Se(e,t){if(1&e&&(h.hc(0),h.Zc(1,Ne,2,3,"div",54),h.Zc(2,Pe,6,4,"div",55),h.Zc(3,xe,4,2,"div",56),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",""==e.message&&""==e.successMessage),h.Nb(1),h.Bc("ngIf",""!=e.message),h.Nb(1),h.Bc("ngIf",""!=e.successMessage)}}function je(e,t){if(1&e&&(h.jc(0,"div"),h.Zc(1,Se,4,3,"ng-container",53),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("ngForOf",e.resultData)}}function Me(e,t){if(1&e){const e=h.kc();h.jc(0,"button",61),h.qc("click",function(){return h.Rc(e),h.uc().saveGlobalRule()}),h.ic()}if(2&e){const e=h.uc();h.Bc("disabled",!e.globalForm.valid)}}function Re(e,t){if(1&e){const e=h.kc();h.jc(0,"button",62),h.qc("click",function(){return h.Rc(e),h.uc().update()}),h.ic()}if(2&e){const e=h.uc();h.Bc("disabled",!e.globalForm.valid||!e.globalForm.dirty)}}function _e(e,t){1&e&&(h.jc(0,"div",78),h.jc(1,"div",79),h.jc(2,"p"),h.bd(3,"Synonym mapping was incorrect "),h.ic(),h.ic(),h.ic())}function Ie(e,t){if(1&e&&(h.jc(0,"div",80),h.bd(1),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.dd(" Source ",e.appConstant.dataTabelName," Synonym Mapping")}}function ke(e,t){if(1&e&&(h.jc(0,"div",4),h.jc(1,"div",81),h.jc(2,"label",82),h.bd(3),h.ic(),h.ic(),h.jc(4,"div",83),h.jc(5,"p-dropdown",84),h.qc("ngModelChange",function(e){return t.$implicit.columnName=e}),h.ic(),h.ic(),h.ic()),2&e){const e=t.$implicit;h.Nb(3),h.cd(e.synonymName),h.Nb(1),h.Bc("ngClass",""),h.Nb(1),h.Bc("styleClass","form-field")("options",e.columnList)("ngModel",e.columnName)("virtualScroll",!0)("itemSize",30)}}function De(e,t){if(1&e&&(h.jc(0,"div",80),h.bd(1),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.dd(" Reference ",e.appConstant.dataTabelName," Synonym Mapping ")}}function Be(e,t){if(1&e&&(h.jc(0,"div",4),h.jc(1,"div",81),h.jc(2,"label",82),h.bd(3),h.ic(),h.ic(),h.jc(4,"div",85),h.jc(5,"p-dropdown",84),h.qc("ngModelChange",function(e){return t.$implicit.columnName=e}),h.ic(),h.ic(),h.ic()),2&e){const e=t.$implicit;h.Nb(3),h.cd(e.synonymName),h.Nb(2),h.Bc("styleClass","form-field")("options",e.columnList)("ngModel",e.columnName)("virtualScroll",!0)("itemSize",30)}}function Ve(e,t){if(1&e){const e=h.kc();h.jc(0,"div",63),h.jc(1,"b"),h.bd(2,"Synonym Mapping"),h.ic(),h.ic(),h.jc(3,"div",64),h.Zc(4,_e,4,0,"div",65),h.jc(5,"div",66),h.Zc(6,Ie,2,1,"div",67),h.Zc(7,ke,6,7,"div",68),h.Zc(8,De,2,1,"div",67),h.Zc(9,Be,6,6,"div",68),h.ic(),h.ic(),h.jc(10,"div",69),h.jc(11,"div",70),h.ec(12,"div",71),h.jc(13,"div",72),h.jc(14,"button",73),h.qc("click",function(){h.Rc(e);const t=h.uc(),i=h.Oc(69);return t.submitSynonymMapping(i)}),h.ic(),h.ic(),h.jc(15,"div",74),h.jc(16,"div",75),h.qc("click",function(){return h.Rc(e),h.uc().modalRef.hide()}),h.jc(17,"label",76),h.bd(18,"Close"),h.ic(),h.ec(19,"img",77),h.ic(),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(4),h.Bc("ngIf",e.showMessage),h.Nb(2),h.Bc("ngIf",e.columnListLeftResponse.length>0),h.Nb(1),h.Bc("ngForOf",e.columnListLeftResponse),h.Nb(1),h.Bc("ngIf",e.columnListRightResponse.length>0),h.Nb(1),h.Bc("ngForOf",e.columnListRightResponse)}}const Le=function(){return{standalone:!0}};function qe(e,t){if(1&e){const e=h.kc();h.jc(0,"div",63),h.jc(1,"b"),h.bd(2),h.ic(),h.ic(),h.jc(3,"div",86),h.jc(4,"div",41),h.jc(5,"label",17),h.bd(6),h.jc(7,"sup",7),h.bd(8,"*"),h.ic(),h.ic(),h.ec(9,"br"),h.jc(10,"p-dropdown",87),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().templateId=t})("onFocus",function(){return h.Rc(e),h.uc().adjustHeight()}),h.ic(),h.ic(),h.ic(),h.jc(11,"div",69),h.jc(12,"div",70),h.ec(13,"div",71),h.jc(14,"div",72),h.jc(15,"button",88),h.qc("click",function(){h.Rc(e);const t=h.uc(),i=h.Oc(69);return t.validateGlobalRule(i),t.modalRef.hide()}),h.ic(),h.ic(),h.jc(16,"div",74),h.jc(17,"div",75),h.qc("click",function(){return h.Rc(e),h.uc().modalRef.hide()}),h.jc(18,"label",76),h.bd(19,"Close"),h.ic(),h.ec(20,"img",77),h.ic(),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(2),h.dd("Please select Source ",e.appConstant.dataTabelName,""),h.Nb(1),h.Bc("ngClass",e.templateHeightCheck?"height-300":""),h.Nb(3),h.dd("Source ",e.appConstant.dataTabelName,""),h.Nb(4),h.Dc("placeholder","Select Source ",e.appConstant.dataTabelName,""),h.Bc("styleClass","form-field")("ngModelOptions",h.Ec(12,Le))("ngModel",e.templateId)("options",e.sourceTemplateList)("filter",!0)("virtualScroll",!0)("itemSize",30),h.Nb(5),h.Bc("disabled",""==e.templateId)}}let Ee=(()=>{class e{constructor(e,t,i,o,l,n,a,s){this.fb=e,this.globalRulesService=t,this.router=i,this.homeServiceService=o,this.messages=l,this.modalService=n,this.spinner=a,this.domainProjService=s,this.appConstant=new p.a,this.editDetails=new A.a,this.selectedRuleCategory={},this.ruleCategoryList=[],this.domainList=[],this.dimensionList=[],this.datacolumnList=[],this.showColumn=!1,this.ruleCategoryTypes=[{id:1,name:"Cross Referential",value:"cross referential",fields:["ruleThreshold","dimensionId","rightIdData","matchingRules","ruleExpression"]}],this.ruleNamePattern=/^[a-zA-Z0-9_]*$/,this.matchingExpressionPattern=/^[a-zA-z0-9_@().]*$/,this.ruleThresholdPattern=/^(\d{0,2}(\.\d{1,2})?|100(\.00?)?)$/,this.selectedruleType={},this.editMode=!1,this.projectList=[],this.templateId="",this.resultData=[],this.templateHeightCheck=!1,this.showMessage=!1,this.ruleNameUnique=!0}ngOnChanges(e){}ngOnInit(){sessionStorage.removeItem("viewBackData"),this.resetFormValidators();const e=this.homeServiceService.getProjectList();[...new Set(e.map(e=>e.idProject))].map(t=>{this.projectList.push(e.find(e=>e.idProject===t))}),this.resetFormValidators(),this.globalRulesService.getGlobalRuleCreateList().subscribe(e=>{e.result.ruleCategory.forEach(e=>{this.ruleCategoryList.push({name:e,value:e.toLowerCase()})}),this.domainList=e.result.domainList,this.dimensionList=e.result.dimensionList,this.router.url.includes("edit-global-rule")?(this.domainProjService.passDomainProjVal(!0),this.editMode=!0,this.editDetails=JSON.parse(sessionStorage.getItem("globalRuleDetail")),this.selectedRuleCategory=this.ruleCategoryList.filter(e=>e.value===this.editDetails.ruleType.toLowerCase())[0],sessionStorage.getItem("globalRuleDetail")&&(this.changeTemplateList(this.editDetails.projectId),this.getGlobalFilters(this.editDetails.domainId),this.getSourceDataColumn(this.editDetails.idRightData),"conditional orphan"===this.selectedRuleCategory.value?this.setConditionalOrphanValidators():"conditional referential"===this.selectedRuleCategory.value?this.setConditionalReferentialValidators():"conditional sql internal rule"===this.selectedRuleCategory.value?this.setConditionalSqlInternalRuleValidators():"conditional duplicate check"===this.selectedRuleCategory.value?this.setConditionalDuplicateCheckValidators():"conditional completeness check"===this.selectedRuleCategory.value?this.setConditionalCompletenessCheckValidators():"conditional cross referential"===this.selectedRuleCategory.value?this.setConditionalCrossReferentialValidators():"sql internal rule"===this.selectedRuleCategory.value&&this.setSqlInternalRuleValidators(),this.globalForm.patchValue({domainId:this.editDetails.domainId,idListColRules:this.editDetails.idListColrules,ruleName:this.editDetails.ruleName,ruleCategory:this.selectedRuleCategory.value,ruleThreshold:this.editDetails.ruleThreshold,dimensionId:this.editDetails.dimensionId,description:""==this.editDetails.description?"":this.editDetails.description,rightIdData:this.editDetails.idRightData.toString(),ruleExpression:this.editDetails.expression,matchingRules:this.editDetails.matchingRules,externalDatasetName:"externalDatasetName"===this.editDetails.externalDatasetName?"":this.editDetails.externalDatasetName,dataColumn:this.editDetails.dataColumn,filterId:0==this.editDetails.filterId?"":this.editDetails.filterId,rightTemplateFilterId:this.editDetails.rightTemplateFilterId,filterIdVal:this.editDetails.filterCondition,filterIdValSecond:this.editDetails.rightTemplateFilterCondition,aggregateResultsEnabled:this.editDetails.aggregateResultsEnabled,createdBy:this.editDetails.createdByUser,projectId:null===this.editDetails.projectId?"":this.editDetails.projectId}))):(this.domainProjService.passDomainProjVal(!1),this.editMode=!1,this.changeTemplateList(parseInt(sessionStorage.getItem("activeProjectId"),10)),this.getGlobalFilters(parseInt(sessionStorage.getItem("activeDomainId"),10)))}),this.globalForm.valueChanges.subscribe(e=>{this.resultData=[]})}ngOnDestroy(){sessionStorage.removeItem("globalRuleDetail")}changeTemplateList(e){this.globalRulesService.getListDataSourcesName({projectId:e}).subscribe(e=>{this.sourceTemplateList=e.result,this.sourceTemplateList.map(e=>{e.name=e.idData+"-"+e.name})})}resetFormValidators(){const e=JSON.parse(sessionStorage.getItem("userDetail"));this.globalForm=this.fb.group({domainId:[parseInt(sessionStorage.getItem("activeDomainId"),10),l.w.compose([l.w.required])],ruleName:["",l.w.compose([l.w.required,l.w.pattern(this.ruleNamePattern)])],ruleCategory:["",l.w.compose([l.w.required])],ruleThreshold:["",l.w.compose([l.w.required,l.w.max(100),l.w.min(0),l.w.pattern(this.ruleThresholdPattern)])],dimensionId:["",l.w.compose([l.w.required])],description:[""],rightIdData:[""],ruleExpression:[""],matchingRules:[""],externalDatasetName:[""],dataColumn:[""],filterId:[""],rightTemplateFilterId:[""],filterIdVal:[""],filterIdValSecond:[""],aggregateResultsEnabled:[!1],idUser:[e.idUser],idListColRules:[""],createdBy:[e.firstName],projectId:[parseInt(sessionStorage.getItem("activeProjectId"),10)]})}getSourceDataColumn(e){this.showColumn=!0,this.datacolumnList=[],this.globalRulesService.getListSourceDataColumn({idData:e}).subscribe(e=>{e.result=e.result.filter(e=>"dbk_row_Id"!==e),e.result.map(e=>{this.datacolumnList.push({id:e,name:e})})})}checkDuplicateGlobalRuleName(){this.globalForm.controls.ruleName.value.length>=1?this.globalRulesService.checkDuplicateruleName("checkCustomRuleNameForDuplicate",{customRuleName:this.globalForm.controls.ruleName.value}).subscribe(e=>{this.ruleNameUnique=!1!==e.result.isCustomRuleNameValid},e=>{this.ruleNameUnique=!1}):(this.ruleNameValid=!1,this.ruleNameUnique=!0)}update(){const e=JSON.parse(JSON.stringify(this.globalForm.value));e.idListColRules=this.editDetails.idListColrules,e.filterId=""===this.globalForm.value.filterId||null===this.globalForm.value.filterId?"0":this.globalForm.value.filterId,e.rightTemplateFilterId=null===this.globalForm.value.rightTemplateFilterId?"0":this.globalForm.value.rightTemplateFilterId,e.description=null==e.description?"":e.description,this.globalRulesService.updateGlobalRule("updateGlobalRule",e).subscribe(e=>{"success"===e.status&&(this.messages.displayToaster(e.message,"success","Success"),this.router.navigateByUrl("/dbckangui/global-rule/view-global-rule"))})}getGlobalFilters(e){let t="";e&&(t=e),e.value&&(t=e.value),this.globalForm.controls.filterIdVal.reset(),this.globalForm.controls.filterIdValSecond.reset(),this.globalForm.controls.filterId.reset(),this.globalForm.controls.rightTemplateFilterId.reset(),this.globalForm.controls.filterId.setValue(""),this.globalForm.controls.rightTemplateFilterId.setValue(""),this.globalForm.controls.filterIdVal.setValue(""),this.globalForm.controls.filterIdValSecond.setValue(""),this.globalRulesService.getPopulateFilters({domainId:t}).subscribe(e=>{this.globalFilterList=e.result,this.globalFilterList.map(e=>{e.filterName=e.filterId+"_"+e.filterName})})}saveGlobalRule(){if(this.globalForm.valid){let e="";const t=JSON.parse(JSON.stringify(this.globalForm.value));delete t.filterIdVal,delete t.filterIdValSecond,delete t.idListColRules,delete t.dataColumn,t.aggregateResultsEnabled=!0===t.aggregateResultsEnabled?"Y":"N","Orphan"!==t.ruleCategory&&"Cross Referential"!==t.ruleCategory&&"Conditional Orphan"!==t.ruleCategory||(e=this.sourceTemplateList.find(e=>e.idData===t.rightIdData).name),t.externalDatasetName=""===e?"":e,t.filterId=""===this.globalForm.value.filterId||null===this.globalForm.value.filterId?"0":this.globalForm.value.filterId,t.rightTemplateFilterId=""===this.globalForm.value.rightTemplateFilterId?"0":this.globalForm.value.rightTemplateFilterId,t.description=null===t.description?"":t.description,this.globalRulesService.createGlobalRule(t).subscribe(e=>{e.result.fail?this.messages.displayToaster(e.result.fail,"warn","Warning!"):(this.messages.displayToaster(e.result.success,"success","Success"),this.backToScreen())})}else this.markFormAsTouched()}backToScreen(){"view"===sessionStorage.getItem("navigatedFrom")?this.router.navigateByUrl("/dbckangui/global-rule/view-global-rule"):"ruleCatalog"===sessionStorage.getItem("navigatedFrom")?this.router.navigateByUrl("/dbckangui/quality/data/detailed-view/check-main/rule-catalog"):"ruleCatalogQuality"===sessionStorage.getItem("navigatedFrom")?this.router.navigateByUrl("/dbckangui/validation-check/view-rule-catalog"):this.router.navigateByUrl("/dbckangui/quality/data/detailed-view/global-rule")}setFilterCondition(e){this.globalForm.controls.filterIdVal.setValue(this.globalFilterList.find(t=>t.filterId===e.value).filterCondition)}setFilterConditionSecond(e){this.globalForm.controls.filterIdValSecond.setValue(this.globalFilterList.find(t=>t.filterId===e.value).filterCondition)}setRuleCategory(e){this.globalForm.controls.ruleExpression.setValue(""),this.globalForm.controls.rightIdData.setValue(""),this.globalForm.controls.matchingRules.setValue(""),this.globalForm.controls.externalDatasetName.setValue(""),this.globalForm.controls.dataColumn.setValue(""),this.globalForm.controls.filterId.setValue(""),this.globalForm.controls.rightTemplateFilterId.setValue(""),this.globalForm.controls.filterIdVal.setValue(""),this.globalForm.controls.filterIdValSecond.setValue(""),this.globalForm.controls.aggregateResultsEnabled.setValue(!1),this.globalForm.controls.ruleExpression.clearValidators(),this.globalForm.controls.rightIdData.clearValidators(),this.globalForm.controls.matchingRules.clearValidators(),this.globalForm.controls.filterId.clearValidators(),"referential"===e.value?this.setReferentialValidators():"orphan"===e.value?this.setOrphanValidators():"cross referential"===e.value?this.setCrossReferentialValidators():"conditional orphan"===e.value?this.setConditionalOrphanValidators():"conditional referential"===e.value?this.setConditionalReferentialValidators():"conditional sql internal rule"===e.value?this.setConditionalSqlInternalRuleValidators():"conditional duplicate check"===e.value?this.setConditionalDuplicateCheckValidators():"conditional completeness check"===e.value?this.setConditionalCompletenessCheckValidators():"conditional cross referential"===e.value?this.setConditionalCrossReferentialValidators():"sql internal rule"===e.value&&this.setSqlInternalRuleValidators(),this.updateFormFieldValidators()}setReferentialValidators(){this.globalForm.controls.ruleExpression.setValidators([l.w.required])}setOrphanValidators(){this.globalForm.controls.rightIdData.setValidators([l.w.required]),this.globalForm.controls.matchingRules.setValidators([l.w.required])}setCrossReferentialValidators(){this.globalForm.controls.rightIdData.setValidators(l.w.compose([l.w.required])),this.globalForm.controls.matchingRules.setValidators(l.w.compose([l.w.required])),this.globalForm.controls.ruleExpression.setValidators(l.w.compose([l.w.required]))}setConditionalOrphanValidators(){this.globalForm.controls.rightIdData.setValidators(l.w.compose([l.w.required])),this.globalForm.controls.matchingRules.setValidators(l.w.compose([l.w.required])),this.globalForm.controls.filterId.setValidators(l.w.compose([l.w.required]))}setConditionalCrossReferentialValidators(){this.globalForm.controls.rightIdData.setValidators(l.w.compose([l.w.required])),this.globalForm.controls.matchingRules.setValidators(l.w.compose([l.w.required])),this.globalForm.controls.filterId.setValidators(l.w.compose([l.w.required])),this.globalForm.controls.ruleExpression.setValidators(l.w.compose([l.w.required]))}setConditionalReferentialValidators(){this.globalForm.controls.ruleExpression.setValidators(l.w.compose([l.w.required])),this.globalForm.controls.filterId.setValidators(l.w.compose([l.w.required]))}setConditionalSqlInternalRuleValidators(){this.globalForm.controls.ruleExpression.setValidators(l.w.compose([l.w.required])),this.globalForm.controls.filterId.setValidators(l.w.compose([l.w.required]))}setConditionalDuplicateCheckValidators(){this.globalForm.controls.ruleExpression.setValidators(l.w.compose([l.w.required])),this.globalForm.controls.filterId.setValidators(l.w.compose([l.w.required]))}setConditionalCompletenessCheckValidators(){this.globalForm.controls.ruleExpression.setValidators(l.w.compose([l.w.required])),this.globalForm.controls.filterId.setValidators(l.w.compose([l.w.required]))}setSqlInternalRuleValidators(){this.globalForm.controls.ruleExpression.setValidators(l.w.compose([l.w.required]))}updateFormFieldValidators(){this.globalForm.updateValueAndValidity(),Object.keys(this.globalForm.controls).forEach(e=>{this.globalForm.controls[e].updateValueAndValidity()})}markFormAsTouched(){this.globalForm.updateValueAndValidity(),Object.keys(this.globalForm.controls).forEach(e=>{this.globalForm.controls[e].markAsTouched(),this.globalForm.controls[e].markAsDirty()})}setMatchingExpression(e){this.globalForm.controls.matchingRules.setValue(this.globalForm.controls.matchingRules.value+""+e.value)}validateGlobalRule(e){let t="";const i=JSON.parse(JSON.stringify(this.globalForm.value));delete i.filterIdVal,delete i.filterIdValSecond,delete i.idListColRules,delete i.dataColumn,i.aggregateResultsEnabled=!0===i.aggregateResultsEnabled?"Y":"N",i.description=null==i.description?"":i.description,"Orphan"!==i.ruleCategory&&"Cross Referential"!==i.ruleCategory&&"Conditional Orphan"!==i.ruleCategory||(t=this.sourceTemplateList.find(e=>e.idData===i.rightIdData).name),i.externalDatasetName=""===t?"":t,i.filterId=""===this.globalForm.value.filterId||null===this.globalForm.value.filterId?"0":this.globalForm.value.filterId,i.rightTemplateFilterId=""===this.globalForm.value.rightTemplateFilterId?"0":this.globalForm.value.rightTemplateFilterId,i.idData=this.templateId,this.globalRulesService.getSynonymMappingForGlobalRuleVerification(i).subscribe(t=>{if("success"===t.status)if(t.result.fail)this.messages.displayToaster(t.result.fail,"warn","Warning!");else if(this.validateResultResponse=t,this.validateResultResponse.result.isRuleApplicable)this.validateGlobalRuleWithAPICall();else{this.columnListLeftResponse=[],this.columnListRightResponse=[];let t=[],i=[];this.validateResultResponse.result.leftColumnDetails.map((e,i)=>{t.push({name:e,id:i+1})}),this.validateResultResponse.result.rightColumnDetails.map((e,t)=>{i.push({name:e,id:t+1})}),this.validateResultResponse.result.leftUnmatchedSynonyms.map(e=>{this.columnListLeftResponse.push({synonymName:e.synonymName,columnName:e.columnName,columnList:t})}),this.validateResultResponse.result.rightUnmatchedSynonyms.map(e=>{this.columnListRightResponse.push({synonymName:e.synonymName,columnName:e.columnName,columnList:i})}),this.modalRef=this.modalService.show(e,{class:"gray modal-md",backdrop:"static",keyboard:!1})}else this.messages.displayToaster(t.message,"error","Failed")})}submitSynonymMapping(e){let t="";const i=JSON.parse(JSON.stringify(this.globalForm.value));delete i.filterIdVal,delete i.filterIdValSecond,delete i.idListColRules,delete i.dataColumn,i.aggregateResultsEnabled=!0===i.aggregateResultsEnabled?"Y":"N","Orphan"!==i.ruleCategory&&"Cross Referential"!==i.ruleCategory&&"Conditional Orphan"!==i.ruleCategory||(t=this.sourceTemplateList.find(e=>e.idData===i.rightIdData).name),i.externalDatasetName=""===t?"":t,i.filterId=""===this.globalForm.value.filterId||null===this.globalForm.value.filterId?"0":this.globalForm.value.filterId,i.rightTemplateFilterId=""===this.globalForm.value.rightTemplateFilterId?"0":this.globalForm.value.rightTemplateFilterId,i.idData=this.templateId,i.description=null==i.description?"":i.description;let o=[],l=[];this.columnListLeftResponse.forEach(e=>{o.push({synonymName:e.synonymName,columnName:e.columnName})}),this.columnListRightResponse.forEach(e=>{l.push({synonymName:e.synonymName,columnName:e.columnName})}),this.globalRulesService.validateSynonymMappingForGlobalRule({globalRuleDetails:i,leftUnmatchedSynonyms:o,rightUnmatchedSynonyms:l}).subscribe(t=>{if(this.modalRef.hide(),"success"===t.status)if(this.showMessage=!1,this.validateResultResponse=t,this.validateResultResponse.result.isRuleApplicable)this.validateGlobalRuleWithAPICall();else{this.columnListLeftResponse=[],this.columnListRightResponse=[];let t=[],i=[];this.validateResultResponse.result.leftColumnDetails.map((e,i)=>{t.push({name:e,id:i+1})}),this.validateResultResponse.result.rightColumnDetails.map((e,t)=>{i.push({name:e,id:t+1})}),this.validateResultResponse.result.leftUnmatchedSynonyms.map(e=>{this.columnListLeftResponse.push({synonymName:e.synonymName,columnName:e.columnName,columnList:t})}),this.validateResultResponse.result.rightUnmatchedSynonyms.map(e=>{this.columnListRightResponse.push({synonymName:e.synonymName,columnName:e.columnName,columnList:i})}),setTimeout(()=>{this.showMessage=!0,this.modalRef=this.modalService.show(e,{class:"gray modal-md",backdrop:"static",keyboard:!1})},1e3)}else this.messages.displayToaster(t.message,"error","Failed")})}validateGlobalRuleWithAPICall(){this.validateResultResponse.result.globalRuleDetails.idData=this.templateId,this.resultData=[],this.showMessage=!1,this.globalRulesService.validateGlobalRule(this.validateResultResponse.result.globalRuleDetails).subscribe(e=>{"success"===e.status?(e.result.message="",e.result.successMessage="",this.resultData.push(e.result),this.resultData.map(e=>{e.interval=setInterval(()=>{const t=new g.b;t.uniqueId=e.uniqueId,this.globalRulesService.getValidateGlobalRuleStatus(t).subscribe(t=>{const i=t.result.globalRuleData;e.message="",e.filePath="","started"===i.status?(e.progressBarShow=!0,e.value=0,this.spinner.show("spinner2")):"in progress"===i.status?(e.value=i.executionPercentage,e.progressBarShow=!0,e.value>=100&&(e.value=100)):"completed"===i.status?(e.progressBarShow=!1,e.successMessage="Successfully Validated Custom Rule",clearInterval(e.interval),this.spinner.hide("spinner2")):"failed"===i.status&&(e.progressBarShow=!1,e.message=i.validateCustomRuleMessage+" "+i.executionError,e.filePath="For full details please refer '"+i.logFilePath+"'",clearInterval(e.interval),this.spinner.hide("spinner2"))})},2500)})):this.messages.displayToaster(e.message,"error","Failed")})}templateSelect(e){this.templateId="",this.modalRef=this.modalService.show(e,{class:"gray modal-md",backdrop:"static",keyboard:!1})}adjustHeight(){this.templateHeightCheck=!0}}return e.\u0275fac=function(t){return new(t||e)(h.dc(l.e),h.dc(m.d),h.dc(u.i),h.dc(C.a),h.dc(m.b),h.dc(f.a),h.dc(b.c),h.dc(y.a))},e.\u0275cmp=h.Xb({type:e,selectors:[["app-add-global-rule"]],features:[h.Lb],decls:72,vars:42,consts:[[1,"container-fluid","create-conn-main","margin-top-27",3,"formGroup"],[1,"row"],[1,"col-sm-12"],[1,"form-title"],[1,"row","p-field"],[1,"col-sm-12","col-md-6","mr-top"],["for","rule_name",1,"form-label"],[1,"req-field"],["id","rule_name","formControlName","ruleName","placeholder","Enter Custom Rule Name","type","text","pInputText","",1,"form-field",3,"readonly","keyup"],["class","err-msg",4,"ngIf"],["class","err-msg pt-0",4,"ngIf"],["for","description",1,"form-label"],["id","description","maxlength","500","formControlName","description","placeholder","Enter Description","type","text","pInputText","",1,"form-field",3,"readonly"],["for","rule_category",1,"form-label"],["formControlName","ruleCategory","placeholder","Select Rule Category","optionValue","value","optionLabel","name",3,"disabled","styleClass","options","virtualScroll","itemSize","filter","onChange"],["for","rule_threshold",1,"form-label"],["id","rule_threshold","max","100","min","0","formControlName","ruleThreshold","placeholder","Enter Rule Threshold","type","text","pInputText","",1,"form-field"],["for","dimension_id",1,"form-label"],["formControlName","dimensionId","placeholder","Select Dimension","optionValue","idDimension","optionLabel","dimensionName",3,"styleClass","options","virtualScroll","itemSize","filter"],["class","col-sm-12 col-md-6 mr-top",4,"ngIf"],["class","col-sm-12 col-md-12 mr-top",4,"ngIf"],["class","col-sm-12 col-md-6 p-field-checkbox d-flex",4,"ngIf"],[1,"note","row","p-field"],[1,"col-sm-12","col-md-6","mr-top","text-left"],[4,"ngIf"],[1,"row","p-field","mr-top"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button","label","Validate Custom Rule",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],["pButton","","type","button","class","button w-button shadow btn-mr-rt","label","Create Custom Rule",3,"disabled","click",4,"ngIf"],["pButton","","type","button","class","button w-button shadow btn-mr-rt","label","Update Custom Rule",3,"disabled","click",4,"ngIf"],["pButton","","type","button","label","Cancel",1,"button","w-button","shadow","btn-cancel",3,"click"],["synonymTemplate",""],["leftTemplate",""],[1,"err-msg"],[1,"err-msg","pt-0"],["for","source_template",1,"form-label"],["formControlName","rightIdData","optionValue","idData","optionLabel","name",3,"styleClass","options","placeholder","filter","disabled","virtualScroll","itemSize","onChange"],["for","data_column",1,"form-label"],["formControlName","dataColumn","placeholder","Select Data Column","optionValue","id","optionLabel","name",3,"styleClass","options","virtualScroll","itemSize","filter","onChange"],["for","global_filter",1,"form-label"],["formControlName","filterId","placeholder","Select Global Filter","optionValue","filterId","optionLabel","filterName",3,"styleClass","options","virtualScroll","itemSize","filter","onChange"],[1,"col-sm-12","col-md-12","mr-top"],["for","matching_expression",1,"form-label"],["id","matching_expression","formControlName","filterIdVal","readonly","","placeholder","Enter Filter Condition","type","text","pInputText","",1,"form-field"],["formControlName","rightTemplateFilterId","optionValue","filterId","optionLabel","filterName",3,"styleClass","options","placeholder","virtualScroll","itemSize","filter","onChange"],["id","matching_expression","formControlName","filterIdValSecond","readonly","","type","text","pInputText","",1,"form-field",3,"placeholder"],["id","matching_expression","formControlName","matchingRules","placeholder","Eg: @synonym_name_column1@=referencedata.column2","type","text","rows","5",1,"form-field"],["for","rule_expression",1,"form-label"],["id","rule_expression","formControlName","ruleExpression","type","text","rows","5",1,"form-field",3,"placeholder"],[1,"warning-msg"],[1,"col-sm-12","col-md-6","p-field-checkbox","d-flex"],["formControlName","aggregateResultsEnabled","binary","true","name","aggregate_Results_Enabled",3,"value"],["for","aggregate_Results_Enabled",1,"form-checkbox"],[4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["class","note row p-field",4,"ngIf"],["class","success_note row p-field",4,"ngIf"],[3,"value","appName","success","progressBarShow"],[1,"col-sm-11","col-md-11","text-left"],[1,"rule-ellipsis",3,"title"],[1,"success_note","row","p-field"],["pButton","","type","button","label","Create Custom Rule",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],["pButton","","type","button","label","Update Custom Rule",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],[1,"modal-header"],[1,"modal-body","height-300"],["class","note row",4,"ngIf"],[1,"container-fluid","create-conn-main"],["class","col-sm-12 col-md-12 padding-top-15 pad_bottom_20",4,"ngIf"],["class","row p-field",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-4"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Submit",1,"button","w-button","btn-mr-rt","submit-btn","btn-label",3,"click"],[1,"col-lg-4","arrow-text-right"],[3,"click"],[1,"cursor-pointer"],["src","assets/images/close.png",1,"margin-l","cursor-pointer"],[1,"note","row"],[1,"col-sm-12","col-md-6","text-left"],[1,"col-sm-12","col-md-12","padding-top-15","pad_bottom_20"],[1,"col-sm-12","col-md-12","padding-top-15"],[1,"form-label","word_break_all"],[1,"col-sm-12","col-md-12","padding-top-10",3,"ngClass"],["inputId","id","placeholder","Select Column","optionValue","name","optionLabel","name",3,"styleClass","options","ngModel","virtualScroll","itemSize","ngModelChange"],[1,"col-sm-12","col-md-12","padding-top-10"],[1,"modal-body",3,"ngClass"],["optionValue","idData","optionLabel","name",1,"tempDropdown",3,"styleClass","ngModelOptions","ngModel","options","placeholder","filter","virtualScroll","itemSize","ngModelChange","onFocus"],["pButton","","type","button","label","Submit",1,"button","w-button","btn-mr-rt","submit-btn","btn-label",3,"disabled","click"]],template:function(e,t){if(1&e){const e=h.kc();h.jc(0,"div",0),h.jc(1,"div",1),h.jc(2,"div",2),h.jc(3,"p",3),h.bd(4),h.ic(),h.ic(),h.ic(),h.jc(5,"div",4),h.jc(6,"div",5),h.jc(7,"label",6),h.bd(8,"Custom Rule Name"),h.jc(9,"sup",7),h.bd(10,"*"),h.ic(),h.ic(),h.ec(11,"br"),h.jc(12,"input",8),h.qc("keyup",function(){return t.checkDuplicateGlobalRuleName()}),h.ic(),h.Zc(13,H,3,2,"p",9),h.Zc(14,X,6,0,"p",10),h.ic(),h.jc(15,"div",5),h.jc(16,"label",11),h.bd(17,"Description"),h.ic(),h.ec(18,"br"),h.ec(19,"input",12),h.ic(),h.jc(20,"div",5),h.jc(21,"label",13),h.bd(22,"Rule Category"),h.jc(23,"sup",7),h.bd(24,"*"),h.ic(),h.ic(),h.ec(25,"br"),h.jc(26,"p-dropdown",14),h.qc("onChange",function(e){return t.setRuleCategory(e)}),h.ic(),h.Zc(27,Q,2,1,"p",9),h.ic(),h.jc(28,"div",5),h.jc(29,"label",15),h.bd(30,"Rule Threshold"),h.jc(31,"sup",7),h.bd(32,"*"),h.ic(),h.bd(33,"(%)"),h.ic(),h.ec(34,"br"),h.ec(35,"input",16),h.Zc(36,te,3,2,"p",9),h.ic(),h.jc(37,"div",5),h.jc(38,"label",17),h.bd(39,"Dimension"),h.jc(40,"sup",7),h.bd(41,"*"),h.ic(),h.ic(),h.ec(42,"br"),h.ec(43,"p-dropdown",18),h.Zc(44,oe,2,1,"p",9),h.ic(),h.Zc(45,ae,8,12,"div",19),h.Zc(46,se,5,5,"div",19),h.Zc(47,de,8,6,"div",19),h.Zc(48,ue,5,0,"div",20),h.Zc(49,he,6,8,"div",19),h.Zc(50,me,5,2,"div",20),h.Zc(51,Ce,9,1,"div",20),h.Zc(52,Fe,10,4,"div",20),h.Zc(53,Oe,4,1,"div",21),h.ic(),h.jc(54,"div",22),h.jc(55,"div",23),h.jc(56,"p"),h.bd(57,"Note: Fields marked with "),h.jc(58,"b"),h.bd(59,'"*"'),h.ic(),h.bd(60," are required. "),h.ic(),h.ic(),h.ic(),h.Zc(61,je,2,1,"div",24),h.jc(62,"div",25),h.jc(63,"div",26),h.jc(64,"button",27),h.qc("click",function(){h.Rc(e);const i=h.Oc(71);return t.templateSelect(i)}),h.ic(),h.Zc(65,Me,1,1,"button",28),h.Zc(66,Re,1,1,"button",29),h.jc(67,"button",30),h.qc("click",function(){return t.backToScreen()}),h.ic(),h.ic(),h.ic(),h.ic(),h.Zc(68,Ve,20,5,"ng-template",null,31,h.ad),h.Zc(70,qe,21,13,"ng-template",null,32,h.ad)}2&e&&(h.Bc("formGroup",t.globalForm),h.Nb(4),h.dd("\xa0",t.editMode?"Edit Custom Rule":"Create Custom Rule"," "),h.Nb(8),h.Qb(t.editMode?"diabled-ip":""),h.Bc("readonly",t.editMode),h.Nb(1),h.Bc("ngIf",t.globalForm.controls.ruleName.invalid&&!t.globalForm.controls.ruleName.pristine),h.Nb(1),h.Bc("ngIf",!t.ruleNameUnique),h.Nb(5),h.Qb(t.editMode?"diabled-ip":""),h.Bc("readonly",t.editMode),h.Nb(7),h.Qb(t.editMode?"diabled-ip":""),h.Bc("disabled",t.editMode)("styleClass","form-field")("options",t.ruleCategoryList)("virtualScroll",!0)("itemSize",30)("filter",!0),h.Nb(1),h.Bc("ngIf",t.globalForm.controls.ruleCategory.invalid&&!t.globalForm.controls.ruleCategory.pristine),h.Nb(9),h.Bc("ngIf",t.globalForm.controls.ruleThreshold.invalid&&!t.globalForm.controls.ruleThreshold.pristine),h.Nb(7),h.Bc("styleClass","form-field")("options",t.dimensionList)("virtualScroll",!0)("itemSize",30)("filter",!0),h.Nb(1),h.Bc("ngIf",t.globalForm.controls.dimensionId.invalid&&!t.globalForm.controls.dimensionId.pristine),h.Nb(1),h.Bc("ngIf","orphan"===t.globalForm.controls.ruleCategory.value||"cross referential"===t.globalForm.controls.ruleCategory.value||"conditional orphan"===t.globalForm.controls.ruleCategory.value||"conditional cross referential"===t.globalForm.controls.ruleCategory.value),h.Nb(1),h.Bc("ngIf",("orphan"===t.globalForm.controls.ruleCategory.value||"cross referential"===t.globalForm.controls.ruleCategory.value||"conditional cross referential"===t.globalForm.controls.ruleCategory.value||"conditional orphan"===t.globalForm.controls.ruleCategory.value)&&t.showColumn),h.Nb(1),h.Bc("ngIf","conditional orphan"===t.globalForm.controls.ruleCategory.value||"conditional referential"===t.globalForm.controls.ruleCategory.value||"conditional sql internal rule"===t.globalForm.controls.ruleCategory.value||"conditional duplicate check"===t.globalForm.controls.ruleCategory.value||"conditional completeness check"===t.globalForm.controls.ruleCategory.value||"conditional cross referential"===t.globalForm.controls.ruleCategory.value),h.Nb(1),h.Bc("ngIf","conditional orphan"===t.globalForm.controls.ruleCategory.value||"conditional referential"===t.globalForm.controls.ruleCategory.value||"conditional sql internal rule"===t.globalForm.controls.ruleCategory.value||"conditional duplicate check"===t.globalForm.controls.ruleCategory.value||"conditional completeness check"===t.globalForm.controls.ruleCategory.value||"conditional cross referential"===t.globalForm.controls.ruleCategory.value),h.Nb(1),h.Bc("ngIf","conditional orphan"===t.globalForm.controls.ruleCategory.value||"conditional cross referential"===t.globalForm.controls.ruleCategory.value),h.Nb(1),h.Bc("ngIf","conditional orphan"===t.globalForm.controls.ruleCategory.value||"conditional cross referential"===t.globalForm.controls.ruleCategory.value),h.Nb(1),h.Bc("ngIf","orphan"===t.globalForm.controls.ruleCategory.value||"cross referential"===t.globalForm.controls.ruleCategory.value||"conditional orphan"===t.globalForm.controls.ruleCategory.value||"conditional cross referential"===t.globalForm.controls.ruleCategory.value),h.Nb(1),h.Bc("ngIf","referential"===t.globalForm.controls.ruleCategory.value||"cross referential"===t.globalForm.controls.ruleCategory.value||"conditional referential"===t.globalForm.controls.ruleCategory.value||"conditional sql internal rule"===t.globalForm.controls.ruleCategory.value||"conditional duplicate check"===t.globalForm.controls.ruleCategory.value||"conditional cross referential"===t.globalForm.controls.ruleCategory.value||"conditional completeness check"===t.globalForm.controls.ruleCategory.value||"sql internal rule"===t.globalForm.controls.ruleCategory.value),h.Nb(1),h.Bc("ngIf","conditional referential"===t.globalForm.controls.ruleCategory.value),h.Nb(8),h.Bc("ngIf",(null==t.resultData?null:t.resultData.length)>0),h.Nb(3),h.Bc("disabled",!t.globalForm.valid||!t.globalForm.dirty),h.Nb(1),h.Bc("ngIf",!t.editMode),h.Nb(1),h.Bc("ngIf",t.editMode))},directives:[l.p,l.i,l.d,l.o,l.g,v.a,o.n,l.k,w.a,F.b,U.a,o.m,O.a,o.l,l.r],styles:["[_ngcontent-%COMP%]::-moz-placeholder{color:gray;opacity:.8}[_ngcontent-%COMP%]::placeholder{color:gray;opacity:.8}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.note[_ngcontent-%COMP%]{color:#eb5454}.note[_ngcontent-%COMP%], .success_note[_ngcontent-%COMP%]{text-align:right;font-size:13px;padding-top:10px}.success_note[_ngcontent-%COMP%]{color:green}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.margin-top-27[_ngcontent-%COMP%]{margin-top:27px}.height-300[_ngcontent-%COMP%]{height:300px}.mr-top[_ngcontent-%COMP%]{padding-top:15px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]     .p-inputtext{font-size:14px}.p-field[_ngcontent-%COMP%]{margin:0 10px}.p-field-form[_ngcontent-%COMP%]{padding-right:0}.diabled-ip[_ngcontent-%COMP%]{opacity:.7;box-shadow:none!important;cursor:inherit}.diabled-ip[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .p-disabled:hover{cursor:not-allowed!important}.optional-fields[_ngcontent-%COMP%]{color:#789}.form-checkbox[_ngcontent-%COMP%]{padding-left:10px;font-size:16px;padding-top:8px}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.warning-msg[_ngcontent-%COMP%]{font-size:12px;color:#007bff;margin-bottom:0;padding-top:8px;padding-left:5px}.tempDropdown[_ngcontent-%COMP%]   .p-dropdown.p-dropdown-open[_ngcontent-%COMP%]   .p-dropdown-panel[_ngcontent-%COMP%]   .p-dropdown-items-wrapper[_ngcontent-%COMP%]   .p-dropdown-items[_ngcontent-%COMP%]   .cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{height:115px!important}.rule-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}"]}),e})();var Ge=i("Iab2"),ze=i("Z2oo"),We=i.n(ze),Te=i("Tm3k"),Ze=i.n(Te),Ae=i("i680"),Ue=i("DaQG"),$e=i.n(Ue),Je=i("rEr+"),He=i("guv5");function Xe(e,t){if(1&e){const e=h.kc();h.jc(0,"span",24),h.jc(1,"input",25),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().globalFilterValue=t})("keyup",function(t){return h.Rc(e),h.uc().globalFilterFun(t)}),h.ic(),h.bd(2,"\xa0 "),h.ec(3,"i",26),h.ic()}if(2&e){const e=h.uc();h.Nb(1),h.Bc("ngModel",e.globalFilterValue)}}function Ye(e,t){if(1&e){const e=h.kc();h.jc(0,"th"),h.bd(1),h.ec(2,"br"),h.ec(3,"p-sortIcon",31),h.jc(4,"app-column-filter",32),h.qc("hideFilterDataBox",function(t){return h.Rc(e),h.uc(3).hideBox(t)})("filterData",function(t){return h.Rc(e),h.uc(3).getFilterData(t)})("resetFilterValues",function(t){return h.Rc(e),h.uc(3).resetFilter(t)}),h.ic(),h.jc(5,"span",33),h.jc(6,"i",34),h.qc("click",function(){h.Rc(e);const t=h.uc().$implicit;return h.uc(2).onFilterClick(t.originalValue)}),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc().$implicit,t=h.uc(2);h.Nb(1),h.dd(" ",e.displayValue,""),h.Nb(2),h.Cc("field",e.originalValue),h.Cc("pSortableColumn",e.originalValue),h.Nb(1),h.Bc("colFilterData",t.getFilterState(e.originalValue))("display",t.displayFiltersFor[e.originalValue])("fieldName",e.originalValue)("customId",e.originalValue),h.Nb(1),h.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"selected-filter-column":""),h.Nb(1),h.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function Qe(e,t){if(1&e&&(h.hc(0),h.Zc(1,Ye,7,9,"th",30),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",e.isSelected)}}function Ke(e,t){if(1&e&&(h.jc(0,"tr",27),h.Zc(1,Qe,2,1,"ng-container",28),h.jc(2,"th",29),h.bd(3," Actions"),h.ic(),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("ngForOf",e.customizeCols)}}function et(e,t){if(1&e&&(h.jc(0,"td",39),h.jc(1,"span"),h.bd(2),h.ic(),h.ic()),2&e){const e=h.uc().$implicit,t=h.uc().$implicit;h.Bc("title",t[e.originalValue])("ngClass","filterName"==e.originalValue||"filterCondition"==e.originalValue||"description"==e.originalValue?"rule-ellipsis":""),h.Nb(2),h.cd(t[e.originalValue])}}function tt(e,t){if(1&e&&(h.hc(0),h.Zc(1,et,3,3,"td",38),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",e.isSelected)}}function it(e,t){if(1&e){const e=h.kc();h.jc(0,"tr",35),h.Zc(1,tt,2,1,"ng-container",28),h.jc(2,"td",29),h.jc(3,"span",36),h.qc("click",function(){h.Rc(e);const i=t.$implicit;return h.uc().editGlobalFilter(i)}),h.ec(4,"i",37),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc();let t=null;h.Nb(1),h.Bc("ngForOf",e.customizeCols),h.Nb(2),h.Bc("ngClass",null!=(t=e.roleOnModule("Global Rule"))&&null!=t.accessControl&&t.accessControl.includes("U")?" cursor-pointer":"disable")}}function ot(e,t){1&e&&(h.jc(0,"div",40),h.bd(1," No records found "),h.ic())}function lt(e,t){if(1&e){const e=h.kc();h.jc(0,"div",41),h.jc(1,"p-paginator",42,43),h.qc("onPageChange",function(t){return h.Rc(e),h.uc().onPageChange(t)})("firstChange",function(t){return h.Rc(e),h.uc().first=t}),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(1),h.Bc("rows",10)("totalRecords",e.globalFilters.length)("showCurrentPageReport",!0)("first",e.first)}}function nt(e,t){if(1&e&&(h.jc(0,"div",48),h.jc(1,"div"),h.bd(2),h.ic(),h.ic()),2&e){const e=h.uc(3);h.Nb(2),h.ed("Page ",e.selectedPage.page," of ",e.totalNumOfPages,"")}}function at(e,t){if(1&e&&h.Zc(0,nt,3,2,"div",47),2&e){const e=h.uc(2);h.Bc("ngIf",e.selectedPage)}}function st(e,t){if(1&e){const e=h.kc();h.jc(0,"div",44),h.jc(1,"p-dropdown",45),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().selectedPage=t})("onChange",function(t){return h.Rc(e),h.uc().onPageNumChange(t)}),h.Zc(2,at,1,1,"ng-template",46),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(1),h.Bc("options",e.numOfPages)("filter",!0)("ngModel",e.selectedPage)}}function rt(e,t){if(1&e){const e=h.kc();h.hc(0),h.jc(1,"div",62),h.jc(2,"table"),h.jc(3,"tr",63),h.jc(4,"td"),h.jc(5,"p-checkbox",64),h.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return h.Rc(e),h.uc(2).pdfColsValue()}),h.ic(),h.ic(),h.jc(6,"td"),h.jc(7,"label"),h.bd(8),h.ic(),h.ic(),h.ic(),h.ic(),h.ic(),h.gc()}if(2&e){const e=t.$implicit,i=h.uc(2);h.Nb(5),h.Bc("ngModel",e.pdfCols)("disabled",i.pdfCheckboxDisabled&&!e.pdfCols),h.Nb(3),h.cd(e.displayValue)}}function ct(e,t){1&e&&(h.jc(0,"div",65),h.bd(1,"You can select up to 9 columns."),h.ic())}function dt(e,t){if(1&e){const e=h.kc();h.jc(0,"div",49),h.jc(1,"span",50),h.bd(2,"Please select columns that need to be downloaded in PDF"),h.ic(),h.ic(),h.jc(3,"div",51),h.jc(4,"div",52),h.Zc(5,rt,9,3,"ng-container",28),h.ic(),h.ic(),h.jc(6,"div",53),h.jc(7,"div",54),h.jc(8,"div",55),h.Zc(9,ct,2,0,"div",56),h.ic(),h.jc(10,"div",57),h.jc(11,"button",58),h.qc("click",function(){h.Rc(e);const t=h.uc();return t.exportPdf(),t.modalRef.hide()}),h.ic(),h.ic(),h.jc(12,"div",59),h.jc(13,"div"),h.jc(14,"label",60),h.qc("click",function(){return h.Rc(e),h.uc().closeExportPdf()}),h.bd(15,"Close"),h.ic(),h.jc(16,"img",61),h.qc("click",function(){return h.Rc(e),h.uc().closeExportPdf()}),h.ic(),h.ic(),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(5),h.Bc("ngForOf",e.customizeCols),h.Nb(4),h.Bc("ngIf",e.pdfCheckboxDisabled),h.Nb(2),h.Bc("disabled",e.disableDownloadBtn)}}const ut=function(){return{width:"100%"}},gt=function(){return["filterId","filterName","domain","filterCondition","description","createdAt"]};We.a.vfs=Ze.a.pdfMake.vfs;let pt=(()=>{class e{constructor(e,t,i,o,l,n,a,s){this.globalFiltersService=e,this.spinner=t,this.filterService=i,this.modalService=o,this.datePipe=l,this.router=n,this.detectChanges=a,this.domainProjService=s,this.projectNames=[],this.globalFilters=[],this.mainGlobalFilters=[],this.pageWiseGlobalFilters=[],this.display=!1,this.deleteModal=!1,this.deleteGlobalFilterObj={},this.globalFilterObjToCopy={},this.first=0,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.pageSize=9,this.totalNumOfPages=0,this.checkboxDisabled=!1,this.maxCount=4,this.pdfData=[],this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.displayFiltersFor={filterId:!1,filterName:!1,domain:!1,description:!1,filterCondition:!1,createdAt:!1,createdByUser:!1},this.multiSortMeta=[{field:"filterId",order:-1}],this.customizeCols=[{displayValue:"Rule Id",originalValue:"filterId",isSelected:!1,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Filter Name",originalValue:"filterName",isSelected:!0,necessaryCol:!0,alwaysSelected:!1},{displayValue:"Domain",originalValue:"domain",isSelected:!0,necessaryCol:!0,alwaysSelected:!1},{displayValue:"Filter Condition",originalValue:"filterCondition",isSelected:!0,necessaryCol:!0,alwaysSelected:!1},{displayValue:"Description",originalValue:"description",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Created On",originalValue:"createdAt",isSelected:!1,necessaryCol:!1,alwaysSelected:!0}],this.selectedProjId=JSON.parse(sessionStorage.getItem("activeProjectId")),this.ruleNameValid=!0,this.ruleNameReq=!1,this.ruleNameLengthExceed=!1,this.changedGlobalFilterName=!1,this.ruleNamePattern=/^[a-zA-Z0-9_]*$/,this.ruleNameUnique=!0,this.columnFilter={},this.scrollHt="300px",this.filterData={},this.selectedRowData={},this.userDetails={},this.isHealthCheckEnabled="",this.customSortArr=[],this.noRecordFound=!1}ngOnInit(){var e;this.domainProjService.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData"),sessionStorage.removeItem("connDet"),sessionStorage.removeItem("editGlobalFilter"),sessionStorage.getItem("userDetail")&&(this.userDetails=JSON.parse(sessionStorage.getItem("userDetail"))),this.fromDate=new Date(sessionStorage.getItem("fromDate")),this.toDate=new Date(sessionStorage.getItem("toDate")),this.getGlobalFiltersList(),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(e=>{e.accessControl=e.accessControl.split("-")})))}roleOnModule(e){return this.roleModule.find(t=>t.moduleName===e)}hideBox(e){this.displayFiltersFor[e.fieldName]=!1}openExportPdf(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}closeExportPdf(){this.modalRef.hide(),setTimeout(()=>{this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols.forEach(e=>e.pdfCols=!1)},1e3)}exportPdf(){this.pdfData.length&&(this.spinner.show(),setTimeout(()=>{const e=new Ae.default("l","pt"),t=this.customizeCols.filter(e=>e.pdfCols),i=[];t.forEach(e=>i.push(e.displayValue));const o=[];t.forEach(e=>o.push(e.originalValue));let l=[];l=this.pdfData.map(e=>Object.assign(o.map(t=>e[t])));const n=e.internal.pageSize,a=n.height?n.height:n.getHeight();$e()(e,{columns:i,body:l,didDrawPage:t=>{1==t.pageNumber&&(e.text("Global Filter List",e.internal.pageSize.width/2,25,null,"center"),e.setFontSize(10)),e.setFontSize(9),e.text("Created by FirstEigen",e.internal.pageSize.width-40,a-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}},columnStyles:{}}),e.save("GlobalFilterList.pdf"),this.disableDownloadBtn=!0,this.pdfCheckboxDisabled=!1,t.forEach(e=>e.pdfCols=!1),this.spinner.hide()},2e3))}pdfColsValue(){this.pdfCheckCount=0,this.customizeCols.filter(e=>!0===e.pdfCols).forEach(e=>{!0===e.pdfCols&&this.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}downloadCSV(){const e=new Date(this.fromDate),t=new Date(this.toDate);this.datePipe.transform(e,"yyyy-MM-dd"),this.datePipe.transform(t,"yyyy-MM-dd"),this.globalFiltersService.downloadGlobalFilterCSV("getGlobalFiltersCSV").subscribe(e=>{const t=this.datePipe.transform(new Date,"yyyy-MM-dd");Object(Ge.saveAs)(e,"GlobalFilters_CSV_"+t+".csv")})}onFilterClick(e){Object.keys(this.displayFiltersFor).map(t=>{this.displayFiltersFor[t]=t===e})}checkValue(){this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}getGlobalFiltersList(){this.spinner.show(),this.globalFiltersService.getListOfGlobalFilters().subscribe(e=>{if("success"===e.status){this.spinner.hide(),this.spinner.hide()&&(this.noRecordFound=!0),this.mainGlobalFilters=[...e.result],sessionStorage.setItem("mainGlobalFilters",JSON.stringify(this.mainGlobalFilters)),this.globalFilters=[...this.mainGlobalFilters],this.pdfData=[...this.globalFilters];const t=this.first+this.pageSize,i=this.globalFilters.filter((e,i)=>i<=t);this.pageWiseGlobalFilters=[...i],this.calculateNumOfPages(),this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}else this.mainGlobalFilters=[],this.globalFilters=[],this.pageWiseGlobalFilters=[]})}calculateNumOfPages(){if(this.totalNumOfPages=this.mainGlobalFilters.length?this.mainGlobalFilters.length<this.pageSize?1:Math.ceil(this.mainGlobalFilters.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}onPageChange(e){this.first=e.first;const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseGlobalFilters=[...o]}onPageNumChange(e){this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.pageWiseGlobalFilters=[...o]}getSortedData(){const e=[...this.globalFilters];return this.sortOrderEvent?1===this.sortOrderEvent.order?(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?-1:0),e):(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?-1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?1:0),e):e}editGlobalFilter(e){sessionStorage.setItem("editGlobalFilter",JSON.stringify(e)),this.router.navigateByUrl("/dbckangui/global-rule/edit-global-filter")}getFilterData(e){this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e[0]]=!1,this.first=0,this.globalFilterValue||(this.globalFilters=[...this.mainGlobalFilters]),t.forEach(e=>{this.globalFilters=this.globalFilters.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}resetFilter(e){this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.globalFilters=[...this.mainGlobalFilters],t.forEach(e=>{this.globalFilters=this.globalFilters.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}customSort(e){this.sortField=e.field,this.sortOrder=e.order,this.sortMode=e.mode,this.customSortArr.filter(t=>t.field=e.field)[0]?this.customSortArr.map(t=>{t.order=e.order}):this.customSortArr.push(e);const t=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=t+1,this.selectedPage.pageIndex=t,this.sortOrderEvent=e;const i=[...this.globalFilters],o=[...this.sortOrderEvent.multiSortMeta];o.length>=7&&(e.multiSortMeta=e.multiSortMeta.splice(4,1)),1===o.length?i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]?-o[0].order:0):2===o.length?i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]?-o[1].order:0):3===o.length?i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]?-o[2].order:0):4===o.length&&i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]&&-o[2].order||e[o[3].field]>t[o[3].field]?o[3].order:t[o[3].field]>e[o[3].field]?-o[3].order:0);const l=this.first+this.pageSize,n=i.filter((e,t)=>{if(t<=l&&t>=this.first)return e});this.pageWiseGlobalFilters=[...n]}globalFilterFun(e){const t=[...this.globalFilterLogic()],i=this.first+this.pageSize,o=t.filter((e,t)=>t<=i);this.detectChanges.detectChanges(),this.pageWiseGlobalFilters=[...o],this.setPageNumber()}globalFilterLogic(){if(this.mainGlobalFilters.length){const e=Object.keys(this.mainGlobalFilters[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainGlobalFilters.forEach(t=>{let i=!1;e.forEach(e=>{t[e]&&t[e].toString().toLowerCase().includes(this.globalFilterValue.toLowerCase())&&!i&&(this.filterValue.push(t),i=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.globalFilters=[...this.filterValue],this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=[...this.mainGlobalFilters],this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.globalFilters=[...this.filterValue],this.calculateNumOfPages(),this.globalFilters}return[]}setPageNumber(){if(this.totalNumOfPages=this.globalFilters.length?this.globalFilters.length<this.pageSize?1:Math.ceil(this.globalFilters.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}const e=this.first+this.pageSize,t=this.globalFilters.filter((t,i)=>i<=e);this.pageWiseGlobalFilters=[...t]}getFilterState(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){const t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}createGlobalFilter(){this.router.navigate(["/dbckangui/global-rule/add-global-filter"])}filterColumnNameWithHighlightName(e){return!(Object.keys(this.columnFilter).findIndex(t=>t===e)<0)}}return e.\u0275fac=function(t){return new(t||e)(h.dc(m.d),h.dc(b.c),h.dc(n.d),h.dc(f.a),h.dc(o.d),h.dc(u.i),h.dc(h.h),h.dc(y.a))},e.\u0275cmp=h.Xb({type:e,selectors:[["app-global-filter-view"]],decls:28,vars:27,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title","marginrem"],[1,"col-sm-6","text-right"],[1,"form-title"],["pButton","","type","button","label","Add",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn",3,"ngClass","click"],[1,"d-flex","justify-content-end","p-field","br-top"],[1,""],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["id","view_global_filter",1,"row","p-field"],["view_global_filter",""],[1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","responsiveLayout","scroll","sortMode","multiple",3,"value","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","rows","first","customSort","multiSortMeta","globalFilterFields","firstChange","sortFunction"],["globalfilterTab",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["exportPdfTemplate",""],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"header"],[4,"ngFor","ngForOf"],[1,"actionbtn"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil"],["class","text-center word_break_word_all",3,"title","ngClass",4,"ngIf"],[1,"text-center","word_break_word_all",3,"title","ngClass"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","pdf-modal"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-4"],["class","color-code",4,"ngIf"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"]],template:function(e,t){if(1&e){const e=h.kc();h.jc(0,"div",0),h.jc(1,"div",1),h.jc(2,"div",2),h.jc(3,"p",3),h.bd(4," Global Filters "),h.ic(),h.ic(),h.jc(5,"div",4),h.jc(6,"p",5),h.jc(7,"button",6),h.qc("click",function(){return t.createGlobalFilter()}),h.ic(),h.ic(),h.ic(),h.ic(),h.jc(8,"div",7),h.jc(9,"div",8),h.jc(10,"a"),h.jc(11,"img",9),h.qc("click",function(){return t.downloadCSV()}),h.ic(),h.ic(),h.jc(12,"a"),h.jc(13,"img",10),h.qc("click",function(){h.Rc(e);const i=h.Oc(27);return t.openExportPdf(i)}),h.ic(),h.ic(),h.ic(),h.ic(),h.jc(14,"div",11,12),h.jc(16,"div",13),h.jc(17,"p-table",14,15),h.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),h.Zc(19,Xe,4,1,"ng-template",16),h.Zc(20,Ke,4,1,"ng-template",17),h.Zc(21,it,5,2,"ng-template",18),h.ic(),h.ic(),h.Zc(22,ot,2,0,"div",19),h.jc(23,"div",20),h.Zc(24,lt,3,4,"div",21),h.Zc(25,st,3,3,"div",22),h.ic(),h.ic(),h.ic(),h.Zc(26,dt,17,3,"ng-template",null,23,h.ad)}if(2&e){let e=null;h.Nb(7),h.Bc("ngClass",null!=(e=t.roleOnModule("Global Rule"))&&null!=e.accessControl&&e.accessControl.includes("C")?" cursor-pointer":"disable"),h.Nb(3),h.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseGlobalFilters&&t.pageWiseGlobalFilters.length?"":"disabled-opa",""),h.Nb(2),h.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseGlobalFilters&&t.pageWiseGlobalFilters.length?"":"disabled-opa",""),h.Nb(5),h.Vc(h.Ec(25,ut)),h.Bc("value",t.pageWiseGlobalFilters)("responsive",!0)("rowHover",!0)("sortField","filterId")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("rows",10)("first",t.first)("customSort",!0)("multiSortMeta",t.multiSortMeta)("globalFilterFields",h.Ec(26,gt)),h.Nb(5),h.Bc("ngIf",!t.pageWiseGlobalFilters.length&&t.noRecordFound),h.Nb(2),h.Bc("ngIf",t.pageWiseGlobalFilters.length),h.Nb(1),h.Bc("ngIf",t.pageWiseGlobalFilters.length)}},directives:[F.b,o.l,Je.f,n.i,o.n,l.d,v.a,l.o,l.r,o.m,Je.d,Je.e,He.a,r.a,w.a,U.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}.rule-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),e})();function ht(e,t){if(1&e){const e=h.kc();h.jc(0,"div",32),h.jc(1,"span",33),h.jc(2,"input",34),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().globalFilterValue=t})("keyup",function(t){return h.Rc(e),h.uc().globalFilterFun(t)}),h.ic(),h.bd(3,"\xa0 "),h.ec(4,"i",35),h.ic(),h.jc(5,"span",36),h.qc("click",function(){h.Rc(e);const t=h.uc(),i=h.Oc(46);return t.showCustomizeModal(i)}),h.ec(6,"img",37),h.bd(7," \xa0Customize "),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(2),h.Bc("ngModel",e.globalFilterValue),h.Nb(3),h.Qb(0==(null==e.globalRules?null:e.globalRules.length)?"disable":""),h.Nb(1),h.Rb("cursor-pointer ",e.globalRules.length?"":"disabled-opa","")}}function mt(e,t){if(1&e){const e=h.kc();h.jc(0,"th"),h.bd(1),h.ec(2,"br"),h.ec(3,"p-sortIcon",42),h.jc(4,"app-column-filter",43),h.qc("hideFilterDataBox",function(t){return h.Rc(e),h.uc(3).hideBox(t)})("filterData",function(t){return h.Rc(e),h.uc(3).getFilterData(t)})("resetFilterValues",function(t){return h.Rc(e),h.uc(3).resetFilter(t)}),h.ic(),h.jc(5,"span",44),h.jc(6,"i",45),h.qc("click",function(){h.Rc(e);const t=h.uc().$implicit;return h.uc(2).onFilterClick(t.originalValue)}),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc().$implicit,t=h.uc(2);h.Nb(1),h.dd(" ",e.displayValue,""),h.Nb(2),h.Cc("field",e.originalValue),h.Cc("pSortableColumn",e.originalValue),h.Nb(1),h.Bc("colFilterData",t.getFilterState(e.originalValue))("display",t.displayFiltersFor[e.originalValue])("fieldName",e.originalValue)("customId",e.originalValue),h.Nb(1),h.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"selected-filter-column":""),h.Nb(1),h.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function ft(e,t){if(1&e&&(h.hc(0),h.Zc(1,mt,7,9,"th",41),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",e.isSelected)}}function bt(e,t){1&e&&(h.jc(0,"th",46),h.bd(1,"More"),h.ic())}function Ct(e,t){if(1&e&&(h.jc(0,"tr",38),h.Zc(1,ft,2,1,"ng-container",39),h.jc(2,"th"),h.bd(3," Actions"),h.ic(),h.Zc(4,bt,2,0,"th",40),h.ic()),2&e){const e=h.uc();h.Nb(1),h.Bc("ngForOf",e.customizeCols),h.Nb(3),h.Bc("ngIf",e.showMoreCols())}}function yt(e,t){if(1&e&&(h.jc(0,"td",55),h.jc(1,"span"),h.bd(2),h.ic(),h.ic()),2&e){const e=h.uc().$implicit,t=h.uc().$implicit;h.Bc("title",t[e.originalValue])("ngClass","ruleName"==e.originalValue||"expression"==e.originalValue||"ruleType"==e.originalValue||"filterCondition"==e.originalValue||"rightTemplateFilterCondition"==e.originalValue||"matchingRules"==e.originalValue||"createdByUser"==e.originalValue?"rule-ellipsis":""),h.Nb(2),h.cd(t[e.originalValue])}}function vt(e,t){if(1&e&&(h.hc(0),h.Zc(1,yt,3,3,"td",54),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",e.isSelected)}}function wt(e,t){if(1&e){const e=h.kc();h.jc(0,"td",56),h.qc("click",function(){h.Rc(e);const t=h.uc().$implicit,i=h.uc(),o=h.Oc(48);return i.openOtherField(o,t)}),h.bd(1," ..."),h.ic()}}function Ft(e,t){if(1&e){const e=h.kc();h.jc(0,"tr",47),h.Zc(1,vt,2,1,"ng-container",39),h.jc(2,"td"),h.jc(3,"span",48),h.qc("click",function(){h.Rc(e);const i=t.$implicit;return h.uc().editGlobalRule(i)}),h.ec(4,"i",49),h.ic(),h.jc(5,"span",48),h.qc("click",function(){h.Rc(e);const i=t.$implicit;return h.uc().deleteGlobalRule(i)}),h.ec(6,"i",50),h.ic(),h.jc(7,"span",51),h.qc("click",function(){h.Rc(e);const i=t.$implicit;return h.uc().copyGlobalRule(i)}),h.ec(8,"i",52),h.ic(),h.ic(),h.Zc(9,wt,2,0,"td",53),h.ic()}if(2&e){const e=h.uc();let t=null,i=null;h.Nb(1),h.Bc("ngForOf",e.customizeCols),h.Nb(2),h.Bc("ngClass",null!=(t=e.roleOnModule("Global Rule"))&&null!=t.accessControl&&t.accessControl.includes("U")?" cursor-pointer":"disable"),h.Nb(2),h.Bc("ngClass",null!=(i=e.roleOnModule("Global Rule"))&&null!=i.accessControl&&i.accessControl.includes("D")?" cursor-pointer":"disable"),h.Nb(4),h.Bc("ngIf",e.showMoreCols())}}function Ot(e,t){1&e&&(h.jc(0,"div",57),h.bd(1,"No records found "),h.ic())}function Nt(e,t){if(1&e){const e=h.kc();h.jc(0,"div",58),h.jc(1,"p-paginator",59,60),h.qc("onPageChange",function(t){return h.Rc(e),h.uc().onPageChange(t)})("firstChange",function(t){return h.Rc(e),h.uc().first=t}),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(1),h.Bc("rows",10)("totalRecords",e.globalRules.length)("showCurrentPageReport",!0)("first",e.first)}}function Pt(e,t){if(1&e&&(h.jc(0,"div",65),h.jc(1,"div"),h.bd(2),h.ic(),h.ic()),2&e){const e=h.uc(3);h.Nb(2),h.ed("Page ",e.selectedPage.page," of ",e.totalNumOfPages,"")}}function xt(e,t){if(1&e&&h.Zc(0,Pt,3,2,"div",64),2&e){const e=h.uc(2);h.Bc("ngIf",e.selectedPage)}}function St(e,t){if(1&e){const e=h.kc();h.jc(0,"div",61),h.jc(1,"p-dropdown",62),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().selectedPage=t})("onChange",function(t){return h.Rc(e),h.uc().onPageNumChange(t)}),h.Zc(2,xt,1,1,"ng-template",63),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(1),h.Bc("options",e.numOfPages)("filter",!0)("ngModel",e.selectedPage)}}function jt(e,t){1&e&&(h.jc(0,"span",66),h.bd(1," Please enter New Rule name "),h.ic())}function Mt(e,t){1&e&&(h.jc(0,"span",25),h.bd(1,"Please enter "),h.jc(2,"b"),h.bd(3,"New Rule Name"),h.ic(),h.bd(4,". "),h.ic())}function Rt(e,t){1&e&&(h.jc(0,"span",25),h.bd(1," Please start naming with alphabets and do not use spaces or special characters except _(underscore) "),h.ic())}function _t(e,t){1&e&&(h.jc(0,"span",25),h.bd(1,"This "),h.jc(2,"b"),h.bd(3,"Custom Rule Name"),h.ic(),h.bd(4," is in use. Please choose another name."),h.ic())}function It(e,t){1&e&&(h.jc(0,"span",25),h.bd(1,"Maximum limit exceeded."),h.ic())}function kt(e,t){1&e&&(h.jc(0,"span",67),h.ec(1,"i",68),h.bd(2," Confirmation "),h.ic())}function Dt(e,t){if(1&e){const e=h.kc();h.jc(0,"div",79),h.jc(1,"table"),h.jc(2,"tr",80),h.jc(3,"td"),h.jc(4,"p-checkbox",81),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().$implicit.isSelected=t})("onChange",function(){h.Rc(e);const t=h.uc().$implicit;return h.uc(2).checkValue(t.originalValue,t.isSelected)}),h.ic(),h.ic(),h.jc(5,"td"),h.jc(6,"label"),h.bd(7),h.ic(),h.ic(),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc().$implicit,t=h.uc(2);h.Nb(4),h.Bc("ngModel",e.isSelected)("disabled",t.checkboxDisabled&&!e.isSelected),h.Nb(3),h.cd(e.displayValue)}}function Bt(e,t){if(1&e&&(h.hc(0),h.Zc(1,Dt,8,3,"div",78),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",!e.necessaryCol&&!e.alwaysSelected)}}function Vt(e,t){if(1&e&&(h.jc(0,"div",82),h.bd(1),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.dd("You can select up to ",e.maxCount," columns.")}}function Lt(e,t){if(1&e){const e=h.kc();h.jc(0,"div",69),h.jc(1,"div",70),h.Zc(2,Bt,2,1,"ng-container",39),h.ic(),h.ic(),h.jc(3,"div",71),h.jc(4,"div",72),h.jc(5,"div",73),h.Zc(6,Vt,2,1,"div",74),h.ic(),h.jc(7,"div",75),h.jc(8,"div"),h.jc(9,"label",76),h.qc("click",function(){return h.Rc(e),h.uc().modalRef.hide()}),h.bd(10,"Close Customize"),h.ic(),h.jc(11,"img",77),h.qc("click",function(){return h.Rc(e),h.uc().modalRef.hide()}),h.ic(),h.ic(),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(2),h.Bc("ngForOf",e.customizeCols),h.Nb(4),h.Bc("ngIf",e.checkboxDisabled)}}function qt(e,t){if(1&e&&(h.jc(0,"td",90),h.bd(1),h.ic()),2&e){const e=h.uc(2).$implicit,t=h.uc(2);h.Nb(1),h.dd(": ",t.selectedRowData[e.originalValue],"")}}function Et(e,t){if(1&e&&(h.jc(0,"td",90),h.bd(1),h.vc(2,"date"),h.ic()),2&e){const e=h.uc(2).$implicit,t=h.uc(2);h.Nb(1),h.dd(": ",h.xc(2,1,t.selectedRowData[e.originalValue],"yyyy-MM-dd"),"")}}function Gt(e,t){if(1&e&&(h.jc(0,"div",89),h.jc(1,"table"),h.jc(2,"tr"),h.jc(3,"td",90),h.bd(4),h.ic(),h.Zc(5,qt,2,1,"td",91),h.Zc(6,Et,3,4,"td",91),h.ic(),h.ic(),h.ic()),2&e){const e=h.uc().$implicit;h.Nb(4),h.cd(e.displayValue),h.Nb(1),h.Bc("ngIf","createdAt"!==e.originalValue),h.Nb(1),h.Bc("ngIf","createdAt"==e.originalValue)}}function zt(e,t){if(1&e&&(h.hc(0),h.Zc(1,Gt,7,3,"div",88),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",!e.necessaryCol&&!e.isSelected)}}function Wt(e,t){if(1&e){const e=h.kc();h.jc(0,"div",83),h.jc(1,"b"),h.bd(2,"More Columns:"),h.ic(),h.ic(),h.jc(3,"div",69),h.jc(4,"div",84),h.Zc(5,zt,2,1,"ng-container",39),h.ic(),h.ic(),h.jc(6,"div",71),h.jc(7,"div",85),h.qc("click",function(){return h.Rc(e),h.uc().modalRef.hide()}),h.jc(8,"label",86),h.bd(9,"Close"),h.ic(),h.ec(10,"img",87),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(5),h.Bc("ngForOf",e.customizeCols)}}function Tt(e,t){if(1&e){const e=h.kc();h.hc(0),h.jc(1,"div",79),h.jc(2,"table"),h.jc(3,"tr",80),h.jc(4,"td"),h.jc(5,"p-checkbox",96),h.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return h.Rc(e),h.uc(2).pdfColsValue()}),h.ic(),h.ic(),h.jc(6,"td"),h.jc(7,"label"),h.bd(8),h.ic(),h.ic(),h.ic(),h.ic(),h.ic(),h.gc()}if(2&e){const e=t.$implicit,i=h.uc(2);h.Nb(5),h.Bc("ngModel",e.pdfCols)("disabled",i.pdfCheckboxDisabled&&!e.pdfCols),h.Nb(3),h.cd(e.displayValue)}}function Zt(e,t){1&e&&(h.jc(0,"div",82),h.bd(1,"You can select up to 9 columns."),h.ic())}function At(e,t){if(1&e){const e=h.kc();h.jc(0,"div",83),h.jc(1,"span",66),h.bd(2,"Please select columns that need to be downloaded in PDF"),h.ic(),h.ic(),h.jc(3,"div",92),h.jc(4,"div",70),h.Zc(5,Tt,9,3,"ng-container",39),h.ic(),h.ic(),h.jc(6,"div",71),h.jc(7,"div",72),h.jc(8,"div",93),h.Zc(9,Zt,2,0,"div",74),h.ic(),h.jc(10,"div",94),h.jc(11,"button",95),h.qc("click",function(){h.Rc(e);const t=h.uc();return t.exportPdf(),t.modalRef.hide()}),h.ic(),h.ic(),h.jc(12,"div",75),h.jc(13,"div"),h.jc(14,"label",76),h.qc("click",function(){return h.Rc(e),h.uc().closeExportPdf()}),h.bd(15,"Close"),h.ic(),h.jc(16,"img",77),h.qc("click",function(){return h.Rc(e),h.uc().closeExportPdf()}),h.ic(),h.ic(),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(5),h.Bc("ngForOf",e.customizeCols),h.Nb(4),h.Bc("ngIf",e.pdfCheckboxDisabled),h.Nb(2),h.Bc("disabled",e.disableDownloadBtn)}}const Ut=function(){return{width:"100%"}},$t=function(){return["idListColrules","ruleName","domain","ruleType","filterCondition","rightTemplateFilterCondition","matchingRules","expression","dimensionName","createdAt","createdByUser"]},Jt=function(){return{width:"50vw"}};We.a.vfs=Ze.a.pdfMake.vfs;let Ht=(()=>{class e{constructor(e,t,i,o,l,n,a,s){this.globalRulesService=e,this.spinner=t,this.filterService=i,this.datePipe=o,this.router=l,this.modalService=n,this.detectChanges=a,this.domainProjService=s,this.appConstant=new p.a,this.projectNames=[],this.globalRules=[],this.mainGlobalRules=[],this.pageWiseGlobalRules=[],this.display=!1,this.deleteModal=!1,this.deleteGlobalRuleObj={},this.globalRuleObjToCopy={},this.first=0,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.pageSize=9,this.totalNumOfPages=0,this.checkboxDisabled=!1,this.maxCount=4,this.displayFiltersFor={idListColrules:!1,ruleName:!1,domain:!1,ruleType:!1,filterCondition:!1,rightTemplateFilterCondition:!1,matchingRules:!1,expression:!1,dimensionName:!1,createdAt:!1,createdByUser:!1},this.multiSortMeta=[{field:"idListColrules",order:-1}],this.pdfData=[],this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols=[{displayValue:"Rule Id",originalValue:"idListColrules",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Rule Name",originalValue:"ruleName",isSelected:!0,necessaryCol:!0,alwaysSelected:!1},{displayValue:"Domain",originalValue:"domain",isSelected:!0,necessaryCol:!0,alwaysSelected:!1},{displayValue:"Rule Type",originalValue:"ruleType",isSelected:!0,necessaryCol:!0,alwaysSelected:!1},{displayValue:"Filter Condition",originalValue:"filterCondition",isSelected:!0,necessaryCol:!0,alwaysSelected:!1},{displayValue:"Filter Condition for Reference "+this.appConstant.dataTabelName,originalValue:"rightTemplateFilterCondition",isSelected:!0,necessaryCol:!0,alwaysSelected:!1},{displayValue:"Matching Rules",originalValue:"matchingRules",isSelected:!0,necessaryCol:!0,alwaysSelected:!1},{displayValue:"Expression",originalValue:"expression",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Dimension",originalValue:"dimensionName",isSelected:!1,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Created On",originalValue:"createdAt",isSelected:!1,necessaryCol:!1,alwaysSelected:!0},{displayValue:"Created By",originalValue:"createdByUser",isSelected:!1,necessaryCol:!1,alwaysSelected:!1}],this.selectedProjId=JSON.parse(sessionStorage.getItem("activeProjectId")),this.ruleNameValid=!0,this.ruleNameReq=!1,this.ruleNameLengthExceed=!1,this.changedGlobalRuleName=!1,this.ruleNamePattern=/^[a-zA-Z][A-Za-z0-9_]*$/,this.ruleNameUnique=!0,this.columnFilter={},this.scrollHt="300px",this.filterData={},this.selectedRowData={},this.userDetails={},this.isHealthCheckEnabled="",this.customSortArr=[],this.norecordfound=!1}ngOnInit(){var e;this.domainProjService.passDomainProjVal(!0),window.onunload=function(){sessionStorage.removeItem("mainGlobalRules"),sessionStorage.removeItem("viewBackData")},sessionStorage.removeItem("connDet"),sessionStorage.getItem("userDetail")&&(this.userDetails=JSON.parse(sessionStorage.getItem("userDetail"))),this.fromDate=new Date(sessionStorage.getItem("fromDate")),this.toDate=new Date(sessionStorage.getItem("toDate")),this.getGlobalRulesList(),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(e=>{e.accessControl=e.accessControl.split("-")})))}hideBox(e){this.displayFiltersFor[e.fieldName]=!1}roleOnModule(e){return this.roleModule.find(t=>t.moduleName===e)}openExportPdf(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}closeExportPdf(){this.modalRef.hide(),setTimeout(()=>{this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols.forEach(e=>e.pdfCols=!1)},1e3)}exportPdf(){this.pdfData.length&&(this.spinner.show(),setTimeout(()=>{const e=new Ae.default("l","pt"),t=this.customizeCols.filter(e=>e.pdfCols),i=[];t.forEach(e=>i.push(e.displayValue));const o=[];t.forEach(e=>o.push(e.originalValue));let l=[];l=this.pdfData.map(e=>Object.assign(o.map(t=>e[t])));const n=e.internal.pageSize,a=n.height?n.height:n.getHeight();$e()(e,{columns:i,body:l,didDrawPage:t=>{1==t.pageNumber&&(e.text("Custom Rules",e.internal.pageSize.width/2,25,null,"center"),e.setFontSize(10)),e.setFontSize(9),e.text("Created by FirstEigen",e.internal.pageSize.width-40,a-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}}}),e.save("GlobalRuleList.pdf"),this.disableDownloadBtn=!0,this.pdfCheckboxDisabled=!1,t.forEach(e=>e.pdfCols=!1),this.spinner.hide()},2e3))}pdfColsValue(){this.pdfCheckCount=0,this.customizeCols.filter(e=>!0===e.pdfCols).forEach(e=>{!0===e.pdfCols&&this.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}downloadCSV(){const e=new Date(this.fromDate),t=new Date(this.toDate);this.datePipe.transform(e,"yyyy-MM-dd"),this.datePipe.transform(t,"yyyy-MM-dd"),this.globalRulesService.downloadGlobalCSV("getGlobalRulesCSV").subscribe(e=>{const t=this.datePipe.transform(new Date,"yyyy-MM-dd");Object(Ge.saveAs)(e,"GlobalRules_CSV_"+t+".csv")})}onFilterClick(e){Object.keys(this.displayFiltersFor).map(t=>{this.displayFiltersFor[t]=t===e})}checkValue(e,t){this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount,null!=this.storeFilterValue&&this.storeFilterValue.map(i=>{i==e&&0==t&&this.resetFilter(e)})}showMoreCols(){return this.customizeCols.filter(e=>!e.necessaryCol&&e.isSelected).length<this.customizeCols.length}openOtherField(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}globalFilterFun(e){const t=[...this.globalFilterLogic()],i=this.first+this.pageSize,o=t.filter((e,t)=>t<=i);this.detectChanges.detectChanges(),this.pageWiseGlobalRules=[...o],this.setPageNumber()}globalFilterLogic(){if(this.mainGlobalRules.length){const e=Object.keys(this.mainGlobalRules[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainGlobalRules.forEach(t=>{let i=!1;e.forEach(e=>{t[e]&&t[e].toString().toLowerCase().includes(this.globalFilterValue.toLowerCase())&&!i&&(this.filterValue.push(t),i=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.globalRules=[...this.filterValue],this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=[...this.mainGlobalRules],this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.globalRules=[...this.filterValue],this.calculateNumOfPages(),this.globalRules}return[]}getGlobalRulesList(){this.globalRulesService.getListOfGlobalRules().subscribe(e=>{if("success"===e.status){this.spinner.hide(),this.spinner.hide()&&(this.norecordfound=!0),this.mainGlobalRules=[...e.result],sessionStorage.setItem("mainGlobalRules",JSON.stringify(this.mainGlobalRules)),this.globalRules=[...this.mainGlobalRules],this.pdfData=[...this.globalRules];const t=this.first+this.pageSize;null!=this.filterObj&&this.filterObj.forEach(e=>{this.globalRules=this.globalRules.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))});const i=this.globalRules.filter((e,i)=>i<=t);this.pageWiseGlobalRules=[...i],this.calculateNumOfPages(),this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}else this.mainGlobalRules=[],this.globalRules=[],this.pageWiseGlobalRules=[]})}calculateNumOfPages(){if(this.totalNumOfPages=this.mainGlobalRules.length?this.mainGlobalRules.length<this.pageSize?1:Math.ceil(this.mainGlobalRules.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}onPageChange(e){this.first=e.first;const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseGlobalRules=[...o]}onPageNumChange(e){this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.pageWiseGlobalRules=[...o]}getSortedData(){const e=[...this.globalRules];return this.sortOrderEvent?1===this.sortOrderEvent.order?(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?-1:0),e):(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?-1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?1:0),e):e}deleteGlobalRule(e){this.deleteModal=!0,this.deleteGlobalRuleObj=e}deleteConfirm(){this.deleteModal=!1,this.globalRulesService.deleteGlobalRule({idListColrules:this.deleteGlobalRuleObj.idListColrules}).subscribe(e=>{"success"===e.status&&(this.getGlobalRulesList(),this.deleteGlobalRuleObj={})})}copyGlobalRule(e){this.display=!0,this.ruleNameReq=!1,this.ruleNameValid=!0,this.ruleNameUnique=!0,this.changedGlobalRuleName=!1,this.globalRuleObjToCopy=JSON.parse(JSON.stringify(e)),this.checkDuplicateGlobalRuleName()}checkDuplicateGlobalRuleName(){this.changedGlobalRuleName=!0,this.ruleNameUnique=!1,this.globalRuleObjToCopy.ruleName.length>=1?(this.ruleNameReq=!1,this.globalRuleObjToCopy.ruleName.length<=500?this.ruleNamePattern.test(this.globalRuleObjToCopy.ruleName)?(this.ruleNameValid=!0,this.globalRulesService.checkDuplicateruleName("checkCustomRuleNameForDuplicate",{customRuleName:this.globalRuleObjToCopy.ruleName}).subscribe(e=>{this.ruleNameUnique=!1!==e.result.isCustomRuleNameValid},e=>{this.ruleNameUnique=!1})):(this.ruleNameValid=!1,this.ruleNameUnique=!0):(this.ruleNameValid=!0,this.ruleNameUnique=!0)):(this.ruleNameReq=!0,this.ruleNameValid=!0,this.ruleNameUnique=!0,this.ruleNameLengthExceed=!1)}editGlobalRule(e){sessionStorage.setItem("navigatedFrom","view"),sessionStorage.setItem("globalRuleDetail",JSON.stringify(e)),this.router.navigateByUrl("/dbckangui/global-rule/edit-global-rule")}customSort(e){this.sortField=e.field,this.sortOrder=e.order,this.sortMode=e.mode,this.customSortArr.filter(t=>t.field=e.field)[0]?this.customSortArr.map(t=>{t.order=e.order}):this.customSortArr.push(e);const t=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=t+1,this.selectedPage.pageIndex=t,this.sortOrderEvent=e;const i=[...this.globalRules],o=[...this.sortOrderEvent.multiSortMeta];o.length>=3&&(e.multiSortMeta=e.multiSortMeta.splice(4,1)),1===o.length?i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]?-o[0].order:0):2===o.length?i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]?-o[1].order:0):3===o.length?i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]?-o[2].order:0):4===o.length&&i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]&&-o[2].order||e[o[3].field]>t[o[3].field]?o[3].order:t[o[3].field]>e[o[3].field]?-o[3].order:0);const l=this.first+this.pageSize,n=i.filter((e,t)=>{if(t<=l&&t>=this.first)return e});this.pageWiseGlobalRules=[...n]}showCustomizeModal(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}createNewConn(){!this.ruleNameReq&&this.ruleNameUnique&&this.ruleNameValid&&(this.display=!1,this.globalRulesService.copyGlobalRule({newRuleName:this.globalRuleObjToCopy.ruleName,idListColrules:this.globalRuleObjToCopy.idListColrules}).subscribe(e=>{"success"===e.status&&this.getGlobalRulesList()}))}getFilterData(e){this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.storeFilterValue=t,this.displayFiltersFor[e[0]]=!1,this.first=0,this.globalFilterValue||(this.globalRules=[...this.mainGlobalRules]),t.forEach(e=>{this.globalRules=this.globalRules.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}resetFilter(e){this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.globalRules=[...this.mainGlobalRules],t.forEach(e=>{this.globalRules=this.globalRules.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}setPageNumber(){if(this.totalNumOfPages=this.globalRules.length?this.globalRules.length<this.pageSize?1:Math.ceil(this.globalRules.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}const e=this.first+this.pageSize,t=this.globalRules.filter((t,i)=>i<=e);this.pageWiseGlobalRules=[...t]}getFilterState(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){const t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}createGlobalRule(){sessionStorage.setItem("navigatedFrom","view"),this.router.navigate(["/dbckangui/global-rule/add-global-rule"])}filterColumnNameWithHighlightName(e){return!(Object.keys(this.columnFilter).findIndex(t=>t===e)<0)}}return e.\u0275fac=function(t){return new(t||e)(h.dc(m.d),h.dc(b.c),h.dc(n.d),h.dc(o.d),h.dc(u.i),h.dc(f.a),h.dc(h.h),h.dc(y.a))},e.\u0275cmp=h.Xb({type:e,selectors:[["app-global-rule-list"]],decls:51,vars:55,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title","marginrem"],[1,"col-sm-6","text-right"],[1,"form-title"],["pButton","","type","button","label","Add",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn",3,"ngClass","click"],[1,"d-flex","justify-content-end","p-field","br-top"],[1,""],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["id","view_global_rules",1,"row","p-field"],["view_global_rules",""],[1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","responsiveLayout","scroll","sortMode","multiple",3,"value","responsive","rowHover","sortField","sortOrder","globalFilterFields","pageLinks","filterDelay","resetPageOnSort","rows","first","customSort","multiSortMeta","firstChange","sortFunction"],["globalruleTab",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["id","ruleNameId","maxlength","500","placeholder","Please enter New Rule name","type","text","pInputText","",3,"ngModel","ngModelChange","keyup"],[1,"err-msg"],["class","err-msg",4,"ngIf"],["pButton","","type","button","label","Submit",1,"button","w-button","btn-mr-rt","submit-btn","btn-label",3,"disabled","click"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],["template",""],["moreTemplate",""],["exportPdfTemplate",""],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"float-right","margin-top-gfilter",3,"click"],["src","assets/images/Vector.png","width","25px"],[1,"header"],[4,"ngFor","ngForOf"],["class","min_width_50",4,"ngIf"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"min_width_50"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],[1,"actions",3,"click"],["title","Copy","aria-hidden","true",1,"fa","fa-files-o"],["class","more-display min_width_50",3,"click",4,"ngIf"],["class","text-center word_break_word_all",3,"title","ngClass",4,"ngIf"],[1,"text-center","word_break_word_all",3,"title","ngClass"],[1,"more-display","min_width_50",3,"click"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],[1,"modal-body"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-8"],["class","color-code",4,"ngIf"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname","value","customizeCols[col.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"],[1,"modal-header"],[1,"row","padding-btm1"],[3,"click"],[1,"cursor-pointer"],["src","assets/images/close.png",1,"margin-l","cursor-pointer"],["class","col-sm-6 padding-btm3",4,"ngIf"],[1,"col-sm-6","padding-btm3"],[1,"field-dis-val"],["class","field-dis-val",4,"ngIf"],[1,"modal-body","pdf-modal"],[1,"col-lg-4"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"]],template:function(e,t){if(1&e){const e=h.kc();h.jc(0,"div",0),h.jc(1,"div",1),h.jc(2,"div",2),h.jc(3,"p",3),h.bd(4," Custom Rule Library "),h.ic(),h.ic(),h.jc(5,"div",4),h.jc(6,"p",5),h.jc(7,"button",6),h.qc("click",function(){return t.createGlobalRule()}),h.ic(),h.ic(),h.ic(),h.ic(),h.jc(8,"div",7),h.jc(9,"div",8),h.jc(10,"a"),h.jc(11,"img",9),h.qc("click",function(){return t.downloadCSV()}),h.ic(),h.ic(),h.jc(12,"a"),h.jc(13,"img",10),h.qc("click",function(){h.Rc(e);const i=h.Oc(50);return t.openExportPdf(i)}),h.ic(),h.ic(),h.ic(),h.ic(),h.jc(14,"div",11,12),h.jc(16,"div",13),h.jc(17,"p-table",14,15),h.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),h.Zc(19,ht,8,6,"ng-template",16),h.Zc(20,Ct,5,2,"ng-template",17),h.Zc(21,Ft,10,4,"ng-template",18),h.ic(),h.ic(),h.Zc(22,Ot,2,0,"div",19),h.jc(23,"div",20),h.Zc(24,Nt,3,4,"div",21),h.Zc(25,St,3,3,"div",22),h.ic(),h.ic(),h.ic(),h.jc(26,"p-dialog",23),h.qc("visibleChange",function(e){return t.display=e}),h.Zc(27,jt,2,0,"ng-template",17),h.jc(28,"input",24),h.qc("ngModelChange",function(e){return t.globalRuleObjToCopy.ruleName=e})("keyup",function(){return t.checkDuplicateGlobalRuleName()}),h.ic(),h.jc(29,"p",25),h.Zc(30,Mt,5,0,"span",26),h.Zc(31,Rt,2,0,"span",26),h.Zc(32,_t,5,0,"span",26),h.Zc(33,It,2,0,"span",26),h.ic(),h.jc(34,"p-footer"),h.jc(35,"button",27),h.qc("click",function(){return t.createNewConn()}),h.ic(),h.ic(),h.ic(),h.jc(36,"p-dialog",23),h.qc("visibleChange",function(e){return t.deleteModal=e}),h.Zc(37,kt,3,0,"ng-template",17),h.jc(38,"p"),h.bd(39,"Are you sure you want to delete Custom Rule "),h.jc(40,"b"),h.bd(41),h.ic(),h.bd(42,"?"),h.ic(),h.jc(43,"p-footer"),h.jc(44,"button",28),h.qc("click",function(){return t.deleteConfirm()}),h.ic(),h.ic(),h.ic(),h.Zc(45,Lt,12,2,"ng-template",null,29,h.ad),h.Zc(47,Wt,11,1,"ng-template",null,30,h.ad),h.Zc(49,At,17,3,"ng-template",null,31,h.ad)}if(2&e){let e=null;h.Nb(7),h.Bc("ngClass",null!=(e=t.roleOnModule("Global Rule"))&&null!=e.accessControl&&e.accessControl.includes("C")?" cursor-pointer":"disable"),h.Nb(3),h.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseGlobalRules&&t.pageWiseGlobalRules.length?"":"disabled-opa",""),h.Nb(2),h.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseGlobalRules&&t.pageWiseGlobalRules.length?"":"disabled-opa",""),h.Nb(5),h.Vc(h.Ec(51,Ut)),h.Bc("value",t.pageWiseGlobalRules)("responsive",!0)("rowHover",!0)("sortField","idListColrules")("sortOrder",-1)("globalFilterFields",h.Ec(52,$t))("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("rows",10)("first",t.first)("customSort",!0)("multiSortMeta",t.multiSortMeta),h.Nb(5),h.Bc("ngIf",!t.pageWiseGlobalRules.length&&t.norecordfound),h.Nb(2),h.Bc("ngIf",t.pageWiseGlobalRules.length),h.Nb(1),h.Bc("ngIf",t.pageWiseGlobalRules.length),h.Nb(1),h.Vc(h.Ec(53,Jt)),h.Bc("visible",t.display)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),h.Nb(2),h.Tb("form-field copy-ip ",t.ruleNameReq?"ng-invalid":""," ",t.ruleNameValid?"":"ng-invalid"," ",t.ruleNameUnique?"":"ng-invalid",""),h.Bc("ngModel",t.globalRuleObjToCopy.ruleName),h.Nb(2),h.Bc("ngIf",t.ruleNameReq),h.Nb(1),h.Bc("ngIf",!t.ruleNameValid),h.Nb(1),h.Bc("ngIf",!t.ruleNameUnique),h.Nb(1),h.Bc("ngIf",t.ruleNameLengthExceed),h.Nb(2),h.Bc("disabled",!t.ruleNameValid||!t.ruleNameUnique||!t.changedGlobalRuleName||t.ruleNameReq||t.ruleNameLengthExceed),h.Nb(1),h.Vc(h.Ec(54,Jt)),h.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),h.Nb(5),h.dd("",t.deleteGlobalRuleObj.ruleName," ")}},directives:[F.b,o.l,Je.f,n.i,o.n,s.a,l.d,l.k,v.a,l.o,l.r,n.e,o.m,Je.d,Je.e,He.a,r.a,w.a,U.a],pipes:[o.d],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}.rule-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),e})();var Xt=i("E+E9");let Yt=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xb({type:e,selectors:[["app-global-rule-main"]],decls:3,vars:0,consts:[[1,"content-wrapper","top"]],template:function(e,t){1&e&&(h.jc(0,"div",0),h.ec(1,"app-main-header"),h.ec(2,"router-outlet"),h.ic())},directives:[Xt.a,u.m],styles:[""]}),e})();var Qt=i("mrSG"),Kt=i("gren");function ei(e,t){if(1&e){const e=h.kc();h.jc(0,"div",23),h.jc(1,"span",24),h.jc(2,"input",25),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().globalFilterValue=t})("keyup",function(t){return h.Rc(e),h.uc().globalFilterFun(t)}),h.ic(),h.bd(3,"\xa0 "),h.ec(4,"i",26),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(2),h.Bc("ngModel",e.globalFilterValue)}}function ti(e,t){if(1&e&&h.ec(0,"p-sortIcon",33),2&e){const e=h.uc(2).$implicit;h.Cc("field",e.originalValue),h.Cc("pSortableColumn",e.originalValue)}}function ii(e,t){if(1&e){const e=h.kc();h.jc(0,"app-column-filter",34),h.qc("hideFilterDataBox",function(t){return h.Rc(e),h.uc(4).hideBox(t)})("filterData",function(t){return h.Rc(e),h.uc(4).getFilterData(t)})("resetFilterValues",function(t){return h.Rc(e),h.uc(4).resetFilter(t)}),h.ic()}if(2&e){const e=h.uc(2).$implicit,t=h.uc(2);h.Bc("display",t.displayForSynonymsList[e.originalValue])("colFilterData",t.getFilterState(e.originalValue))("fieldName",e.originalValue)("customId",e.originalValue)}}function oi(e,t){if(1&e){const e=h.kc();h.jc(0,"span",35),h.jc(1,"i",36),h.qc("click",function(){h.Rc(e);const t=h.uc(2).$implicit,i=h.uc(2);return i.displayForSynonymsList[t.originalValue]=!i.displayForSynonymsList[t.originalValue],i.hideOtherFilters(t.originalValue)}),h.ic(),h.ic()}if(2&e){const e=h.uc(2).$implicit,t=h.uc(2);h.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"selected-filter-column":""),h.Nb(1),h.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function li(e,t){if(1&e&&(h.jc(0,"th",29),h.bd(1),h.ec(2,"br"),h.Zc(3,ti,1,2,"p-sortIcon",30),h.Zc(4,ii,1,4,"app-column-filter",31),h.Zc(5,oi,2,2,"span",32),h.ic()),2&e){const e=h.uc().$implicit;h.Bc("ngClass",""==e.displayValue?"width-65":"display-val-min"),h.Nb(1),h.dd(" ",e.displayValue," "),h.Nb(2),h.Bc("ngIf","Edit"!==e.displayValue),h.Nb(1),h.Bc("ngIf","Edit"!==e.displayValue),h.Nb(1),h.Bc("ngIf","Edit"!==e.displayValue)}}function ni(e,t){if(1&e&&(h.hc(0),h.Zc(1,li,6,5,"th",28),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",e.seletedField)}}function ai(e,t){if(1&e&&(h.jc(0,"tr"),h.Zc(1,ni,2,1,"ng-container",27),h.jc(2,"th"),h.bd(3,"Action"),h.ic(),h.ic()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngForOf",e)}}function si(e,t){if(1&e){const e=h.kc();h.jc(0,"div"),h.jc(1,"p-checkbox",41),h.qc("ngModelChange",function(t){h.Rc(e);const i=h.uc(2).$implicit;return h.uc().$implicit[i.originalValue]=t}),h.ic(),h.ic()}if(2&e){const e=h.uc(2).$implicit,t=h.uc().$implicit;h.Nb(1),h.Bc("value",t[e.originalValue])("ngModel",t[e.originalValue])}}function ri(e,t){if(1&e&&(h.jc(0,"span",42),h.bd(1),h.ic()),2&e){const e=h.uc(2).$implicit,t=h.uc().$implicit;h.Nb(1),h.dd(" ",t[e.originalValue]," ")}}function ci(e,t){if(1&e&&(h.jc(0,"td",29),h.Zc(1,si,2,2,"div",39),h.Zc(2,ri,2,1,"span",40),h.ic()),2&e){const e=h.uc().$implicit;h.Bc("ngClass",""==e.displayValue?"width-65":"display-val-min"),h.Nb(1),h.Bc("ngIf",""===e.displayValue),h.Nb(1),h.Bc("ngIf",""!==e.displayValue&&"Action"!==e.displayValue)}}function di(e,t){if(1&e&&(h.hc(0),h.Zc(1,ci,3,3,"td",28),h.gc()),2&e){const e=t.$implicit;h.Nb(1),h.Bc("ngIf",e.seletedField)}}function ui(e,t){if(1&e){const e=h.kc();h.jc(0,"tr"),h.Zc(1,di,2,1,"ng-container",27),h.jc(2,"td"),h.jc(3,"span",37),h.qc("click",function(){h.Rc(e);const i=t.$implicit,o=h.uc(),l=h.Oc(25);return o.editSynonym(i,l)}),h.ec(4,"i",38),h.ic(),h.ic(),h.ic()}if(2&e){const e=t.columns,i=h.uc();let o=null;h.Nb(1),h.Bc("ngForOf",e),h.Nb(2),h.Bc("ngClass",null!=(o=i.roleOnModule("Global Rule"))&&null!=o.accessControl&&o.accessControl.includes("U")?" cursor-pointer":"disable")}}function gi(e,t){1&e&&(h.jc(0,"tr"),h.jc(1,"td"),h.bd(2," No records found "),h.ic(),h.ic()),2&e&&(h.Nb(1),h.Ob("colspan",4))}function pi(e,t){if(1&e){const e=h.kc();h.jc(0,"div",43),h.jc(1,"p-paginator",44,45),h.qc("onPageChange",function(t){return h.Rc(e),h.uc().onPageChange(t,0)})("firstChange",function(t){return h.Rc(e),h.uc().first=t}),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(1),h.Bc("rows",10)("totalRecords",null==e.data[0]||null==e.data[0].data?null:e.data[0].data.length)("showCurrentPageReport",!0)("first",e.first)}}function hi(e,t){if(1&e&&(h.jc(0,"div",50),h.jc(1,"div"),h.bd(2),h.ic(),h.ic()),2&e){const e=h.uc(3);h.Nb(2),h.ed("Page ",e.selectedPage.page," of ",e.totalNumOfPages,"")}}function mi(e,t){if(1&e&&h.Zc(0,hi,3,2,"div",49),2&e){const e=h.uc(2);h.Bc("ngIf",e.selectedPage)}}function fi(e,t){if(1&e){const e=h.kc();h.jc(0,"div",46),h.jc(1,"p-dropdown",47),h.qc("ngModelChange",function(t){return h.Rc(e),h.uc().selectedPage=t})("onChange",function(t){return h.Rc(e),h.uc().onPageNumChange(t,0)}),h.Zc(2,mi,1,1,"ng-template",48),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(1),h.Bc("options",e.numOfPages)("filter",!0)("ngModel",e.selectedPage)}}function bi(e,t){if(1&e&&h.ec(0,"p-dropdown",69),2&e){const e=h.uc(2);h.Bc("options",e.domainListForSynonym)("virtualScroll",!0)("itemSize",30)("filter",!0)}}function Ci(e,t){1&e&&h.ec(0,"input",70)}function yi(e,t){1&e&&(h.jc(0,"span",71),h.bd(1,"Please enter Synonym Name"),h.ic())}function vi(e,t){1&e&&(h.jc(0,"span",71),h.bd(1,"Only alphanumeric and underscore characters allowed"),h.ic())}function wi(e,t){if(1&e&&(h.jc(0,"p",71),h.Zc(1,yi,2,0,"span",60),h.Zc(2,vi,2,0,"span",60),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.Bc("ngIf",e.synonymForm.controls.SynonymsName.errors.required),h.Nb(1),h.Bc("ngIf",e.synonymForm.controls.SynonymsName.errors.pattern)}}function Fi(e,t){1&e&&(h.jc(0,"span",71),h.bd(1,"Please enter User Fields"),h.ic())}function Oi(e,t){1&e&&(h.jc(0,"span",71),h.bd(1," User Fields: Only alphanumeric and underscore characters allowed in User Fields. MUST use comma (,) optionally along with space to seprate multiple user fields. If space entered between two words without comma may result into global rules and thresholds based DQ checks to work wrongly or even not getting applied."),h.ec(2,"br"),h.bd(3," Example: 'emp_id1, emp_id2, emp_no,emp_no1'"),h.ic())}function Ni(e,t){if(1&e&&(h.jc(0,"p",71),h.Zc(1,Fi,2,0,"span",60),h.Zc(2,Oi,4,0,"span",60),h.ic()),2&e){const e=h.uc(2);h.Nb(1),h.Bc("ngIf",e.synonymForm.controls.UserFields.errors.required),h.Nb(1),h.Bc("ngIf",e.synonymForm.controls.UserFields.errors.pattern)}}function Pi(e,t){if(1&e){const e=h.kc();h.jc(0,"button",72),h.qc("click",function(){return h.Rc(e),h.uc(2).saveSynonymForm()}),h.ic()}if(2&e){const e=h.uc(2);h.Bc("disabled",!e.synonymForm.valid)}}function xi(e,t){if(1&e){const e=h.kc();h.jc(0,"button",73),h.qc("click",function(){return h.Rc(e),h.uc(2).updateSynonymForm()}),h.ic()}if(2&e){const e=h.uc(2);h.Bc("disabled",!e.synonymForm.valid||!e.synonymForm.dirty)}}function Si(e,t){if(1&e){const e=h.kc();h.jc(0,"div",51),h.jc(1,"h5"),h.bd(2),h.ic(),h.jc(3,"div",0),h.jc(4,"div",52),h.jc(5,"div",53),h.jc(6,"label",54),h.bd(7,"Domain"),h.jc(8,"sup",55),h.bd(9,"*"),h.ic(),h.ic(),h.ec(10,"br"),h.Zc(11,bi,1,4,"p-dropdown",56),h.Zc(12,Ci,1,0,"input",57),h.ic(),h.jc(13,"div",53),h.jc(14,"label",58),h.bd(15,"Synonym Name"),h.jc(16,"sup",55),h.bd(17,"*"),h.ic(),h.ic(),h.ec(18,"br"),h.ec(19,"input",59),h.Zc(20,wi,3,2,"p",60),h.ic(),h.jc(21,"div",53),h.jc(22,"label",61),h.bd(23,"User Fields"),h.jc(24,"sup",55),h.bd(25,"*"),h.ic(),h.ic(),h.ec(26,"br"),h.ec(27,"input",62),h.Zc(28,Ni,3,2,"p",60),h.ic(),h.ic(),h.ic(),h.ic(),h.jc(29,"div",63),h.jc(30,"div",64),h.jc(31,"p"),h.bd(32,"Note: Fields marked with "),h.jc(33,"b"),h.bd(34,'"*"'),h.ic(),h.bd(35," are required. "),h.ic(),h.ic(),h.ic(),h.jc(36,"div",65),h.Zc(37,Pi,1,1,"button",66),h.Zc(38,xi,1,1,"button",67),h.jc(39,"button",68),h.qc("click",function(){return h.Rc(e),h.uc().modalRef.hide()}),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Bc("formGroup",e.synonymForm),h.Nb(2),h.dd(" ",e.addSynonymCheck?"Add":"Edit"," Synonym"),h.Nb(9),h.Bc("ngIf",e.addSynonymCheck),h.Nb(1),h.Bc("ngIf",!e.addSynonymCheck),h.Nb(8),h.Bc("ngIf",e.synonymForm.controls.SynonymsName.invalid&&!e.synonymForm.controls.SynonymsName.pristine),h.Nb(8),h.Bc("ngIf",e.synonymForm.controls.UserFields.invalid&&!e.synonymForm.controls.UserFields.pristine),h.Nb(9),h.Bc("ngIf",e.addSynonymCheck),h.Nb(1),h.Bc("ngIf",!e.addSynonymCheck)}}function ji(e,t){if(1&e){const e=h.kc();h.hc(0),h.jc(1,"div",86),h.jc(2,"table"),h.jc(3,"tr",87),h.jc(4,"td"),h.jc(5,"p-checkbox",88),h.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return h.Rc(e),h.uc(2).pdfColsValue()}),h.ic(),h.ic(),h.jc(6,"td"),h.jc(7,"label"),h.bd(8),h.ic(),h.ic(),h.ic(),h.ic(),h.ic(),h.gc()}if(2&e){const e=t.$implicit,i=h.uc(2);h.Nb(5),h.Bc("ngModel",e.pdfCols)("disabled",i.pdfCheckboxDisabled&&!e.pdfCols),h.Nb(3),h.cd(e.displayValue)}}function Mi(e,t){1&e&&(h.jc(0,"div",89),h.bd(1,"You can select up to 9 columns."),h.ic())}function Ri(e,t){if(1&e){const e=h.kc();h.jc(0,"div",74),h.jc(1,"span",75),h.bd(2,"Please select columns that need to be downloaded in PDF"),h.ic(),h.ic(),h.jc(3,"div",76),h.jc(4,"div",77),h.Zc(5,ji,9,3,"ng-container",27),h.ic(),h.ic(),h.jc(6,"div",65),h.jc(7,"div",78),h.jc(8,"div",79),h.Zc(9,Mi,2,0,"div",80),h.ic(),h.jc(10,"div",81),h.jc(11,"button",82),h.qc("click",function(){h.Rc(e);const t=h.uc();return t.exportPdf(),t.modalRef.hide()}),h.ic(),h.ic(),h.jc(12,"div",83),h.jc(13,"div"),h.jc(14,"label",84),h.qc("click",function(){return h.Rc(e),h.uc().closeExportPdf()}),h.bd(15,"Close"),h.ic(),h.jc(16,"img",85),h.qc("click",function(){return h.Rc(e),h.uc().closeExportPdf()}),h.ic(),h.ic(),h.ic(),h.ic(),h.ic()}if(2&e){const e=h.uc();h.Nb(5),h.Bc("ngForOf",e.customizeCols2),h.Nb(4),h.Bc("ngIf",e.pdfCheckboxDisabled),h.Nb(2),h.Bc("disabled",e.disableDownloadBtn)}}const _i=function(){return{width:"100%"}},Ii=function(){return["execDate","run"]};We.a.vfs=Ze.a.pdfMake.vfs;const ki=[{path:"",component:Yt,data:{breadcrumb:"Custom Rule Library"},children:[{path:"",redirectTo:"view-global-rule"},{path:"view-global-rule",component:Ht,data:{breadcrumb:"Custom Rule Library"}},{path:"add-global-rule",component:Ee,data:{breadcrumb:"Add Custom Rule"}},{path:"edit-global-rule",component:Ee,data:{breadcrumb:"Edit Custom Rule"}},{path:"synonyms-library",component:(()=>{class e{constructor(e,t,i,o,l,n,a,s){this.modalService=e,this.globalRulesService=t,this.fb=i,this.ngxService=o,this.filterService=l,this.datePipe=n,this.spinner=a,this.domainProjService=s,this.numOfPages=[{page:1,pageIndex:0}],this.selectedPage={page:1,pageIndex:0},this.regexForSynonymname=/^[a-zA-Z0-9_]*$/,this.regexForUserFields=/^[a-zA-Z0-9_, ]*$/,this.domainListForSynonym=[],this.addSynonymCheck=!1,this.displayForSynonymsList={},this.pdfData=[],this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.pageWiseValidations=[],this.customizeCols2=[],this.first=0,this.pageSize=9,this.totalNumOfPages=0,this.totalRecords=0,this.globalRules={},this.data=[],this.countOfColumnsEnabled=0,this.dataAssigned=!1,this.selectedRowData=[],this.checkCount=0,this.colSpan=7,this.checkboxDisabled=!1,this.loading=!1,this.deleteModal=!1,this.deleteSynonym={},this.columnFilter={},this.filterData={},this.customSortArr=[],this.displayKeysForSynonymsList=["domainName","possiblenames","tableColumn","synonymsId"],this.multiSortMeta=[{field:"synonymsId",order:-1}]}ngOnInit(){var e;this.domainProjService.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData"),this.showData(),this.resetSynonymForm();const t={};for(let i=0;i<1;i++)this.data.push(t);sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(e=>{e.accessControl=e.accessControl.split("-")})))}roleOnModule(e){return this.roleModule.find(t=>t.moduleName===e)}showData(){return Object(Qt.a)(this,void 0,void 0,function*(){this.getFilterDisplayFields();const e={};this.globalRulesService.getGlobalRuleData("loadSynonymsViewList",{loadContext:0}).subscribe(t=>{this.globalRules=t.result,e.data=this.globalRules.PageOptionLists,this.globalRules.DOMAIN_LIST.map(e=>{e.elementText=""===e.elementText?" ":e.elementText}),this.domainListForSynonym=this.globalRules.DOMAIN_LIST,e.columnList=[{displayValue:"Domain Name",originalValue:"domainName",seletedField:!0,necesarryFlag:!0},{displayValue:"Synonym Name",originalValue:"tableColumn",seletedField:!0,necesarryFlag:!1},{displayValue:"User Fields",originalValue:"possiblenames",seletedField:!0,necesarryFlag:!1}],this.countOfColumnsEnabled=0,this.data[0]=e,null!=this.filterObj&&this.filterObj.forEach(e=>{this.data[0].data=this.data[0].data.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.data[0].columnList.forEach(e=>{e.seletedField&&this.countOfColumnsEnabled++}),this.dataAssigned=!0,this.getShowData(0),this.customizeCols2=this.data[0].columnList})})}getShowData(e){const t=this.first+this.pageSize;this.pdfData=this.data[e].data;const i=this.data[e].data.filter((e,i)=>i<=t);this.mainValidationDetail=this.globalRules.PageOptionLists,this.pageWiseValidations=[...i],this.calculateNumOfPages(e)}calculateNumOfPages(e){if(this.totalNumOfPages=this.data[e].data.length<this.pageSize?1:Math.ceil(this.data[e].data.length/(this.pageSize+1)),this.numOfPages=[],1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else for(let t=0;t<this.totalNumOfPages;t++)this.numOfPages.push({pageIndex:t,page:t+1})}onPageNumChange(e,t){this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);const i=this.getSortedData(t),o=this.first+this.pageSize,l=i.filter((e,t)=>{if(t<=o&&t>=this.first)return e});this.pageWiseValidations=[...l]}getSortedData(e){const t=[...this.data[e].data];return this.sortOrderEvent?1===this.sortOrderEvent.order?(t.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?-1:0),t):(t.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?-1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?1:0),t):t}globalFilterFun(e){const t=[...this.globalFilterLogic()],i=this.first+this.pageSize,o=t.filter((e,t)=>t<=i);this.pageWiseValidations=[...o],this.calculateNumOfPages(0)}globalFilterLogic(){if(this.mainValidationDetail.length){const e=Object.keys(this.mainValidationDetail[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainValidationDetail.forEach(t=>{let i=!1;e.forEach(e=>{t[e]&&t[e].toString().toLowerCase().includes(this.globalFilterValue.toLowerCase())&&!i&&(this.filterValue.push(t),i=!0)})}),void 0!==this.columnFilter){this.filterData=this.columnFilter;const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.data[0].data=[...this.filterValue],this.getShowData(0),this.data[0].data}if(this.filterValue=[...this.mainValidationDetail],void 0!==this.columnFilter){this.filterData=this.columnFilter;const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.data[0].data=[...this.filterValue],this.getShowData(0),this.data[0].data}return[]}onPageChange(e,t){this.first=e.first;const i=this.getSortedData(t),o=this.first+this.pageSize,l=i.filter((e,t)=>{if(t<=o&&t>=this.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseValidations=[...l]}getFilterData(e){this.columnFilter[e[0]]=e[1],this.pageWiseValidations=[],this.filterObj=e,this.first=0,this.sortOrderEvent=void 0,this.globalFilterValue||(this.data[0].data=[...this.mainValidationDetail]),this.data[0].data=this.data[0].data.filter(t=>this.filterService.filters.contains(t[e[0]],e[1])),this.getFilteredData(0)}resetFilter(e){this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter)),Object.keys(this.columnFilter),this.first=0,this.globalFilterValue?(this.globalFilterLogic(),this.data[0].data=this.data[0].data.filter(t=>this.filterService.filters.contains(t[e[0]],this.columnFilter[t]))):(this.data[0].data=[...this.mainValidationDetail],this.data[0].data=this.data[0].data.filter(t=>this.filterService.filters.contains(t[e[0]],this.columnFilter[t]))),this.getFilteredData(0)}getFilteredData(e){const t=this.first+this.pageSize,i=this.data[e].data.filter((e,i)=>i<=t);this.pageWiseValidations=[...i],this.calculateNumOfPages(e)}getFilterDisplayFields(){this.displayForSynonymsList={DomainName:!1,SynonymsName:!1,UserFields:!1,"SynonymsId-edit":!1}}getFilterState(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){const t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}hideBox(e){this.displayForSynonymsList[e.fieldName]=!1}customSort(e,t){this.sortField=e.field,this.sortOrder=e.order,this.sortMode=e.mode,this.customSortArr.filter(t=>t.field=e.field)[0]?this.customSortArr.map(t=>{t.order=e.order}):this.customSortArr.push(e);const i=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=i+1,this.selectedPage.pageIndex=i,this.sortOrderEvent=e;const o=[...this.data[t].data],l=[...this.sortOrderEvent.multiSortMeta];l.length>=2&&(e.multiSortMeta=e.multiSortMeta.splice(4,1)),1===l.length?o.sort((e,t)=>e[l[0].field]>t[l[0].field]?l[0].order:t[l[0].field]>e[l[0].field]?-l[0].order:0):2===l.length?o.sort((e,t)=>e[l[0].field]>t[l[0].field]?l[0].order:t[l[0].field]>e[l[0].field]&&-l[0].order||e[l[1].field]>t[l[1].field]?l[1].order:t[l[1].field]>e[l[1].field]?-l[1].order:0):3===l.length?o.sort((e,t)=>e[l[0].field]>t[l[0].field]?l[0].order:t[l[0].field]>e[l[0].field]&&-l[0].order||e[l[1].field]>t[l[1].field]?l[1].order:t[l[1].field]>e[l[1].field]&&-l[1].order||e[l[2].field]>t[l[2].field]?l[2].order:t[l[2].field]>e[l[2].field]?-l[2].order:0):4===l.length&&o.sort((e,t)=>e[l[0].field]>t[l[0].field]?l[0].order:t[l[0].field]>e[l[0].field]&&-l[0].order||e[l[1].field]>t[l[1].field]?l[1].order:t[l[1].field]>e[l[1].field]&&-l[1].order||e[l[2].field]>t[l[2].field]?l[2].order:t[l[2].field]>e[l[2].field]&&-l[2].order||e[l[3].field]>t[l[3].field]?l[3].order:t[l[3].field]>e[l[3].field]?-l[3].order:0);const n=this.first+this.pageSize,a=o.filter((e,t)=>{if(t<=n&&t>=this.first)return e});this.pageWiseValidations=[...a]}addSynonymPopup(e){this.resetSynonymForm(),this.addSynonymCheck=!0,this.modalRef=this.modalService.show(e,{class:"gray modal-md",backdrop:"static",keyboard:!1})}checkValue(e,t,i){this.data[i].columnList.map(i=>{i[t]&&(i.seletedField=e.checked)}),this.countOfColumnsEnabled=0,this.data[i].columnList.forEach(e=>{e.seletedField&&this.countOfColumnsEnabled++}),e.checked?this.checkCount++:this.checkCount--,this.checkboxDisabled=this.checkCount>=5}hideOtherFilters(e){for(const t of this.displayKeysForSynonymsList)t!==e&&(this.displayForSynonymsList[t]=!1)}get getOtherColumnsForSynonymsList(){return this.data[4].columnList.filter(e=>!e.seletedField)}resetSynonymForm(){this.synonymForm=this.fb.group({DomainId:["",l.w.compose([l.w.required])],DomainName:[""],SynonymsName:["",l.w.compose([l.w.required,l.w.pattern(this.regexForSynonymname)])],UserFields:["",l.w.compose([l.w.required,l.w.pattern(this.regexForUserFields)])],SynonymsId:["-1"]})}saveSynonymForm(){const e=JSON.parse(JSON.stringify(this.synonymForm.value));delete e.DomainName,this.globalRulesService.saveSynonyms(e).subscribe(e=>{this.ngxService.stop(),"success"===e.status&&(this.first=0,this.modalRef.hide(),this.showData())})}updateSynonymForm(){const e=JSON.parse(JSON.stringify(this.synonymForm.value));this.globalRulesService.saveSynonyms(e).subscribe(e=>{"success"===e.status&&(this.modalRef.hide(),this.showData())})}editSynonym(e,t){this.synonymForm.reset(),this.addSynonymCheck=!1,this.synonymForm.patchValue({DomainId:e.domainId,DomainName:e.domainName,SynonymsName:e.tableColumn,UserFields:e.possiblenames,SynonymsId:e.synonymsId.toString()}),this.synonymForm.controls.SynonymsName.setValidators(l.w.compose([l.w.required,l.w.pattern(this.regexForSynonymname)])),this.synonymForm.controls.SynonymsName.setValidators(l.w.compose([l.w.required,l.w.pattern(this.regexForUserFields)])),this.modalRef=this.modalService.show(t,{class:"gray modal-md",backdrop:"static",keyboard:!1})}openExportPdf(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}closeExportPdf(){this.modalRef.hide(),setTimeout(()=>{this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols2.forEach(e=>e.pdfCols=!1)},1e3)}exportPdf(){this.pdfData.length&&(this.spinner.show(),setTimeout(()=>{const e=new Ae.default("l","pt"),t=this.customizeCols2.filter(e=>e.pdfCols),i=[];t.forEach(e=>i.push(e.displayValue));const o=[];t.forEach(e=>o.push(e.originalValue));let l=[];l=this.pdfData.map(e=>Object.assign(o.map(t=>e[t])));const n=e.internal.pageSize,a=n.height?n.height:n.getHeight();$e()(e,{columns:i,body:l,didDrawPage:t=>{1==t.pageNumber&&(e.text("Synonyms Library",e.internal.pageSize.width/2,25,null,"center"),e.setFontSize(10)),e.setFontSize(9),e.text("Created by FirstEigen",e.internal.pageSize.width-40,a-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}}}),e.save("Synonym_Library.pdf"),this.disableDownloadBtn=!0,this.pdfCheckboxDisabled=!1,t.forEach(e=>e.pdfCols=!1),this.spinner.hide()},2e3))}pdfColsValue(){this.pdfCheckCount=0,this.customizeCols2.filter(e=>!0===e.pdfCols).forEach(e=>{!0===e.pdfCols&&this.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}downloadCSV(){this.globalRulesService.downloadCSV("synonymsCSV",{loadContext:0}).subscribe(e=>{const t=this.datePipe.transform(new Date,"yyyy-MM-dd");Object(Ge.saveAs)(e,"SynonymsCSV-"+t+".csv")})}filterColumnNameWithHighlightName(e){return!(Object.keys(this.columnFilter).findIndex(t=>t===e)<0)}}return e.\u0275fac=function(t){return new(t||e)(h.dc(f.a),h.dc(m.d),h.dc(l.e),h.dc(Kt.b),h.dc(n.d),h.dc(o.d),h.dc(b.c),h.dc(y.a))},e.\u0275cmp=h.Xb({type:e,selectors:[["app-synonyms-library"]],decls:28,vars:25,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title","marginrem"],[1,"col-sm-6","text-right"],[1,"form-title"],["pButton","","type","button","label","Add",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn",3,"ngClass","click"],[1,"d-flex","justify-content-end","p-field","br-top"],[1,""],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["id","view_synonyms",1,"row","p-field","mr-top-20"],["view_synonyms",""],[1,"col-lg-12","pad-0"],["styleClass","p-datatable-striped p-datatable-gridlines","responsiveLayout","scroll","sortMode","multiple",3,"columns","value","responsive","rowHover","rows","loading","filterDelay","globalFilterFields","sortField","sortOrder","customSort","multiSortMeta","sortFunction"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","col-lg-10 pad-0",4,"ngIf"],["class","col-lg-2 pad-0 pad-tp-10 text-right",4,"ngIf"],["synonymAdd",""],["exportPdfTemplate",""],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[4,"ngFor","ngForOf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"field","pSortableColumn",4,"ngIf"],[3,"display","colFilterData","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues",4,"ngIf"],["class","columnFilter",3,"ngClass",4,"ngIf"],[3,"field","pSortableColumn"],[3,"display","colFilterData","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"actions",3,"ngClass","click"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil"],[4,"ngIf"],["class","word_break_word_all",4,"ngIf"],["binary","true","name","groupname",3,"value","ngModel","ngModelChange"],[1,"word_break_word_all"],[1,"col-lg-10","pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"col-lg-2","pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-body",3,"formGroup"],[1,"row","p-field"],[1,"col-sm-12","col-md-12","mr-top"],["for","domain_id",1,"form-label"],[1,"req-field"],["class","form-field domaiDropdownCssAddSynonym","formControlName","DomainId","placeholder","Select Domain","optionValue","rowId","optionLabel","elementText",3,"options","virtualScroll","itemSize","filter",4,"ngIf"],["id","domain_id","disabled","","readonly","","formControlName","DomainName","type","text","class","form-field","pInputText","",4,"ngIf"],["for","synonym_name",1,"form-label"],["id","synonym_name","maxlength","200","formControlName","SynonymsName","placeholder","Enter Synonym Name","type","text","pInputText","",1,"form-field"],["class","err-msg",4,"ngIf"],["for","user_fields",1,"form-label"],["id","user_fields","maxlength","200","formControlName","UserFields","placeholder","Enter User Fields","type","text","pInputText","",1,"form-field"],[1,"note","row","p-field"],[1,"col-sm-12","col-md-12","mr-top","text-left"],[1,"modal-footer"],["pButton","","type","button","class","button w-button btn-mr-rt submit-btn btn-label-submit","label","Create Synonym",3,"disabled","click",4,"ngIf"],["pButton","","type","button","class","button w-button btn-mr-rt submit-btn btn-label-submit","label","Update Synonym",3,"disabled","click",4,"ngIf"],["pButton","","type","button","label","Cancel",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","btn-cancel",3,"click"],["formControlName","DomainId","placeholder","Select Domain","optionValue","rowId","optionLabel","elementText",1,"form-field","domaiDropdownCssAddSynonym",3,"options","virtualScroll","itemSize","filter"],["id","domain_id","disabled","","readonly","","formControlName","DomainName","type","text","pInputText","",1,"form-field"],[1,"err-msg"],["pButton","","type","button","label","Create Synonym",1,"button","w-button","btn-mr-rt","submit-btn","btn-label-submit",3,"disabled","click"],["pButton","","type","button","label","Update Synonym",1,"button","w-button","btn-mr-rt","submit-btn","btn-label-submit",3,"disabled","click"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","pdf-modal"],[1,"row","padding-btm"],[1,"row","full-width"],[1,"col-lg-4"],["class","color-code",4,"ngIf"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"]],template:function(e,t){if(1&e){const e=h.kc();h.jc(0,"div",0),h.jc(1,"div",1),h.jc(2,"div",2),h.jc(3,"p",3),h.bd(4," Synonym Library "),h.ic(),h.ic(),h.jc(5,"div",4),h.jc(6,"p",5),h.jc(7,"button",6),h.qc("click",function(){h.Rc(e);const i=h.Oc(25);return t.addSynonymPopup(i)}),h.ic(),h.ic(),h.ic(),h.ic(),h.jc(8,"div",7),h.jc(9,"div",8),h.jc(10,"a"),h.jc(11,"img",9),h.qc("click",function(){return t.downloadCSV()}),h.ic(),h.ic(),h.jc(12,"a"),h.jc(13,"img",10),h.qc("click",function(){h.Rc(e);const i=h.Oc(27);return t.openExportPdf(i)}),h.ic(),h.ic(),h.ic(),h.ic(),h.jc(14,"div",11,12),h.jc(16,"div",13),h.jc(17,"p-table",14),h.qc("sortFunction",function(e){return t.customSort(e,0)}),h.Zc(18,ei,5,1,"ng-template",15),h.Zc(19,ai,4,1,"ng-template",16),h.Zc(20,ui,5,2,"ng-template",17),h.Zc(21,gi,3,1,"ng-template",18),h.ic(),h.ic(),h.Zc(22,pi,3,4,"div",19),h.Zc(23,fi,3,3,"div",20),h.ic(),h.ic(),h.Zc(24,Si,40,8,"ng-template",null,21,h.ad),h.Zc(26,Ri,17,3,"ng-template",null,22,h.ad)}if(2&e){let e=null;h.Nb(7),h.Bc("ngClass",null!=(e=t.roleOnModule("Global Rule"))&&null!=e.accessControl&&e.accessControl.includes("C")?" cursor-pointer":"disable"),h.Nb(3),h.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseValidations&&t.pageWiseValidations.length?"":"disabled-opa",""),h.Nb(2),h.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseValidations&&t.pageWiseValidations.length?"":"disabled-opa",""),h.Nb(5),h.Vc(h.Ec(23,_i)),h.Bc("columns",t.data[0].columnList)("value",t.pageWiseValidations)("responsive",!0)("rowHover",!0)("rows",10)("loading",t.loading)("filterDelay",0)("globalFilterFields",h.Ec(24,Ii))("sortField","synonymsId")("sortOrder",-1)("customSort",!0)("multiSortMeta",t.multiSortMeta),h.Nb(5),h.Bc("ngIf",t.pageWiseValidations.length),h.Nb(1),h.Bc("ngIf",t.pageWiseValidations.length)}},directives:[F.b,o.l,Je.f,n.i,o.n,l.d,v.a,l.o,l.r,o.m,Je.d,Je.e,He.a,U.a,r.a,w.a,l.p,l.i,l.k,l.g],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.btn-cancel[_ngcontent-%COMP%]{background-color:#eb5454!important}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px!important}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}.btn-label-submit[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:162px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}.marginrem[_ngcontent-%COMP%]{margin:.1rem}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}"]}),e})(),data:{breadcrumb:"Synonym Library"}},{path:"view-global-filter",component:pt,data:{breadcrumb:"Global Filters"}},{path:"add-global-filter",component:Z,data:{breadcrumb:"Add Global Filter"}},{path:"edit-global-filter",component:Z,data:{breadcrumb:"Edit Global Filter"}}]}];let Di=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.bc({type:e}),e.\u0275inj=h.ac({imports:[[u.l.forChild(ki)],u.l]}),e})();var Bi=i("PCNd");let Vi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.bc({type:e}),e.\u0275inj=h.ac({providers:[n.a,n.g],imports:[[o.b,Di,c.a,d.a,l.j,l.u,a.a,s.b,r.b,Bi.a]]}),e})()},MKIF:function(e,t,i){"use strict";i.d(t,"a",function(){return o});class o{}},Nf9I:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var o=i("fXoL"),l=i("R0Ic"),n=i("ofXK"),a=(i("YyRF"),i("7zfz")),s=i("jIHw");Object(l.g)([Object(l.k)({transform:"{{transform}}",opacity:0}),Object(l.e)("{{transition}}",Object(l.k)({transform:"none",opacity:1}))]),Object(l.g)([Object(l.e)("{{transition}}",Object(l.k)({transform:"{{transform}}",opacity:0}))]);let r=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.bc({type:e}),e.\u0275inj=o.ac({imports:[[n.b,s.c],s.c,a.j]}),e})()},h9v1:function(e,t,i){"use strict";i.d(t,"a",function(){return a});var o=i("fXoL"),l=i("ofXK");function n(e,t){if(1&e&&(o.jc(0,"div",2),o.jc(1,"div",4),o.ec(2,"div",5),o.jc(3,"span",6),o.bd(4),o.ic(),o.ic(),o.ic()),2&e){const e=o.uc();o.Nb(1),o.Bc("ngClass",e.slimer?"progressHt_slim":"progressHt"),o.Nb(1),o.Bc("ngClass",e.progressBarClass),o.Nb(1),o.Bc("ngClass",e.slimer?"colorCls_slim":"colorCls"),o.Nb(1),o.dd(" ",e.value,"% ")}}let a=(()=>{class e{constructor(){this.success="",this.value=0,this.appName="",this.progressBarShow=!1,this.slimer=!1,this.progressBarClass="progress-bar progressBarColor progressBarWidth0"}ngOnInit(){}ngOnChanges(){this.progressBarClass="progress-bar progressBarColor progressBarWidth"+this.value}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xb({type:e,selectors:[["app-progress-bar"]],inputs:{success:"success",value:"value",appName:"appName",progressBarShow:"progressBarShow",slimer:"slimer"},features:[o.Lb],decls:5,vars:3,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-12","col-md-12","mr-top"],["class","col-sm-12 col-md-12 mr-top",4,"ngIf"],[1,"progress",3,"ngClass"],["role","progressbar","aria-valuenow","30","aria-valuemin","0","aria-valuemax","100",3,"ngClass"],[3,"ngClass"]],template:function(e,t){1&e&&(o.jc(0,"div",0),o.jc(1,"div",1),o.jc(2,"div",2),o.bd(3),o.ic(),o.Zc(4,n,5,4,"div",3),o.ic(),o.ic()),2&e&&(o.Nb(3),o.ed(" ",t.appName,"",t.success," "),o.Nb(1),o.Bc("ngIf",t.progressBarShow))},directives:[l.n,l.l],styles:[".colorCls[_ngcontent-%COMP%]{margin-top:9px;font-size:14.5px}.colorCls[_ngcontent-%COMP%], .colorCls_slim[_ngcontent-%COMP%]{color:#fff;text-align:center;position:absolute;z-index:1;left:48%;font-weight:700;font-family:system-ui}.colorCls_slim[_ngcontent-%COMP%]{margin-top:7px;font-size:11px}.progressBar[_ngcontent-%COMP%]{width:100%;padding:2%}.progressHt[_ngcontent-%COMP%]{height:20px;margin-top:1%}.progressHt[_ngcontent-%COMP%], .progressHt_slim[_ngcontent-%COMP%]{border-radius:3px;background-color:#cdcdcd!important}.progressHt_slim[_ngcontent-%COMP%]{height:14px;margin-top:2%}.progressBarColor[_ngcontent-%COMP%]{background:#001f8c!important}.progressBarWidth[_ngcontent-%COMP%]{width:100%}.progressBarWidth0[_ngcontent-%COMP%]{width:0}.progressBarWidth1[_ngcontent-%COMP%]{width:1%}.progressBarWidth2[_ngcontent-%COMP%]{width:2%}.progressBarWidth3[_ngcontent-%COMP%]{width:3%}.progressBarWidth4[_ngcontent-%COMP%]{width:4%}.progressBarWidth5[_ngcontent-%COMP%]{width:5%}.progressBarWidth6[_ngcontent-%COMP%]{width:6%}.progressBarWidth7[_ngcontent-%COMP%]{width:7%}.progressBarWidth8[_ngcontent-%COMP%]{width:8%}.progressBarWidth9[_ngcontent-%COMP%]{width:9%}.progressBarWidth10[_ngcontent-%COMP%]{width:10%}.progressBarWidth11[_ngcontent-%COMP%]{width:11%}.progressBarWidth12[_ngcontent-%COMP%]{width:12%}.progressBarWidth13[_ngcontent-%COMP%]{width:13%}.progressBarWidth14[_ngcontent-%COMP%]{width:14%}.progressBarWidth15[_ngcontent-%COMP%]{width:15%}.progressBarWidth16[_ngcontent-%COMP%]{width:16%}.progressBarWidth17[_ngcontent-%COMP%]{width:17%}.progressBarWidth18[_ngcontent-%COMP%]{width:18%}.progressBarWidth19[_ngcontent-%COMP%]{width:19%}.progressBarWidth20[_ngcontent-%COMP%]{width:20%}.progressBarWidth21[_ngcontent-%COMP%]{width:21%}.progressBarWidth22[_ngcontent-%COMP%]{width:22%}.progressBarWidth23[_ngcontent-%COMP%]{width:23%}.progressBarWidth24[_ngcontent-%COMP%]{width:24%}.progressBarWidth25[_ngcontent-%COMP%]{width:25%}.progressBarWidth26[_ngcontent-%COMP%]{width:26%}.progressBarWidth27[_ngcontent-%COMP%]{width:27%}.progressBarWidth28[_ngcontent-%COMP%]{width:28%}.progressBarWidth29[_ngcontent-%COMP%]{width:29%}.progressBarWidth30[_ngcontent-%COMP%]{width:30%}.progressBarWidth31[_ngcontent-%COMP%]{width:31%}.progressBarWidth32[_ngcontent-%COMP%]{width:32%}.progressBarWidth33[_ngcontent-%COMP%]{width:33%}.progressBarWidth34[_ngcontent-%COMP%]{width:34%}.progressBarWidth35[_ngcontent-%COMP%]{width:35%}.progressBarWidth36[_ngcontent-%COMP%]{width:36%}.progressBarWidth37[_ngcontent-%COMP%]{width:37%}.progressBarWidth38[_ngcontent-%COMP%]{width:38%}.progressBarWidth39[_ngcontent-%COMP%]{width:39%}.progressBarWidth40[_ngcontent-%COMP%]{width:40%}.progressBarWidth41[_ngcontent-%COMP%]{width:41%}.progressBarWidth42[_ngcontent-%COMP%]{width:42%}.progressBarWidth43[_ngcontent-%COMP%]{width:43%}.progressBarWidth44[_ngcontent-%COMP%]{width:44%}.progressBarWidth45[_ngcontent-%COMP%]{width:45%}.progressBarWidth46[_ngcontent-%COMP%]{width:46%}.progressBarWidth47[_ngcontent-%COMP%]{width:47%}.progressBarWidth48[_ngcontent-%COMP%]{width:48%}.progressBarWidth49[_ngcontent-%COMP%]{width:49%}.progressBarWidth50[_ngcontent-%COMP%]{width:50%}.progressBarWidth51[_ngcontent-%COMP%]{width:51%}.progressBarWidth52[_ngcontent-%COMP%]{width:42%}.progressBarWidth53[_ngcontent-%COMP%]{width:53%}.progressBarWidth54[_ngcontent-%COMP%]{width:54%}.progressBarWidth55[_ngcontent-%COMP%]{width:55%}.progressBarWidth56[_ngcontent-%COMP%]{width:56%}.progressBarWidth57[_ngcontent-%COMP%]{width:57%}.progressBarWidth58[_ngcontent-%COMP%]{width:58%}.progressBarWidth59[_ngcontent-%COMP%]{width:59%}.progressBarWidth60[_ngcontent-%COMP%]{width:60%}.progressBarWidth61[_ngcontent-%COMP%]{width:61%}.progressBarWidth62[_ngcontent-%COMP%]{width:62%}.progressBarWidth63[_ngcontent-%COMP%]{width:63%}.progressBarWidth64[_ngcontent-%COMP%]{width:64%}.progressBarWidth65[_ngcontent-%COMP%]{width:65%}.progressBarWidth66[_ngcontent-%COMP%]{width:66%}.progressBarWidth67[_ngcontent-%COMP%]{width:67%}.progressBarWidth68[_ngcontent-%COMP%]{width:68%}.progressBarWidth69[_ngcontent-%COMP%]{width:69%}.progressBarWidth70[_ngcontent-%COMP%]{width:70%}.progressBarWidth71[_ngcontent-%COMP%]{width:71%}.progressBarWidth72[_ngcontent-%COMP%]{width:72%}.progressBarWidth73[_ngcontent-%COMP%]{width:73%}.progressBarWidth74[_ngcontent-%COMP%]{width:74%}.progressBarWidth75[_ngcontent-%COMP%]{width:75%}.progressBarWidth76[_ngcontent-%COMP%]{width:76%}.progressBarWidth77[_ngcontent-%COMP%]{width:77%}.progressBarWidth78[_ngcontent-%COMP%]{width:78%}.progressBarWidth79[_ngcontent-%COMP%]{width:79%}.progressBarWidth80[_ngcontent-%COMP%]{width:80%}.progressBarWidth81[_ngcontent-%COMP%]{width:81%}.progressBarWidth82[_ngcontent-%COMP%]{width:82%}.progressBarWidth83[_ngcontent-%COMP%]{width:83%}.progressBarWidth84[_ngcontent-%COMP%]{width:84%}.progressBarWidth85[_ngcontent-%COMP%]{width:85%}.progressBarWidth86[_ngcontent-%COMP%]{width:86%}.progressBarWidth87[_ngcontent-%COMP%]{width:87%}.progressBarWidth88[_ngcontent-%COMP%]{width:88%}.progressBarWidth89[_ngcontent-%COMP%]{width:89%}.progressBarWidth90[_ngcontent-%COMP%]{width:90%}.progressBarWidth91[_ngcontent-%COMP%]{width:91%}.progressBarWidth92[_ngcontent-%COMP%]{width:92%}.progressBarWidth93[_ngcontent-%COMP%]{width:93%}.progressBarWidth94[_ngcontent-%COMP%]{width:94%}.progressBarWidth95[_ngcontent-%COMP%]{width:95%}.progressBarWidth96[_ngcontent-%COMP%]{width:96%}.progressBarWidth97[_ngcontent-%COMP%]{width:97%}.progressBarWidth98[_ngcontent-%COMP%]{width:98%}.progressBarWidth99[_ngcontent-%COMP%]{width:99%}.progressBarWidth100[_ngcontent-%COMP%]{width:100%}"]}),e})()}}]);