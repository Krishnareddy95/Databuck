!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,i){if(!e)return;if("string"==typeof e)return t(e,i);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(e,i)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function i(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,i){e[t]=i.value},o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,i){return e[t]=i}}function d(e,t,i,a){var o=t&&t.prototype instanceof m?t:m,r=Object.create(o.prototype),l=new O(a||[]);return n(r,"_invoke",{value:x(e,i,l)}),r}function p(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(S){return{type:"throw",arg:S}}}e.wrap=d;var u={};function m(){}function g(){}function f(){}var h={};s(h,r,function(){return this});var b=Object.getPrototypeOf,v=b&&b(b(T([])));v&&v!==t&&a.call(v,r)&&(h=v);var C=f.prototype=m.prototype=Object.create(h);function y(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){function i(n,o,r,l){var c=p(e[n],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then(function(e){i("next",e,r,l)},function(e){i("throw",e,r,l)}):t.resolve(d).then(function(e){s.value=e,r(s)},function(e){return i("throw",e,r,l)})}l(c.arg)}var o;n(this,"_invoke",{value:function(e,a){function n(){return new t(function(t,n){i(e,a,t,n)})}return o=o?o.then(n,n):n()}})}function x(e,t,i){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return k()}for(i.method=n,i.arg=o;;){var r=i.delegate;if(r){var l=M(r,i);if(l){if(l===u)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===a)throw a="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a="executing";var c=p(e,t,i);if("normal"===c.type){if(a=i.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(a="completed",i.method="throw",i.arg=c.arg)}}}function M(e,t){var i=t.method,a=e.iterator[i];if(void 0===a)return t.delegate=null,"throw"===i&&e.iterator.return&&(t.method="return",t.arg=void 0,M(e,t),"throw"===t.method)||"return"!==i&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+i+"' method")),u;var n=p(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function T(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,n=function t(){for(;++i<e.length;)if(a.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:k}}function k(){return{value:void 0,done:!0}}return g.prototype=f,n(C,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:g,configurable:!0}),g.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},y(w.prototype),s(w.prototype,l,function(){return this}),e.AsyncIterator=w,e.async=function(t,i,a,n,o){void 0===o&&(o=Promise);var r=new w(d(t,i,a,n),o);return e.isGeneratorFunction(i)?r:r.next().then(function(e){return e.done?e.value:r.next()})},y(C),s(C,c,"Generator"),s(C,r,function(){return this}),s(C,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),i=[];for(var a in t)i.push(a);return i.reverse(),function e(){for(;i.length;){var a=i.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=T,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(i,a){return r.type="throw",r.arg=e,t.next=i,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],r=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=e,r.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),N(i),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var a=i.completion;if("throw"===a.type){var n=a.arg;N(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:T(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=void 0),u}},e}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(n=a.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(n,"string"))?o:String(o)),a)}var n,o}function n(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{rmpi:function(t,a,r){"use strict";r.r(a),r.d(a,"DatatemplateModule",function(){return $o});var l,c=r("ofXK"),s=r("3Pt+"),d=r("Nf9I"),p=r("/RsI"),u=r("fXoL"),m=r("jIHw"),g=(r("R0Ic"),r("7zfz")),f=r("Q4Mo"),h=((l=n(function e(){o(this,e)})).\u0275fac=function(e){return new(e||l)},l.\u0275mod=u.bc({type:l}),l.\u0275inj=u.ac({imports:[[c.b,f.b]]}),l),b=r("+DzE");r("YyRF"),r("tk/3"),r("jhN1");var v,C=((v=n(function e(){o(this,e)})).\u0275fac=function(e){return new(e||v)},v.\u0275mod=u.bc({type:v}),v.\u0275inj=u.ac({imports:[[c.b,g.j,m.c,b.b,h,f.b],g.j,m.c,b.b,h]}),v),y=r("6t4m"),w=r("VEwP"),x=r("ThbA"),M=r("tyNb"),P=r("gy/t"),N=r("w6bx"),O=r("ey9i"),T=r("Nmef"),k=r("ZEcW"),S=r("J4N/"),j=r("7kUa"),_=r("LuMj"),D=r("h9v1");function I(e,t){1&e&&(u.jc(0,"span",21),u.bd(1," Please enter "),u.jc(2,"b"),u.bd(3,"Reference name"),u.ic(),u.ic())}function F(e,t){if(1&e&&(u.jc(0,"p",21),u.Zc(1,I,4,0,"span",8),u.ic()),2&e){var i=u.uc(2);u.Nb(1),u.Bc("ngIf",i.internalReferncefrm.controls.referenceName.errors.required)}}function V(e,t){if(1&e&&(u.jc(0,"p",21),u.jc(1,"span",21),u.bd(2),u.ic(),u.ic()),2&e){var i=u.uc(2);u.Nb(2),u.cd(i.invalidTemplateMsg)}}function B(e,t){if(1&e&&(u.jc(0,"p",22),u.jc(1,"span",22),u.bd(2," The reference name will be generated as "),u.jc(3,"b"),u.bd(4),u.ic(),u.ic(),u.ic()),2&e){var i=u.uc(2);u.Nb(4),u.dd("ref_",i.dataTemplateName,"")}}function R(e,t){if(1&e){var i=u.kc();u.jc(0,"input",23),u.qc("change",function(e){return u.Rc(i),u.uc(2).changeFile(e)}),u.ic()}}function z(e,t){1&e&&(u.jc(0,"span",21),u.bd(1," Please choose the valid "),u.jc(2,"b"),u.bd(3,"File"),u.ic(),u.ic())}function q(e,t){if(1&e&&(u.jc(0,"p",21),u.Zc(1,z,4,0,"span",8),u.ic()),2&e){var i=u.uc(2);u.Nb(1),u.Bc("ngIf",i.errmsg)}}function L(e,t){1&e&&u.ec(0,"input",24)}function E(e,t){1&e&&(u.jc(0,"span",21),u.bd(1," Please enter the valid "),u.jc(2,"b"),u.bd(3,"Path"),u.ic(),u.ic())}function Z(e,t){if(1&e&&(u.jc(0,"p",21),u.Zc(1,E,4,0,"span",8),u.ic()),2&e){var i=u.uc(2);u.Nb(1),u.Bc("ngIf",i.errMsgfilePath)}}var A=function(){return{standalone:!0}};function U(e,t){if(1&e){var i=u.kc();u.jc(0,"div",2),u.jc(1,"div",3),u.jc(2,"div",4),u.jc(3,"label",5),u.bd(4,"Reference Name"),u.jc(5,"sup",6),u.bd(6,"*"),u.ic(),u.ic(),u.ec(7,"br"),u.jc(8,"input",7),u.qc("keyup",function(){return u.Rc(i),u.uc().onKey()}),u.ic(),u.Zc(9,F,2,1,"p",8),u.Zc(10,V,3,1,"p",8),u.Zc(11,B,5,1,"p",9),u.ic(),u.jc(12,"div",10),u.jc(13,"p-radioButton",11),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc().selectedValue=e})("onClick",function(){return u.Rc(i),u.uc().getRadioVal("File_Upload")}),u.ic(),u.ic(),u.jc(14,"div",10),u.jc(15,"p-radioButton",12),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc().selectedValue=e})("onClick",function(){return u.Rc(i),u.uc().getRadioVal("File_Path")}),u.ic(),u.ic(),u.jc(16,"div",4),u.Zc(17,R,1,0,"input",13),u.Zc(18,q,2,1,"p",8),u.Zc(19,L,1,0,"input",14),u.Zc(20,Z,2,1,"p",8),u.ic(),u.ic(),u.jc(21,"div",15),u.jc(22,"div",16),u.jc(23,"p"),u.bd(24,"Note: Fields marked with "),u.jc(25,"b"),u.bd(26,'"*"'),u.ic(),u.bd(27," are required. "),u.ic(),u.ic(),u.ic(),u.jc(28,"div",17),u.jc(29,"div",18),u.jc(30,"button",19),u.qc("click",function(){return u.Rc(i),u.uc().addInternalRef()}),u.ic(),u.jc(31,"button",20),u.qc("click",function(){return u.Rc(i),u.uc().backToScreen()}),u.ic(),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc();u.Bc("formGroup",a.internalReferncefrm),u.Nb(9),u.Bc("ngIf",a.internalReferncefrm.controls.referenceName.invalid&&!a.internalReferncefrm.controls.referenceName.pristine),u.Nb(1),u.Bc("ngIf",!a.dataTemplateNamevalid&&!a.showMsg),u.Nb(1),u.Bc("ngIf",a.dataTemplateNamevalue),u.Nb(2),u.Bc("ngModelOptions",u.Ec(13,A))("ngModel",a.selectedValue),u.Nb(2),u.Bc("ngModelOptions",u.Ec(14,A))("ngModel",a.selectedValue),u.Nb(2),u.Bc("ngIf",a.showFileUpload),u.Nb(1),u.Bc("ngIf",a.errmsg),u.Nb(1),u.Bc("ngIf",a.showFilePath),u.Nb(1),u.Bc("ngIf",a.errMsgfilePath),u.Nb(10),u.Bc("disabled",a.internalReferncefrm.invalid)}}function W(e,t){if(1&e&&(u.jc(0,"div",26),u.jc(1,"div",27),u.jc(2,"div",28),u.jc(3,"div",29),u.bd(4),u.ec(5,"br"),u.ec(6,"hr"),u.ic(),u.ic(),u.jc(7,"div",30),u.ec(8,"app-progress-bar",31),u.ic(),u.ic(),u.ic()),2&e){var i=t.$implicit;u.Nb(4),u.dd(" ",i.message," \xa0 "),u.Nb(4),u.Bc("value",i.value)("appName",i.appName)("success",i.success)("progressBarShow",i.progressBarShow)}}function Q(e,t){if(1&e&&(u.jc(0,"div"),u.Zc(1,W,9,5,"div",25),u.ic()),2&e){var i=u.uc();u.Nb(1),u.Bc("ngForOf",i.resultData)}}function $(e,t){if(1&e&&(u.jc(0,"div"),u.jc(1,"div",26),u.jc(2,"div",27),u.jc(3,"div",28),u.jc(4,"div",32),u.bd(5),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()),2&e){var i=u.uc();u.Nb(5),u.dd(" ",i.displayMessage," \xa0 ")}}var G,J=((G=function(){function e(t,i,a,n,r,l,c){o(this,e),this.fb=t,this.globalRulesService=i,this.router=a,this.homeServiceService=n,this.messages=r,this.dataTemplateService=l,this.domainProjService=c,this.addReferenceScreen=!1,this.screenReference=new u.p,this.projectDomains=[],this.showMsg=!1,this.show=!0,this.selectedValue="File_Upload",this.resultData=[],this.dataTemplateNamevalid=!0,this.dataTemplateNamevalue=!1,this.errMsgfilePath=!1,this.errmsg=!1}return n(e,[{key:"ngOnInit",value:function(){var e;this.domainProjService.passDomainProjVal(!1),this.internalReferncefrm=this.fb.group({referenceName:["",s.w.compose([s.w.required])],configFile:[""],projectId:[,s.w.compose([s.w.required])],filePath:[""]}),"File_Upload"===this.selectedValue&&(this.showFileUpload=!0),this.projectDomains=this.homeServiceService.getProjectList(),this.projectDomains.map(function(e){e.domainProject=e.domainName+"-"+e.projectName,e.domainProjectValue=e.domainId+"_"+e.idProject}),this.internalReferncefrm.controls.projectId.setValue(null===(e=this.projectDomains[0])||void 0===e?void 0:e.idProject)}},{key:"markFormAsTouched",value:function(){var e=this;this.internalReferncefrm.updateValueAndValidity(),Object.keys(this.internalReferncefrm.controls).forEach(function(t){e.internalReferncefrm.controls[t].markAsTouched(),e.internalReferncefrm.controls[t].markAsDirty()})}},{key:"getRadioVal",value:function(e){"File_Upload"===e?(this.showFilePath=!1,this.showFileUpload=!0,this.errMsgfilePath=!1):"File_Path"===e&&(this.showFilePath=!0,this.showFileUpload=!1,this.errmsg=!1)}},{key:"addInternalRef",value:function(){var e,t,i=this;if(""===this.internalReferncefrm.value.configFile&&""===this.internalReferncefrm.value.filePath)return this.messages.displayToaster("Please provide csv file format!!","warn","Warning!"),void(!0===this.showFileUpload?this.errmsg=!0:!0===this.showFilePath&&(this.errMsgfilePath=!0));if(this.internalReferncefrm.valid&&this.dataTemplateNamevalid)if(this.show=!1,"csv"===this.internalReferncefrm.value.configFile.split(".")[1]){var a=this.projectDomains.find(function(e){return e.idProject===i.internalReferncefrm.value.projectId}),n=new FormData;Array.from(this.statementFile).forEach(function(e){if(e){var t=e.slice(0,e.size,e.type),i=new File([t],e.name,{type:e.type});n.append("configFile",i)}}),n.append("referencename",this.internalReferncefrm.value.referenceName),n.append("idUser",null===(e=JSON.parse(sessionStorage.getItem("userDetail")))||void 0===e?void 0:e.idUser),n.append("projectId",this.internalReferncefrm.value.projectId),n.append("domainId",a.domainId),this.globalRulesService.createInternalReference(n).subscribe(function(e){i.displayMessage=e.message,"Completed"===e.status&&(i.showMessage=e.message),"success"===e.status&&(i.resultData.push(e),i.resultData.map(function(e){var t=setInterval(function(){var a=new N.b;a.idData=e.templateId,a.uniqueId=e.uniqueId,i.globalRulesService.createStatusPoll("templateStatusPoll",a).subscribe(function(a){e.success=a.status,"Task queued"===e.success||"Task started"===e.success?e.progressBarShow=!1:"Task in progress"===e.success?(e.value=a.percentage,e.progressBarShow=!0,e.value>=100&&(e.value=100)):"Task completed"===e.success?(e.progressBarShow=!1,clearInterval(t),setTimeout(function(){"Task completed"===e.success&&i.screenReference.emit(!1)},2e3)):"Task "===e.success&&(e.progressBarShow=!1,e.success="Task killed",clearInterval(t),setTimeout(function(){"Task completed"===e.success&&i.screenReference.emit(!1)},2e3))})},2500)})),"failed"===e.status&&(i.show=!0)})}else if(""!==this.internalReferncefrm.value.filePath)if("csv"===this.internalReferncefrm.value.filePath.split(".")[1]){var o=this.projectDomains.find(function(e){return e.idProject===i.internalReferncefrm.value.projectId}),r={projectId:this.internalReferncefrm.value.projectId,filePath:this.internalReferncefrm.value.filePath,referencename:this.internalReferncefrm.value.referenceName,idUser:null===(t=JSON.parse(sessionStorage.getItem("userDetail")))||void 0===t?void 0:t.idUser,domainId:o.domainId};this.globalRulesService.createReferencesTemplateByPath(r).subscribe(function(e){i.displayMessage=e.message,"Completed"===e.status&&(i.showMessage=e.message),"success"===e.status&&(i.resultData.push(e),i.resultData.map(function(e){var t=setInterval(function(){var a=new N.b;a.idData=e.templateId,a.uniqueId=e.uniqueId,i.globalRulesService.createStatusPoll("templateStatusPoll",a).subscribe(function(a){e.success=a.status,"Task queued"===e.success||"Task started"===e.success?e.progressBarShow=!1:"Task in progress"===e.success?(e.value=a.percentage,e.progressBarShow=!0,e.value>=100&&(e.value=100)):"Task completed"===e.success?(e.progressBarShow=!1,clearInterval(t),setTimeout(function(){"Task completed"===e.success&&i.screenReference.emit(!1)},2e3)):"Task "===e.success&&(e.progressBarShow=!1,e.success="Task Killed",clearInterval(t),setTimeout(function(){"Task completed"===e.success&&i.screenReference.emit(!1)},2e3))})},2500)})),"failed"===e.status&&(i.show=!0)})}else this.show=!0,this.messages.displayToaster("Unable to process this file!! Currently this feature supports only csv files!!","warn","Warning!");else this.show=!0,this.messages.displayToaster("Unable to process this file!! Currently this feature supports only csv files!!","warn","Warning!");else this.markFormAsTouched()}},{key:"changeFile",value:function(e){var t=this;this.statementFile=[],Array.from(e.target.files).forEach(function(e){t.statementFile.push(e)})}},{key:"backToScreen",value:function(){this.domainProjService.passDomainProjVal(!0),this.screenReference.emit(!1),this.router.navigateByUrl("/dbckangui/data-template/view-references")}},{key:"onKey",value:function(){var e=this;this.dataTemplateName=this.internalReferncefrm.controls.referenceName.value,this.dataTemplateNamevalue=!0,this.dataTemplateName.length>=1?this.dataTemplateService.templateDuplicateCheck("checkTemplateNameForDuplicate",{templateName:"ref_"+this.internalReferncefrm.controls.referenceName.value}).subscribe(function(t){e.showMsg=!1,!1===t.result.isDataTemplateNameValid?(e.dataTemplateNamevalid=!1,e.invalidTemplateMsg=t.message):e.dataTemplateNamevalid=!0},function(t){e.showMsg=!0}):this.dataTemplateNamevalid=!0}}]),e}()).\u0275fac=function(e){return new(e||G)(u.dc(s.e),u.dc(O.d),u.dc(M.i),u.dc(T.a),u.dc(O.b),u.dc(k.a),u.dc(S.a))},G.\u0275cmp=u.Xb({type:G,selectors:[["app-add-internal-reference"]],inputs:{addReferenceScreen:"addReferenceScreen"},outputs:{screenReference:"screenReference"},decls:3,vars:3,consts:[["class","container-fluid create-conn-main",3,"formGroup",4,"ngIf"],[4,"ngIf"],[1,"container-fluid","create-conn-main",3,"formGroup"],[1,"row","p-field"],[1,"col-sm-12","col-md-6","mr-top"],["for","rule_name",1,"form-label"],[1,"req-field"],["id","rule_name","maxlength","500","formControlName","referenceName","placeholder","Enter Reference Name","type","text","pInputText","",1,"form-field",3,"keyup"],["class","err-msg",4,"ngIf"],["class","color-code-blue",4,"ngIf"],[1,"col-md-12","mr-top"],["for","File_Upload","label","Select Reference File","styleClass","radio-style","name","FileUpload","inputI","","value","File_Upload",1,"spaceRadio",3,"ngModelOptions","ngModel","ngModelChange","onClick"],["for","File_Path","label","Provide File Path to be analyzed","styleClass","radio-style","name","FilePath","value","File_Path",1,"spaceRadio",3,"ngModelOptions","ngModel","ngModelChange","onClick"],["id","rule_name","maxlength","500","formControlName","configFile","placeholder","Select Reference file","type","file","class","form-field","pInputText","",3,"change",4,"ngIf"],["id","filePath","formControlName","filePath","placeholder","Enter File Path","type","text","class","form-field","pInputText","",4,"ngIf"],[1,"note","row","p-field"],[1,"col-sm-12","col-md-6","mr-top","text-left"],[1,"row","p-field","mr-top"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button","label","Create Internal Reference",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],["pButton","","type","button","label","Cancel",1,"button","w-button","shadow","btn-cancel",3,"click"],[1,"err-msg"],[1,"color-code-blue"],["id","rule_name","maxlength","500","formControlName","configFile","placeholder","Select Reference file","type","file","pInputText","",1,"form-field",3,"change"],["id","filePath","formControlName","filePath","placeholder","Enter File Path","type","text","pInputText","",1,"form-field"],["class","container-fluid create-conn-main",4,"ngFor","ngForOf"],[1,"container-fluid","create-conn-main"],[1,"progress-container"],[1,"row","p-field","task-progress-container"],[1,"col-sm-12","col-md-12","mr-top","req-field"],[1,"row"],[3,"value","appName","success","progressBarShow"],[1,"col-sm-12","col-md-12","mr-top","txtcolor"]],template:function(e,t){1&e&&(u.Zc(0,U,32,15,"div",0),u.Zc(1,Q,2,1,"div",1),u.Zc(2,$,6,1,"div",1)),2&e&&(u.Bc("ngIf",t.show),u.Nb(1),u.Bc("ngIf",!t.show),u.Nb(1),u.Bc("ngIf",t.showMessage))},directives:[c.n,s.p,s.i,s.d,s.k,s.o,s.g,j.a,_.a,s.r,m.b,c.m,D.a],styles:["[_ngcontent-%COMP%]::-moz-placeholder{color:gray;opacity:.8}[_ngcontent-%COMP%]::placeholder{color:gray;opacity:.8}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.txtcolor[_ngcontent-%COMP%]{color:red}.add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.note[_ngcontent-%COMP%]{text-align:left;font-size:13px;color:#eb5454;padding-top:10px}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}.marginleft[_ngcontent-%COMP%]{margin-left:26px!important}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:10px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.mr-top[_ngcontent-%COMP%]{padding-top:15px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]     .p-inputtext{font-size:14px}.p-field[_ngcontent-%COMP%]{margin:0 10px}.p-fields[_ngcontent-%COMP%]{margin:8px 10px}.p-field-form[_ngcontent-%COMP%]{padding-right:0}.diabled-ip[_ngcontent-%COMP%]{opacity:.7;box-shadow:none!important;cursor:inherit}.diabled-ip[_ngcontent-%COMP%]:hover{border:1px solid #ced4da;cursor:not-allowed!important}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .p-disabled:hover{cursor:not-allowed!important}.optional-fields[_ngcontent-%COMP%]{color:#789}.form-checkbox[_ngcontent-%COMP%]{padding-left:10px;font-size:16px;padding-top:8px}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.warning-msg[_ngcontent-%COMP%]{font-size:12px;color:#007bff;margin-bottom:0;padding-top:8px;padding-left:5px}"]}),G),H=r("mrSG"),Y=r("45hh"),K=r("Sy1n"),X=r("yLa2"),ee=r("6G/8"),te=r("acRR"),ie=r("JqCM"),ae=r("arFO"),ne=r("xlun"),oe=r("lVkt"),re=r("Ji6n");function le(e,t){1&e&&(u.jc(0,"p",29),u.bd(1),u.ic()),2&e&&(u.Nb(1),u.dd(" \xa0","Select Table"," "))}function ce(e,t){if(1&e&&(u.jc(0,"p",29),u.bd(1),u.ic()),2&e){var i=u.uc(2);u.Nb(1),u.dd(" ","Customize "+i.appConstant.dataTabelName," ")}}function se(e,t){1&e&&(u.jc(0,"span",30),u.bd(1," Please choose "),u.jc(2,"b"),u.bd(3,"Data Source Type"),u.ic(),u.ic())}function de(e,t){if(1&e&&(u.jc(0,"p",30),u.Zc(1,se,4,0,"span",17),u.ic()),2&e){var i=u.uc(2);u.Nb(1),u.Bc("ngIf",i.addTemplateForm.controls.dataLocation.errors.required)}}function pe(e,t){1&e&&(u.jc(0,"span",30),u.bd(1," Please choose "),u.jc(2,"b"),u.bd(3,"Data Source"),u.ic(),u.ic())}function ue(e,t){if(1&e&&(u.jc(0,"p",30),u.Zc(1,pe,4,0,"span",17),u.ic()),2&e){var i=u.uc(3);u.Nb(1),u.Bc("ngIf",i.addTemplateForm.controls.schemaName.errors.required||i.showDataConnValMsg)}}function me(e,t){if(1&e){var i=u.kc();u.jc(0,"div",12),u.jc(1,"div",13),u.jc(2,"label",31),u.bd(3," Data Source"),u.jc(4,"sup",15),u.bd(5,"*"),u.ic(),u.ic(),u.jc(6,"div"),u.jc(7,"p-dropdown",32),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc(2).onDataConnectionChange(e)}),u.ic(),u.ic(),u.Zc(8,ue,2,1,"p",17),u.ic(),u.ic()}if(2&e){var a=u.uc(2);u.Nb(6),u.Qb(a.editMode?"diabled-ip":""),u.Nb(1),u.Bc("styleClass","form-field")("options",a.dataConnectionType)("filter",!0)("disabled",a.isDisabled)("ngClass",a.isDisabled?"diabledfield":"")("virtualScroll",!0)("itemSize",30),u.Nb(1),u.Bc("ngIf",a.addTemplateForm.controls.schemaName.invalid&&!a.addTemplateForm.controls.schemaName.pristine||a.showDataConnValMsg)}}function ge(e,t){1&e&&(u.jc(0,"span",30),u.bd(1," Please choose "),u.jc(2,"b"),u.bd(3,"Data Source"),u.ic(),u.ic())}function fe(e,t){if(1&e&&(u.jc(0,"p",30),u.Zc(1,ge,4,0,"span",17),u.ic()),2&e){var i=u.uc(3);u.Nb(1),u.Bc("ngIf",i.addTemplateForm.controls.schemaName.errors.required)}}function he(e,t){if(1&e&&(u.jc(0,"div",12),u.jc(1,"div",13),u.jc(2,"label",31),u.bd(3," Data Source"),u.jc(4,"sup",15),u.bd(5,"*"),u.ic(),u.ic(),u.jc(6,"div"),u.ec(7,"p-dropdown",33),u.ic(),u.Zc(8,fe,2,1,"p",17),u.ic(),u.ic()),2&e){var i=u.uc(2);u.Nb(6),u.Qb(i.editMode?"diabled-ip":""),u.Nb(1),u.Bc("styleClass","form-field")("options",i.dataConnectionType)("filter",!0)("disabled",i.isDisabled)("ngClass",i.isDisabled?"diabledfield":"")("virtualScroll",!0)("itemSize",30),u.Nb(1),u.Bc("ngIf",i.addTemplateForm.controls.schemaName.invalid&&!i.addTemplateForm.controls.schemaName.pristine)}}function be(e,t){1&e&&u.ec(0,"i",38)}function ve(e,t){if(1&e&&(u.bd(0),u.Zc(1,be,1,0,"i",37)),2&e){var i=t.$implicit;u.dd(" ",i.value," \xa0"),u.Nb(1),u.Bc("ngIf","Y"==i.check)}}function Ce(e,t){1&e&&(u.jc(0,"span",30),u.bd(1," Please choose "),u.jc(2,"b"),u.bd(3,"Table Name"),u.ic(),u.ic())}function ye(e,t){if(1&e&&(u.jc(0,"p",30),u.Zc(1,Ce,4,0,"span",17),u.ic()),2&e){var i=u.uc(3);u.Nb(1),u.Bc("ngIf",(null==i.addTemplateForm||null==i.addTemplateForm.controls.tableName?null:i.addTemplateForm.controls.tableName.errors.required)&&!i.showMultipleTableMsg)}}function we(e,t){1&e&&(u.jc(0,"span",30),u.bd(1," Please select only one "),u.jc(2,"b"),u.bd(3,"Table Name"),u.ic(),u.ic())}function xe(e,t){if(1&e){var i=u.kc();u.jc(0,"div",12),u.jc(1,"div",13),u.jc(2,"label",34),u.bd(3," Table Name"),u.jc(4,"sup",15),u.bd(5,"*"),u.ic(),u.ic(),u.jc(6,"p-multiSelect",35),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc(2).getSelectedValue(e)}),u.Zc(7,ve,2,2,"ng-template",36),u.ic(),u.Zc(8,ye,2,1,"p",17),u.Zc(9,we,4,0,"span",17),u.ic(),u.ic()}if(2&e){var a=u.uc(2);u.Nb(6),u.Bc("styleClass","form-field")("options",a.getTabNameByConnNameList)("disabled",a.isDisabled)("filter",a.getTabNameByConnNameList.length>0),u.Nb(2),u.Bc("ngIf",(null==a.addTemplateForm||null==a.addTemplateForm.controls.tableName?null:a.addTemplateForm.controls.tableName.invalid)&&!(null!=a.addTemplateForm&&null!=a.addTemplateForm.controls.tableName&&a.addTemplateForm.controls.tableName.pristine)),u.Nb(1),u.Bc("ngIf",a.showMultipleTableMsg)}}function Me(e,t){if(1&e&&(u.jc(0,"div"),u.jc(1,"div",13),u.jc(2,"label",39),u.bd(3," Table Name"),u.jc(4,"sup",15),u.bd(5,"*"),u.ic(),u.ic(),u.ec(6,"br"),u.ec(7,"input",40),u.ic(),u.ic()),2&e){var i=u.uc(2);u.Rb("col-md-6 ",i.editMode&&i.adoptionQuery?"dispnone":"",""),u.Nb(7),u.Rb("",i.editMode?"diabled-ip":""," form-field")}}function Pe(e,t){1&e&&(u.jc(0,"span",30),u.bd(1," Please enter "),u.jc(2,"b"),u.bd(3,"Table Nickname"),u.ic(),u.ic())}function Ne(e,t){1&e&&(u.jc(0,"span",30),u.bd(1," SQL keywords must not be used in Name field. "),u.ic())}function Oe(e,t){if(1&e&&(u.jc(0,"p",30),u.Zc(1,Pe,4,0,"span",17),u.Zc(2,Ne,2,0,"span",17),u.ic()),2&e){var i=u.uc(3);u.Nb(1),u.Bc("ngIf",i.addTemplateForm.controls.dataTemplateName.errors.required&&i.dataTemplateNamevalid),u.Nb(1),u.Bc("ngIf",i.addTemplateForm.controls.dataTemplateName.errors.duplicateTags)}}function Te(e,t){if(1&e&&(u.jc(0,"p",44),u.jc(1,"span",30),u.bd(2),u.ic(),u.ic()),2&e){var i=u.uc(3);u.Nb(2),u.cd(i.invalidTemplateMsg)}}function ke(e,t){if(1&e){var i=u.kc();u.jc(0,"div",12),u.jc(1,"div",13),u.jc(2,"label",41),u.bd(3," Table Nickname"),u.jc(4,"sup",15),u.bd(5,"*"),u.ic(),u.ic(),u.ec(6,"br"),u.jc(7,"input",42),u.qc("keyup",function(){return u.Rc(i),u.uc(2).onKey()}),u.ic(),u.Zc(8,Oe,3,2,"p",17),u.Zc(9,Te,3,1,"p",43),u.ic(),u.ic()}if(2&e){var a=u.uc(2);u.Nb(7),u.Rb("",a.editMode?"diabled-ip":""," form-field inputtextCustom"),u.Bc("disabled",a.isDisabled)("ngClass",a.isDisabled?"diabledfield":""),u.Nb(1),u.Bc("ngIf",a.addTemplateForm.controls.dataTemplateName.invalid&&!a.addTemplateForm.controls.dataTemplateName.pristine),u.Nb(1),u.Bc("ngIf",!a.dataTemplateNamevalid&&!a.showMsg)}}function Se(e,t){1&e&&(u.jc(0,"sup",15),u.bd(1,"*"),u.ic())}function je(e,t){1&e&&(u.jc(0,"span",30),u.bd(1," Please enter "),u.jc(2,"b"),u.bd(3,"Description"),u.ic(),u.ic())}function _e(e,t){if(1&e&&(u.jc(0,"p",30),u.Zc(1,je,4,0,"span",17),u.ic()),2&e){var i=u.uc(3);u.Nb(1),u.Bc("ngIf",i.addTemplateForm.controls.description.errors.required)}}function De(e,t){1&e&&(u.jc(0,"span",30),u.jc(1,"b"),u.bd(2,"Description"),u.ic(),u.bd(3," can not start with space "),u.ic())}function Ie(e,t){if(1&e&&(u.jc(0,"p"),u.Zc(1,De,4,0,"span",17),u.ic()),2&e){var i=u.uc(3);u.Nb(1),u.Bc("ngIf",i.showErrorDescribe)}}function Fe(e,t){if(1&e){var i=u.kc();u.jc(0,"div",12),u.jc(1,"div",13),u.jc(2,"label",45),u.bd(3," Description"),u.Zc(4,Se,2,0,"sup",46),u.ic(),u.jc(5,"input",47),u.qc("keyup",function(){return u.Rc(i),u.uc(2).checkDescriptionVal()})("change",function(){return u.Rc(i),u.uc(2).checkDescriptionValtrim()}),u.ic(),u.Zc(6,_e,2,1,"p",17),u.Zc(7,Ie,2,1,"p",1),u.ic(),u.ic()}if(2&e){var a=u.uc(2);u.Nb(4),u.Bc("ngIf",a.isFabEnabled),u.Nb(2),u.Bc("ngIf",a.addTemplateForm.controls.description.invalid&&!a.addTemplateForm.controls.description.pristine),u.Nb(1),u.Bc("ngIf",a.showErrorDescribe)}}var Ve=function(){return{standalone:!0}};function Be(e,t){if(1&e){var i=u.kc();u.jc(0,"div"),u.jc(1,"div",20),u.jc(2,"div",49),u.jc(3,"div",13),u.jc(4,"div",50),u.jc(5,"p-checkbox",51),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc(3).querySelectedValues=e}),u.ic(),u.jc(6,"label",52),u.bd(7," Advanced Options "),u.ic(),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc(3);u.Nb(5),u.Bc("ngModel",a.querySelectedValues)("ngModelOptions",u.Ec(4,Ve))("ngClass",a.isDisabled?"diabledfield":"")("disabled",a.editMode&&a.querySelectedValues&&a.adoptionQuery)}}function Re(e,t){if(1&e){var i=u.kc();u.jc(0,"div",20),u.jc(1,"div",53),u.jc(2,"div",13),u.jc(3,"div",50),u.jc(4,"p-checkbox",54),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc(3).querySelectedValues=e})("ngModelChange",function(){u.Rc(i);var e=u.uc(3);return e.onChecked(e.querySelectedValues)}),u.ic(),u.jc(5,"label",52),u.bd(6,"Advanced Options"),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc(3);u.Nb(4),u.Bc("ngModel",a.querySelectedValues)("ngModelOptions",u.Ec(4,Ve))("disabled",a.isDisabled)("ngClass",a.isDisabled?"diabledfield":"")}}function ze(e,t){if(1&e){var i=u.kc();u.jc(0,"p-checkbox",61),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc(4).adoptionQuery=e})("onChange",function(e){return u.Rc(i),u.uc(4).onAdOptionChange(e,"adoptionQuery")}),u.ic()}if(2&e){var a=u.uc(4);u.Bc("disabled",a.editMode&&a.adoptionWhere||a.editMode&&a.adoptionQuery||!a.selecteDataConnName)("ngModel",a.adoptionQuery)("ngModelOptions",u.Ec(3,Ve))}}function qe(e,t){if(1&e){var i=u.kc();u.jc(0,"p-checkbox",61),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc(4).adoptionWhere=e})("onChange",function(e){return u.Rc(i),u.uc(4).onAdOptionChange(e,"adoptionWhere")}),u.ic()}if(2&e){var a=u.uc(4);u.Bc("disabled",a.editMode&&a.adoptionQuery||a.editMode&&a.adoptionWhere||!a.selecteDataConnName)("ngModel",a.adoptionWhere)("ngModelOptions",u.Ec(3,Ve))}}function Le(e,t){1&e&&(u.jc(0,"span",65),u.bd(1," Please enter "),u.jc(2,"b"),u.bd(3,"Query"),u.ic(),u.ic())}function Ee(e,t){if(1&e&&(u.jc(0,"p",30),u.Zc(1,Le,4,0,"span",64),u.ic()),2&e){var i=u.uc(5);u.Nb(1),u.Bc("ngIf",i.addTemplateForm.controls.querytextboxid.errors.required||i.showQueryValMsg)}}function Ze(e,t){if(1&e&&(u.jc(0,"div",62),u.jc(1,"textarea",63),u.bd(2,"                                            "),u.ic(),u.Zc(3,Ee,2,1,"p",17),u.ic()),2&e){var i=u.uc(4);u.Nb(1),u.Bc("rows",5)("cols",30),u.Nb(2),u.Bc("ngIf",i.addTemplateForm.controls.querytextboxid.invalid&&!i.addTemplateForm.controls.querytextboxid.pristine&&!i.editMode||i.showQueryValMsg)}}function Ae(e,t){1&e&&(u.jc(0,"p",30),u.bd(1," To validate query "),u.jc(2,"b"),u.bd(3,"Where Condition"),u.ic(),u.bd(4," is required. "),u.ic())}function Ue(e,t){if(1&e&&(u.jc(0,"div"),u.ec(1,"input",66),u.Zc(2,Ae,5,0,"p",17),u.ic()),2&e){var i=u.uc(5);u.Nb(1),u.Bc("disabled",i.isDisabled),u.Nb(1),u.Bc("ngIf",i.showWhereConValMsg)}}function We(e,t){if(1&e&&(u.jc(0,"div",62),u.Zc(1,Ue,3,2,"div",1),u.ic()),2&e){var i=u.uc(4);u.Nb(1),u.Bc("ngIf",("MSSQL"===i.selectedConnectionName||"MYSQL"===i.selectedConnectionName||"SnowFlake"===i.selectedConnectionName||"AzureDataLakeStorageGen2Batch"===i.selectedConnectionName||"DatabricksDeltaLake"===i.selectedConnectionName||"FileSystem Batch"===i.selectedConnectionName||"MapR Hive"===i.selectedConnectionName||"Hive Kerberos"===i.selectedConnectionName||"AzureDataLakeStorageGen1"===i.selectedConnectionName||"Oracle"===i.selectedConnectionName||"Postgres"===i.selectedConnectionName||"Teradata"===i.selectedConnectionName||"S3 Batch"===i.selectedConnectionName||"S3 IAMRole Batch"===i.selectedConnectionName||"Oracle"===i.selectedConnectionName||"AzureSynapseMSSQL"===i.selectedConnectionName||"S3 IAMRole Config Batch"===i.selectedConnectionName||"AzureCosmosDB"===i.selectedConnectionName)&&i.selecteDataConnName)}}function Qe(e,t){1&e&&(u.jc(0,"p",30),u.bd(1," To validate query "),u.jc(2,"b"),u.bd(3,"Where Condition"),u.ic(),u.bd(4," is required. "),u.ic())}function $e(e,t){if(1&e&&(u.jc(0,"div",62),u.ec(1,"input",67),u.Zc(2,Qe,5,0,"p",17),u.ic()),2&e){var i=u.uc(4);u.Nb(1),u.Bc("disabled",i.isDisabled),u.Nb(1),u.Bc("ngIf",i.showWhereConValMsg)}}function Ge(e,t){if(1&e){var i=u.kc();u.jc(0,"button",71),u.qc("click",function(e){return u.Rc(i),u.uc(5).validateQuery(e)}),u.bd(1),u.ic()}if(2&e){var a=u.uc(5);u.Bc("disabled",a.disableValidateQuery&&!a.adoptionQuery),u.Nb(1),u.dd(" Validate ",a.adoptionQuery?"Query":"Where"," ")}}function Je(e,t){if(1&e){var i=u.kc();u.jc(0,"button",71),u.qc("click",function(e){return u.Rc(i),u.uc(5).validateQuery(e)}),u.bd(1),u.ic()}if(2&e){var a=u.uc(5);u.Bc("disabled",!a.disableValidateQuery&&!a.adoptionQuery),u.Nb(1),u.dd(" Validate ",a.adoptionQuery?"Query":"Where"," ")}}function He(e,t){if(1&e&&(u.jc(0,"a",72),u.ec(1,"i",73),u.bd(2),u.ic()),2&e){var i=u.uc(5);u.Nb(2),u.dd(" ",i.messageSuccessQuery," ")}}function Ye(e,t){if(1&e&&(u.jc(0,"a",74),u.ec(1,"i",75),u.bd(2,"\xa0 "),u.jc(3,"span"),u.bd(4),u.ic(),u.ic()),2&e){var i=u.uc(5);u.Nb(4),u.cd(i.messageFailedQuery)}}function Ke(e,t){if(1&e&&(u.jc(0,"div",53),u.Zc(1,Ge,2,2,"button",68),u.Zc(2,Je,2,2,"button",68),u.ec(3,"br"),u.Zc(4,He,3,1,"a",69),u.Zc(5,Ye,5,1,"a",70),u.ic()),2&e){var i=u.uc(4);u.Nb(1),u.Bc("ngIf",("MSSQL"===i.selectedConnectionName||"MapR Hive"===i.selectedConnectionName||"SnowFlake"===i.selectedConnectionName)&&!i.canUpdate),u.Nb(1),u.Bc("ngIf",i.editMode),u.Nb(2),u.Bc("ngIf",""!=i.messageSuccessQuery),u.Nb(1),u.Bc("ngIf",""!=i.messageFailedQuery)}}function Xe(e,t){1&e&&(u.jc(0,"span",30),u.bd(1," Historic Datefield Table Name "),u.ic())}function et(e,t){if(1&e&&(u.jc(0,"p",30),u.Zc(1,Xe,2,0,"span",17),u.ic()),2&e){var i=u.uc(5);u.Nb(1),u.Bc("ngIf",i.addTemplateForm.controls.historicDateTable.errors.required)}}function tt(e,t){if(1&e&&(u.jc(0,"div",55),u.jc(1,"div",13),u.jc(2,"label",76),u.bd(3," Historic Datefield Table Name "),u.ic(),u.ec(4,"br"),u.ec(5,"input",77),u.Zc(6,et,2,1,"p",17),u.ic(),u.ic()),2&e){var i=u.uc(4);u.Nb(6),u.Bc("ngIf",i.addTemplateForm.controls.historicDateTable.invalid&&!i.addTemplateForm.controls.historicDateTable.pristine)}}function it(e,t){if(1&e&&(u.jc(0,"div",20),u.jc(1,"div",55),u.jc(2,"div",13),u.jc(3,"div",7),u.jc(4,"div"),u.Zc(5,ze,1,4,"p-checkbox",56),u.jc(6,"label",57),u.bd(7," Query "),u.ic(),u.ic(),u.jc(8,"div"),u.Zc(9,qe,1,4,"p-checkbox",56),u.jc(10,"label",57),u.bd(11," Where Condition "),u.ic(),u.ic(),u.ic(),u.jc(12,"div"),u.Zc(13,Ze,4,3,"div",58),u.Zc(14,We,2,1,"div",58),u.Zc(15,$e,3,2,"div",58),u.ic(),u.jc(16,"div",7),u.Zc(17,Ke,6,4,"div",59),u.ic(),u.ic(),u.ic(),u.Zc(18,tt,7,1,"div",60),u.ic()),2&e){var i=u.uc(3);u.Nb(4),u.Rb("col-md-6 p-field-checkbox mr-top-minus ",i.editMode&&i.adoptionWhere||i.WhereFlag?"dispnone":"",""),u.Nb(1),u.Bc("ngIf",!i.editMode),u.Nb(1),u.Rb("",i.editMode&&i.adoptionQuery?"padding-left-0":"margin-checkbox"," col-form-label padding_bottom_0"),u.Nb(2),u.Rb("col-md-6 p-field-checkbox mr-top-minus ",i.editMode&&i.adoptionQuery?"dispnone":"",""),u.Nb(1),u.Bc("ngIf",!i.editMode),u.Nb(1),u.Rb("",i.editMode&&i.adoptionWhere||i.WhereFlag?"padding-left-0":"margin-checkbox"," col-form-label margin-checkbox padding_bottom_0"),u.Nb(2),u.Rb("row ",i.editMode&&i.adoptionWhere?"":"margin-top10",""),u.Nb(1),u.Bc("ngIf",i.adoptionQuery),u.Nb(1),u.Bc("ngIf",i.adoptionWhere),u.Nb(1),u.Bc("ngIf",i.getConnectionTypeValue&&!i.adoptionQuery),u.Nb(2),u.Bc("ngIf",(null==i.addTemplateForm.value.whereId?null:i.addTemplateForm.value.whereId.length)>0||(null==i.addTemplateForm.value.querytextboxid?null:i.addTemplateForm.value.querytextboxid.length)>0),u.Nb(1),u.Bc("ngIf",i.adoptionQuery)}}function at(e,t){if(1&e&&(u.jc(0,"div"),u.Zc(1,Be,8,5,"div",1),u.Zc(2,Re,7,5,"div",48),u.Zc(3,it,19,22,"div",48),u.ic()),2&e){var i=u.uc(2);u.Nb(1),u.Bc("ngIf",i.getConnectionTypeValue),u.Nb(1),u.Bc("ngIf","MSSQL"===i.selectedConnectionName||"MYSQL"===i.selectedConnectionName||"SnowFlake"===i.selectedConnectionName||"AzureDataLakeStorageGen2Batch"===i.selectedConnectionName||"DatabricksDeltaLake"===i.selectedConnectionName||"FileSystem Batch"===i.selectedConnectionName||"MapR Hive"===i.selectedConnectionName||"Hive Kerberos"===i.selectedConnectionName||"AzureDataLakeStorageGen1"===i.selectedConnectionName||"Oracle"===i.selectedConnectionName||"Postgres"===i.selectedConnectionName||"Teradata"===i.selectedConnectionName||"S3 Batch"===i.selectedConnectionName||"S3 IAMRole Batch"===i.selectedConnectionName||"Oracle"===i.selectedConnectionName||"AzureSynapseMSSQL"===i.selectedConnectionName||"S3 IAMRole Config Batch"===i.selectedConnectionName||"AzureCosmosDB"===i.selectedConnectionName),u.Nb(1),u.Bc("ngIf",i.querySelectedValues&&"FileSystem Batch"!=i.selectedConnectionName)}}function nt(e,t){if(1&e){var i=u.kc();u.jc(0,"div",78),u.jc(1,"div",13),u.jc(2,"div",50),u.jc(3,"p-checkbox",79),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc(2).selectedValues=e})("onChange",function(e){return u.Rc(i),u.uc(2).onIncrementalSource(e)}),u.ic(),u.jc(4,"label",80),u.bd(5," Incremental Matching Source "),u.ic(),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc(2);u.Nb(3),u.Bc("ngModel",a.selectedValues)("ngModelOptions",u.Ec(2,Ve))}}function ot(e,t){1&e&&(u.jc(0,"span",30),u.bd(1," Date shoud be in MM/DD/YYYY format. "),u.ic())}function rt(e,t){if(1&e&&(u.jc(0,"p",30),u.Zc(1,ot,2,0,"span",17),u.ic()),2&e){var i=u.uc(3);u.Nb(1),u.Bc("ngIf",i.addTemplateForm.controls.dateFormatId.errors.pattern)}}function lt(e,t){if(1&e&&(u.jc(0,"div",78),u.jc(1,"div",13),u.jc(2,"label",81),u.bd(3,"Date Format"),u.ic(),u.ec(4,"br"),u.ec(5,"input",82),u.ic(),u.Zc(6,rt,2,1,"p",17),u.ic()),2&e){var i=u.uc(2);u.Nb(6),u.Bc("ngIf",i.addTemplateForm.controls.dateFormatId.invalid&&!i.addTemplateForm.controls.dateFormatId.pristine)}}function ct(e,t){1&e&&(u.jc(0,"span",30),u.bd(1," Allow only negative numbers. "),u.ic())}function st(e,t){1&e&&(u.jc(0,"span",30),u.bd(1," Please enter "),u.jc(2,"b"),u.bd(3,"Slice Start"),u.ic(),u.ic())}function dt(e,t){if(1&e&&(u.jc(0,"p",30),u.Zc(1,ct,2,0,"span",17),u.Zc(2,st,4,0,"span",17),u.ic()),2&e){var i=u.uc(3);u.Nb(1),u.Bc("ngIf",i.addTemplateForm.controls.slicestartid.errors.pattern),u.Nb(1),u.Bc("ngIf",i.addTemplateForm.controls.slicestartid.errors.required||1==i.incSelectedCheckbox)}}function pt(e,t){if(1&e){var i=u.kc();u.jc(0,"div",78),u.jc(1,"div",13),u.jc(2,"label",83),u.bd(3," Slice Start"),u.jc(4,"sup",15),u.bd(5,"*"),u.ic(),u.ic(),u.ec(6,"br"),u.jc(7,"input",84),u.qc("keyup",function(e){return u.Rc(i),u.uc(2).getSliceStart(e)}),u.ic(),u.ic(),u.Zc(8,dt,3,2,"p",17),u.ic()}if(2&e){var a=u.uc(2);u.Nb(8),u.Bc("ngIf",a.addTemplateForm.controls.slicestartid.invalid&&!a.addTemplateForm.controls.slicestartid.pristine)}}function ut(e,t){1&e&&(u.jc(0,"span",30),u.bd(1," Allow only negative numbers. "),u.ic())}function mt(e,t){1&e&&(u.jc(0,"span",30),u.bd(1," Please enter "),u.jc(2,"b"),u.bd(3,"Slice End"),u.ic(),u.ic())}function gt(e,t){if(1&e&&(u.jc(0,"p",30),u.Zc(1,ut,2,0,"span",17),u.Zc(2,mt,4,0,"span",17),u.ic()),2&e){var i=u.uc(3);u.Nb(1),u.Bc("ngIf",i.addTemplateForm.controls.sliceendid.errors.pattern),u.Nb(1),u.Bc("ngIf",i.addTemplateForm.controls.sliceendid.errors.required||1==i.incSelectedCheckbox)}}function ft(e,t){if(1&e&&(u.jc(0,"div",78),u.jc(1,"div",13),u.jc(2,"label",85),u.bd(3," Slice End"),u.jc(4,"sup",15),u.bd(5,"*"),u.ic(),u.ic(),u.ec(6,"br"),u.ec(7,"input",86),u.Zc(8,gt,3,2,"p",17),u.ic(),u.ic()),2&e){var i=u.uc(2);u.Nb(8),u.Bc("ngIf",i.addTemplateForm.controls.sliceendid.invalid&&!i.addTemplateForm.controls.sliceendid.pristine)}}function ht(e,t){if(1&e){var i=u.kc();u.jc(0,"div",87),u.jc(1,"span",88),u.bd(2,"Please select a checkbox for data table creation"),u.ic(),u.jc(3,"div",13),u.jc(4,"div",50),u.jc(5,"p-checkbox",79),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc(2).selectedValueMetadata=e})("onChange",function(e){return u.Rc(i),u.uc(2).onButtonSubmitChange(e,"selectedValueMetadata")}),u.ic(),u.jc(6,"label",89),u.bd(7," Extract only metadata "),u.ic(),u.ic(),u.ic(),u.jc(8,"div",13),u.jc(9,"div",50),u.jc(10,"p-checkbox",79),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc(2).selectedValueMetadataProfile=e})("onChange",function(e){return u.Rc(i),u.uc(2).onButtonSubmitChange(e,"selectedValueMetadataProfile")}),u.ic(),u.jc(11,"label",90),u.bd(12," Metadata + Profile "),u.ic(),u.ic(),u.ic(),u.jc(13,"div",13),u.jc(14,"div",50),u.jc(15,"p-checkbox",91),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc(2).selectedValueMetadataProfileRule=e})("onChange",function(e){return u.Rc(i),u.uc(2).onButtonSubmitChange(e,"selectedValueMetadataProfileRule")}),u.ic(),u.jc(16,"label",92),u.bd(17," Metadata + Profile + Rule Discovery "),u.ic(),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc(2);u.Bc("ngClass",a.selectedValues?"padding-top-30":"padding-top-15"),u.Nb(5),u.Bc("ngModel",a.selectedValueMetadata)("ngModelOptions",u.Ec(8,Ve)),u.Nb(5),u.Bc("ngModel",a.selectedValueMetadataProfile)("ngModelOptions",u.Ec(9,Ve)),u.Nb(5),u.Bc("ngModel",a.selectedValueMetadataProfileRule)("ngModelOptions",u.Ec(10,Ve))("disabled",a.selectedValueMetadataProfileRule)}}function bt(e,t){if(1&e){var i=u.kc();u.jc(0,"button",93),u.qc("click",function(){return u.Rc(i),u.uc(2).onSubmit()}),u.bd(1," Submit "),u.ic()}if(2&e){var a=u.uc(2);u.Bc("disabled",!a.addTemplateForm.valid||!a.dataTemplateNamevalid)}}function vt(e,t){if(1&e){var i=u.kc();u.jc(0,"button",93),u.qc("click",function(){return u.Rc(i),u.uc(2).onUpdate()}),u.bd(1," Update "),u.ic()}if(2&e){var a=u.uc(2);u.Bc("disabled",!a.addTemplateForm.valid||!a.addTemplateForm.dirty)}}function Ct(e,t){if(1&e){var i=u.kc();u.jc(0,"div",6),u.jc(1,"div",7),u.jc(2,"div",8),u.Zc(3,le,2,1,"p",9),u.Zc(4,ce,2,1,"p",9),u.ic(),u.ic(),u.jc(5,"form",10),u.jc(6,"div",11),u.jc(7,"div",12),u.jc(8,"div",13),u.jc(9,"label",14),u.bd(10," Data Source Type"),u.jc(11,"sup",15),u.bd(12,"*"),u.ic(),u.ic(),u.jc(13,"div"),u.jc(14,"p-dropdown",16),u.qc("onChange",function(e){return u.Rc(i),u.uc().onConnectionChange(e)}),u.ic(),u.ic(),u.Zc(15,de,2,1,"p",17),u.ic(),u.ic(),u.Zc(16,me,9,11,"div",18),u.Zc(17,he,9,11,"div",18),u.Zc(18,xe,10,6,"div",18),u.Zc(19,Me,8,6,"div",19),u.Zc(20,ke,10,7,"div",18),u.Zc(21,Fe,8,3,"div",18),u.ic(),u.Zc(22,at,4,3,"div",1),u.jc(23,"div",20),u.Zc(24,nt,6,3,"div",21),u.Zc(25,lt,7,1,"div",21),u.Zc(26,pt,9,1,"div",21),u.Zc(27,ft,9,1,"div",21),u.Zc(28,ht,18,11,"div",22),u.ic(),u.jc(29,"div",23),u.jc(30,"div",24),u.jc(31,"p"),u.bd(32,"Note: Fields marked with "),u.jc(33,"b"),u.bd(34,'"*"'),u.ic(),u.bd(35," are required. "),u.ic(),u.ic(),u.ic(),u.jc(36,"div",25),u.jc(37,"div",26),u.Zc(38,bt,2,1,"button",27),u.bd(39," \xa0 "),u.Zc(40,vt,2,1,"button",27),u.bd(41," \xa0 "),u.jc(42,"button",28),u.qc("click",function(){return u.Rc(i),u.uc().onCancel()}),u.bd(43," Cancel "),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc();u.Nb(3),u.Bc("ngIf",!a.editMode),u.Nb(1),u.Bc("ngIf",a.editMode),u.Nb(1),u.Bc("formGroup",a.addTemplateForm),u.Nb(8),u.Qb(a.editMode?"diabled-ip":""),u.Nb(1),u.Bc("styleClass","form-field")("filter",!0)("options",a.connectionTypesList)("disabled",a.isDisabled)("ngClass",a.isDisabled?"diabledfield":"")("virtualScroll",!0)("itemSize",30),u.Nb(1),u.Bc("ngIf",a.addTemplateForm.controls.dataLocation.invalid&&!a.addTemplateForm.controls.dataLocation.pristine),u.Nb(1),u.Bc("ngIf","MSSQL"===a.selectedConnectionName||"MYSQL"===a.selectedConnectionName||"SnowFlake"===a.selectedConnectionName||"AzureDataLakeStorageGen2Batch"===a.selectedConnectionName||"DatabricksDeltaLake"===a.selectedConnectionName||"FileSystem Batch"===a.selectedConnectionName||"Hive Kerberos"===a.selectedConnectionName||"MapR Hive"===a.selectedConnectionName||"AzureDataLakeStorageGen1"===a.selectedConnectionName||"Oracle"===a.selectedConnectionName||"Postgres"===a.selectedConnectionName||"Teradata"===a.selectedConnectionName||"S3 Batch"===a.selectedConnectionName||"S3 IAMRole Batch"===a.selectedConnectionName||"Oracle"===a.selectedConnectionName||"AzureSynapseMSSQL"===a.selectedConnectionName||"S3 IAMRole Config Batch"===a.selectedConnectionName||"AzureCosmosDB"===a.selectedConnectionName),u.Nb(1),u.Bc("ngIf",a.getConnectionTypeValue),u.Nb(1),u.Bc("ngIf",a.selecteDataConnName&&!a.adoptionQuery&&!a.editMode||a.selecteDataConnName&&a.adoptionWhere&&!a.editMode),u.Nb(1),u.Bc("ngIf",a.selecteDataConnNameBinary),u.Nb(1),u.Bc("ngIf",a.selecteDataConnName),u.Nb(1),u.Bc("ngIf",a.selecteDataConnName),u.Nb(1),u.Bc("ngIf",""!==a.selectedConnectionName||a.editMode),u.Nb(2),u.Bc("ngIf",a.adoptionQuery),u.Nb(1),u.Bc("ngIf",a.selectedValues),u.Nb(1),u.Bc("ngIf",a.selectedValues),u.Nb(1),u.Bc("ngIf",a.selectedValues),u.Nb(1),u.Bc("ngIf",!a.canUpdate&&a.selectedCheckbox),u.Nb(10),u.Bc("ngIf",!a.canUpdate),u.Nb(2),u.Bc("ngIf",a.canUpdate)}}function yt(e,t){if(1&e&&(u.jc(0,"p",98),u.jc(1,"b"),u.bd(2),u.ic(),u.bd(3),u.ic()),2&e){var i=u.uc(3);u.Nb(2),u.dd("",i.appConstant.dataTabelName,":"),u.Nb(1),u.dd(" ",i.getTemplatename," ")}}function wt(e,t){if(1&e&&(u.jc(0,"div"),u.jc(1,"div",6),u.jc(2,"div",94),u.jc(3,"div",95),u.Zc(4,yt,4,2,"p",96),u.jc(5,"div",97),u.bd(6),u.ec(7,"br"),u.ec(8,"hr"),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()),2&e){var i=u.uc(2);u.Nb(4),u.Bc("ngIf",i.showTemplateName),u.Nb(2),u.dd(" ",i.displayMessagePoll," \xa0 ")}}function xt(e,t){if(1&e&&(u.jc(0,"div",103),u.bd(1),u.ec(2,"br"),u.ec(3,"hr"),u.ic()),2&e){var i=u.uc(4);u.Nb(1),u.dd(" ",i.displayMessagePoll," \xa0 ")}}function Mt(e,t){if(1&e&&(u.jc(0,"div",103),u.bd(1),u.ec(2,"br"),u.ec(3,"hr"),u.ic()),2&e){var i=u.uc(4);u.Nb(1),u.dd(" ",i.displayMessageLatest," \xa0 ")}}function Pt(e,t){1&e&&(u.jc(0,"div",104),u.bd(1," Validation has been created and execution is in progress. "),u.ic())}function Nt(e,t){if(1&e&&(u.jc(0,"div",6),u.jc(1,"div",94),u.jc(2,"div",95),u.jc(3,"p",98),u.jc(4,"b"),u.bd(5),u.ic(),u.bd(6),u.ic(),u.ic(),u.jc(7,"div",95),u.Zc(8,xt,4,1,"div",100),u.Zc(9,Mt,4,1,"div",100),u.ic(),u.jc(10,"div",7),u.ec(11,"app-progress-bar",101),u.Zc(12,Pt,2,0,"div",102),u.ic(),u.ic(),u.ic()),2&e){var i=t.$implicit,a=u.uc(3);u.Nb(5),u.dd("",a.appConstant.dataTabelName,":"),u.Nb(1),u.dd(" ",null==i?null:i.getTemplateName," "),u.Nb(2),u.Bc("ngIf",1!=(null==i?null:i.showmsg)),u.Nb(1),u.Bc("ngIf","Task completed"==(null==i?null:i.status)||"Task failed"==(null==i?null:i.status)||"Task killed"==(null==i?null:i.status)),u.Nb(2),u.Bc("value",null==i?null:i.percentage)("success",null==i?null:i.status)("progressBarShow",null==i?null:i.progressBarShow),u.Nb(1),u.Bc("ngIf","Task completed"==(null==i?null:i.status)&&a.isCreateTemplate)}}function Ot(e,t){if(1&e&&(u.jc(0,"div"),u.Zc(1,Nt,13,8,"div",99),u.ic()),2&e){var i=u.uc(2);u.Nb(1),u.Bc("ngForOf",i.result1)}}function Tt(e,t){if(1&e&&(u.jc(0,"div"),u.Zc(1,wt,9,2,"div",1),u.Zc(2,Ot,2,1,"div",1),u.ic()),2&e){var i=u.uc();u.Nb(1),u.Bc("ngIf",0==i.result1.length&&1==i.statusPollDiv),u.Nb(1),u.Bc("ngIf",0!=i.result1.length&&1==i.statusPollDiv)}}function kt(e,t){if(1&e&&(u.jc(0,"div"),u.jc(1,"div",6),u.jc(2,"div",94),u.jc(3,"div",95),u.jc(4,"div",105),u.bd(5),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()),2&e){var i=u.uc();u.Nb(5),u.dd(" ",i.displayMessage," \xa0 ")}}function St(e,t){1&e&&(u.jc(0,"span",106),u.ec(1,"i",107),u.bd(2," WARNING "),u.ic())}var jt,_t=function(){return{width:"50vw"}},Dt=((jt=function(){function e(t,i,a,n,r,l,c,s,d,p){o(this,e),this.formBuilder=t,this.fh=i,this.homeServiceService=a,this.router=n,this.dataTemplateService=r,this.messages=l,this.datepipe=c,this.excutiveSummaryService=s,this.spinner=d,this.domainProj=p,this.appConstant=new X.a,this.addDataTemplateScreen=!1,this.addScreenDataTemplate=new u.p,this.editDataTemplateScreen=!1,this.editScreenDataTemplate=new u.p,this.submitted=!1,this.currentMode="edit",this.selectedValues=!1,this.selectedValue="",this.queryFileSelectedValues="",this.selectedHeaderIdValues="",this.selectedRollingValues="",this.querySelectedValues=!1,this.projectDomains=[],this.selectedProjId=sessionStorage.getItem("activeDomainId")+"_"+sessionStorage.getItem("activeProjectId"),this.selectedConnectionId="",this.editMode=!1,this.connectionTypesList=[{id:1,name:"Azure Cosmos DB",value:"AzureCosmosDB"},{id:2,name:"Azure Data Lake Storage Gen1",value:"AzureDataLakeStorageGen1"},{id:3,name:"Azure Data Lake Storage Gen2 (Batch)",value:"AzureDataLakeStorageGen2Batch"},{id:4,name:"Azure Synapse MSSQL",value:"AzureSynapseMSSQL"},{id:17,name:"Databricks Delta Lake",value:"DatabricksDeltaLake"},{id:5,name:"File System (Batch)",value:"FileSystem Batch"},{id:6,name:"Hive (Kerberos)",value:"Hive Kerberos"},{id:7,name:"MapR Hive",value:"MapR Hive"},{id:8,name:"MSSQL",value:"MSSQL"},{id:9,name:"MYSQL",value:"MYSQL"},{id:10,name:"Oracle (Standalone)",value:"Oracle"},{id:11,name:"Postgres",value:"Postgres"},{id:12,name:"SnowFlake",value:"SnowFlake"},{id:13,name:"S3 (Batch)",value:"S3 Batch"},{id:14,name:"S3 IAMRole (Batch)",value:"S3 IAMRole Batch"},{id:15,name:"S3 IAMRole Config (Batch)",value:"S3 IAMRole Config Batch"},{id:16,name:"Teradata",value:"Teradata"}],this.projectId=JSON.parse(sessionStorage.getItem("activeProjectId")),this.getTabNameByConnNameList=[],this.showMsg=!1,this.show=!0,this.dataTemplateNamevalid=!0,this.dataConnectionType=[],this.saveData=[],this.result=[],this.result1=[],this.resultData=[],this.domainId=JSON.parse(sessionStorage.getItem("activeDomainId")),this.editTemplateDataName=[],this.getConnectionTypeValue=!1,this.dataConnections=!1,this.selecteDataConnNameBinary=!1,this.isDisabled=!1,this.querycheckboxChecked=!1,this.selectedTabName=[],this.showMessage="",this.pushedArr=[],this.isFabEnabled=!1,this.showErrorDescribe=!1,this.disableValidateQuery=!0,this.showQueryValMsg=!1,this.showDataConnValMsg=!1,this.showWhereConValMsg=!1,this.showMultipleTableMsg=!1,this.messageFailedQuery="",this.messageSuccessQuery="",this.confirmValidationProceed=!1,this.validateQueryClicked=!1,this.addReferenceScreen=!1,this.viewReferenceScreen=!1,this.showTemplateName=!1,this.statusPollDiv=!1,this.arr=[],this.isCreateTemplate=!1,this.selectedValueMetadata=!1,this.selectedValueMetadataProfile=!1,this.selectedValueMetadataProfileRule=!0,this.tableValues=[],this.adoptionQuery=!1,this.adoptionWhere=!1,this.WhereFlag=!1,this.resetTemplateForm()}return n(e,[{key:"resetTemplateForm",value:function(){this.addTemplateForm=this.formBuilder.group({dataTemplateName:new s.f("",[s.w.required,s.w.pattern("^[a-zA-Z][A-Za-z0-9_]*$"),Y.a]),description:new s.f(""),dataLocation:new s.f("",[s.w.required]),incrementalsourceid:new s.f("",[]),dateFormatId:new s.f("",[]),slicestartid:new s.f("",[]),sliceendid:new s.f("",[]),schemaName:new s.f("",[]),incrementalId:new s.f("",[]),whereId:new s.f("",[]),querycheckboxid:new s.f(!0,[]),querytextboxid:new s.f("",[]),historicDateTable:new s.f("",[]),tableName:new s.f("",[]),source:new s.f("",[]),rowsId:new s.f("",[]),hostName:new s.f("",[]),userName:new s.f("",[]),pwd:new s.f("",[]),headerId:new s.f("",[]),rollingHeaderPresent:new s.f("",[]),filequerycheckboxid:new s.f("",[]),filequerytextboxid:new s.f("",[]),rollingColumn:new s.f("",[]),domainId:new s.f("")})}},{key:"ngOnInit",value:function(){var e,t,i,a,n,o,r,l,c,d,p,u,m,g,f,h,b,v,C,y=this;if(this.userDetails=JSON.parse(sessionStorage.getItem("userDetail")),this.domainId=sessionStorage.getItem("activeDomainId"),this.projectId=sessionStorage.getItem("activeProjectId"),sessionStorage.removeItem("dataTemplateForMultitable"),this.showError=this.addTemplateForm.get("sliceendid").value<0,this.router.url.includes("edit-template")||this.editDataTemplateScreen)if(this.editMode=!0,sessionStorage.getItem("templateDetail")&&(this.editTemplateData=JSON.parse(sessionStorage.getItem("templateDetail")),this.editTemplateDataName.push(this.editTemplateData)),this.editMode){this.spinner.show(),this.domainProj.passDomainProjVal(!0),Object.keys(this.addTemplateForm.controls).forEach(function(e){y.addTemplateForm.controls[e].clearValidators()}),"MSSQL"!==(null===(e=this.editTemplateDataName[0])||void 0===e?void 0:e.DataLocation)&&"MYSQL"!==(null===(t=this.editTemplateDataName[0])||void 0===t?void 0:t.DataLocation)&&"SnowFlake"!==(null===(i=this.editTemplateDataName[0])||void 0===i?void 0:i.DataLocation)&&"AzureDataLakeStorageGen2Batch"!==(null===(a=this.editTemplateDataName[0])||void 0===a?void 0:a.DataLocation)&&"FileSystem Batch"!==(null===(n=this.editTemplateDataName[0])||void 0===n?void 0:n.DataLocation)&&"FILESYSTEM"!==(null===(o=this.editTemplateDataName[0])||void 0===o?void 0:o.DataLocation)&&"Hive Kerberos"!==(null===(r=this.editTemplateDataName[0])||void 0===r?void 0:r.DataLocation)&&"MapR Hive"!==(null===(l=this.editTemplateDataName[0])||void 0===l?void 0:l.DataLocation)&&"Postgres"!==(null===(c=this.editTemplateDataName[0])||void 0===c?void 0:c.DataLocation)&&"Teradata"!==(null===(d=this.editTemplateDataName[0])||void 0===d?void 0:d.DataLocation)&&"S3 Batch"!==(null===(p=this.editTemplateDataName[0])||void 0===p?void 0:p.DataLocation)&&"S3 IAMRole Batch"!==(null===(u=this.editTemplateDataName[0])||void 0===u?void 0:u.DataLocation)&&"Oracle"!==(null===(m=this.editTemplateDataName[0])||void 0===m?void 0:m.DataLocation)&&"AzureSynapseMSSQL"!==(null===(g=this.editTemplateDataName[0])||void 0===g?void 0:g.DataLocation)&&"S3 IAMRole Config Batch"!==(null===(f=this.editTemplateDataName[0])||void 0===f?void 0:f.DataLocation)&&"DatabricksDeltaLake"!==(null===(h=this.editTemplateDataName[0])||void 0===h?void 0:h.DataLocation)&&"AzureCosmosDB"!==(null===(b=this.editTemplateDataName[0])||void 0===b?void 0:b.DataLocation)||(this.getConnectionTypeValue=!0),this.getIdBySelectedDataConn=null===(v=this.connectionTypesList.find(function(e){var t;return e.value===(null===(t=y.editTemplateDataName[0])||void 0===t?void 0:t.DataLocation)}))||void 0===v?void 0:v.value;var w={dataTemplateId:null===(C=this.editTemplateDataName[0])||void 0===C?void 0:C.TemplateId};this.dataTemplateService.getTempDetailById("getDataTemplateByID",w).subscribe(function(e){var t;y.spinner.show(),y.dataBytemplateId=e,"Y"===e.result.dataAccess.query?(y.querySelectedValues=!0,y.adoptionQuery=!0,y.adoptionWhere=!1):e.result.dataAccess.whereCondition?(y.querySelectedValues=!0,y.adoptionQuery=!1,y.adoptionWhere=!0):(y.querySelectedValues=!1,y.adoptionQuery=!1,y.adoptionWhere=!1,y.WhereFlag=!0),y.selectedValues="Y"===e.result.dataAccess.incrementalType;var i={connectionType:null===(t=y.editTemplateDataName[0])||void 0===t?void 0:t.DataLocation,projectId:e.result.dataSource.projectId,domainId:e.result.dataSource.domain};y.dataTemplateService.connectionNameList("getDataConnectionName",i).subscribe(function(e){y.spinner.show(),e.result.connectionList.map(function(e){e.id=e.id,e.connectionName="AzureDataLakeStorageGen2Batch"==y.getIdBySelectedDataConn||"FileSystem Batch"==y.getIdBySelectedDataConn?e.id+"_"+e.connectionName:e.id+"_"+e.connectionName+" ("+e.databaseName+")"}),y.dataConnectionType=e.result.connectionList,y.dataConnections=!0}),y.dataTemplateService.getTabNameByConnName("getTableNamesByDataConnNameNSchemaID",{schemaId:e.result.dataSource.idDataSchema,dataConnectionName:e.result.dataSource.dataLocation}).subscribe(function(t){var i;y.selecteDataConnNameBinary=!0,y.querycheckboxChecked=!0,y.getTabNameByConnNameList=[];var a=[];null===(i=null==t?void 0:t.result)||void 0===i||i.tableList.forEach(function(e,t){a.push({id:t,value:e.tableName,check:e.monitoredTable})}),y.getTabNameByConnNameList=a.sort(function(e,t){return e.check>t.check?-1:e.check<t.check?1:0}),y.selectedTableName=[1,2],y.selecteDataConnName=e.result.dataSource.idDataSchema,y.selectedTableName=[],y.addTemplateForm.patchValue({idUser:y.userDetails.idUser,dataTemplateName:e.result.dataSource.name,dataLocation:y.getIdBySelectedDataConn,createdByUser:e.result.dataSource.createdByUser,hostName:e.result.dataAccess.hostName,schemaName:e.result.dataSource.idDataSchema,srcBrokerUri:e.result.dataSource.srcBrokerUri,srcTopicName:e.result.dataSource.srcTopicName,dataFormat:"",userName:e.result.dataAccess.userName,pwd:e.result.dataSource.pwd,tarBrokerUri:e.result.dataAccess.tarBrokerUri,tarTopicName:e.result.dataAccess.tarTopicName,description:e.result.dataSource.description,idDataSchema:e.result.dataSource.idDataSchema,headerId:"",rowsId:"",tableName:e.result.dataAccess.folderName,tableNameList:"",whereId:e.result.dataAccess.whereCondition,queryCheckboxId:"Y"===e.result.dataAccess.query,historicDateTable:e.result.dataAccess.historicDateTable,selectedTables:"",querytextboxid:e.result.dataAccess.queryString,fileQueryCheckboxid:"",fileQueryTextboxid:"",incrementalSourceId:"N"===e.result.dataAccess.incrementalType,dateFormatId:e.result.dataAccess.dateFormat,slicestartid:e.result.dataAccess.sliceStart,sliceendid:e.result.dataAccess.sliceEnd,profilingEnabled:"N",domainfunction:"",projectId:e.result.dataSource.projectId,domainId:e.result.dataSource.domain,advancedRulesEnabled:"Y",rollingHeaderPresent:"",rollingColumn:""})}),y.isDisabled=!0,y.addTemplateForm.controls.dataTemplateName.disable()})}else this.projectDomains.forEach(function(e){e.domainId===y.domainId&&e.idProject===y.projectId&&y.addTemplateForm.controls.domProj.setValue(e)});else this.domainProj.passDomainProjVal(!1);this.spinner.show(),this.excutiveSummaryService.getProperties("appset/getPropertiesForPropertyCategory",{propertyCategory:"appdb"}).subscribe(function(e){var t=e.result.find(function(e){return"extraMandatoryOption"===e.propertyName});y.isFabEnabled="Y"==t.propertyValue,y.isFabEnabled?(y.addTemplateForm.controls.description.setValidators(s.w.compose([s.w.required])),y.updateFormFieldValidators()):(y.addTemplateForm.controls.description.clearValidators(),y.updateFormFieldValidators())}),this.onChangeDomProj()}},{key:"updateFormFieldValidators",value:function(){this.addTemplateForm.updateValueAndValidity(),this.addTemplateForm.controls.description.updateValueAndValidity()}},{key:"onKey",value:function(){var e=this;this.addTemplateForm.controls.dataTemplateName.value.length>=1&&this.dataTemplateService.templateDuplicateCheck("checkTemplateNameForDuplicate",{templateName:this.addTemplateForm.controls.dataTemplateName.value}).subscribe(function(t){e.showMsg=!1,!1===t.result.isDataTemplateNameValid?(e.dataTemplateNamevalid=!1,e.invalidTemplateMsg=t.message):e.dataTemplateNamevalid=!0},function(t){e.showMsg=!0})}},{key:"onChangeDomProj",value:function(){this.selectedConnectionName="",this.selectedCheckbox=!1,this.addTemplateForm.reset(),this.resetTemplateForm(),this.isFabEnabled?(this.addTemplateForm.controls.description.setValidators(s.w.compose([s.w.required])),this.updateFormFieldValidators()):(this.addTemplateForm.controls.description.clearValidators(),this.updateFormFieldValidators())}},{key:"validateQuery",value:function(e){var t,i,a,n,o,r,l=this;if(!(!this.adoptionQuery||""!=this.addTemplateForm.controls.querytextboxid.value&&null!=this.addTemplateForm.controls.querytextboxid.value||""!=this.selecteDataConnName&&null!=this.selecteDataConnName&&"undefined"!=this.selecteDataConnName))return this.showDataConnValMsg=!0,void(this.showQueryValMsg=!0);if(this.adoptionQuery&&(""==(null===(t=this.addTemplateForm.controls.querytextboxid)||void 0===t?void 0:t.value)||null==(null===(i=this.addTemplateForm.controls.querytextboxid)||void 0===i?void 0:i.value)))return this.showQueryValMsg=!0,void(this.showDataConnValMsg=!1);if(""==this.selecteDataConnName||null==this.selecteDataConnName||"undefined"==this.selecteDataConnName)return this.showDataConnValMsg=!0,void(this.showQueryValMsg=!1);if(!(this.adoptionQuery||""!=(null===(a=this.addTemplateForm.controls.whereId)||void 0===a?void 0:a.value)&&null!=(null===(n=this.addTemplateForm.controls.whereId)||void 0===n?void 0:n.value)))return this.showWhereConValMsg=!0,this.showMultipleTableMsg=!1,void((null===(o=this.addTemplateForm.controls.tableName.value)||void 0===o?void 0:o.length)>1&&(this.showMultipleTableMsg=!0));if((null===(r=this.addTemplateForm.controls.tableName.value)||void 0===r?void 0:r.length)>1&&!this.editMode)return this.showMultipleTableMsg=!0,void(this.showWhereConValMsg=!1);this.showQueryValMsg=!1,this.showDataConnValMsg=!1,this.showWhereConValMsg=!1,this.showMultipleTableMsg=!1,this.validateQueryClicked=!0,this.messageSuccessQuery="",this.messageFailedQuery="";var c={idDataSchema:this.selecteDataConnName,isQueryEnabled:!0===this.adoptionQuery?"Y":"N",queryString:!0===this.adoptionQuery?this.addTemplateForm.value.querytextboxid:"",whereCondition:!1===this.adoptionQuery?this.addTemplateForm.value.whereId:"",tableName:!1===this.adoptionQuery?this.addTemplateForm.value.tableName.toString():""};this.dataTemplateService.validateQueryForTemplate("validateQueryForTemplate",c).subscribe(function(e){"success"===e.status?e.result.isQueryValid?l.messageSuccessQuery="Validated Query Successfully":l.messageFailedQuery=e.result.errorMessage:l.messages.displayToaster(e.message,"error","Failed")})}},{key:"onSubmit",value:function(){var e,t,a=this;if(""!==this.messageFailedQuery&&this.validateQueryClicked)this.confirmValidationProceed=!0;else if(this.show=!1,!this.canUpdate){var n=this.connectionTypesList.find(function(e){return e.value===a.addTemplateForm.value.dataLocation}).value;if(""===this.addTemplateForm.value.tableName||null===this.addTemplateForm.value.tableName||0===this.addTemplateForm.value.tableName.length){var o={template:{idUser:this.userDetails.idUser,dataTemplateName:this.addTemplateForm.value.dataTemplateName,dataLocation:n,createdByUser:this.userDetails.firstName,hostName:"",schemaName:"",srcBrokerUri:"",srcTopicName:"",dataFormat:"",userName:"",pwd:"",tarBrokerUri:"",tarTopicName:"",description:this.addTemplateForm.value.description,idDataSchema:this.selecteDataConnName,headerId:"",rowsId:"",tableName:"",tableNameList:"",whereId:!0===this.adoptionQuery?"":this.addTemplateForm.value.whereId,queryCheckboxId:!0===this.adoptionQuery?"Y":"N",historicDateTable:this.addTemplateForm.value.historicDateTable,selectedTables:"",queryTextboxId:this.addTemplateForm.value.querytextboxid,fileQueryCheckboxid:"",fileQueryTextboxid:"",incrementalSourceId:!0===this.selectedValues?"Y":"N",dateFormatId:this.addTemplateForm.value.dateFormatId,sliceStartId:this.addTemplateForm.value.slicestartid,sliceEndId:this.addTemplateForm.value.sliceendid,profilingEnabled:this.selectedValueMetadataProfileRule||this.selectedValueMetadataProfile?"Y":"N",domainfunction:"",projectId:this.projectId,domainId:this.domainId,advancedRulesEnabled:this.selectedValueMetadataProfileRule?"Y":"N",rollingHeaderPresent:"",rollingColumn:""},urlName:"createDataTemplate"};this.isCreateTemplate=!0,this.browserRefresh=K.b,this.spinner.show(),this.statusPollDiv=!0,setTimeout(function(){a.spinner.hide();var e=o;a.showTemplateName=!1,"createDataTemplate"===(null==e?void 0:e.urlName)&&a.dataTemplateService.createTemplateList(e.urlName,e.template).subscribe(function(e){a.getTemplatename=e.templateName,a.displayMessagePoll=e.message,"Completed"===e.status&&(a.showMessage=e.message,setTimeout(function(){a.show=!0},5e3)),"InProgress"===e.status&&(a.successToasty(e.message),a.resultData.push(e),a.resultData.map(function(t){t.interval=setInterval(function(){var i=new N.b;i.idData=a.resultData[0].templateId,i.uniqueId=a.resultData[0].uniqueId,a.dataTemplateService.createStatusPoll("templateStatusPoll",i).subscribe(function(i){a.result1[0]=i,a.result1[0].getTemplateName=e.templateName,"Task queued"===a.result1[0].status||"Task started"===a.result1[0].status?a.result1[0].progressBarShow=!1:"Task in progress"===a.result1[0].status?(t.value=i.percentage,a.result1[0].progressBarShow=!0,i.value>=100&&(i.value=100)):"Task completed"===a.result1[0].status?(a.result1[0].progressBarShow=!1,a.displayMessageLatest=a.displayMessagePoll.replace(/in progress/gi,"completed"),a.result1[0].showmsg=!0,clearInterval(t.interval)):"Task failed"===a.result1[0].status?(a.result1[0].progressBarShow=!1,a.displayMessageLatest=a.displayMessagePoll.replace(/in progress/gi,"failed"),a.result1[0].showmsg=!0,clearInterval(t.interval)):"Task "===a.result1[0].success&&(a.result1[0].status="Task killed",a.result1[0].progressBarShow=!1,a.displayMessageLatest=a.displayMessagePoll.replace(/in progress/gi,"killed"),a.result1[0].showmsg=!0,clearInterval(t.interval))})},2500)}))})},2e3)}else if(this.addTemplateForm.value.tableName.length>1){for(var r=0;r<(null===(e=this.selectedTableName)||void 0===e?void 0:e.length);r++)this.selectedTabName=this.selectedTableName[r],this.pushedArr.push({template:{idUser:this.userDetails.idUser,dataTemplateName:this.addTemplateForm.value.dataTemplateName+"_"+this.selectedTabName,dataLocation:n,createdByUser:this.userDetails.firstName,hostName:"",schemaName:"",srcBrokerUri:"",srcTopicName:"",dataFormat:"",userName:"",pwd:"",tarBrokerUri:"",tarTopicName:"",description:this.addTemplateForm.value.description,idDataSchema:this.selecteDataConnName,headerId:"",rowsId:"",tableName:!0===this.adoptionQuery?"":this.selectedTabName,tableNameList:"",whereId:!0===this.adoptionQuery?"":this.addTemplateForm.value.whereId,queryCheckboxId:!0===this.adoptionQuery?"Y":"N",historicDateTable:this.addTemplateForm.value.historicDateTable,selectedTables:"",queryTextboxId:this.addTemplateForm.value.querytextboxid,fileQueryCheckboxid:"",fileQueryTextboxid:"",incrementalSourceId:!0===this.selectedValues?"Y":"N",dateFormatId:this.addTemplateForm.value.dateFormatId,sliceStartId:this.addTemplateForm.value.slicestartid,sliceEndId:this.addTemplateForm.value.sliceendid,profilingEnabled:this.selectedValueMetadataProfileRule||this.selectedValueMetadataProfile?"Y":"N",domainfunction:"",projectId:this.projectId,domainId:this.domainId,advancedRulesEnabled:this.selectedValueMetadataProfileRule?"Y":"N",rollingHeaderPresent:"",rollingColumn:""},urlName:"createDataTemplate"});this.browserRefresh=K.b,this.spinner.show(),this.statusPollDiv=!0,this.isCreateTemplate=!0,setTimeout(function(){var e,t,n=a.pushedArr;if(a.showTemplateName=!1,a.getTemplatename=null===(e=null==n?void 0:n.template)||void 0===e?void 0:e.TemplateName,"createDataTemplate"===(null===(t=n[0])||void 0===t?void 0:t.urlName))for(var o=function(e){a.dataTemplateService.createTemplateList(n[e].urlName,n[e].template).subscribe(function(t){a.spinner.hide(),a.displayMessagePoll=t.message,"Completed"===t.status&&(a.showMessage=t.message),"InProgress"===t.status&&(e==n.length-1&&a.successToasty(t.message),a.resultData.push(t),a.resultData.map(function(t){t.intervalTemplate=setInterval(function(){return Object(H.a)(a,void 0,void 0,i().mark(function a(){var n,o=this;return i().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return(n=new N.b).idData=this.resultData[e].templateId,n.uniqueId=this.resultData[e].uniqueId,i.next=5,this.dataTemplateService.createStatusPoll("templateStatusPoll",n).subscribe(function(i){var a;o.result1[e]=i,o.result1[e].getTemplateName=null===(a=o.resultData[e])||void 0===a?void 0:a.templateName,"Task queued"===o.result1[e].status||"Task started"===o.result1[e].status?o.result1[e].progressBarShow=!1:"Task in progress"===o.result1[e].status?(o.result1[e].progressBarShow=!0,i.percentage>=100&&(i.percentage=100)):"Task completed"===o.result1[e].status?(o.result1[e].progressBarShow=!1,o.displayMessageLatest=o.displayMessagePoll.replace(/in progress/gi,"completed"),o.result1[e].showmsg=!0,clearInterval(t.intervalTemplate)):"Task failed"===o.result1[e].status?(o.result1[e].progressBarShow=!1,o.displayMessageLatest=o.displayMessagePoll.replace(/in progress/gi,"failed"),o.result1[e].showmsg=!0,clearInterval(t.intervalTemplate)):"Task killed"===o.result1[e].status?(o.result1[e].progressBarShow=!1,o.displayMessageLatest=o.displayMessagePoll.replace(/in progress/gi,"killed"),o.result1[e].showmsg=!0,clearInterval(t.intervalTemplate)):"Task "===o.result1[e].status&&(o.result1[e].status="Task killed",o.result1[e].progressBarShow=!1,o.displayMessageLatest=o.displayMessagePoll.replace(/in progress/gi,"killed"),o.result1[e].showmsg=!0,clearInterval(t.intervalTemplate))});case 5:case"end":return i.stop()}},a,this)}))},2500),a.arr.push(t.intervalTemplate)}))})},r=0;r<n.length;r++)o(r)},2e3)}else if(1===this.addTemplateForm.value.tableName.length){for(var l=0;l<(null===(t=this.selectedTableName)||void 0===t?void 0:t.length);l++)this.selectedTabName=this.selectedTableName[l],this.pushedArr.push({template:{idUser:this.userDetails.idUser,dataTemplateName:this.addTemplateForm.value.dataTemplateName,dataLocation:n,createdByUser:this.userDetails.firstName,hostName:"",schemaName:"",srcBrokerUri:"",srcTopicName:"",dataFormat:"",userName:"",pwd:"",tarBrokerUri:"",tarTopicName:"",description:this.addTemplateForm.value.description,idDataSchema:this.selecteDataConnName,headerId:"",rowsId:"",tableName:!0===this.adoptionQuery?"":this.selectedTabName,tableNameList:"",whereId:!0===this.adoptionQuery?"":this.addTemplateForm.value.whereId,queryCheckboxId:!0===this.adoptionQuery?"Y":"N",historicDateTable:this.addTemplateForm.value.historicDateTable,selectedTables:"",queryTextboxId:this.addTemplateForm.value.querytextboxid,fileQueryCheckboxid:"",fileQueryTextboxid:"",incrementalSourceId:!0===this.selectedValues?"Y":"N",dateFormatId:this.addTemplateForm.value.dateFormatId,sliceStartId:this.addTemplateForm.value.slicestartid,sliceEndId:this.addTemplateForm.value.sliceendid,profilingEnabled:this.selectedValueMetadataProfileRule||this.selectedValueMetadataProfile?"Y":"N",domainfunction:"",projectId:this.projectId,domainId:this.domainId,advancedRulesEnabled:this.selectedValueMetadataProfileRule?"Y":"N",rollingHeaderPresent:"",rollingColumn:""},urlName:"createDataTemplate"});this.browserRefresh=K.b,this.spinner.show(),this.statusPollDiv=!0,this.isCreateTemplate=!0,setTimeout(function(){var e,t,n=a.pushedArr;if(a.showTemplateName=!1,a.getTemplatename=null===(e=null==n?void 0:n.template)||void 0===e?void 0:e.TemplateName,"createDataTemplate"===(null===(t=n[0])||void 0===t?void 0:t.urlName))for(var o=function(e){a.dataTemplateService.createTemplateList(n[e].urlName,n[e].template).subscribe(function(t){a.spinner.hide(),a.displayMessagePoll=t.message,"Completed"===t.status&&(a.showMessage=t.message),"InProgress"===t.status&&(e==n.length-1&&a.successToasty(t.message),a.resultData.push(t),a.resultData.map(function(t){t.intervalTemplate=setInterval(function(){return Object(H.a)(a,void 0,void 0,i().mark(function a(){var n,o=this;return i().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return(n=new N.b).idData=this.resultData[e].templateId,n.uniqueId=this.resultData[e].uniqueId,i.next=5,this.dataTemplateService.createStatusPoll("templateStatusPoll",n).subscribe(function(i){var a;o.result1[e]=i,o.result1[e].getTemplateName=null===(a=o.resultData[e])||void 0===a?void 0:a.templateName,"Task queued"===o.result1[e].status||"Task started"===o.result1[e].status?o.result1[e].progressBarShow=!1:"Task in progress"===o.result1[e].status?(o.result1[e].progressBarShow=!0,i.percentage>=100&&(i.percentage=100)):"Task completed"===o.result1[e].status?(o.result1[e].progressBarShow=!1,o.displayMessageLatest=o.displayMessagePoll.replace(/in progress/gi,"completed"),o.result1[e].showmsg=!0,clearInterval(t.intervalTemplate)):"Task failed"===o.result1[e].status?(o.result1[e].progressBarShow=!1,o.displayMessageLatest=o.displayMessagePoll.replace(/in progress/gi,"failed"),o.result1[e].showmsg=!0,clearInterval(t.intervalTemplate)):"Task killed"===o.result1[e].status?(o.result1[e].progressBarShow=!1,o.displayMessageLatest=o.displayMessagePoll.replace(/in progress/gi,"killed"),o.result1[e].showmsg=!0,clearInterval(t.intervalTemplate)):"Task "===o.result1[e].status&&(o.result1[e].status="Task killed",o.result1[e].progressBarShow=!1,o.displayMessageLatest=o.displayMessagePoll.replace(/in progress/gi,"killed"),o.result1[e].showmsg=!0,clearInterval(t.intervalTemplate))});case 5:case"end":return i.stop()}},a,this)}))},2500),a.arr.push(t.intervalTemplate)}))})},r=0;r<n.length;r++)o(r)},2e3)}}}},{key:"ngOnDestroy",value:function(){clearInterval(this.interval),clearInterval(this.intervals),this.arr.map(function(e){clearInterval(e)}),this.resultData.map(function(e){clearInterval(e.interval)})}},{key:"onUpdate",value:function(){var e,t=this,i=this.datepipe.transform(this.dataBytemplateId.result.dataAccess.dateFormat,"yyyy-MM-dd"),a={dataset:this.dataBytemplateId.result.dataSource.name,description:this.addTemplateForm.value.description,rowsId:0,tableNameid:null===(e=this.editTemplateDataName[0])||void 0===e?void 0:e.Tablename,whereId:this.addTemplateForm.value.whereId,querytextboxid:this.addTemplateForm.value.querytextboxid,incrementalsourceid:this.dataBytemplateId.result.dataAccess.incrementalType,dateformatid:i,slicestartid:this.dataBytemplateId.result.dataAccess.sliceStart,sliceendid:this.dataBytemplateId.result.dataAccess.sliceEnd,hostName:this.dataBytemplateId.result.dataAccess.hostName,schemaName:this.dataBytemplateId.result.dataSchema.schemaName,userName:this.dataBytemplateId.result.dataAccess.userName,pwd:this.dataBytemplateId.result.dataSource.pwd,filequerytextboxid:null,idData:this.dataBytemplateId.result.dataAccess.idData,dataLocation:this.dataBytemplateId.result.dataSource.dataLocation,idDataSchema:this.dataBytemplateId.result.dataSource.idDataSchema,querycheckbox:this.dataBytemplateId.result.dataAccess.query,filequerycheckbox:"",projectId:this.projectId,domainId:this.domainId};this.dataTemplateService.updateTemplateList("updateTemplate",a).subscribe(function(e){t.displayMessage=e.message,"success"===e.status&&(t.successToasty(e.message),t.editScreenDataTemplate.emit(!1),sessionStorage.removeItem("templateDetail"),t.router.navigateByUrl("/dbckangui/data-template/view-template"))})}},{key:"AppTemplateVal",get:function(){return this.addTemplateForm.value}},{key:"canUpdate",get:function(){if(this.router.url.includes("edit-template")||this.editDataTemplateScreen)return""!=this.AppTemplateVal}},{key:"getSliceStart",value:function(e){this.getSliceStartId=e.target.value}},{key:"successToasty",value:function(e){this.messages.displayToaster(e,"success","Success")}},{key:"getSelectedValue",value:function(e){this.selectedTableName=e,this.tableValues=""==this.addTemplateForm.controls.tableName.value?[]:this.addTemplateForm.controls.tableName.value,this.disableValidateQuery=!(this.addTemplateForm.controls.tableName.value.length>0),this.showMultipleTableMsg=!1}},{key:"onIncrementalSource",value:function(e){this.incSelectedCheckbox=e,!0===e.checked?(this.addTemplateForm.get("dateFormatId").setValidators([s.w.pattern("^(1[0-2]|0[1-9])/(3[01]|[12][0-9]|0[1-9])/[0-9]{4}$")]),this.addTemplateForm.get("slicestartid").setValidators([s.w.required,s.w.pattern("^-[0-9]*$")]),this.addTemplateForm.get("sliceendid").setValidators([s.w.required,s.w.pattern("^-[0-9]*$")]),this.addTemplateForm.get("dateFormatId").updateValueAndValidity(),this.addTemplateForm.get("slicestartid").updateValueAndValidity(),this.addTemplateForm.get("sliceendid").updateValueAndValidity()):(this.addTemplateForm.get("dateFormatId").clearValidators(),this.addTemplateForm.get("slicestartid").clearValidators(),this.addTemplateForm.get("sliceendid").clearValidators(),this.addTemplateForm.get("dateFormatId").updateValueAndValidity(),this.addTemplateForm.get("slicestartid").updateValueAndValidity(),this.addTemplateForm.get("sliceendid").updateValueAndValidity())}},{key:"onChecked",value:function(e){this.selectedCheckbox=e,this.messageSuccessQuery="",this.messageFailedQuery="",this.adoptionWhere=!1,this.adoptionQuery=!1,this.addTemplateForm.get("whereId").reset(),this.addTemplateForm.get("querytextboxid").reset()}},{key:"onConnectionChange",value:function(e){var t,i,a,n,o,r,l=this;this.getTabNameByConnNameList=[],this.selectedConnectionName=e.value,this.selecteDataConnName="",this.addTemplateForm.get("tableName").reset(),this.disableValidateQuery=!0,this.showWhereConValMsg=!1,this.messageSuccessQuery="",this.messageFailedQuery="",this.addTemplateForm.get("querytextboxid").reset(),this.addTemplateForm.get("schemaName").reset(),this.addTemplateForm.get("whereId").reset(),this.adoptionQuery=!1,this.adoptionWhere=!1,this.dataTemplateService.connectionNameList("getDataConnectionName",{connectionType:this.selectedConnectionName,projectId:this.projectId,domainId:this.domainId}).subscribe(function(e){e.result.connectionList.map(function(e){e.id=e.id,e.connectionName="AzureDataLakeStorageGen2Batch"===l.selectedConnectionName||"FileSystem Batch"===l.selectedConnectionName?e.id+"_"+e.connectionName:e.id+"_"+e.connectionName+" ("+e.databaseName+")"}),l.dataConnectionType=e.result.connectionList}),null!=this.selectedConnectionName&&"MSSQL"===this.selectedConnectionName||"MYSQL"===this.selectedConnectionName||"SnowFlake"===this.selectedConnectionName||"AzureDataLakeStorageGen2Batch"===this.selectedConnectionName||"DatabricksDeltaLake"===this.selectedConnectionName||"FileSystem Batch"===this.selectedConnectionName||"FILESYSTEM"===this.selectedConnectionName||"Hive Kerberos"===this.selectedConnectionName||"MapR Hive"===this.selectedConnectionName||"AzureDataLakeStorageGen1"===this.selectedConnectionName||"Oracle"===this.selectedConnectionName||"Postgres"===this.selectedConnectionName||"Teradata"===this.selectedConnectionName||"S3 Batch"===(null===(t=this.editTemplateDataName[0])||void 0===t?void 0:t.DataLocation)||"S3 IAMRole Batch"===(null===(i=this.editTemplateDataName[0])||void 0===i?void 0:i.DataLocation)||"Oracle"===(null===(a=this.editTemplateDataName[0])||void 0===a?void 0:a.DataLocation)||"AzureSynapseMSSQL"===(null===(n=this.editTemplateDataName[0])||void 0===n?void 0:n.DataLocation)||"S3 IAMRole Config Batch"===(null===(o=this.editTemplateDataName[0])||void 0===o?void 0:o.DataLocation)||"AzureCosmosDB"===(null===(r=this.editTemplateDataName[0])||void 0===r?void 0:r.DataLocation)?(this.addTemplateForm.get("schemaName").setValidators(s.w.required),this.addTemplateForm.get("schemaName").updateValueAndValidity()):(this.addTemplateForm.get("schemaName").clearValidators(),this.addTemplateForm.get("schemaName").updateValueAndValidity()),this.messageSuccessQuery="",this.messageFailedQuery=""}},{key:"onDataConnectionChange",value:function(e){var t=this;this.showDataConnValMsg=!1,this.selecteDataConnName=e,this.dataConnection=null==e?void 0:e.connectionName,this.selectedConnectionName?(this.dataTemplateService.getTabNameByConnName("getTableNamesByDataConnNameNSchemaID",{schemaId:e,dataConnectionName:this.selectedConnectionName}).subscribe(function(e){var i;t.getTabNameByConnNameList=[];var a=[];null===(i=null==e?void 0:e.result)||void 0===i||i.tableList.forEach(function(e,t){a.push({id:t,value:e.tableName,check:e.monitoredTable})}),t.getTabNameByConnNameList=a.sort(function(e,t){return t.check<e.check?-1:e.check>t.check?1:0}),t.addTemplateForm.controls.whereId.setValue(""),t.addTemplateForm.controls.querytextboxid.setValue(""),t.adoptionQuery=!1,t.adoptionWhere=!1,t.messageSuccessQuery="",t.messageFailedQuery=""}),this.addTemplateForm.get("tableName").setValue(""),this.addTemplateForm.get("tableName").setValidators(s.w.required),this.addTemplateForm.get("tableName").updateValueAndValidity()):(this.addTemplateForm.get("tableName").setValue(""),this.addTemplateForm.get("tableName").clearValidators(),this.addTemplateForm.get("tableName").updateValueAndValidity())}},{key:"onCancel",value:function(){this.domainProj.passDomainProjVal(!1),this.addScreenDataTemplate.emit(!1),this.editScreenDataTemplate.emit(!1),sessionStorage.removeItem("templateDetail"),this.domainProj.passDomainProjVal(!1),this.router.navigateByUrl("/dbckangui/data-template/view-template")}},{key:"checkDescriptionVal",value:function(){this.addTemplateForm.controls.description.value.startsWith(" ")&&(this.showErrorDescribe=!0)}},{key:"checkDescriptionValtrim",value:function(){""===this.addTemplateForm.controls.description.value&&" "===this.addTemplateForm.controls.description.value||(this.addTemplateForm.controls.description.setValue(this.addTemplateForm.controls.description.value.trim()),this.showErrorDescribe=!1)}},{key:"confirmValidationCancel",value:function(){this.confirmValidationProceed=!1}},{key:"confirmValidationConfirm",value:function(){this.confirmValidationProceed=!1,this.messageFailedQuery="",this.onSubmit()}},{key:"screenReference",value:function(e){this.addReferenceScreen=e}},{key:"viewScreenReference",value:function(e){this.viewReferenceScreen=e}},{key:"onButtonSubmitChange",value:function(e,t){e.checked?"selectedValueMetadata"==t?(this.selectedValueMetadataProfile=!1,this.selectedValueMetadataProfileRule=!1):"selectedValueMetadataProfile"==t?(this.selectedValueMetadata=!1,this.selectedValueMetadataProfileRule=!1):"selectedValueMetadataProfileRule"==t&&(this.selectedValueMetadata=!1,this.selectedValueMetadataProfile=!1):this.selectedValueMetadataProfileRule=!0}},{key:"onAdOptionChange",value:function(e,t){e.checked?"adoptionQuery"==t?(this.adoptionWhere=!1,this.addTemplateForm.get("querytextboxid").setValidators(s.w.required),this.addTemplateForm.get("querytextboxid").updateValueAndValidity(),this.addTemplateForm.get("tableName").reset(),this.addTemplateForm.get("tableName").clearValidators(),this.addTemplateForm.get("tableName").updateValueAndValidity(),this.addTemplateForm.get("whereId").reset()):"adoptionWhere"==t&&(this.adoptionQuery=!1,this.addTemplateForm.get("tableName").setValidators(s.w.required),this.addTemplateForm.get("tableName").updateValueAndValidity(),this.addTemplateForm.get("querytextboxid").reset(),this.addTemplateForm.get("querytextboxid").clearValidators(),this.addTemplateForm.get("querytextboxid").updateValueAndValidity(),this.disableValidateQuery=!0):"adoptionWhere"==t?(this.adoptionQuery=!0,this.addTemplateForm.get("querytextboxid").setValidators(s.w.required),this.addTemplateForm.get("querytextboxid").updateValueAndValidity(),this.addTemplateForm.get("tableName").reset(),this.addTemplateForm.get("tableName").clearValidators(),this.addTemplateForm.get("tableName").updateValueAndValidity(),this.addTemplateForm.get("whereId").reset()):(this.adoptionWhere=!0,this.addTemplateForm.get("tableName").setValidators(s.w.required),this.addTemplateForm.get("tableName").updateValueAndValidity(),this.addTemplateForm.get("querytextboxid").reset(),this.addTemplateForm.get("querytextboxid").clearValidators(),this.addTemplateForm.get("querytextboxid").updateValueAndValidity(),this.disableValidateQuery=!0),this.messageSuccessQuery="",this.messageFailedQuery=""}},{key:"getselectedTableString",value:function(){var e="";return this.tableValues=[],this.tableValues=""==this.addTemplateForm.controls.tableName.value?[]:this.addTemplateForm.controls.tableName.value,this.tableValues.forEach(function(t,i){e=e+(0!=i?",":"")+t}),e}}]),e}()).\u0275fac=function(e){return new(e||jt)(u.dc(s.e),u.dc(ee.a),u.dc(T.a),u.dc(M.i),u.dc(k.a),u.dc(te.a),u.dc(c.d),u.dc(O.c),u.dc(ie.c),u.dc(S.a))},jt.\u0275cmp=u.Xb({type:jt,selectors:[["app-add-template"]],inputs:{addDataTemplateScreen:"addDataTemplateScreen",editDataTemplateScreen:"editDataTemplateScreen"},outputs:{addScreenDataTemplate:"addScreenDataTemplate",editScreenDataTemplate:"editScreenDataTemplate"},decls:10,vars:11,consts:[["class","container-fluid create-conn-main",4,"ngIf"],[4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pTemplate","header"],["pButton","","type","button","label","No",1,"mr-top-10","button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],["pButton","","type","button","label","Yes",1,"mr-top-10","button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-12"],["class","form-title",4,"ngIf"],[3,"formGroup"],[1,"row","form-row"],[1,"col-md-6"],[1,"form-group","p-field"],["for","dataLocation",1,"col-form-label"],[1,"req-field"],["formControlName","dataLocation","optionLabel","name","placeholder","Select Data Source Type","optionValue","value",3,"styleClass","filter","options","disabled","ngClass","virtualScroll","itemSize","onChange"],["class","err-msg",4,"ngIf"],["class","col-md-6",4,"ngIf"],[3,"class",4,"ngIf"],[1,"form-row","inputSpace"],["class","col-sm-6",4,"ngIf"],["class","col-sm-6 mr-top-15",3,"ngClass",4,"ngIf"],[1,"form-row","note","row","p-field"],[1,"col-sm-12","col-md-6","mr-top","text-left"],[1,"row","p-field","mr-top"],[1,"col-sm-12","col-md-12","text-center"],["type","button","class","button w-button shadow",3,"disabled","click",4,"ngIf"],["type","button",1,"cancelButton","w-button","shadow","btn-cancel",3,"click"],[1,"form-title"],[1,"err-msg"],["for","connectionName",1,"col-form-label"],["formControlName","schemaName","optionLabel","connectionName","placeholder","Select Data Source","optionValue","id",3,"styleClass","options","filter","disabled","ngClass","virtualScroll","itemSize","ngModelChange"],["formControlName","schemaName","optionLabel","connectionName","placeholder","Select Data Source","optionValue","id",3,"styleClass","options","filter","disabled","ngClass","virtualScroll","itemSize"],["for","tableName","pTooltip","Checked table has already been validated",1,"col-form-label"],["formControlName","tableName","defaultLabel","Select Table Name","optionLabel","value","optionValue","value","name","value",1,"custom-css",3,"styleClass","options","disabled","filter","ngModelChange"],["pTemplate","item"],["class","fa fa-check success_a_table padding-left-10",4,"ngIf"],[1,"fa","fa-check","success_a_table","padding-left-10"],["for","tableName",1,"col-form-label"],["id","disabled-input","readonly","true","pInputText","","type","text","formControlName","tableName"],["for","dataTemplateName",1,"col-form-label"],["id","dataTemplateName","pInputText","","formControlName","dataTemplateName","placeholder","Enter Table Nickname","type","text",3,"disabled","ngClass","keyup"],["class","err-msg pt-0",4,"ngIf"],[1,"err-msg","pt-0"],["for","description",1,"col-form-label"],["class","req-field",4,"ngIf"],["id","description","pInputText","","formControlName","description","placeholder","Add DatasetName,SystemName,ROW_IDENTIFIER_TYPE","type","text",1,"form-field","inputtextCustom",3,"keyup","change"],["class","form-row inputSpace",4,"ngIf"],[1,"col"],[1,"p-field-checkbox"],["binary","true","inputId","binary",1,"",3,"ngModel","ngModelOptions","ngClass","disabled","ngModelChange"],["for","query",1,"col-form-label","margin-checkbox1","padding_bottom_0"],[1,"col-md-12"],["binary","true","inputId","binary",3,"ngModel","ngModelOptions","disabled","ngClass","ngModelChange"],[1,"col-md-6","col-lg-6"],["binary","true","inputId","binary",3,"disabled","ngModel","ngModelOptions","ngModelChange","onChange",4,"ngIf"],["for","queryoption"],["class","col-md-12 form-group",4,"ngIf"],["class","col-md-12",4,"ngIf"],["class","col-md-6 col-lg-6",4,"ngIf"],["binary","true","inputId","binary",3,"disabled","ngModel","ngModelOptions","ngModelChange","onChange"],[1,"col-md-12","form-group"],["id","querytextboxid","formControlName","querytextboxid","placeholder"," Select * from schemaName.tablename",1,"form-field",3,"rows","cols"],["class","err-msg1",4,"ngIf"],[1,"err-msg1"],["id","whereId","pInputText","","formControlName","whereId","placeholder","Enter Where Condition","type","text",1,"form-field","inputtextCustom","p-inputtext",3,"disabled"],["id","whereId","pInputText","","formControlName","whereId","placeholder","Enter Where Condition","type","text",1,"form-field",3,"disabled"],["type","button","class","button w-button shadow customBtnCss","value","validateQuery",3,"disabled","click",4,"ngIf"],["class","success_a",4,"ngIf"],["class","failed_a",4,"ngIf"],["type","button","value","validateQuery",1,"button","w-button","shadow","customBtnCss",3,"disabled","click"],[1,"success_a"],[1,"pi","pi-check","iconCheck"],[1,"failed_a"],[1,"pi","pi-times-circle","iconCircle"],["for","historicDateTable",1,"col-form-label"],["id","historicDateTable","pInputText","","formControlName","historicDateTable","placeholder","Enter Historic Datefield Table Name","type","text",1,"form-field","inputtextCustom","p-inputtext"],[1,"col-sm-6"],["binary","true","inputId","binary",3,"ngModel","ngModelOptions","ngModelChange","onChange"],["for","incrementalSource",1,"col-form-label","margin-checkbox","padding_bottom_0"],["for","dateFormatId",1,"col-form-label"],["id","dateFormatId","pInputText","","formControlName","dateFormatId","placeholder","MM/DD/YYYY","type","text",1,"form-field"],["for","slicestartid",1,"col-form-label"],["id","slicestartid","ng-class","{'selectedValues': pInputText}","pInputText","","formControlName","slicestartid","placeholder","Enter Slice Start","type","text",1,"form-field",3,"keyup"],["for","sliceendid",1,"col-form-label"],["id","sliceendid","pInputText","","formControlName","sliceendid","placeholder","Enter Slice End","type","text",1,"form-field"],[1,"col-sm-6","mr-top-15",3,"ngClass"],[1,"margin-left-10"],["for","onlyMetadata",1,"col-form-label","margin-checkbox","padding_bottom_0"],["for","metadataProfile",1,"col-form-label","margin-checkbox","padding_bottom_0"],["binary","true","inputId","binary",3,"ngModel","ngModelOptions","disabled","ngModelChange","onChange"],["for","metadataProfileRule",1,"col-form-label","margin-checkbox","padding_bottom_0"],["type","button",1,"button","w-button","shadow",3,"disabled","click"],[1,"progress-container"],[1,"row","p-field","task-progress-container"],["class","form-title noborder",4,"ngIf"],[1,"col-sm-12","col-md-12","mr-top","req-field","padding-left-0"],[1,"form-title","noborder"],["class","container-fluid create-conn-main",4,"ngFor","ngForOf"],["class","col-sm-12 col-md-12 req-field padding-left-0",4,"ngIf"],[3,"value","appName","success","progressBarShow"],["class","val_css",4,"ngIf"],[1,"col-sm-12","col-md-12","req-field","padding-left-0"],[1,"val_css"],[1,"col-sm-12","col-md-12","mr-top","req-field"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"]],template:function(e,t){1&e&&(u.Zc(0,Ct,44,28,"div",0),u.Zc(1,Tt,3,2,"div",1),u.Zc(2,kt,6,1,"div",1),u.jc(3,"p-dialog",2),u.qc("visibleChange",function(e){return t.confirmValidationProceed=e}),u.Zc(4,St,3,0,"ng-template",3),u.jc(5,"p"),u.bd(6,"Your query validation is failed. Do you want still want to proceed?"),u.ic(),u.jc(7,"p-footer"),u.jc(8,"button",4),u.qc("click",function(){return t.confirmValidationCancel()}),u.ic(),u.jc(9,"button",5),u.qc("click",function(){return t.confirmValidationConfirm()}),u.ic(),u.ic(),u.ic()),2&e&&(u.Bc("ngIf",0==t.statusPollDiv),u.Nb(1),u.Bc("ngIf",1==t.statusPollDiv),u.Nb(1),u.Bc("ngIf",t.showMessage),u.Nb(1),u.Vc(u.Ec(10,_t)),u.Bc("visible",t.confirmValidationProceed)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1))},directives:[c.n,p.a,g.i,g.e,m.b,s.x,s.p,s.i,ae.a,s.o,s.g,c.l,ne.a,oe.a,s.d,j.a,re.a,s.r,c.m,D.a],styles:['@charset "UTF-8";[_ngcontent-%COMP%]::-moz-placeholder{color:gray;font-size:14px;opacity:.8}[_ngcontent-%COMP%]::placeholder{color:gray;font-size:14px;opacity:.8}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.note[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#eb5454;margin-top:15px!important}.err-msg[_ngcontent-%COMP%]{padding-left:5px}.err-msg[_ngcontent-%COMP%], .err-msg1[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px}.err-msg1[_ngcontent-%COMP%]{padding-left:0}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.inputtextCustom[_ngcontent-%COMP%], .p-inputtext[_ngcontent-%COMP%]{font-size:14px;font-family:Open Sans!important}.inputtextCustom[_ngcontent-%COMP%]{height:38px!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:10px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.mr-top[_ngcontent-%COMP%]{padding-top:15px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]     .p-inputtext{font-size:14px}.p-field[_ngcontent-%COMP%]{margin:0 10px}.p-field-form[_ngcontent-%COMP%]{padding-right:0}.diabled-ip[_ngcontent-%COMP%]:hover{border:1px solid #ced4da}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .p-disabled:hover{cursor:not-allowed!important}.optional-fields[_ngcontent-%COMP%]{color:#789}.form-checkbox[_ngcontent-%COMP%]{padding-left:10px;font-size:16px;padding-top:8px}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}.margin-top10[_ngcontent-%COMP%]{margin-top:10px}.margin-right[_ngcontent-%COMP%]{margin-right:20px}.margin-left1[_ngcontent-%COMP%]{margin-left:-200px}.margin-top1[_ngcontent-%COMP%]{margin-top:-15px}.inputSpace[_ngcontent-%COMP%]{margin-top:5px}.diabled-ip[_ngcontent-%COMP%]{opacity:.7;box-shadow:none!important;cursor:inherit}.diabled-ip[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}[_nghost-%COMP%]     p-dropdown .p-inputtext, [_nghost-%COMP%]     p-dropdown p-dropdownitem{font-family:Open Sans!important;font-size:14px!important;font-weight:400}[_nghost-%COMP%]     p-dropdown .p-dropdown-empty-message{font-family:Open Sans!important;font-size:14px!important;font-weight:400}[_nghost-%COMP%]     p-dropdown ::-webkit-scrollbar{width:7px}[_nghost-%COMP%]     p-dropdown ::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px linear-gradient(180deg,#001585,#ff7526 .01%,#fb9a64 97.92%);border-radius:7px}[_nghost-%COMP%]     p-dropdown ::-webkit-scrollbar-thumb{border-radius:7px;background:linear-gradient(180deg,#001585,#ff7526 .01%,#fb9a64 97.92%);-webkit-box-shadow:inset 0 0 6pxlinear-gradient 180deg,0 #001585,.01% #ff7526,97.92% #fb9a64}[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr>th{padding-left:1px;padding-right:1px}[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr{font-family:Open Sans!important;font-size:14px!important;font-weight:400;vertical-align:top}[_nghost-%COMP%]     p-calendar .p-inputtext{font-family:Open Sans!important;font-size:14px!important;font-weight:400}[_nghost-%COMP%]     p-calendar .p-datepicker table td>span.p-highlight{background:linear-gradient(180deg,#ff7526,#fb9a64)}[_nghost-%COMP%]     p-calendar .p-calendar{width:100%!important}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:30px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}[_nghost-%COMP%]     .p-datatable .p-paginator-bottom{border-bottom-left-radius:10px!important;border-bottom-right-radius:10px!important}[_nghost-%COMP%]     .pi-filter:before{content:"\ue94c";font-size:14px}[_nghost-%COMP%]     .pi-sort-alt:before{content:"\ue99e";font-size:13px}[_nghost-%COMP%]     .p-overlaypanel .p-overlaypanel-content{padding:1rem;background:#fff4ee!important}[_nghost-%COMP%]     .p-checkbox .p-checkbox-box.p-highlight{border-color:linear-gradient(180deg,#ff7526,#fb9a64)!important;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-checkbox .p-checkbox-box{border-color:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-dialog .p-dialog-header{background:#fff4ee!important;padding:10px!important}[_nghost-%COMP%]     .p-dialog .p-dialog-content{background:#fff4ee!important;padding-bottom:10px!important}[_nghost-%COMP%]     .p-dialog .p-dialog-footer{background:#fff4ee!important;padding-bottom:10px!important}[_nghost-%COMP%]     .p-paginator .p-paginator-pages .p-paginator-page.p-highlight{background:transparent!important;border:2px solid #ff7526!important;color:#495057!important;border-radius:6px!important;font-weight:400!important}[_nghost-%COMP%]     .p-paginator .p-paginator-pages .p-paginator-page{font-weight:400!important}[_nghost-%COMP%]     textarea:enabled:hover{border-color:#2196f3!important}.margin-checkbox1[_ngcontent-%COMP%]{margin-top:.5rem!important;margin-bottom:0!important;margin-left:10px!important}.diabledfield[_ngcontent-%COMP%]{cursor:not-allowed!important}[_nghost-%COMP%]     .custom-css .p-multiselect-panel{width:100%}.paddingcheckbox[_ngcontent-%COMP%]{padding-bottom:.5rem}.margin-left-validatequery[_ngcontent-%COMP%]{margin-left:20px}.iconCheck[_ngcontent-%COMP%]{border:2px solid;font-size:9px;font-weight:600;padding:3px;background:#008000ab}.iconCheck[_ngcontent-%COMP%], .iconCircle[_ngcontent-%COMP%]{border-radius:50%;color:#fff}.iconCircle[_ngcontent-%COMP%]{background:#ff0000a1;font-size:19px}.validate_a[_ngcontent-%COMP%]{color:#0021cf;margin-left:10px;font-size:12px}.success_a[_ngcontent-%COMP%]{color:green;font-size:11px}.success_a_table[_ngcontent-%COMP%]{color:green;font-size:20px}.failed_a[_ngcontent-%COMP%]{color:red;font-size:12px;display:flex;align-items:center;justify-content:left;margin-top:5px}.customBtnCss[_ngcontent-%COMP%]{padding:0 6px}.pt-0[_ngcontent-%COMP%]{padding-top:0}.nav-pills[_ngcontent-%COMP%]{border-bottom:0;margin-bottom:1.4%!important}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:-1%}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;padding:12px 40px;color:#14142a;font-size:12px;font-weight:600;z-index:1}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:transparent;border-color:transparent}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";width:100%;height:100%;position:absolute;bottom:1%;left:-1px;font-size:12px;background:#fff;border:1px solid #fff;border-bottom:0;border-radius:27px 7px 0 0;transform-origin:left center 0;transform:perspective(4px) rotateX(1deg);z-index:-1;box-shadow:0 -5px 10px -5px #e6e5e5,-5px 0 10px -5px #e6e5e5,5px 0 10px -5px #e6e5e5}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:before{background:linear-gradient(180deg,#ff7526,#fb9a64);border-color:#ff7526;font-size:14px;font-family:Open Sans!important;text-align:center}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:focus, .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:hover{border:1px solid transparent;background:transparent;color:#fff;font-weight:600;z-index:2}@media only screen and (max-width:767px){.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:15px 10px;font-size:12px}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{bottom:6px}}@media only screen and (max-width:480px){.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;margin-bottom:5px}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{bottom:0;transform:none;border-bottom:1px solid #d3d3d3}}.main-profile[_ngcontent-%COMP%]{margin-top:2%}.tab-content[_ngcontent-%COMP%]   .tab-pane[_ngcontent-%COMP%]{box-shadow:0 0 15px #e6e5e5;border-radius:7px 20px 20px 20px;padding:5px 20px 20px;background:#fff;line-height:22px}.tab-content[_ngcontent-%COMP%]   .tab-pane[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.noborder[_ngcontent-%COMP%]{border-bottom:none!important}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.val_css[_ngcontent-%COMP%]{padding-left:27px;font-size:15px;font-weight:600;margin-top:10px}.padding-left-0[_ngcontent-%COMP%]{padding-left:0!important}.padding-right-0[_ngcontent-%COMP%]{padding-right:0!important}[_nghost-%COMP%]     .multiselect-custom .p-multiselect-label-container{height:37px!important}[_nghost-%COMP%]     .multiselect-custom .p-multiselect .p-multiselect-label{padding:.2rem .5rem;transition:background-color .2s,color .2s,border-color .2s,box-shadow .2s}[_nghost-%COMP%]     .multiselect-custom .validationType-placeholder{font-family:Open Sans!important;font-size:14px!important;font-weight:400;padding:.25rem}[_nghost-%COMP%]     .multiselect-custom .validationType-item div{white-space:normal;word-break:break-word}.center[_ngcontent-%COMP%]{text-align:center!important;font-size:18px!important}.mr-top-15[_ngcontent-%COMP%]{margin-top:15px}.mr-top-minus[_ngcontent-%COMP%]{margin-top:-7px}.dispnone[_ngcontent-%COMP%]{display:none!important}@media only screen and (max-width:1600px){.iconCircle[_ngcontent-%COMP%]{background:#ff0000a1;color:#fff;border-radius:50%;font-size:19px;margin-bottom:19px!important}}']}),jt),It=r("rEr+"),Ft=r("guv5");function Vt(e,t){if(1&e&&(u.jc(0,"span",44),u.bd(1," Please choose "),u.jc(2,"b"),u.bd(3),u.ic(),u.ic()),2&e){var i=u.uc(2);u.Nb(3),u.dd("",i.appConstant.dataTabelName," Name")}}function Bt(e,t){if(1&e&&(u.jc(0,"p",44),u.Zc(1,Vt,4,1,"span",24),u.ic()),2&e){var i=u.uc();u.Nb(1),u.Bc("ngIf",i.customMicrosegment.controls.templateId.errors.required)}}function Rt(e,t){1&e&&(u.jc(0,"span",44),u.bd(1," Please choose "),u.jc(2,"b"),u.bd(3,"Microsegments"),u.ic(),u.ic())}function zt(e,t){if(1&e&&(u.jc(0,"p",44),u.Zc(1,Rt,4,0,"span",24),u.ic()),2&e){var i=u.uc();u.Nb(1),u.Bc("ngIf",i.customMicrosegment.controls.microsegmentColumns.errors.required)}}function qt(e,t){1&e&&(u.jc(0,"span",44),u.bd(1," Please choose "),u.jc(2,"b"),u.bd(3,"Check Columns"),u.ic(),u.ic())}function Lt(e,t){if(1&e&&(u.jc(0,"p",44),u.Zc(1,qt,4,0,"span",24),u.ic()),2&e){var i=u.uc();u.Nb(1),u.Bc("ngIf",i.customMicrosegment.controls.checkEnabledColumns.errors.required)}}function Et(e,t){if(1&e){var i=u.kc();u.jc(0,"div",45),u.jc(1,"span",46),u.jc(2,"input",47),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc().globalFilterValue=e})("keyup",function(e){return u.Rc(i),u.uc().globalFilterFun(e)}),u.ic(),u.bd(3,"\xa0 "),u.ec(4,"i",48),u.ic(),u.ic()}if(2&e){var a=u.uc();u.Nb(2),u.Bc("ngModel",a.globalFilterValue)}}function Zt(e,t){if(1&e){var i=u.kc();u.jc(0,"th"),u.bd(1),u.ec(2,"br"),u.ec(3,"p-sortIcon",53),u.jc(4,"app-column-filter",54),u.qc("hideFilterDataBox",function(e){return u.Rc(i),u.uc(3).hideBox(e)})("filterData",function(e){return u.Rc(i),u.uc(3).getFilterData(e)})("resetFilterValues",function(e){return u.Rc(i),u.uc(3).resetFilter(e)}),u.ic(),u.jc(5,"span",55),u.jc(6,"i",56),u.qc("click",function(){u.Rc(i);var e=u.uc().$implicit;return u.uc(2).onFilterClick(e.originalValue)}),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc().$implicit,n=u.uc(2);u.Nb(1),u.dd(" ",a.displayValue,""),u.Nb(2),u.Cc("field",a.originalValue),u.Cc("pSortableColumn",a.originalValue),u.Nb(1),u.Bc("colFilterData",n.getFilterState(a.originalValue))("display",n.displayFiltersFor[a.originalValue])("customId",a.originalValue)("fieldName",a.originalValue),u.Nb(1),u.Bc("ngClass",n.filterColumnNameWithHighlightName(a.originalValue)?"selected-filter-column":""),u.Nb(1),u.Bc("ngClass",n.filterColumnNameWithHighlightName(a.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function At(e,t){if(1&e&&(u.hc(0),u.Zc(1,Zt,7,9,"th",52),u.gc()),2&e){var i=t.$implicit;u.Nb(1),u.Bc("ngIf",i.isSelected)}}function Ut(e,t){if(1&e&&(u.jc(0,"tr",49),u.Zc(1,At,2,1,"ng-container",50),u.jc(2,"th",51),u.bd(3," Actions"),u.ic(),u.ic()),2&e){var i=u.uc();u.Nb(1),u.Bc("ngForOf",i.customizeCols)}}function Wt(e,t){if(1&e&&(u.jc(0,"td",61),u.jc(1,"span"),u.bd(2),u.ic(),u.ic()),2&e){var i=u.uc().$implicit,a=u.uc().$implicit;u.Bc("title",a[i.originalValue]),u.Nb(2),u.dd(" ","Numerical Statistics Check"==a[i.originalValue]?"Distribution Check":a[i.originalValue]," ")}}function Qt(e,t){if(1&e&&(u.hc(0),u.Zc(1,Wt,3,2,"td",60),u.gc()),2&e){var i=t.$implicit;u.Nb(1),u.Bc("ngIf",i.isSelected)}}function $t(e,t){if(1&e){var i=u.kc();u.jc(0,"tr",57),u.Zc(1,Qt,2,1,"ng-container",50),u.jc(2,"td",51),u.jc(3,"span",58),u.qc("click",function(){u.Rc(i);var e=t.$implicit;return u.uc().deleteMicroColumns(e)}),u.ec(4,"i",59),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc();u.Nb(1),u.Bc("ngForOf",a.customizeCols)}}function Gt(e,t){1&e&&(u.jc(0,"div",62),u.bd(1," No records found "),u.ic())}function Jt(e,t){if(1&e){var i=u.kc();u.jc(0,"div",63),u.jc(1,"p-paginator",64,65),u.qc("onPageChange",function(e){return u.Rc(i),u.uc().onPageChange(e)})("firstChange",function(e){return u.Rc(i),u.uc().first=e}),u.ic(),u.ic()}if(2&e){var a=u.uc();u.Nb(1),u.Bc("rows",10)("totalRecords",a.microColumns.length)("showCurrentPageReport",!0)("first",a.first)}}function Ht(e,t){if(1&e&&(u.jc(0,"div",70),u.jc(1,"div"),u.bd(2),u.ic(),u.ic()),2&e){var i=u.uc(3);u.Nb(2),u.ed("Page ",i.selectedPage.page," of ",i.totalNumOfPages,"")}}function Yt(e,t){if(1&e&&u.Zc(0,Ht,3,2,"div",69),2&e){var i=u.uc(2);u.Bc("ngIf",i.selectedPage)}}function Kt(e,t){if(1&e){var i=u.kc();u.jc(0,"div",66),u.jc(1,"p-dropdown",67),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc().selectedPage=e})("onChange",function(e){return u.Rc(i),u.uc().onPageNumChange(e)}),u.Zc(2,Yt,1,1,"ng-template",68),u.ic(),u.ic()}if(2&e){var a=u.uc();u.Nb(1),u.Bc("options",a.numOfPages)("filter",!0)("ngModel",a.selectedPage)}}function Xt(e,t){1&e&&(u.jc(0,"span",71),u.ec(1,"i",72),u.bd(2," Confirmation "),u.ic())}var ei,ti,ii=function(){return{width:"100%"}},ai=function(){return{width:"50vw"}},ni=((ei=function(){function t(e,i,a,n,r,l){o(this,t),this.fb=e,this.filterService=i,this.dataTemplateService=a,this.homeServiceService=n,this.detectChanges=r,this.router=l,this.appConstant=new X.a,this.listOfColumns=[],this.listOfMicrosegments=[],this.templateList=[],this.customizeCols=[{displayValue:"Check Name",originalValue:"checkName",isSelected:!0,necessaryCol:!0},{displayValue:"Microsegments Columns",originalValue:"microsegmentColumns",isSelected:!0,necessaryCol:!0},{displayValue:"Check Columns",originalValue:"checkEnabledColumns",isSelected:!0,necessaryCol:!0}],this.pageWiseMicroColumns=[],this.first=0,this.scrollHt="300px",this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.pageSize=9,this.microColumns=[],this.filterData={},this.columnFilter={},this.displayFiltersFor={checkName:!1,microsegmentColumns:!1,checkEnabledColumns:!1},this.totalNumOfPages=0,this.mainMicroColumns=[],this.projectDomains=[],this.selectedProjId=sessionStorage.getItem("activeDomainId")+"_"+sessionStorage.getItem("activeProjectId")}return n(t,[{key:"ngOnInit",value:function(){this.resetFormValidators(),this.projectDomains=this.homeServiceService.getProjectList(),this.projectDomains.map(function(e){e.domainProject=e.domainName+"-"+e.projectName,e.domainProjectValue=e.domainId+"_"+e.idProject,e.domainProjectId=e.idProject}),this.customMicrosegment.controls.projectId.setValue(sessionStorage.getItem("activeDomainId")+"_"+sessionStorage.getItem("activeProjectId")),this.changeProjectToGetTemp(this.selectedProjId)}},{key:"changeProjectToGetTemp",value:function(e){var t=this,i={projectId:""==e.split("_")[1].toString()?parseInt(sessionStorage.getItem("activeProjectId"),10):e.split("_")[1].toString()};sessionStorage.setItem("activeDomainId",e.split("_")[0].toString()),sessionStorage.setItem("activeProjectId",e.split("_")[1].toString()),this.templateList=[],this.dataTemplateService.getListOfTemplate(i).subscribe(function(e){e.result.map(function(e){t.templateList.push({name:e,value:e.split("-")[0]})})}),this.customMicrosegment.controls.templateId.setValue(null),this.customMicrosegment.controls.templateId.clearValidators(),this.customMicrosegment.controls.templateId.updateValueAndValidity(),this.customMicrosegment.controls.checkEnabledColumns.setValue(null),this.customMicrosegment.controls.checkEnabledColumns.clearValidators(),this.customMicrosegment.controls.checkEnabledColumns.updateValueAndValidity(),this.customMicrosegment.controls.microsegmentColumns.setValue(null),this.customMicrosegment.controls.microsegmentColumns.clearValidators(),this.customMicrosegment.controls.microsegmentColumns.updateValueAndValidity(),this.listOfMicrosegments=[],this.listOfColumns=[],this.mainMicroColumns=[],this.microColumns=[],this.pageWiseMicroColumns=[]}},{key:"resetFormValidators",value:function(){this.customMicrosegment=this.fb.group({projectId:["",s.w.compose([s.w.required])],templateId:["",s.w.compose([s.w.required])],microsegmentColumns:["",s.w.compose([s.w.required])],checkEnabledColumns:["",s.w.compose([s.w.required])]})}},{key:"customSort",value:function(t){var i=this,a=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=a+1,this.selectedPage.pageIndex=a,this.sortOrderEvent=t;var n=e(this.microColumns);if("listGroupNameValue"===t.field){n.sort(1===this.sortOrderEvent.order?function(e,i){return e[t.field][0].value>i[t.field][0].value?1:i[t.field][0].value>e[t.field][0].value?-1:0}:function(e,i){return e[t.field][0].value>i[t.field][0].value?-1:i[t.field][0].value>e[t.field][0].value?1:0});var o=this.first+this.pageSize,r=n.filter(function(e,t){if(t<=o&&t>=i.first)return e});this.pageWiseMicroColumns=e(r)}else{n.sort(1===this.sortOrderEvent.order?function(e,i){return e[t.field]>i[t.field]?1:i[t.field]>e[t.field]?-1:0}:function(e,i){return e[t.field]>i[t.field]?-1:i[t.field]>e[t.field]?1:0});var l=this.first+this.pageSize,c=n.filter(function(e,t){if(t<=l&&t>=i.first)return e});this.pageWiseMicroColumns=e(c)}}},{key:"getMicrosegment",value:function(t){var i=this;this.customMicrosegment.controls.microsegmentColumns.clearValidators(),this.customMicrosegment.controls.checkEnabledColumns.clearValidators(),this.customMicrosegment.controls.microsegmentColumns.setValue(""),this.customMicrosegment.controls.checkEnabledColumns.setValue(""),this.customMicrosegment.controls.microsegmentColumns.updateValueAndValidity(),this.customMicrosegment.controls.checkEnabledColumns.updateValueAndValidity(),this.customMicrosegment.updateValueAndValidity();var a={idData:parseInt(t)};this.dataTemplateService.getCustomMicroSegmentsByTemplateId(a).subscribe(function(t){if("success"===t.status){i.mainMicroColumns=e(t.result),i.microColumns=e(i.mainMicroColumns);var a=i.first+i.pageSize,n=i.microColumns.filter(function(e,t){return t<=a});i.pageWiseMicroColumns=e(n),i.calculateNumOfPages()}else i.mainMicroColumns=[],i.microColumns=[],i.pageWiseMicroColumns=[]}),this.listOfMicrosegments=[],this.dataTemplateService.changeDataColumnAjax(a).subscribe(function(e){e.result.map(function(e){i.listOfMicrosegments.push({name:e,value:e})})}),this.listOfColumns=[];var n={idData:parseInt(t),checkName:"Numerical Statistics Check"};this.dataTemplateService.getCustomMicroSegmentColumnNamesForCheck(n).subscribe(function(e){e.result.map(function(e){i.listOfColumns.push({name:e,value:e})})})}},{key:"calculateNumOfPages",value:function(){if(this.totalNumOfPages=this.mainMicroColumns.length?this.mainMicroColumns.length<this.pageSize?1:Math.ceil(this.mainMicroColumns.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}},{key:"saveMicrosegmentColumnCom",value:function(){var e=this;if(this.customMicrosegment.controls.templateId.setValidators([s.w.required]),this.customMicrosegment.controls.checkEnabledColumns.setValidators([s.w.required]),this.customMicrosegment.controls.microsegmentColumns.setValidators([s.w.required]),this.customMicrosegment.controls.templateId.updateValueAndValidity(),this.customMicrosegment.controls.microsegmentColumns.updateValueAndValidity(),this.customMicrosegment.controls.checkEnabledColumns.updateValueAndValidity(),this.customMicrosegment.valid){var t={templateId:this.customMicrosegment.value.templateId,checkName:"Numerical Statistics Check",microsegmentColumns:this.customMicrosegment.value.microsegmentColumns.join(),checkEnabledColumns:this.customMicrosegment.value.checkEnabledColumns.join()};this.dataTemplateService.addCustomMicrosegments(t).subscribe(function(t){"success"===t.status&&(e.customMicrosegment.controls.templateId.setValue(""),e.customMicrosegment.controls.templateId.clearValidators(),e.customMicrosegment.controls.templateId.updateValueAndValidity(),e.customMicrosegment.controls.checkEnabledColumns.setValue(""),e.customMicrosegment.controls.checkEnabledColumns.clearValidators(),e.customMicrosegment.controls.checkEnabledColumns.updateValueAndValidity(),e.customMicrosegment.controls.microsegmentColumns.setValue(""),e.customMicrosegment.controls.microsegmentColumns.clearValidators(),e.customMicrosegment.controls.microsegmentColumns.updateValueAndValidity(),e.mainMicroColumns=[],e.microColumns=[],e.listOfMicrosegments=[],e.listOfColumns=[],e.pageWiseMicroColumns=[])})}else this.markFormAsTouched()}},{key:"markFormAsTouched",value:function(){var e=this;this.customMicrosegment.updateValueAndValidity(),Object.keys(this.customMicrosegment.controls).forEach(function(t){e.customMicrosegment.controls[t].markAsTouched(),e.customMicrosegment.controls[t].markAsDirty()})}},{key:"hideBox",value:function(e){this.displayFiltersFor[e.fieldName]=!1}},{key:"getFilterState",value:function(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){var t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}},{key:"getFilterData",value:function(t){var i=this;this.columnFilter[t[0]]=t[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var a=Object.keys(this.columnFilter);this.displayFiltersFor[t[0]]=!1,this.first=0,this.globalFilterValue||(this.microColumns=e(this.mainMicroColumns)),a.forEach(function(e){i.microColumns=i.microColumns.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"onFilterClick",value:function(e){var t=this;Object.keys(this.displayFiltersFor).map(function(i){t.displayFiltersFor[i]=i===e})}},{key:"setPageNumber",value:function(){if(this.totalNumOfPages=this.microColumns.length?this.microColumns.length<this.pageSize?1:Math.ceil(this.microColumns.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var t=0;t<this.totalNumOfPages;t++)this.numOfPages.push({pageIndex:t,page:t+1})}var i=this.first+this.pageSize,a=this.microColumns.filter(function(e,t){return t<=i});this.pageWiseMicroColumns=e(a)}},{key:"resetFilter",value:function(t){var i=this;this.columnFilter[t]=null,delete this.columnFilter[t],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var a=Object.keys(this.columnFilter);this.displayFiltersFor[t]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.microColumns=e(this.mainMicroColumns),a.forEach(function(e){i.microColumns=i.microColumns.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"deleteMicroColumns",value:function(e){this.deleteModal=!0,this.microsegmentColumnsObj=e}},{key:"deleteConfirm",value:function(){var e=this;this.deleteModal=!1,this.dataTemplateService.deleteCustomMicrosegments({id:this.microsegmentColumnsObj.id}).subscribe(function(t){"success"===t.status&&(e.getMicrosegment(e.microsegmentColumnsObj.templateId),e.microsegmentColumnsObj={})})}},{key:"globalFilterFun",value:function(t){var i=e(this.globalFilterLogic()),a=this.first+this.pageSize,n=i.filter(function(e,t){return t<=a});this.detectChanges.detectChanges(),this.pageWiseMicroColumns=e(n),this.setPageNumber()}},{key:"globalFilterLogic",value:function(){var t=this;if(this.mainMicroColumns.length){var i=Object.keys(this.mainMicroColumns[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainMicroColumns.forEach(function(e){var a=!1;i.forEach(function(i){e[i]&&e[i].toString().toLowerCase().includes(t.globalFilterValue.toLowerCase())&&!a&&(t.filterValue.push(e),a=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var a=Object.keys(this.columnFilter);this.first=0,a.forEach(function(e){t.filterValue=t.filterValue.filter(function(i){return t.filterService.filters.contains(i[e],t.columnFilter[e])})})}return this.microColumns=e(this.filterValue),this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=e(this.mainMicroColumns),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.first=0,n.forEach(function(e){t.filterValue=t.filterValue.filter(function(i){return t.filterService.filters.contains(i[e],t.columnFilter[e])})})}return this.microColumns=e(this.filterValue),this.calculateNumOfPages(),this.microColumns}return[]}},{key:"onPageChange",value:function(t){var i=this;this.first=t.first;var a=this.getSortedData(),n=this.first+this.pageSize,o=a.filter(function(e,t){if(t<=n&&t>=i.first)return e});this.selectedPage={pageIndex:t.page,page:t.page+1},this.pageWiseMicroColumns=e(o)}},{key:"onPageNumChange",value:function(t){var i=this;this.selectedPage={page:t.value.page,pageIndex:t.value.pageIndex},this.first=1===t.value.page?0:10*(t.value.page-1);var a=this.getSortedData(),n=this.first+this.pageSize,o=a.filter(function(e,t){if(t<=n&&t>=i.first)return e});this.pageWiseMicroColumns=e(o)}},{key:"getSortedData",value:function(){var t=this,i=e(this.microColumns);return this.sortOrderEvent?1===this.sortOrderEvent.order?(i.sort(function(e,i){return e[t.sortOrderEvent.field]>i[t.sortOrderEvent.field]?1:i[t.sortOrderEvent.field]>e[t.sortOrderEvent.field]?-1:0}),i):(i.sort(function(e,i){return e[t.sortOrderEvent.field]>i[t.sortOrderEvent.field]?-1:i[t.sortOrderEvent.field]>e[t.sortOrderEvent.field]?1:0}),i):i}},{key:"filterColumnNameWithHighlightName",value:function(e){return!(Object.keys(this.columnFilter).findIndex(function(t){return t===e})<0)}},{key:"activeTab",value:function(e){switch(e){case"addDataTemplateScreen":this.addDataTemplateScreen=!1,this.router.navigateByUrl("/dbckangui/data-template/view-template");break;case"addDerivedTemplate":this.addDerivedTemplate=!1,this.router.navigateByUrl("/dbckangui/data-template/view-derived-template");break;case"addReferenceScreen":this.addReferenceScreen=!1,this.addReferenceScreen=!1,this.router.navigateByUrl("/dbckangui/data-template/view-references");break;case"customMicrosegment":this.router.navigateByUrl("/dbckangui/data-template/custom-microsegment")}}}]),t}()).\u0275fac=function(e){return new(e||ei)(u.dc(s.e),u.dc(g.d),u.dc(k.a),u.dc(T.a),u.dc(u.h),u.dc(M.i))},ei.\u0275cmp=u.Xb({type:ei,selectors:[["app-custom-microsegment"]],decls:84,vars:50,consts:[[1,"main-profile"],["id","profilingscreen",1,"content-wrapper","top","profile-screen"],["profilingscreen",""],[1,"row"],[1,"col-sm-12","adjust"],[1,"nav","nav-pills","justify-content-left"],[3,"click"],["id","dataTable-tab","data-toggle","tab","href","#dataTable"],["id","derivedTemplate-tab","data-toggle","tab","href","#derivedTemplate"],["id","referenceView-tab","data-toggle","tab","href","#referenceView"],["id","customMicrosegment-tab","data-toggle","tab","href","#customMicrosegment",1,"active"],[1,"tab-content","clearfix"],["id","dataTable",1,"tab-pane"],["id","derivedTemplate",1,"tab-pane"],["id","referenceView",1,"tab-pane"],["id","customMicrosegment",1,"tab-pane","active"],[1,"container-fluid","create-conn-main"],[1,"col-sm-12"],[1,"form-title"],[1,"row","p-field",3,"formGroup"],[1,"col-sm-12","col-md-6","mr-top"],["for","rule_category",1,"col-form-label"],[1,"req-field"],["formControlName","templateId","optionValue","value","optionLabel","name",3,"styleClass","options","filter","placeholder","virtualScroll","itemSize","onChange"],["class","err-msg",4,"ngIf"],["formControlName","microsegmentColumns","placeholder","Select Microsegments","optionValue","value","optionLabel","name",3,"styleClass","filter","options","maxSelectedLabels","selectedItemsLabel"],["formControlName","checkEnabledColumns","placeholder","Select Check Columns","optionValue","value","optionLabel","name",3,"styleClass","options","maxSelectedLabels","selectedItemsLabel","filter"],[1,"col-sm-12","col-md-6","note"],[1,"row","p-field","mr-top"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button","label","Add Microsegments",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],["id","view_micro_columns",1,"row","p-field"],["view_micro_columns",""],[1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","responsiveLayout","scroll","sortMode","single",3,"value","scrollable","scrollHeight","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","rows","first","customSort","firstChange","sortFunction"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],[1,"err-msg"],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"header"],[4,"ngFor","ngForOf"],[1,"min_width_70"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","customId","fieldName","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"row-ht"],[1,"actions","cursor-pointer",3,"click"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],["class","text-center word_break_word_all rule-ellipsis",3,"title",4,"ngIf"],[1,"text-center","word_break_word_all","rule-ellipsis",3,"title"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"]],template:function(e,t){1&e&&(u.jc(0,"div",0),u.jc(1,"div",1,2),u.jc(3,"div",3),u.jc(4,"div",4),u.jc(5,"ul",5),u.jc(6,"li",6),u.qc("click",function(){return t.activeTab("addDataTemplateScreen")}),u.jc(7,"a",7),u.bd(8," Data Tables "),u.ic(),u.ic(),u.jc(9,"li",6),u.qc("click",function(){return t.activeTab("addDerivedTemplate")}),u.jc(10,"a",8),u.bd(11,"Derived Tables"),u.ic(),u.ic(),u.jc(12,"li",6),u.qc("click",function(){return t.activeTab("addReferenceScreen")}),u.jc(13,"a",9),u.bd(14,"Reference Data"),u.ic(),u.ic(),u.jc(15,"li",6),u.qc("click",function(){return t.activeTab("customMicrosegment")}),u.jc(16,"a",10),u.bd(17," Custom Microsegment "),u.ic(),u.ic(),u.ic(),u.jc(18,"div",11),u.ec(19,"div",12),u.ec(20,"div",13),u.ec(21,"div",14),u.jc(22,"div",15),u.jc(23,"div",16),u.jc(24,"div",3),u.jc(25,"div",17),u.jc(26,"p",18),u.bd(27," \xa0Custom Microsegment "),u.ic(),u.ic(),u.ic(),u.jc(28,"div",19),u.jc(29,"div",20),u.jc(30,"label",21),u.bd(31),u.jc(32,"sup",22),u.bd(33,"*"),u.ic(),u.ic(),u.ec(34,"br"),u.jc(35,"p-dropdown",23),u.qc("onChange",function(e){return t.getMicrosegment(e.value)}),u.ic(),u.Zc(36,Bt,2,1,"p",24),u.ic(),u.jc(37,"div",20),u.jc(38,"label",21),u.bd(39,"Microsegments"),u.jc(40,"sup",22),u.bd(41,"*"),u.ic(),u.ic(),u.ec(42,"br"),u.ec(43,"p-multiSelect",25),u.Zc(44,zt,2,1,"p",24),u.ic(),u.jc(45,"div",20),u.jc(46,"label",21),u.bd(47,"Check Columns"),u.jc(48,"sup",22),u.bd(49,"*"),u.ic(),u.ic(),u.ec(50,"br"),u.ec(51,"p-multiSelect",26),u.Zc(52,Lt,2,1,"p",24),u.ic(),u.ic(),u.jc(53,"div",27),u.jc(54,"p"),u.bd(55,"Note: Fields marked with "),u.jc(56,"b"),u.bd(57,'"*"'),u.ic(),u.bd(58," are required. "),u.ic(),u.ic(),u.jc(59,"div",28),u.jc(60,"div",29),u.jc(61,"button",30),u.qc("click",function(){return t.saveMicrosegmentColumnCom()}),u.ic(),u.ic(),u.ic(),u.jc(62,"div",31,32),u.jc(64,"div",33),u.jc(65,"p",18),u.bd(66,"Available Microsegments"),u.ic(),u.jc(67,"p-table",34),u.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),u.Zc(68,Et,5,1,"ng-template",35),u.Zc(69,Ut,4,1,"ng-template",36),u.Zc(70,$t,5,1,"ng-template",37),u.ic(),u.ic(),u.Zc(71,Gt,2,0,"div",38),u.jc(72,"div",39),u.Zc(73,Jt,3,4,"div",40),u.Zc(74,Kt,3,3,"div",41),u.ic(),u.ic(),u.ic(),u.ic(),u.ic(),u.ic(),u.ic(),u.ic(),u.ic(),u.jc(75,"p-dialog",42),u.qc("visibleChange",function(e){return t.deleteModal=e}),u.Zc(76,Xt,3,0,"ng-template",36),u.jc(77,"p"),u.bd(78,"Are you sure you want to delete Microsegment "),u.jc(79,"b"),u.bd(80),u.ic(),u.bd(81,"?"),u.ic(),u.jc(82,"p-footer"),u.jc(83,"button",43),u.qc("click",function(){return t.deleteConfirm()}),u.ic(),u.ic(),u.ic()),2&e&&(u.Nb(28),u.Bc("formGroup",t.customMicrosegment),u.Nb(3),u.dd("",t.appConstant.dataTabelName," Name"),u.Nb(4),u.Dc("placeholder","Select ",t.appConstant.dataTabelName," Name"),u.Bc("styleClass","form-field")("options",t.templateList)("filter",!0)("virtualScroll",!0)("itemSize",30),u.Nb(1),u.Bc("ngIf",t.customMicrosegment.controls.templateId.invalid&&!t.customMicrosegment.controls.templateId.pristine),u.Nb(7),u.Bc("styleClass","form-field")("filter",t.listOfMicrosegments.length>0)("options",t.listOfMicrosegments)("maxSelectedLabels",5)("selectedItemsLabel","{0} items selected"),u.Nb(1),u.Bc("ngIf",t.customMicrosegment.controls.microsegmentColumns.invalid&&!t.customMicrosegment.controls.microsegmentColumns.pristine),u.Nb(7),u.Bc("styleClass","form-field")("options",t.listOfColumns)("maxSelectedLabels",5)("selectedItemsLabel","{0} items selected")("filter",t.listOfColumns.length>0),u.Nb(1),u.Bc("ngIf",t.customMicrosegment.controls.checkEnabledColumns.invalid&&!t.customMicrosegment.controls.checkEnabledColumns.pristine),u.Nb(9),u.Bc("disabled",t.customMicrosegment.invalid),u.Nb(6),u.Vc(u.Ec(48,ii)),u.Bc("value",t.pageWiseMicroColumns)("scrollable",t.pageWiseMicroColumns.length>7)("scrollHeight",t.pageWiseMicroColumns.length>7?t.scrollHt:"")("responsive",!0)("rowHover",!0)("sortField","idListColrules")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("rows",10)("first",t.first)("customSort",!0),u.Nb(4),u.Bc("ngIf",!t.pageWiseMicroColumns.length),u.Nb(2),u.Bc("ngIf",t.pageWiseMicroColumns.length),u.Nb(1),u.Bc("ngIf",t.pageWiseMicroColumns.length),u.Nb(1),u.Vc(u.Ec(49,ai)),u.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),u.Nb(5),u.dd("",null==t.microsegmentColumnsObj?null:t.microsegmentColumnsObj.microsegmentColumns," "))},directives:[s.p,s.i,ae.a,s.o,s.g,c.n,oe.a,m.b,It.f,g.i,p.a,g.e,s.d,j.a,s.r,c.m,It.d,It.e,Ft.a,c.l,y.a],styles:['[_ngcontent-%COMP%]::-moz-placeholder{color:gray;opacity:.8}[_ngcontent-%COMP%]::placeholder{color:gray;opacity:.8}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.trigger[_ngcontent-%COMP%]{font-size:.6rem!important}.req-field[_ngcontent-%COMP%], .trigger[_ngcontent-%COMP%]{font-weight:700!important}.req-field[_ngcontent-%COMP%]{color:#eb5454}.add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.note[_ngcontent-%COMP%]{text-align:left;font-size:13px;color:#eb5454;padding-top:25px;padding-left:24px}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}.create-conn-main[_ngcontent-%COMP%]{font-family:Open Sans!important}.mr-top[_ngcontent-%COMP%]{padding-top:15px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5}.form-label[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]     .p-inputtext{font-size:14px;padding:.3rem .5rem!important}.p-field-form[_ngcontent-%COMP%]{padding-right:0}.diabled-ip[_ngcontent-%COMP%]{opacity:.7;box-shadow:none!important;cursor:inherit}.diabled-ip[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}[_nghost-%COMP%]     .p-dropdown{height:37px!important}[_nghost-%COMP%]     .p-disabled:hover{cursor:not-allowed!important}.optional-fields[_ngcontent-%COMP%]{color:#789}.form-checkbox[_ngcontent-%COMP%]{padding-left:10px;font-size:16px;padding-top:8px}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.warning-msg[_ngcontent-%COMP%]{font-size:12px;color:#007bff;margin-bottom:0;padding-top:8px;padding-left:5px}[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}.rule-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]     .p-multiselect .p-multiselect-label{padding:.3rem .5rem!important;font-size:14px}[_nghost-%COMP%]     .p-multiselect-panel .p-multiselect-items .p-multiselect-item{font-size:13px!important}.adjust[_ngcontent-%COMP%]{top:10px}.nav-pills[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #dedede;border-radius:8px 8px 0 0}.nav-pills[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:50px;position:relative}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:-1%;margin-top:.1%;top:10px}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;padding:15px 20px;line-height:19px;color:#717171;font-size:14px;font-weight:700;z-index:1}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:transparent;border-color:transparent}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";width:100%;height:50px;position:absolute;bottom:1%;left:-1px;font-size:12px;background:transparent;border:1px solid transparent;z-index:-1}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:before{background:linear-gradient(180deg,transparent,transparent);bottom-border-color:#dedede;font-size:16px;font-family:Open Sans!important;text-align:center;border-radius:8px 8px 0 0}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:focus, .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:hover{border:1px solid transparent;background:transparent;color:#951447;font-weight:700;z-index:2;-webkit-text-decoration:underline 3px;text-decoration:underline 3px;text-underline-offset:8px}a[_ngcontent-%COMP%]:hover{text-decoration:none}@media only screen and (max-width:767px){.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:15px 10px;font-size:12px}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{bottom:6px}}@media only screen and (max-width:480px){.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;margin-bottom:5px}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{bottom:0;transform:none;border-bottom:1px solid #d3d3d3}}.main-profile[_ngcontent-%COMP%]{margin-top:2%}.tab-content[_ngcontent-%COMP%]   .tab-pane[_ngcontent-%COMP%]{box-shadow:0 0 15px #e6e5e5;padding:5px 20px 20px;background:#fff;line-height:22px}.tab-content[_ngcontent-%COMP%]   .tab-pane[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.val_css[_ngcontent-%COMP%]{padding-left:35px;font-size:15px;font-weight:600}']}),ei),oi=r("E+E9"),ri=((ti=function(){function e(){o(this,e)}return n(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ti)},ti.\u0275cmp=u.Xb({type:ti,selectors:[["app-data-template"]],decls:3,vars:0,consts:[[1,"content-wrapper","top"]],template:function(e,t){1&e&&(u.jc(0,"div",0),u.ec(1,"app-main-header"),u.ec(2,"router-outlet"),u.ic())},directives:[oi.a,M.m],styles:[""]}),ti);function li(e,t){1&e&&(u.jc(0,"p",40),u.bd(1," \xa0Create Derived Table "),u.ic())}function ci(e,t){1&e&&(u.jc(0,"p",40),u.bd(1," \xa0Edit Derived Table "),u.ic())}function si(e,t){1&e&&(u.jc(0,"span",41),u.bd(1," Please enter "),u.jc(2,"b"),u.bd(3,"Derived Table Name"),u.ic(),u.ic())}function di(e,t){1&e&&(u.jc(0,"span",41),u.bd(1," SQL keywords must not be used in Name field. "),u.ic())}function pi(e,t){if(1&e&&(u.jc(0,"p",41),u.Zc(1,si,4,0,"span",13),u.Zc(2,di,2,0,"span",13),u.ic()),2&e){var i=u.uc(2);u.Nb(1),u.Bc("ngIf",i.derivedForm.controls.dataset.errors.required),u.Nb(1),u.Bc("ngIf",i.derivedForm.controls.dataset.errors.duplicateTags)}}function ui(e,t){if(1&e&&(u.jc(0,"p",41),u.jc(1,"span",41),u.bd(2),u.ic(),u.ic()),2&e){var i=u.uc(2);u.Nb(2),u.cd(i.invalidTemplateMsg)}}function mi(e,t){1&e&&(u.jc(0,"sup",11),u.bd(1,"*"),u.ic())}function gi(e,t){1&e&&(u.jc(0,"span",41),u.bd(1," Please enter "),u.jc(2,"b"),u.bd(3,"Description"),u.ic(),u.ic())}function fi(e,t){if(1&e&&(u.jc(0,"p",41),u.Zc(1,gi,4,0,"span",13),u.ic()),2&e){var i=u.uc(2);u.Nb(1),u.Bc("ngIf",i.derivedForm.controls.description.errors.required)}}function hi(e,t){if(1&e&&(u.jc(0,"span",41),u.bd(1," Please choose "),u.jc(2,"b"),u.bd(3),u.ic(),u.ic()),2&e){var i=u.uc(3);u.Nb(3),u.dd("",i.appConstant.dataTabelName," 1")}}function bi(e,t){if(1&e&&(u.jc(0,"p",41),u.Zc(1,hi,4,1,"span",13),u.ic()),2&e){var i=u.uc(2);u.Nb(1),u.Bc("ngIf",i.derivedForm.controls.template1name.errors.required)}}function vi(e,t){if(1&e&&(u.jc(0,"span",41),u.bd(1," Please choose "),u.jc(2,"b"),u.bd(3),u.ic(),u.ic()),2&e){var i=u.uc(4);u.Nb(3),u.dd("",i.appConstant.dataTabelName," 2")}}function Ci(e,t){if(1&e&&(u.jc(0,"p",41),u.Zc(1,vi,4,1,"span",13),u.ic()),2&e){var i=u.uc(3);u.Nb(1),u.Bc("ngIf",i.derivedForm.controls.template2name.errors.required)}}function yi(e,t){if(1&e){var i=u.kc();u.jc(0,"div",42),u.jc(1,"div",9),u.jc(2,"label",43),u.bd(3),u.jc(4,"sup",11),u.bd(5,"*"),u.ic(),u.ic(),u.jc(6,"p-dropdown",44),u.qc("onChange",function(e){return u.Rc(i),u.uc(2).onchangeTemplate2(e)}),u.ic(),u.Zc(7,Ci,2,1,"p",13),u.ic(),u.ic()}if(2&e){var a=u.uc(2);u.Nb(3),u.dd(" ",a.appConstant.dataTabelName," 2"),u.Nb(3),u.Dc("placeholder","Select ",a.appConstant.dataTabelName," 2"),u.Bc("styleClass","form-field")("options",a.dataTemDropdownList)("filter",!0)("disabled",a.isDisabledTem)("virtualScroll",!0)("itemSize",30),u.Nb(1),u.Bc("ngIf",a.derivedForm.controls.template2name.invalid&&!a.derivedForm.controls.template2name.pristine)}}function wi(e,t){if(1&e&&(u.jc(0,"div",42),u.jc(1,"div",9),u.jc(2,"label",45),u.bd(3),u.ic(),u.ec(4,"br"),u.ec(5,"input",46),u.ic(),u.ic()),2&e){var i=u.uc(2);u.Nb(3),u.dd("",i.appConstant.dataTabelName," 2 Alias Name"),u.Nb(2),u.Dc("placeholder","Alias name for ",i.appConstant.dataTabelName," 2")}}function xi(e,t){1&e&&(u.jc(0,"span",41),u.bd(1," Query cannot be empty "),u.ic())}function Mi(e,t){if(1&e&&(u.jc(0,"p",41),u.Zc(1,xi,2,0,"span",13),u.ic()),2&e){var i=u.uc(2);u.Nb(1),u.Bc("ngIf",i.derivedForm.controls.querytext.errors.required)}}function Pi(e,t){if(1&e){var i=u.kc();u.jc(0,"button",47),u.qc("click",function(e){return u.Rc(i),u.uc(2).onSubmit(e)}),u.bd(1," Create Derived Table "),u.ic()}if(2&e){var a=u.uc(2);u.Bc("disabled",!a.derivedForm.valid)}}function Ni(e,t){if(1&e){var i=u.kc();u.jc(0,"button",48),u.qc("click",function(){return u.Rc(i),u.uc(2).onUpdate()}),u.bd(1," Update "),u.ic()}if(2&e){var a=u.uc(2);u.Bc("disabled",!a.derivedForm.valid||!a.derivedForm.dirty)}}var Oi=function(){return{standalone:!0}};function Ti(e,t){if(1&e){var i=u.kc();u.jc(0,"div",2),u.jc(1,"div",3),u.jc(2,"div",4),u.Zc(3,li,2,0,"p",5),u.Zc(4,ci,2,0,"p",5),u.ic(),u.ic(),u.jc(5,"form",6),u.jc(6,"div",7),u.jc(7,"div",8),u.jc(8,"div",9),u.jc(9,"label",10),u.bd(10," Derived Table Name"),u.jc(11,"sup",11),u.bd(12,"*"),u.ic(),u.ic(),u.ec(13,"br"),u.jc(14,"input",12),u.qc("keyup",function(){return u.Rc(i),u.uc().onKey()}),u.ic(),u.Zc(15,pi,3,2,"p",13),u.Zc(16,ui,3,1,"p",13),u.ic(),u.ic(),u.jc(17,"div",8),u.jc(18,"div",9),u.jc(19,"label",14),u.bd(20," Description"),u.Zc(21,mi,2,0,"sup",15),u.ic(),u.ec(22,"input",16),u.Zc(23,fi,2,1,"p",13),u.ic(),u.ic(),u.ic(),u.jc(24,"div",17),u.jc(25,"div",8),u.jc(26,"div",9),u.jc(27,"label",18),u.bd(28),u.jc(29,"sup",11),u.bd(30,"*"),u.ic(),u.ic(),u.jc(31,"p-dropdown",19),u.qc("onChange",function(e){return u.Rc(i),u.uc().onchangeTemplate1(e)}),u.ic(),u.Zc(32,bi,2,1,"p",13),u.ic(),u.ic(),u.jc(33,"div",8),u.jc(34,"div",9),u.jc(35,"label",20),u.bd(36),u.ic(),u.ec(37,"br"),u.ec(38,"input",21),u.ic(),u.ic(),u.ic(),u.jc(39,"div"),u.jc(40,"div",7),u.jc(41,"div",22),u.jc(42,"div",9),u.jc(43,"div",23),u.jc(44,"p-checkbox",24),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc().selectedValues=e})("onChange",function(e){return u.Rc(i),u.uc().onChecked(e)}),u.ic(),u.ic(),u.ic(),u.ic(),u.jc(45,"div",25),u.jc(46,"label",26),u.bd(47,"Enable Join Condition"),u.ic(),u.ic(),u.ic(),u.jc(48,"div",17),u.Zc(49,yi,8,9,"div",27),u.Zc(50,wi,6,2,"div",27),u.ic(),u.jc(51,"div",28),u.jc(52,"div",29),u.jc(53,"div",9),u.jc(54,"label",30),u.bd(55," Query"),u.jc(56,"sup",11),u.bd(57,"*"),u.ic(),u.bd(58," ("),u.jc(59,"span",31),u.bd(60," Please use the alias names generated above in the query "),u.ic(),u.bd(61," ) "),u.ic(),u.ec(62,"br"),u.jc(63,"textarea",32),u.bd(64,"                        "),u.ic(),u.Zc(65,Mi,2,1,"p",13),u.ic(),u.ic(),u.ic(),u.ic(),u.jc(66,"div",33),u.jc(67,"div",34),u.jc(68,"p"),u.bd(69,"Note: Fields marked with "),u.jc(70,"b"),u.bd(71,'"*"'),u.ic(),u.bd(72," are required. "),u.ic(),u.ic(),u.ic(),u.jc(73,"div",35),u.jc(74,"div",36),u.Zc(75,Pi,2,1,"button",37),u.bd(76," \xa0 "),u.Zc(77,Ni,2,1,"button",38),u.bd(78," \xa0 "),u.jc(79,"button",39),u.qc("click",function(){return u.Rc(i),u.uc().onCancel()}),u.bd(80,"Cancel"),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc();u.Nb(3),u.Bc("ngIf",!a.canUpdate),u.Nb(1),u.Bc("ngIf",a.canUpdate),u.Nb(1),u.Bc("formGroup",a.derivedForm),u.Nb(9),u.Rb("",a.isDisabled?"diabled-ip":""," form-field inputtextCustom"),u.Bc("readonly",a.isDisabled),u.Nb(1),u.Bc("ngIf",a.derivedForm.controls.dataset.invalid&&!a.derivedForm.controls.dataset.pristine),u.Nb(1),u.Bc("ngIf",!a.dataTemplateNamevalid&&!a.showMsg),u.Nb(5),u.Bc("ngIf",a.isFabEnabled),u.Nb(2),u.Bc("ngIf",a.derivedForm.controls.description.invalid&&!a.derivedForm.controls.description.pristine),u.Nb(5),u.dd(" ",a.appConstant.dataTabelName," 1"),u.Nb(3),u.Dc("placeholder","Select ",a.appConstant.dataTabelName," 1"),u.Bc("disabled",a.isDisabled)("styleClass","form-field")("options",a.dataTemDropdownList)("filter",!0)("virtualScroll",!0)("itemSize",30),u.Nb(1),u.Bc("ngIf",a.derivedForm.controls.template1name.invalid&&!a.derivedForm.controls.template1name.pristine),u.Nb(4),u.dd("",a.appConstant.dataTabelName," 1 Alias Name"),u.Nb(2),u.Dc("placeholder","Alias name for ",a.appConstant.dataTabelName," 1"),u.Nb(6),u.Bc("disabled",a.isDisabled)("ngModel",a.selectedValues)("ngModelOptions",u.Ec(30,Oi)),u.Nb(5),u.Bc("ngIf",a.selectedValues),u.Nb(1),u.Bc("ngIf",a.selectedValues),u.Nb(15),u.Bc("ngIf",a.derivedForm.controls.querytext.invalid&&!a.derivedForm.controls.querytext.pristine),u.Nb(10),u.Bc("ngIf",!a.canUpdate),u.Nb(2),u.Bc("ngIf",a.canUpdate)}}function ki(e,t){if(1&e&&(u.jc(0,"p",40),u.jc(1,"b"),u.bd(2),u.ic(),u.bd(3),u.ic()),2&e){var i=u.uc(3);u.Nb(2),u.dd("",i.appConstant.dataTabelName,":"),u.Nb(1),u.dd(" ",i.getTemplatename," ")}}function Si(e,t){if(1&e&&(u.jc(0,"div"),u.jc(1,"div",2),u.jc(2,"div",49),u.jc(3,"div",50),u.Zc(4,ki,4,2,"p",5),u.jc(5,"div",51),u.bd(6),u.ec(7,"br"),u.ec(8,"hr"),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()),2&e){var i=u.uc(2);u.Nb(4),u.Bc("ngIf",i.showTemplateName),u.Nb(2),u.dd(" ",i.displayMessagePoll," \xa0 ")}}function ji(e,t){if(1&e&&(u.jc(0,"div",56),u.bd(1),u.ec(2,"br"),u.ec(3,"hr"),u.ic()),2&e){var i=u.uc(4);u.Nb(1),u.dd(" ",i.displayMessagePoll," \xa0 ")}}function _i(e,t){if(1&e&&(u.jc(0,"div",56),u.bd(1),u.ec(2,"br"),u.ec(3,"hr"),u.ic()),2&e){var i=u.uc(4);u.Nb(1),u.dd(" ",i.displayMessageLatest," \xa0 ")}}function Di(e,t){1&e&&(u.jc(0,"div",57),u.bd(1," Validation has been created and execution is in progress. "),u.ic())}function Ii(e,t){if(1&e&&(u.jc(0,"div",2),u.jc(1,"div",49),u.jc(2,"div",50),u.jc(3,"p",40),u.jc(4,"b"),u.bd(5),u.ic(),u.bd(6),u.ic(),u.ic(),u.jc(7,"div",50),u.Zc(8,ji,4,1,"div",53),u.Zc(9,_i,4,1,"div",53),u.ic(),u.jc(10,"div",3),u.ec(11,"app-progress-bar",54),u.Zc(12,Di,2,0,"div",55),u.ic(),u.ic(),u.ic()),2&e){var i=t.$implicit,a=u.uc(3);u.Nb(5),u.dd("",a.appConstant.dataTabelName,":"),u.Nb(1),u.dd(" ",null==i?null:i.getTemplateName," "),u.Nb(2),u.Bc("ngIf",1!=(null==i?null:i.showmsg)),u.Nb(1),u.Bc("ngIf","Task completed"==(null==i?null:i.status)||"Task failed"==(null==i?null:i.status)||"Task killed"==(null==i?null:i.status)),u.Nb(2),u.Bc("value",null==i?null:i.percentage)("success",null==i?null:i.status)("progressBarShow",null==i?null:i.progressBarShow),u.Nb(1),u.Bc("ngIf","Task completed"==(null==i?null:i.status)&&a.isCreateTemplate)}}function Fi(e,t){if(1&e&&(u.jc(0,"div"),u.Zc(1,Ii,13,8,"div",52),u.ic()),2&e){var i=u.uc(2);u.Nb(1),u.Bc("ngForOf",i.result1)}}function Vi(e,t){if(1&e&&(u.jc(0,"div"),u.Zc(1,Si,9,2,"div",1),u.Zc(2,Fi,2,1,"div",1),u.ic()),2&e){var i=u.uc();u.Nb(1),u.Bc("ngIf",0==i.result1.length&&1==i.statusPollDiv),u.Nb(1),u.Bc("ngIf",0!=i.result1.length&&1==i.statusPollDiv)}}var Bi,Ri=((Bi=function(){function e(t,i,a,n,r,l,c,s,d,p){o(this,e),this.formBuilder=t,this.fh=i,this.homeServiceService=a,this.router=n,this.dataTemplateService=r,this.messages=l,this.datepipe=c,this.excutiveSummaryService=s,this.spinner=d,this.domainProj=p,this.appConstant=new X.a,this.addDerivedTemplate=!1,this.addDerivedTemplateScreen=new u.p,this.editDerivedTemplate=!1,this.editDerivedTemplateScreen=new u.p,this.submitted=!1,this.currentMode="edit",this.selectedValues=!1,this.selectedValue="",this.projectId=JSON.parse(sessionStorage.getItem("activeProjectId")),this.showMsg=!1,this.show=!0,this.domainId=JSON.parse(sessionStorage.getItem("activeDomainId")),this.isDisabled=!1,this.isDisabledTem=!0,this.isDisabledTem2=!0,this.isDisabledTemp1=!1,this.canUpdate=!1,this.dataTemplateNamevalid=!0,this.isFabEnabled=!1,this.showTemplateName=!1,this.statusPollDiv=!1,this.resultData=[],this.result1=[],this.isCreateTemplate=!1,this.resetTemplateForm()}return n(e,[{key:"ngOnInit",value:function(){var e,t=this;this.userDetails=JSON.parse(sessionStorage.getItem("userDetail")),this.getTemplateDetails(),(null===(e=this.router.url)||void 0===e?void 0:e.includes("edit-derived-template"))||this.editDerivedTemplate?(this.domainProj.passDomainProjVal(!0),this.canUpdate=!0,this.isDisabled=!0,this.derivedTemplateDetail=JSON.parse(sessionStorage.getItem("derivedTemplateDetail")),this.dataTemplateService.editDerivedDataTemplate("editDerivedDataTemplate",{idData:this.derivedTemplateDetail.TemplateId}).subscribe(function(e){t.editData=e,t.derivedForm.patchValue({dataset:t.derivedTemplateDetail.TemplateName,description:e.listDerivedDataSource.description,template1id:e.listDerivedDataSource.template1IdData,template2id:e.listDerivedDataSource.template2IdData,template1name:e.listDerivedDataSource.template1Name,template2name:e.listDerivedDataSource.template2Name,aliasname1:e.listDerivedDataSource.template1AliasName,aliasname2:e.listDerivedDataSource.template2AliasName,querytext:e.listDerivedDataSource.queryText}),-1!=e.listDerivedDataSource.template2IdData&&(t.selectedValues=!0)})):(this.canUpdate=!1,this.isDisabled=!1,this.domainProj.passDomainProjVal(!1)),this.excutiveSummaryService.getProperties("appset/getPropertiesForPropertyCategory",{propertyCategory:"appdb"}).subscribe(function(e){var i=e.result.find(function(e){return"extraMandatoryOption"===e.propertyName});t.isFabEnabled="Y"==i.propertyValue,t.isFabEnabled?(t.derivedForm.controls.description.setValidators(s.w.compose([s.w.required])),t.updateFormFieldValidators()):(t.derivedForm.controls.description.clearValidators(),t.updateFormFieldValidators())}),this.onChangeDomProj()}},{key:"updateFormFieldValidators",value:function(){this.derivedForm.updateValueAndValidity(),this.derivedForm.controls.description.updateValueAndValidity()}},{key:"getTemplateDetails",value:function(){var e=this;this.dataTemplateService.dataTemplate1Dropdown("getNonDerivedtemplatename",{projectId:this.projectId}).subscribe(function(t){var i;e.dataTemDropdownList=[],null===(i=t.result)||void 0===i||i.forEach(function(t,i){e.dataTemDropdownList.push({id:i,value:t,inactive:!1})})})}},{key:"onChangeDomProj",value:function(){this.selectedConnectionName="",this.derivedForm.reset(),this.resetTemplateForm(),this.getTemplateDetails()}},{key:"resetTemplateForm",value:function(){this.derivedForm=this.formBuilder.group({dataset:new s.f("",[s.w.required,Y.a]),description:new s.f("",[]),template1id:new s.f("",[]),template2id:new s.f("",[]),template1name:new s.f("",[s.w.required]),template2name:new s.f("",[]),aliasname1:new s.f("",[]),aliasname2:new s.f("",[]),querytext:new s.f("",[s.w.required]),projectId:new s.f("",[]),domainId:new s.f("")})}},{key:"onSubmit",value:function(e){var t,a=this;this.show=!1;var n=!1,o=this.derivedForm.value.template1name.split("-")[0];""!=this.derivedForm.value.template1name.length&&(n=!0);var r=this.derivedForm.value.template2name.split("-")[0];""!=this.derivedForm.value.template2name&&(t=!0);var l={idUser:this.userDetails.idUser,dataset:this.derivedForm.value.dataset,description:this.derivedForm.value.description,template1id:!0===n?o.toString():"",template2id:!0===t?r.toString():"-1",template1name:this.derivedForm.value.template1name,template2name:this.derivedForm.value.template2name,aliasname1:this.datatemplateStr1,aliasname2:this.datatemplateStr2,querytext:this.derivedForm.value.querytext,projectId:this.projectId,domainId:this.domainId,createdByUser:this.userDetails.firstName};this.spinner.show(),setTimeout(function(){a.statusPollDiv=!0,a.isCreateTemplate=!0;var e={template:l,urlName:"derivedDataTemplate"};a.showTemplateName=!1,a.dataTemplateService.createDerivedTemplateList("createDerivedDataTemplate",e.template).subscribe(function(e){a.spinner.hide(),a.displayMessagePoll=e.message,a.successToasty(e.message),a.resultData.push(e.results),a.resultData.map(function(e){e.intervalId=setInterval(function(){return Object(H.a)(a,void 0,void 0,i().mark(function t(){var a,n=this;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new N.b).idData=this.resultData[0].templateId,a.uniqueId=this.resultData[0].uniqueId,this.getTemplatename=this.resultData[0].dataTemplateName,t.next=6,this.dataTemplateService.createStatusPoll("templateStatusPoll",a).subscribe(function(t){n.result1[0]=t,n.result1[0].getTemplateName=n.resultData[0].dataTemplateName,"Task queued"===n.result1[0].status||"Task started"===n.result1[0].status?n.result1[0].progressBarShow=!1:"Task in progress"===n.result1[0].status?(e.value=t.percentage,n.result1[0].progressBarShow=!0,t.value>=100&&(t.value=100)):"Task completed"===n.result1[0].status?(n.result1[0].progressBarShow=!1,clearInterval(e.intervalId),n.displayMessageLatest=n.displayMessagePoll.replace(/in progress/gi,"completed"),n.result1[0].showmsg=!0):"Task failed"===n.result1[0].status?(n.result1[0].progressBarShow=!1,clearInterval(e.intervalId),n.displayMessageLatest=n.displayMessagePoll.replace(/in progress/gi,"failed"),n.result1[0].showmsg=!0):"Task "===n.result1[0].success&&(n.result1[0].success="Task killed",n.result1[0].progressBarShow=!1,clearInterval(e.intervalId),n.displayMessageLatest=n.displayMessagePoll.replace(/in progress/gi,"killed"),n.result1[0].showmsg=!0)});case 6:case"end":return t.stop()}},t,this)}))},2500)})})},2e3)}},{key:"onKey",value:function(){var e=this;this.derivedForm.controls.dataset.value.length>=1&&this.dataTemplateService.templateDuplicateCheck("checkTemplateNameForDuplicate",{templateName:this.derivedForm.controls.dataset.value}).subscribe(function(t){e.showMsg=!1,!1===t.result.isDataTemplateNameValid?(e.dataTemplateNamevalid=!1,e.invalidTemplateMsg=t.message):e.dataTemplateNamevalid=!0},function(t){e.showMsg=!0})}},{key:"onUpdate",value:function(){var e,t=this,i={idDerivedData:null===(e=this.editData)||void 0===e?void 0:e.listDerivedDataSource.idDerivedData.toString(),querytext:this.derivedForm.value.querytext,description:this.derivedForm.value.description};this.dataTemplateService.updateTemplateList("updateDerivedDataTemplate",i).subscribe(function(e){t.displayMessage=e.message,"success"===e.status&&(t.successToasty(e.message),t.editDerivedTemplateScreen.emit(!1),t.router.navigateByUrl("/dbckangui/data-template/view-derived-template"))})}},{key:"onChecked",value:function(e){this.selectedCheckbox=e,!0===e?(this.derivedForm.get("template2name").setValidators(s.w.required),this.derivedForm.get("template2name").updateValueAndValidity()):(this.derivedForm.get("template2name").clearValidators(),this.derivedForm.get("template2name").updateValueAndValidity())}},{key:"successToasty",value:function(e){this.messages.displayToaster(e,"success","Success")}},{key:"onCancel",value:function(){this.domainProj.passDomainProjVal(!1),this.router.navigateByUrl("/dbckangui/data-template/view-derived-template"),this.addDerivedTemplateScreen.emit(!1),this.editDerivedTemplateScreen.emit(!1)}},{key:"onchangeTemplate1",value:function(e){var t,i=this;this.gettemplate1value=e.value,null===(t=this.dataTemDropdownList)||void 0===t||t.map(function(e){e.inactive=e.value===i.derivedForm.controls.template1name.value||e.value===i.derivedForm.controls.template2name.value});var a=e.value.split("-")[0];this.datatemplateStr1="derived_"+a+"_source1",this.isDisabledTem=!1,this.derivedForm.patchValue({aliasname1:this.datatemplateStr1})}},{key:"onchangeTemplate2",value:function(e){var t,i=this;this.gettemplate1value===e.value&&(this.isDisabledTemp1=!0),null===(t=this.dataTemDropdownList)||void 0===t||t.map(function(e){e.inactive=e.value===i.derivedForm.controls.template1name.value||e.value===i.derivedForm.controls.template2name.value});var a=e.value.split("-")[0];this.datatemplateStr2="derived_"+a+"_source2",this.isDisabledTem=!1,this.derivedForm.patchValue({aliasname2:this.datatemplateStr2})}},{key:"ngOnDestroy",value:function(){this.resultData.map(function(e){clearInterval(e.intervalId)})}}]),e}()).\u0275fac=function(e){return new(e||Bi)(u.dc(s.e),u.dc(ee.a),u.dc(T.a),u.dc(M.i),u.dc(k.a),u.dc(te.a),u.dc(c.d),u.dc(O.c),u.dc(ie.c),u.dc(S.a))},Bi.\u0275cmp=u.Xb({type:Bi,selectors:[["app-derived-template"]],inputs:{addDerivedTemplate:"addDerivedTemplate",editDerivedTemplate:"editDerivedTemplate"},outputs:{addDerivedTemplateScreen:"addDerivedTemplateScreen",editDerivedTemplateScreen:"editDerivedTemplateScreen"},decls:2,vars:2,consts:[["class","container-fluid create-conn-main",4,"ngIf"],[4,"ngIf"],[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-12"],["class","form-title",4,"ngIf"],[3,"formGroup"],[1,"form-row"],[1,"col-md-6","col-sm-6"],[1,"form-group","p-field"],["for","dataset",1,"col-form-label"],[1,"req-field"],["id","dataset","pInputText","","formControlName","dataset","placeholder","Enter Derived Table Name","type","text",3,"readonly","keyup"],["class","err-msg",4,"ngIf"],["for","description",1,"col-form-label"],["class","req-field",4,"ngIf"],["id","description","pInputText","","formControlName","description","placeholder","Please add DatasetName,SystemName,ROW_IDENTIFIER_TYPE","type","text",1,"form-field","inputtextCustom"],[1,"form-row","inputSpace"],["for","template1name",1,"col-form-label"],["formControlName","template1name","optionLabel","value","optionValue","value","optionDisabled","inactive",3,"disabled","styleClass","options","placeholder","filter","virtualScroll","itemSize","onChange"],["for","aliasname1",1,"col-form-label"],["id","aliasname1","pInputText","","formControlName","aliasname1","type","text","disabled","",1,"form-field",3,"placeholder"],[1,"col-sm-1","margintop"],[1,"p-field-checkbox"],["id","selectValue","binary","true","inputId","binary",3,"disabled","ngModel","ngModelOptions","ngModelChange","onChange"],[1,"col-sm-5","margintop"],["for","querytext",1,"form-label","margin-left"],["class","col-md-6",4,"ngIf"],[1,"form-row","inputSpace","row"],[1,"col-md-12","col-lg-12","col-sm-12"],["for","querytext",1,"form-label"],[1,"note_duplicate"],["id","querytext","formControlName","querytext","placeholder"," Enter the query here....","rows","4",1,"form-field"],[1,"form-row","note","row","p-field"],[1,"col-sm-12","col-md-6","mr-top","text-left"],[1,"row","p-field","mr-top"],[1,"col-sm-12","col-md-12","text-center"],["type","button","class","button w-button shadow","value","createForm",3,"disabled","click",4,"ngIf"],["class","button w-button shadow",3,"disabled","click",4,"ngIf"],[1,"cancelButton","w-button","shadow","btn-cancel",3,"click"],[1,"form-title"],[1,"err-msg"],[1,"col-md-6"],["for","template2name",1,"col-form-label"],["formControlName","template2name","optionLabel","value","optionValue","value","optionDisabled","inactive",3,"styleClass","options","placeholder","filter","disabled","virtualScroll","itemSize","onChange"],["for","aliasname2",1,"col-form-label"],["id","aliasname2","pInputText","","formControlName","aliasname2","type","text","disabled","",1,"form-field",3,"placeholder"],["type","button","value","createForm",1,"button","w-button","shadow",3,"disabled","click"],[1,"button","w-button","shadow",3,"disabled","click"],[1,"progress-container"],[1,"row","p-field","task-progress-container"],[1,"col-sm-12","col-md-12","mr-top","req-field","padding-left-0"],["class","container-fluid create-conn-main",4,"ngFor","ngForOf"],["class","col-sm-12 col-md-12 req-field padding-left-0",4,"ngIf"],[3,"value","appName","success","progressBarShow"],["class","val_css",4,"ngIf"],[1,"col-sm-12","col-md-12","req-field","padding-left-0"],[1,"val_css"]],template:function(e,t){1&e&&(u.Zc(0,Ti,81,31,"div",0),u.Zc(1,Vi,3,2,"div",1)),2&e&&(u.Bc("ngIf",0==t.statusPollDiv),u.Nb(1),u.Bc("ngIf",1==t.statusPollDiv))},directives:[c.n,s.x,s.p,s.i,s.d,j.a,s.o,s.g,ae.a,re.a,s.r,c.m,D.a],styles:['@charset "UTF-8";[_ngcontent-%COMP%]::-moz-placeholder{color:gray;font-size:14px;opacity:.8}[_ngcontent-%COMP%]::placeholder{color:gray;font-size:14px;opacity:.8}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.note[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#eb5454}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.inputtextCustom[_ngcontent-%COMP%], .p-inputtext[_ngcontent-%COMP%]{font-size:14px;font-family:Open Sans!important}.inputtextCustom[_ngcontent-%COMP%]{height:38px!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:10px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.mr-top[_ngcontent-%COMP%]{padding-top:15px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]     .p-inputtext{font-size:14px}.p-field[_ngcontent-%COMP%]{margin:0 10px}.p-field-form[_ngcontent-%COMP%]{padding-right:0}.diabledfield[_ngcontent-%COMP%]{cursor:not-allowed!important}.diabled-ip[_ngcontent-%COMP%]:hover{border:1px solid #ced4da}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .p-disabled:hover{cursor:not-allowed!important}.optional-fields[_ngcontent-%COMP%]{color:#789}.form-checkbox[_ngcontent-%COMP%]{padding-left:10px;font-size:16px;padding-top:8px}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}.margin-top10[_ngcontent-%COMP%]{margin-top:10px}.margin-left[_ngcontent-%COMP%]{margin-left:-40px}.margin-right[_ngcontent-%COMP%]{margin-right:20px}.margin-left1[_ngcontent-%COMP%]{margin-left:-200px}.margin-top1[_ngcontent-%COMP%]{margin-top:-15px}.inputSpace[_ngcontent-%COMP%]{margin-top:5px}.diabled-ip[_ngcontent-%COMP%]{opacity:.7;box-shadow:none!important;cursor:inherit}.diabled-ip[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}[_nghost-%COMP%]     p-dropdown .p-inputtext, [_nghost-%COMP%]     p-dropdown p-dropdownitem{font-family:Open Sans!important;font-size:14px!important;font-weight:400}[_nghost-%COMP%]     p-dropdown .p-dropdown-empty-message{font-family:Open Sans!important;font-size:14px!important;font-weight:400}[_nghost-%COMP%]     p-dropdown ::-webkit-scrollbar{width:7px}[_nghost-%COMP%]     p-dropdown ::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px linear-gradient(180deg,#001585,#ff7526 .01%,#fb9a64 97.92%);border-radius:7px}[_nghost-%COMP%]     p-dropdown ::-webkit-scrollbar-thumb{border-radius:7px;background:linear-gradient(180deg,#001585,#ff7526 .01%,#fb9a64 97.92%);-webkit-box-shadow:inset 0 0 6pxlinear-gradient 180deg,0 #001585,.01% #ff7526,97.92% #fb9a64}[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr>th{padding-left:1px;padding-right:1px}[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr{font-family:Open Sans!important;font-size:14px!important;font-weight:400;vertical-align:top}[_nghost-%COMP%]     p-calendar .p-inputtext{font-family:Open Sans!important;font-size:14px!important;font-weight:400}[_nghost-%COMP%]     p-calendar .p-datepicker table td>span.p-highlight{background:linear-gradient(180deg,#ff7526,#fb9a64)}[_nghost-%COMP%]     p-calendar .p-calendar{width:100%!important}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:30px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}[_nghost-%COMP%]     .p-datatable .p-paginator-bottom{border-bottom-left-radius:10px!important;border-bottom-right-radius:10px!important}[_nghost-%COMP%]     .pi-filter:before{content:"\ue94c";font-size:14px}[_nghost-%COMP%]     .pi-sort-alt:before{content:"\ue99e";font-size:13px}[_nghost-%COMP%]     .p-overlaypanel .p-overlaypanel-content{padding:1rem;background:#fff4ee!important}[_nghost-%COMP%]     .p-checkbox .p-checkbox-box.p-highlight{border-color:linear-gradient(180deg,#ff7526,#fb9a64)!important;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-checkbox .p-checkbox-box{border-color:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-dialog .p-dialog-header{background:#fff4ee!important;padding:10px!important}[_nghost-%COMP%]     .p-dialog .p-dialog-content{background:#fff4ee!important;padding-bottom:10px!important}[_nghost-%COMP%]     .p-dialog .p-dialog-footer{background:#fff4ee!important;padding-bottom:10px!important}[_nghost-%COMP%]     .p-paginator .p-paginator-pages .p-paginator-page.p-highlight{background:transparent!important;border:2px solid #ff7526!important;color:#495057!important;border-radius:6px!important;font-weight:400!important}[_nghost-%COMP%]     .p-paginator .p-paginator-pages .p-paginator-page{font-weight:400!important}[_nghost-%COMP%]     .margintop{margin-top:20px}[_nghost-%COMP%]     textarea:enabled:hover{border-color:#2196f3!important}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.val_css[_ngcontent-%COMP%]{padding-left:27px;font-size:15px;font-weight:600;margin-top:10px}.padding-left-0[_ngcontent-%COMP%]{padding-left:0!important}']}),Bi),zi=r("Iab2"),qi=r("i680"),Li=r("DaQG"),Ei=r.n(Li),Zi=r("Z2oo"),Ai=r.n(Zi),Ui=r("Tm3k"),Wi=r.n(Ui),Qi=r("K3ix");function $i(e,t){if(1&e){var i=u.kc();u.jc(0,"span",41),u.jc(1,"input",42),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc(2).globalFilterValue=e})("keyup",function(e){return u.Rc(i),u.uc(2).globalFilterFun(e)}),u.ic(),u.bd(2,"\xa0 "),u.ec(3,"i",43),u.ic()}if(2&e){var a=u.uc(2);u.Nb(1),u.Bc("ngModel",a.globalFilterValue)}}function Gi(e,t){if(1&e){var i=u.kc();u.jc(0,"th"),u.bd(1),u.ec(2,"br"),u.ec(3,"p-sortIcon",47),u.jc(4,"app-column-filter",48),u.qc("hideFilterDataBox",function(e){return u.Rc(i),u.uc(4).hideBox(e)})("filterData",function(e){return u.Rc(i),u.uc(4).getFilterData(e)})("resetFilterValues",function(e){return u.Rc(i),u.uc(4).resetFilter(e)}),u.ic(),u.jc(5,"span",49),u.jc(6,"i",50),u.qc("click",function(){u.Rc(i);var e=u.uc().$implicit;return u.uc(3).onFilterClick(e.originalValue)}),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc().$implicit,n=u.uc(3);u.Nb(1),u.dd(" ",a.displayValue,""),u.Nb(2),u.Cc("field",a.originalValue),u.Cc("pSortableColumn",a.originalValue),u.Nb(1),u.Bc("colFilterData",n.getFilterState(a.originalValue))("display",n.displayFiltersFor[a.originalValue])("fieldName",a.originalValue)("customId",a.originalValue),u.Nb(1),u.Bc("ngClass",n.filterColumnNameWithHighlightName(a.originalValue)?"selected-filter-column":""),u.Nb(1),u.Bc("ngClass",n.filterColumnNameWithHighlightName(a.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function Ji(e,t){if(1&e&&(u.hc(0),u.Zc(1,Gi,7,9,"th",15),u.gc()),2&e){var i=t.$implicit;u.Nb(1),u.Bc("ngIf",i.isSelected)}}function Hi(e,t){if(1&e&&(u.jc(0,"tr",44),u.Zc(1,Ji,2,1,"ng-container",45),u.jc(2,"th",46),u.bd(3," View"),u.ic(),u.ic()),2&e){var i=u.uc(2);u.Nb(1),u.Bc("ngForOf",i.customizeCols)}}function Yi(e,t){if(1&e&&(u.jc(0,"td",55),u.jc(1,"span"),u.bd(2),u.ic(),u.ic()),2&e){var i=u.uc().$implicit,a=u.uc().$implicit;u.Bc("title",a[i.originalValue])("ngClass","filterName"==i.originalValue||"filterCondition"==i.originalValue||"description"==i.originalValue?"rule-ellipsis":""),u.Nb(2),u.cd(a[i.originalValue])}}function Ki(e,t){if(1&e&&(u.hc(0),u.Zc(1,Yi,3,3,"td",54),u.gc()),2&e){var i=t.$implicit;u.Nb(1),u.Bc("ngIf",i.isSelected)}}function Xi(e,t){if(1&e){var i=u.kc();u.jc(0,"tr",51),u.Zc(1,Ki,2,1,"ng-container",45),u.jc(2,"td",46),u.jc(3,"span",52),u.qc("click",function(){u.Rc(i);var e=t.$implicit;return u.uc(2).redirect(e)}),u.ec(4,"i",53),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc(2);u.Nb(1),u.Bc("ngForOf",a.customizeCols)}}function ea(e,t){1&e&&(u.jc(0,"div",56),u.bd(1," No records found "),u.ic())}function ta(e,t){if(1&e){var i=u.kc();u.jc(0,"div",57),u.jc(1,"p-paginator",58,59),u.qc("onPageChange",function(e){return u.Rc(i),u.uc(2).onPageChange(e)})("firstChange",function(e){return u.Rc(i),u.uc(2).first=e}),u.ic(),u.ic()}if(2&e){var a=u.uc(2);u.Nb(1),u.Bc("rows",10)("totalRecords",a.globalFilters.length)("showCurrentPageReport",!0)("first",a.first)}}function ia(e,t){if(1&e&&(u.jc(0,"div",64),u.jc(1,"div"),u.bd(2),u.ic(),u.ic()),2&e){var i=u.uc(4);u.Nb(2),u.ed("Page ",i.selectedPage.page," of ",i.totalNumOfPages,"")}}function aa(e,t){if(1&e&&u.Zc(0,ia,3,2,"div",63),2&e){var i=u.uc(3);u.Bc("ngIf",i.selectedPage)}}function na(e,t){if(1&e){var i=u.kc();u.jc(0,"div",60),u.jc(1,"p-dropdown",61),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc(2).selectedPage=e})("onChange",function(e){return u.Rc(i),u.uc(2).onPageNumChange(e)}),u.Zc(2,aa,1,1,"ng-template",62),u.ic(),u.ic()}if(2&e){var a=u.uc(2);u.Nb(1),u.Bc("options",a.numOfPages)("filter",!0)("ngModel",a.selectedPage)}}function oa(e,t){if(1&e){var i=u.kc();u.hc(0),u.jc(1,"div",78),u.jc(2,"table"),u.jc(3,"tr",79),u.jc(4,"td"),u.jc(5,"p-checkbox",80),u.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return u.Rc(i),u.uc(3).pdfColsValue()}),u.ic(),u.ic(),u.jc(6,"td"),u.jc(7,"label"),u.bd(8),u.ic(),u.ic(),u.ic(),u.ic(),u.ic(),u.gc()}if(2&e){var a=t.$implicit,n=u.uc(3);u.Nb(5),u.Bc("ngModel",a.pdfCols)("disabled",n.pdfCheckboxDisabled&&!a.pdfCols),u.Nb(3),u.cd(a.displayValue)}}function ra(e,t){1&e&&(u.jc(0,"div",81),u.bd(1,"You can select up to 9 columns."),u.ic())}function la(e,t){if(1&e){var i=u.kc();u.jc(0,"div",65),u.jc(1,"span",66),u.bd(2,"Please select columns that need to be downloaded in PDF"),u.ic(),u.ic(),u.jc(3,"div",67),u.jc(4,"div",68),u.Zc(5,oa,9,3,"ng-container",45),u.ic(),u.ic(),u.jc(6,"div",69),u.jc(7,"div",70),u.jc(8,"div",71),u.Zc(9,ra,2,0,"div",72),u.ic(),u.jc(10,"div",73),u.jc(11,"button",74),u.qc("click",function(){u.Rc(i);var e=u.uc(2);return e.exportPdf(),e.modalRef.hide()}),u.ic(),u.ic(),u.jc(12,"div",75),u.jc(13,"div"),u.jc(14,"label",76),u.qc("click",function(){return u.Rc(i),u.uc(2).closeExportPdf()}),u.bd(15,"Close"),u.ic(),u.jc(16,"img",77),u.qc("click",function(){return u.Rc(i),u.uc(2).closeExportPdf()}),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc(2);u.Nb(5),u.Bc("ngForOf",a.customizeCols),u.Nb(4),u.Bc("ngIf",a.pdfCheckboxDisabled),u.Nb(2),u.Bc("disabled",a.disableDownloadBtn)}}var ca=function(){return{width:"100%"}},sa=function(){return["idData","name","dataLocation","tableName","projectName","createdAt","createdByUser"]};function da(e,t){if(1&e){var i=u.kc();u.jc(0,"div"),u.jc(1,"div",18),u.jc(2,"div",3),u.jc(3,"div",19),u.jc(4,"p",20),u.bd(5," Reference Data "),u.ic(),u.ic(),u.jc(6,"div",21),u.jc(7,"p",22),u.jc(8,"button",23),u.qc("click",function(){return u.Rc(i),u.uc().createReferenceTemp()}),u.ic(),u.ic(),u.ic(),u.ic(),u.jc(9,"div",24),u.jc(10,"div",25),u.jc(11,"a"),u.jc(12,"img",26),u.qc("click",function(){return u.Rc(i),u.uc().downloadCSV()}),u.ic(),u.ic(),u.jc(13,"a"),u.jc(14,"img",27),u.qc("click",function(){u.Rc(i);var e=u.Oc(28);return u.uc().openExportPdf(e)}),u.ic(),u.ic(),u.ic(),u.ic(),u.jc(15,"div",28,29),u.jc(17,"div",30),u.jc(18,"p-table",31,32),u.qc("firstChange",function(e){return u.Rc(i),u.uc().first=e})("sortFunction",function(e){return u.Rc(i),u.uc().customSort(e)}),u.Zc(20,$i,4,1,"ng-template",33),u.Zc(21,Hi,4,1,"ng-template",34),u.Zc(22,Xi,5,1,"ng-template",35),u.ic(),u.ic(),u.Zc(23,ea,2,0,"div",36),u.jc(24,"div",37),u.Zc(25,ta,3,4,"div",38),u.Zc(26,na,3,3,"div",39),u.ic(),u.ic(),u.ic(),u.Zc(27,la,17,3,"ng-template",null,40,u.ad),u.ic()}if(2&e){var a=u.uc(),n=null;u.Nb(8),u.Bc("ngClass",null!=(n=a.roleOnModule("Global Rule"))&&null!=n.accessControl&&n.accessControl.includes("C")?" cursor-pointer":"disable"),u.Nb(3),u.Rb("w-inline-block cursor-pointer float-right ",null!=a.pageWiseGlobalFilters&&a.pageWiseGlobalFilters.length?"":"disabled-opa",""),u.Nb(2),u.Rb("w-inline-block cursor-pointer float-right ",null!=a.pageWiseGlobalFilters&&a.pageWiseGlobalFilters.length?"":"disabled-opa",""),u.Nb(5),u.Vc(u.Ec(27,ca)),u.Bc("value",a.pageWiseGlobalFilters)("scrollable",a.pageWiseGlobalFilters.length>7)("scrollHeight",a.pageWiseGlobalFilters.length>7?"300px":"")("responsive",!0)("rowHover",!0)("sortField","idData")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("rows",10)("first",a.first)("customSort",!0)("multiSortMeta",a.multiSortMeta)("globalFilterFields",u.Ec(28,sa)),u.Nb(5),u.Bc("ngIf",!a.pageWiseGlobalFilters.length&&a.noRecordFound),u.Nb(2),u.Bc("ngIf",a.pageWiseGlobalFilters.length),u.Nb(1),u.Bc("ngIf",a.pageWiseGlobalFilters.length)}}Ai.a.vfs=Wi.a.pdfMake.vfs;var pa,ua=((pa=function(){function t(e,i,a,n,r,l,c,s,d){o(this,t),this.globalFiltersService=e,this.spinner=i,this.filterService=a,this.modalService=n,this.datePipe=r,this.router=l,this.route=c,this.detectChanges=s,this.domainProjService=d,this.appConstant=new X.a,this.globalFilters=[],this.mainGlobalFilters=[],this.pageWiseGlobalFilters=[],this.deleteGlobalFilterObj={},this.globalFilterObjToCopy={},this.first=0,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.pageSize=9,this.totalNumOfPages=0,this.checkboxDisabled=!1,this.maxCount=4,this.pdfData=[],this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.displayFiltersFor={idData:!1,name:!1,dataLocation:!1,tableName:!1,projectName:!1,createdAt:!1,createdByUser:!1},this.multiSortMeta=[{field:"idData",order:-1}],this.customizeCols=[{displayValue:this.appConstant.dataTabelName+" Id",originalValue:"idData",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Name",originalValue:"name",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Location",originalValue:"dataLocation",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Table Name",originalValue:"tableName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Project Name",originalValue:"projectName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Created On",originalValue:"createdAt",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Created By",originalValue:"createdByUser",isSelected:!0,necessaryCol:!0,alwaysSelected:!0}],this.columnFilter={},this.scrollHt="300px",this.filterData={},this.selectedRowData={},this.customSortArr=[],this.noRecordFound=!1}return n(t,[{key:"ngOnInit",value:function(){var e;this.domainProjService.passDomainProjVal(!1),this.getGlobalFiltersList(),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(function(e){e.accessControl=e.accessControl.split("-")})))}},{key:"roleOnModule",value:function(e){var t;return null===(t=this.roleModule)||void 0===t?void 0:t.find(function(t){return t.moduleName===e})}},{key:"redirect",value:function(e){sessionStorage.setItem("refdata",JSON.stringify(e)),sessionStorage.setItem("refdataName",e.name.toString()),this.router.navigateByUrl("/dbckangui/data-template/view-references/view-list")}},{key:"globalFilterFun",value:function(t){var i=e(this.globalFilterLogic()),a=this.first+this.pageSize,n=i.filter(function(e,t){return t<=a});this.detectChanges.detectChanges(),this.pageWiseGlobalFilters=e(n),this.setPageNumber()}},{key:"globalFilterLogic",value:function(){var t=this;if(this.mainGlobalFilters.length){var i=Object.keys(this.mainGlobalFilters[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainGlobalFilters.forEach(function(e){var a=!1;i.forEach(function(i){e[i]&&e[i].toString().toLowerCase().includes(t.globalFilterValue.toLowerCase())&&!a&&(t.filterValue.push(e),a=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var a=Object.keys(this.columnFilter);this.first=0,a.forEach(function(e){t.filterValue=t.filterValue.filter(function(i){return t.filterService.filters.contains(i[e],t.columnFilter[e])})})}return this.globalFilters=e(this.filterValue),this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=e(this.mainGlobalFilters),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.first=0,n.forEach(function(e){t.filterValue=t.filterValue.filter(function(i){return t.filterService.filters.contains(i[e],t.columnFilter[e])})})}return this.globalFilters=e(this.filterValue),this.calculateNumOfPages(),this.globalFilters}return[]}},{key:"openExportPdf",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"closeExportPdf",value:function(){var e=this;this.modalRef.hide(),setTimeout(function(){e.pdfCheckCount=0,e.pdfCheckboxDisabled=!1,e.disableDownloadBtn=!0,e.customizeCols.forEach(function(e){return e.pdfCols=!1})},1e3)}},{key:"exportPdf",value:function(){var e=this;this.pdfData.length&&(this.spinner.show(),setTimeout(function(){var t=new qi.default("l","pt"),i=e.customizeCols.filter(function(e){return e.pdfCols}),a=[];i.forEach(function(e){return a.push(e.displayValue)});var n,o=[];i.forEach(function(e){return o.push(e.originalValue)}),n=e.pdfData.map(function(e){return Object.assign(o.map(function(t){return e[t]}))});var r=t.internal.pageSize,l=r.height?r.height:r.getHeight();Ei()(t,{columns:a,body:n,didDrawPage:function(e){1==e.pageNumber&&(t.text("Reference View List",t.internal.pageSize.width/2,25,null,"center"),t.setFontSize(10)),t.setFontSize(9),t.text("Created by FirstEigen",t.internal.pageSize.width-40,l-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}}}),t.save("ReferencesViewList.pdf"),e.disableDownloadBtn=!0,e.pdfCheckboxDisabled=!1,i.forEach(function(e){return e.pdfCols=!1}),e.spinner.hide()},2e3))}},{key:"pdfColsValue",value:function(){var e=this;this.pdfCheckCount=0,this.customizeCols.filter(function(e){return!0===e.pdfCols}).forEach(function(t){!0===t.pdfCols&&e.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}},{key:"downloadCSV",value:function(){var e=this,t={projectId:sessionStorage.getItem("activeProjectId"),domainId:sessionStorage.getItem("activeDomainId")};this.globalFiltersService.downloadReferenceViewCSV(t).subscribe(function(t){var i=e.datePipe.transform(new Date,"yyyy-MM-dd");Object(zi.saveAs)(t,"ReferenceView_CSV_"+i+".csv")})}},{key:"onFilterClick",value:function(e){var t=this;Object.keys(this.displayFiltersFor).map(function(i){t.displayFiltersFor[i]=i===e})}},{key:"getGlobalFiltersList",value:function(){var t=this,i={projectId:sessionStorage.getItem("activeProjectId"),domainId:sessionStorage.getItem("activeDomainId")};this.globalFiltersService.getReferenceTemplateDetails(i).subscribe(function(i){if("success"===i.status){t.spinner.hide(),t.spinner.hide()&&(t.noRecordFound=!0),t.mainGlobalFilters=e(i.result),sessionStorage.setItem("mainGlobalFilters",JSON.stringify(t.mainGlobalFilters)),t.globalFilters=e(t.mainGlobalFilters),t.pdfData=e(t.globalFilters);var a=t.first+t.pageSize,n=t.globalFilters.filter(function(e,t){return t<=a});t.pageWiseGlobalFilters=e(n),t.calculateNumOfPages(),t.checkCount=0,t.customizeCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(e){!0===e.isSelected&&t.checkCount++}),t.checkboxDisabled=t.checkCount>=t.maxCount}else t.mainGlobalFilters=[],t.globalFilters=[],t.pageWiseGlobalFilters=[]})}},{key:"calculateNumOfPages",value:function(){if(this.totalNumOfPages=this.mainGlobalFilters.length?this.mainGlobalFilters.length<this.pageSize?1:Math.ceil(this.mainGlobalFilters.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}},{key:"onPageChange",value:function(t){var i=this;this.first=t.first;var a=this.getSortedData(),n=this.first+this.pageSize,o=a.filter(function(e,t){if(t<=n&&t>=i.first)return e});this.selectedPage={pageIndex:t.page,page:t.page+1},this.pageWiseGlobalFilters=e(o)}},{key:"onPageNumChange",value:function(t){var i=this;this.selectedPage={page:t.value.page,pageIndex:t.value.pageIndex},this.first=1===t.value.page?0:10*(t.value.page-1);var a=this.getSortedData(),n=this.first+this.pageSize,o=a.filter(function(e,t){if(t<=n&&t>=i.first)return e});this.pageWiseGlobalFilters=e(o)}},{key:"getSortedData",value:function(){var t=this,i=e(this.globalFilters);return this.sortOrderEvent?1===this.sortOrderEvent.order?(i.sort(function(e,i){return e[t.sortOrderEvent.field]>i[t.sortOrderEvent.field]?1:i[t.sortOrderEvent.field]>e[t.sortOrderEvent.field]?-1:0}),i):(i.sort(function(e,i){return e[t.sortOrderEvent.field]>i[t.sortOrderEvent.field]?-1:i[t.sortOrderEvent.field]>e[t.sortOrderEvent.field]?1:0}),i):i}},{key:"customSort",value:function(t){var i=this;this.sortField=t.field,this.sortOrder=t.order,this.sortMode=t.mode,this.customSortArr.filter(function(e){return e.field=t.field})[0]?this.customSortArr.map(function(e){e.order=t.order}):this.customSortArr.push(t);var a=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=a+1,this.selectedPage.pageIndex=a,this.sortOrderEvent=t;var n=e(this.globalFilters),o=e(this.sortOrderEvent.multiSortMeta);o.length>=6&&(t.multiSortMeta=t.multiSortMeta.splice(4,1)),1===o.length?n.sort(function(e,t){return e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]?-o[0].order:0}):2===o.length?n.sort(function(e,t){return e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]?-o[1].order:0}):3===o.length?n.sort(function(e,t){return e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]?-o[2].order:0}):4===o.length&&n.sort(function(e,t){return e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]&&-o[2].order||e[o[3].field]>t[o[3].field]?o[3].order:t[o[3].field]>e[o[3].field]?-o[3].order:0});var r=this.first+this.pageSize,l=n.filter(function(e,t){if(t<=r&&t>=i.first)return e});this.pageWiseGlobalFilters=e(l)}},{key:"getFilterData",value:function(t){var i=this;this.columnFilter[t[0]]=t[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var a=Object.keys(this.columnFilter);this.displayFiltersFor[t[0]]=!1,this.first=0,this.globalFilterValue||(this.globalFilters=e(this.mainGlobalFilters)),a.forEach(function(e){i.globalFilters=i.globalFilters.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"hideBox",value:function(e){this.displayFiltersFor[e.fieldName]=!1}},{key:"resetFilter",value:function(t){var i=this;this.columnFilter[t]=null,delete this.columnFilter[t],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var a=Object.keys(this.columnFilter);this.displayFiltersFor[t]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.globalFilters=e(this.mainGlobalFilters),a.forEach(function(e){i.globalFilters=i.globalFilters.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"setPageNumber",value:function(){if(this.totalNumOfPages=this.globalFilters.length?this.globalFilters.length<this.pageSize?1:Math.ceil(this.globalFilters.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var t=0;t<this.totalNumOfPages;t++)this.numOfPages.push({pageIndex:t,page:t+1})}var i=this.first+this.pageSize,a=this.globalFilters.filter(function(e,t){return t<=i});this.pageWiseGlobalFilters=e(a)}},{key:"getFilterState",value:function(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){var t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}},{key:"createReferenceTemp",value:function(){sessionStorage.setItem("refdataName","Add"),this.router.navigate(["/dbckangui/data-template/view-references/add-internal-reference"])}},{key:"filterColumnNameWithHighlightName",value:function(e){return!(Object.keys(this.columnFilter).findIndex(function(t){return t===e})<0)}},{key:"activeTab",value:function(e){switch(e){case"addDataTemplateScreen":this.router.navigateByUrl("/dbckangui/data-template/view-template");break;case"addDerivedTemplate":this.router.navigateByUrl("/dbckangui/data-template/view-derived-template");break;case"addReferenceScreen":this.router.navigateByUrl("/dbckangui/data-template/view-references");break;case"customMicrosegment":this.router.navigateByUrl("/dbckangui/data-template/custom-microsegment")}}}]),t}()).\u0275fac=function(e){return new(e||pa)(u.dc(O.d),u.dc(ie.c),u.dc(g.d),u.dc(Qi.a),u.dc(c.d),u.dc(M.i),u.dc(M.a),u.dc(u.h),u.dc(S.a))},pa.\u0275cmp=u.Xb({type:pa,selectors:[["app-references-view"]],decls:26,vars:1,consts:[[1,"main-profile"],["id","profilingscreen",1,"content-wrapper","top","profile-screen"],["profilingscreen",""],[1,"row"],[1,"col-sm-12","adjust"],[1,"nav","nav-pills","justify-content-left"],[3,"click"],["id","dataTable-tab","data-toggle","tab","href","#dataTable"],["id","derivedTemplate-tab","data-toggle","tab","href","#derivedTemplate"],["id","referenceView-tab","data-toggle","tab","href","#referenceView",1,"active"],["id","customMicrosegment-tab","data-toggle","tab","href","#customMicrosegment"],[1,"tab-content","clearfix"],["id","dataTable",1,"tab-pane"],["id","derivedTemplate",1,"tab-pane"],["id","referenceView",1,"tab-pane","active"],[4,"ngIf"],["outlet","outlet"],["id","customMicrosegment",1,"tab-pane"],[1,"container-fluid","create-conn-main"],[1,"col-sm-6"],[1,"form-title","marginrem"],[1,"col-sm-6","text-right"],[1,"form-title"],["pButton","","type","button","id","addRefBtn","label","Add Internal Reference",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn",3,"ngClass","click"],[1,"d-flex","justify-content-end","p-field","br-top"],[1,""],["src","assets/images/csv_icon.png","title","Download CSV","id","downloadrefview","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","id","downloadPdfOfRefView","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["id","view_global_filter",1,"row","p-field"],["view_global_filter",""],[1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","responsiveLayout","scroll","sortMode","multiple",3,"value","scrollable","scrollHeight","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","rows","first","customSort","multiSortMeta","globalFilterFields","firstChange","sortFunction"],["referenceViewList",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["exportPdfTemplate",""],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"header"],[4,"ngFor","ngForOf"],[1,"actionbtn"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"row-ht"],["id","refView",1,"actions",3,"click"],["title","View","aria-hidden","true",1,"fa","fa-eye","iconColor"],["class","text-center word_break_word_all ellipsisCss",3,"title","ngClass",4,"ngIf"],[1,"text-center","word_break_word_all","ellipsisCss",3,"title","ngClass"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","pdf-modal"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-4"],["class","color-code",4,"ngIf"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"]],template:function(e,t){if(1&e&&(u.jc(0,"div",0),u.jc(1,"div",1,2),u.jc(3,"div",3),u.jc(4,"div",4),u.jc(5,"ul",5),u.jc(6,"li",6),u.qc("click",function(){return t.activeTab("addDataTemplateScreen")}),u.jc(7,"a",7),u.bd(8," Data Tables "),u.ic(),u.ic(),u.jc(9,"li",6),u.qc("click",function(){return t.activeTab("addDerivedTemplate")}),u.jc(10,"a",8),u.bd(11,"Derived Tables"),u.ic(),u.ic(),u.jc(12,"li",6),u.qc("click",function(){return t.activeTab("addReferenceScreen")}),u.jc(13,"a",9),u.bd(14,"Reference Data"),u.ic(),u.ic(),u.jc(15,"li",6),u.qc("click",function(){return t.activeTab("customMicrosegment")}),u.jc(16,"a",10),u.bd(17," Custom Microsegment "),u.ic(),u.ic(),u.ic(),u.jc(18,"div",11),u.ec(19,"div",12),u.ec(20,"div",13),u.jc(21,"div",14),u.Zc(22,da,29,29,"div",15),u.ec(23,"router-outlet",null,16),u.ic(),u.ec(25,"div",17),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()),2&e){var i=u.Oc(24);u.Nb(22),u.Bc("ngIf",0==i.isActivated)}},directives:[c.n,M.m,m.b,c.l,It.f,g.i,s.d,j.a,s.o,s.r,c.m,It.d,It.e,Ft.a,y.a,ae.a,re.a],styles:['[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:10px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}.rule-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.adjust[_ngcontent-%COMP%]{top:10px}.nav-pills[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #dedede;border-radius:8px 8px 0 0}.nav-pills[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:50px;position:relative}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:-1%;margin-top:.1%;top:10px}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;padding:15px 20px;line-height:19px;color:#717171;font-size:14px;font-weight:700;z-index:1}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:transparent;border-color:transparent}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";width:100%;height:50px;position:absolute;bottom:1%;left:-1px;font-size:12px;background:transparent;border:1px solid transparent;z-index:-1}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:before{background:linear-gradient(180deg,transparent,transparent);bottom-border-color:#dedede;font-size:16px;font-family:Open Sans!important;text-align:center;border-radius:8px 8px 0 0}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:focus, .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:hover{border:1px solid transparent;background:transparent;color:#951447;font-weight:700;z-index:2;-webkit-text-decoration:underline 3px;text-decoration:underline 3px;text-underline-offset:8px}a[_ngcontent-%COMP%]:hover{text-decoration:none}@media only screen and (max-width:767px){.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:15px 10px;font-size:12px}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{bottom:6px}}@media only screen and (max-width:480px){.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;margin-bottom:5px}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{bottom:0;transform:none;border-bottom:1px solid #d3d3d3}}.main-profile[_ngcontent-%COMP%]{margin-top:2%}.tab-content[_ngcontent-%COMP%]   .tab-pane[_ngcontent-%COMP%]{box-shadow:0 0 15px #e6e5e5;padding:5px 20px 20px;background:#fff;line-height:22px}.tab-content[_ngcontent-%COMP%]   .tab-pane[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.val_css[_ngcontent-%COMP%]{padding-left:35px;font-size:15px;font-weight:600}.ellipsisCss[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center!important}']}),pa),ma=r("eO1q");function ga(e,t){if(1&e){var i=u.kc();u.jc(0,"div",53),u.jc(1,"span",54),u.jc(2,"input",55),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc(3).globalFilterValue=e})("keyup",function(e){return u.Rc(i),u.uc(3).globalFilterFun(e)}),u.ic(),u.bd(3,"\xa0 "),u.ec(4,"i",56),u.ic(),u.jc(5,"span",57),u.qc("click",function(){u.Rc(i);var e=u.uc(3),t=u.Oc(47);return e.showCustomizeModal(t)}),u.ec(6,"img",58),u.bd(7," \xa0Customize "),u.ic(),u.ic()}if(2&e){var a=u.uc(3);u.Nb(2),u.Bc("ngModel",a.globalFilterValue),u.Nb(3),u.Qb(0==(null==a.templates?null:a.templates.length)?"disable":""),u.Nb(1),u.Rb("cursor-pointer ",a.templates.length?"":"disabled-opa","")}}function fa(e,t){if(1&e){var i=u.kc();u.jc(0,"th"),u.bd(1),u.ec(2,"br"),u.ec(3,"p-sortIcon",63),u.jc(4,"app-column-filter",64),u.qc("hideFilterDataBox",function(e){return u.Rc(i),u.uc(5).hideBox(e)})("filterData",function(e){return u.Rc(i),u.uc(5).getFilterData(e)})("resetFilterValues",function(e){return u.Rc(i),u.uc(5).resetFilter(e)}),u.ic(),u.jc(5,"span",65),u.jc(6,"i",66),u.qc("click",function(){u.Rc(i);var e=u.uc().$implicit;return u.uc(4).onFilterClick(e.originalValue)}),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc().$implicit,n=u.uc(4);u.Nb(1),u.dd(" ",a.displayValue,""),u.Nb(2),u.Cc("field",a.originalValue),u.Cc("pSortableColumn",a.originalValue),u.Nb(1),u.Bc("colFilterData",n.getFilterState(a.originalValue))("display",n.displayFiltersFor[a.originalValue])("fieldName",a.originalValue)("customId",a.originalValue),u.Nb(1),u.Bc("ngClass",n.filterColumnNameWithHighlightName(a.originalValue)?"selected-filter-column":""),u.Nb(1),u.Bc("ngClass",n.filterColumnNameWithHighlightName(a.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function ha(e,t){if(1&e&&(u.hc(0),u.Zc(1,fa,7,9,"th",15),u.gc()),2&e){var i=t.$implicit;u.Nb(1),u.Bc("ngIf",i.isSelected)}}function ba(e,t){1&e&&(u.jc(0,"th",67),u.bd(1,"More"),u.ic())}function va(e,t){if(1&e&&(u.jc(0,"tr",59),u.Zc(1,ha,2,1,"ng-container",60),u.jc(2,"th",61),u.bd(3," Actions"),u.ic(),u.Zc(4,ba,2,0,"th",62),u.ic()),2&e){var i=u.uc(3);u.Nb(1),u.Bc("ngForOf",i.customizeCols),u.Nb(3),u.Bc("ngIf",i.isMoreDisplayed)}}function Ca(e,t){if(1&e&&(u.jc(0,"td",78),u.jc(1,"span"),u.bd(2),u.ic(),u.ec(3,"br"),u.ic()),2&e){var i=u.uc().$implicit,a=u.uc().$implicit;u.Bc("title",a[i.originalValue]),u.Nb(2),u.cd(a[i.originalValue])}}function ya(e,t){if(1&e&&(u.jc(0,"span",81),u.jc(1,"b"),u.bd(2),u.vc(3,"uppercase"),u.ic(),u.ic()),2&e){var i=u.uc(3).$implicit;u.Cc("title","approved"===i.DeltaApprovalStatus?"Approved":"waitingforapproval"===i.DeltaApprovalStatus?"Waiting For Approval":"reviewpending"===i.DeltaApprovalStatus?"Review Pending":""),u.Bc("ngClass","approved"===i.DeltaApprovalStatus?"approved":"revire-waiting"),u.Nb(2),u.cd(u.wc(3,3,i.DeltaApprovalStatus))}}function wa(e,t){if(1&e&&(u.jc(0,"td",78),u.jc(1,"button",79),u.bd(2),u.ic(),u.ec(3,"br"),u.Zc(4,ya,4,5,"span",80),u.ic()),2&e){var i=u.uc().$implicit,a=u.uc().$implicit;u.Bc("title",a[i.originalValue]),u.Nb(1),u.Bc("ngClass","Y"===a.Template_create_success?"template_create_success":"template_create_fail"),u.Nb(1),u.dd("",a[i.originalValue]," "),u.Nb(2),u.Bc("ngIf","approved"===a.DeltaApprovalStatus||"waitingforapproval"===a.DeltaApprovalStatus||"reviewpending"===a.DeltaApprovalStatus)}}function xa(e,t){if(1&e&&(u.jc(0,"td",78),u.jc(1,"span"),u.bd(2),u.ic(),u.ic()),2&e){var i=u.uc().$implicit,a=u.uc().$implicit;u.Bc("title",a[i.originalValue]),u.Nb(2),u.cd(a[i.originalValue])}}function Ma(e,t){if(1&e&&(u.hc(0),u.Zc(1,Ca,4,2,"td",77),u.Zc(2,wa,5,4,"td",77),u.Zc(3,xa,3,2,"td",77),u.gc()),2&e){var i=t.$implicit;u.Nb(1),u.Bc("ngIf",i.isSelected&&"TemplateName"!==i.originalValue&&"Tablename"!==i.originalValue),u.Nb(1),u.Bc("ngIf",i.isSelected&&"Tablename"==i.originalValue),u.Nb(1),u.Bc("ngIf",i.isSelected&&"TemplateName"==i.originalValue)}}function Pa(e,t){if(1&e){var i=u.kc();u.jc(0,"td",82),u.qc("click",function(){u.Rc(i);var e=u.uc().$implicit,t=u.uc(3),a=u.Oc(49);return t.openOtherField(a,e)}),u.bd(1," ... "),u.ic()}}function Na(e,t){if(1&e){var i=u.kc();u.jc(0,"tr",68),u.Zc(1,Ma,4,3,"ng-container",60),u.jc(2,"td",61),u.jc(3,"span"),u.jc(4,"span",69),u.qc("click",function(){u.Rc(i);var e=t.$implicit;return u.uc(3).copyTemplate(e)}),u.ec(5,"i",70),u.ic(),u.jc(6,"span",71),u.qc("click",function(){u.Rc(i);var e=t.$implicit;return u.uc(3).viewTemplate(e)}),u.ec(7,"i",72),u.ic(),u.jc(8,"span",69),u.qc("click",function(){u.Rc(i);var e=t.$implicit;return u.uc(3).editTemplate(e)}),u.ec(9,"i",73),u.ic(),u.jc(10,"span",69),u.qc("click",function(){u.Rc(i);var e=t.$implicit;return u.uc(3).deleteTemplates(e)}),u.ec(11,"i",74),u.ic(),u.jc(12,"span",69),u.qc("click",function(){u.Rc(i);var e=t.$implicit;return u.uc(3).reRunTemplate(e)}),u.ec(13,"i",75),u.ic(),u.ic(),u.ic(),u.Zc(14,Pa,2,0,"td",76),u.ic()}if(2&e){var a=t.$implicit,n=u.uc(3),o=null,r=null,l=null;u.Nb(1),u.Bc("ngForOf",n.customizeCols),u.Nb(3),u.Bc("ngClass","approved"===a.DeltaApprovalStatus?"":"disabled-opa"),u.Nb(4),u.Bc("ngClass",null!=(o=n.roleOnModule("Data Template"))&&null!=o.accessControl&&o.accessControl.includes("U")?" cursor-pointer":"disable")("ngClass","approved"===a.DeltaApprovalStatus||"N"==a.Template_create_success?"":"disabled-opa"),u.Nb(2),u.Bc("ngClass",null!=(r=n.roleOnModule("Data Template"))&&null!=r.accessControl&&r.accessControl.includes("D")?" cursor-pointer":"disable")("ngClass","approved"===a.DeltaApprovalStatus||"N"==a.Template_create_success?"":"disabled-opa"),u.Nb(2),u.Bc("ngClass",null!=(l=n.roleOnModule("Data Template"))&&null!=l.accessControl&&l.accessControl.includes("R")?" cursor-pointer":"disable"),u.Nb(2),u.Bc("ngIf",n.isMoreDisplayed)}}function Oa(e,t){1&e&&(u.jc(0,"div",83),u.bd(1," No records found "),u.ic())}function Ta(e,t){if(1&e){var i=u.kc();u.jc(0,"div",84),u.jc(1,"p-paginator",85,86),u.qc("onPageChange",function(e){return u.Rc(i),u.uc(3).onPageChange(e)})("firstChange",function(e){return u.Rc(i),u.uc(3).first=e}),u.ic(),u.ic()}if(2&e){var a=u.uc(3);u.Nb(1),u.Bc("rows",10)("totalRecords",a.templates.length)("showCurrentPageReport",!0)("first",a.first)}}function ka(e,t){if(1&e&&(u.jc(0,"div",91),u.jc(1,"div"),u.bd(2),u.ic(),u.ic()),2&e){var i=u.uc(5);u.Nb(2),u.ed("Page ",i.selectedPage.page," of ",i.totalNumOfPages,"")}}function Sa(e,t){if(1&e&&u.Zc(0,ka,3,2,"div",90),2&e){var i=u.uc(4);u.Bc("ngIf",i.selectedPage)}}function ja(e,t){if(1&e){var i=u.kc();u.jc(0,"div",87),u.jc(1,"p-dropdown",88),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc(3).selectedPage=e})("onChange",function(e){return u.Rc(i),u.uc(3).onPageNumChange(e)}),u.Zc(2,Sa,1,1,"ng-template",89),u.ic(),u.ic()}if(2&e){var a=u.uc(3);u.Nb(1),u.Bc("options",a.numOfPages)("filter",!0)("ngModel",a.selectedPage)("virtualScroll",!0)("itemSize",30)}}var _a=function(){return{width:"100%"}};function Da(e,t){if(1&e){var i=u.kc();u.jc(0,"div"),u.jc(1,"div",3),u.jc(2,"div",29),u.jc(3,"p",30),u.bd(4," Derived Tables "),u.ic(),u.ic(),u.jc(5,"div",31),u.jc(6,"p",30),u.jc(7,"button",32),u.qc("click",function(){return u.Rc(i),u.uc(2).createTemplate()}),u.ic(),u.ic(),u.ic(),u.ic(),u.jc(8,"div",33),u.jc(9,"div",34),u.jc(10,"label",35),u.bd(11,"From Date"),u.ic(),u.ec(12,"br"),u.jc(13,"p-calendar",36),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc(2).fromDate=e}),u.ic(),u.ic(),u.jc(14,"div",37),u.jc(15,"label",35),u.bd(16,"To Date"),u.ic(),u.ec(17,"br"),u.jc(18,"p-calendar",38),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc(2).toDate=e}),u.ic(),u.ic(),u.jc(19,"div",39),u.jc(20,"button",40),u.qc("click",function(){return u.Rc(i),u.uc(2).getTemplateList()}),u.ic(),u.ic(),u.jc(21,"div",41),u.jc(22,"a"),u.jc(23,"img",42),u.qc("click",function(){return u.Rc(i),u.uc(2).downloadCSV()}),u.ic(),u.ic(),u.jc(24,"a"),u.jc(25,"img",43),u.qc("click",function(){u.Rc(i);var e=u.uc(2),t=u.Oc(51);return e.openExportPdf(t)}),u.ic(),u.ic(),u.ic(),u.ic(),u.jc(26,"div",44),u.jc(27,"div",45),u.jc(28,"p-table",46),u.qc("firstChange",function(e){return u.Rc(i),u.uc(2).first=e})("sortFunction",function(e){return u.Rc(i),u.uc(2).customSort(e)}),u.Zc(29,ga,8,6,"ng-template",47),u.Zc(30,va,5,2,"ng-template",19),u.Zc(31,Na,15,8,"ng-template",48),u.ic(),u.ic(),u.Zc(32,Oa,2,0,"div",49),u.jc(33,"div",50),u.Zc(34,Ta,3,4,"div",51),u.Zc(35,ja,3,5,"div",52),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc(2),n=null;u.Nb(7),u.Bc("ngClass",null!=(n=a.roleOnModule("Data Template"))&&null!=n.accessControl&&n.accessControl.includes("C")?" cursor-pointer":"disable"),u.Nb(6),u.Bc("styleClass","form-field")("maxDate",a.toDate)("ngModel",a.fromDate)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("readonlyInput",!0),u.Nb(5),u.Bc("styleClass","form-field")("minDate",a.fromDate)("maxDate",a.maxDate)("ngModel",a.toDate)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("readonlyInput",!0),u.Nb(4),u.Rb("w-inline-block cursor-pointer float-right ",null!=a.pageWiseTemplates&&a.pageWiseTemplates.length?"":"disabled-opa",""),u.Nb(2),u.Rb("w-inline-block cursor-pointer float-right ",null!=a.pageWiseTemplates&&a.pageWiseTemplates.length?"":"disabled-opa",""),u.Nb(4),u.Vc(u.Ec(39,_a)),u.Bc("value",a.pageWiseTemplates)("responsive",!0)("rowHover",!0)("sortField","TemplateId")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("multiSortMeta",a.multiSortMeta)("rows",10)("first",a.first)("customSort",!0),u.Nb(4),u.Bc("ngIf",!a.pageWiseTemplates.length&&a.noRecordFound),u.Nb(2),u.Bc("ngIf",a.pageWiseTemplates.length),u.Nb(1),u.Bc("ngIf",a.pageWiseTemplates.length)}}function Ia(e,t){if(1&e&&(u.jc(0,"div",28),u.Zc(1,Da,36,40,"div",15),u.ic()),2&e){var i=u.uc();u.Nb(1),u.Bc("ngIf",0==i.statusPollDiv)}}function Fa(e,t){if(1&e&&(u.jc(0,"p",96),u.jc(1,"b"),u.bd(2,"Derived Table:"),u.ic(),u.bd(3),u.ic()),2&e){var i=u.uc(3);u.Nb(3),u.dd(" ",i.getTemplatename," ")}}function Va(e,t){if(1&e&&(u.jc(0,"div"),u.jc(1,"div",28),u.jc(2,"div",92),u.jc(3,"div",93),u.Zc(4,Fa,4,1,"p",94),u.jc(5,"div",95),u.bd(6),u.ec(7,"br"),u.ec(8,"hr"),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()),2&e){var i=u.uc(2);u.Nb(4),u.Bc("ngIf",i.showTemplateName),u.Nb(2),u.dd(" ",i.displayMessage," \xa0 ")}}function Ba(e,t){if(1&e&&(u.jc(0,"div",100),u.bd(1),u.ec(2,"br"),u.ec(3,"hr"),u.ic()),2&e){var i=u.uc(4);u.Nb(1),u.dd(" ",i.displayMessage," \xa0 ")}}function Ra(e,t){if(1&e&&(u.jc(0,"div",100),u.bd(1),u.ec(2,"br"),u.ec(3,"hr"),u.ic()),2&e){var i=u.uc(4);u.Nb(1),u.dd(" ",i.displayMessageLatest," \xa0 ")}}function za(e,t){if(1&e&&(u.jc(0,"div",28),u.jc(1,"div",92),u.jc(2,"div",93),u.jc(3,"p",96),u.jc(4,"b"),u.bd(5,"Derived Table:"),u.ic(),u.bd(6),u.ic(),u.ic(),u.jc(7,"div",93),u.Zc(8,Ba,4,1,"div",98),u.Zc(9,Ra,4,1,"div",98),u.ic(),u.jc(10,"div",3),u.ec(11,"app-progress-bar",99),u.ic(),u.ic(),u.ic()),2&e){var i=t.$implicit;u.Nb(6),u.dd(" ",null==i?null:i.getTemplateName," "),u.Nb(2),u.Bc("ngIf",1!=(null==i?null:i.showmsg)),u.Nb(1),u.Bc("ngIf","Task completed"==(null==i?null:i.status)||"Task failed"==(null==i?null:i.status)||"Task killed"==(null==i?null:i.status)),u.Nb(2),u.Bc("value",null==i?null:i.percentage)("success",null==i?null:i.status)("progressBarShow",null==i?null:i.progressBarShow)}}function qa(e,t){if(1&e&&(u.jc(0,"div"),u.Zc(1,za,12,6,"div",97),u.ic()),2&e){var i=u.uc(2);u.Nb(1),u.Bc("ngForOf",i.result1)}}function La(e,t){if(1&e&&(u.jc(0,"div"),u.Zc(1,Va,9,2,"div",15),u.Zc(2,qa,2,1,"div",15),u.ic()),2&e){var i=u.uc();u.Nb(1),u.Bc("ngIf",0==i.result1.length&&1==i.statusPollDiv),u.Nb(1),u.Bc("ngIf",0!=i.result1.length&&1==i.statusPollDiv)}}function Ea(e,t){if(1&e&&(u.jc(0,"span",101),u.bd(1),u.ic()),2&e){var i=u.uc();u.Nb(1),u.dd(" Please enter new ",i.appConstant.dataTabelName," Name")}}function Za(e,t){if(1&e&&(u.jc(0,"span",21),u.bd(1,"Please enter new "),u.jc(2,"b"),u.bd(3),u.ic(),u.ic()),2&e){var i=u.uc();u.Nb(3),u.dd("",i.appConstant.dataTabelName," Name")}}function Aa(e,t){1&e&&(u.jc(0,"span",21),u.bd(1," Please start naming with alphabets and do not use spaces or special characters except _(underscore) "),u.ic())}function Ua(e,t){if(1&e&&(u.jc(0,"span",21),u.bd(1," This "),u.jc(2,"b"),u.bd(3),u.ic(),u.bd(4," is in use. Please choose another name. "),u.ic()),2&e){var i=u.uc();u.Nb(3),u.dd("",i.appConstant.dataTabelName," Name")}}function Wa(e,t){1&e&&(u.jc(0,"span",102),u.ec(1,"i",103),u.bd(2," WARNING "),u.ic())}function Qa(e,t){if(1&e){var i=u.kc();u.jc(0,"div",114),u.jc(1,"table"),u.jc(2,"tr",115),u.jc(3,"td"),u.jc(4,"p-checkbox",116),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc().$implicit.isSelected=e})("onChange",function(){u.Rc(i);var e=u.uc().$implicit;return u.uc(2).checkValue(e.originalValue,e.isSelected)}),u.ic(),u.ic(),u.jc(5,"td"),u.jc(6,"label"),u.bd(7),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc().$implicit,n=u.uc(2);u.Nb(4),u.Bc("ngModel",a.isSelected)("disabled",n.checkboxDisabled&&!a.isSelected),u.Nb(3),u.cd(a.displayValue)}}function $a(e,t){if(1&e&&(u.hc(0),u.Zc(1,Qa,8,3,"div",113),u.gc()),2&e){var i=t.$implicit;u.Nb(1),u.Bc("ngIf",!i.necessaryCol&&!i.alwaysSelected)}}function Ga(e,t){if(1&e&&(u.jc(0,"div",117),u.bd(1),u.ic()),2&e){var i=u.uc(2);u.Nb(1),u.dd("You can select up to ",i.maxCount," columns.")}}function Ja(e,t){if(1&e){var i=u.kc();u.jc(0,"div",104),u.jc(1,"div",105),u.Zc(2,$a,2,1,"ng-container",60),u.ic(),u.ic(),u.jc(3,"div",106),u.jc(4,"div",107),u.jc(5,"div",108),u.Zc(6,Ga,2,1,"div",109),u.ic(),u.jc(7,"div",110),u.jc(8,"div"),u.jc(9,"label",111),u.qc("click",function(){return u.Rc(i),u.uc().modalRef.hide()}),u.bd(10,"Close Customize"),u.ic(),u.jc(11,"img",112),u.qc("click",function(){return u.Rc(i),u.uc().modalRef.hide()}),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc();u.Nb(2),u.Bc("ngForOf",a.customizeCols),u.Nb(4),u.Bc("ngIf",a.checkboxDisabled)}}function Ha(e,t){if(1&e&&(u.jc(0,"div",123),u.jc(1,"table"),u.jc(2,"tr"),u.jc(3,"td",124),u.bd(4),u.ic(),u.jc(5,"td"),u.bd(6,"\xa0:\xa0\xa0"),u.ic(),u.jc(7,"td",124),u.bd(8),u.ic(),u.ic(),u.ic(),u.ic()),2&e){var i=u.uc().$implicit,a=u.uc(2);u.Nb(4),u.cd(i.displayValue),u.Nb(4),u.cd(a.selectedRowData[i.originalValue])}}function Ya(e,t){if(1&e&&(u.hc(0),u.Zc(1,Ha,9,2,"div",122),u.gc()),2&e){var i=t.$implicit;u.Nb(1),u.Bc("ngIf",!i.necessaryCol&&!i.isSelected)}}function Ka(e,t){if(1&e){var i=u.kc();u.jc(0,"div",118),u.jc(1,"b"),u.bd(2,"More Columns:"),u.ic(),u.ic(),u.jc(3,"div",104),u.jc(4,"div",119),u.Zc(5,Ya,2,1,"ng-container",60),u.ic(),u.ic(),u.jc(6,"div",106),u.jc(7,"div",6),u.qc("click",function(){return u.Rc(i),u.uc().modalRef.hide()}),u.jc(8,"label",120),u.bd(9,"Close"),u.ic(),u.ec(10,"img",121),u.ic(),u.ic()}if(2&e){var a=u.uc();u.Nb(5),u.Bc("ngForOf",a.customizeCols)}}function Xa(e,t){if(1&e){var i=u.kc();u.hc(0),u.jc(1,"div",114),u.jc(2,"table"),u.jc(3,"tr",115),u.jc(4,"td"),u.jc(5,"p-checkbox",129),u.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return u.Rc(i),u.uc(2).pdfColsValue()}),u.ic(),u.ic(),u.jc(6,"td"),u.jc(7,"label"),u.bd(8),u.ic(),u.ic(),u.ic(),u.ic(),u.ic(),u.gc()}if(2&e){var a=t.$implicit,n=u.uc(2);u.Nb(5),u.Bc("ngModel",a.pdfCols)("disabled",n.pdfCheckboxDisabled&&!a.pdfCols),u.Nb(3),u.cd(a.displayValue)}}function en(e,t){1&e&&(u.jc(0,"div",117),u.bd(1,"You can select up to 9 columns."),u.ic())}function tn(e,t){if(1&e){var i=u.kc();u.jc(0,"div",118),u.jc(1,"span",101),u.bd(2,"Please select columns that need to be downloaded in PDF"),u.ic(),u.ic(),u.jc(3,"div",125),u.jc(4,"div",105),u.Zc(5,Xa,9,3,"ng-container",60),u.ic(),u.ic(),u.jc(6,"div",106),u.jc(7,"div",107),u.jc(8,"div",126),u.Zc(9,en,2,0,"div",109),u.ic(),u.jc(10,"div",127),u.jc(11,"button",128),u.qc("click",function(){u.Rc(i);var e=u.uc();return e.exportPdf(),e.modalRef.hide()}),u.ic(),u.ic(),u.jc(12,"div",110),u.jc(13,"div"),u.jc(14,"label",111),u.qc("click",function(){return u.Rc(i),u.uc().closeExportPdf()}),u.bd(15,"Close"),u.ic(),u.jc(16,"img",112),u.qc("click",function(){return u.Rc(i),u.uc().closeExportPdf()}),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc();u.Nb(5),u.Bc("ngForOf",a.customizeCols),u.Nb(4),u.Bc("ngIf",a.pdfCheckboxDisabled),u.Nb(2),u.Bc("disabled",a.disableDownloadBtn)}}var an,nn=function(){return{width:"50vw"}},on=((an=function(){function t(e,i,a,n,r,l,c,s,d,p,m){o(this,t),this.dataTemplateService=e,this.spinner=i,this.filterService=a,this.datePipe=n,this.homeServiceService=r,this.router=l,this.detectChanges=c,this.modalService=s,this.messages=d,this.route=p,this.domainProjService=m,this.appConstant=new X.a,this.colSpan=5,this.addDerivedTemplate=!1,this.informParent=new u.p,this.projectNames=[],this.templates=[],this.mainTemplates=[],this.pageWiseTemplates=[],this.display=!1,this.deleteModal=!1,this.show=!0,this.connToCpoy={},this.first=0,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.pageSize=9,this.totalNumOfPages=0,this.checkboxDisabled=!1,this.pdfCheckboxDisabled=!1,this.maxCount=4,this.customSortArr=[],this.displayFiltersFor={AdvancedRulesEnabled:!1,Description:!1,CreatedBy:!1,CreatedByUser:!1,ProjectName:!1,CreatedAt:!1,ProjectId:!1,DataLocation:!1,UpdatedAt:!1,Tablename:!1,DataSource:!1,ProfilingEnabled:!1,TemplateName:!1,DeltaApprovalStatus:!1,Template_create_success:!1,TemplateId:!1,databaseName:!1},this.multiSortMeta=[{field:"TemplateId",order:-1}],this.customizeCols=[{displayValue:"Derived Table Id",originalValue:"TemplateId",isSelected:!0,necessaryCol:!1,alwaysSelected:!1,pdfCols:!1},{displayValue:"Derived Table Name",originalValue:"TemplateName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0,pdfCols:!1},{displayValue:"Data Source",originalValue:"DataLocation",isSelected:!0,necessaryCol:!0,alwaysSelected:!0,pdfCols:!1},{displayValue:"Database",originalValue:"databaseName",isSelected:!0,necessaryCol:!1,alwaysSelected:!1,pdfCols:!1},{displayValue:this.appConstant.dataTabelName+" Name ",originalValue:"Tablename",isSelected:!0,necessaryCol:!1,alwaysSelected:!1,pdfCols:!1},{displayValue:"Project",originalValue:"ProjectName",isSelected:!1,necessaryCol:!1,alwaysSelected:!1,pdfCols:!1},{displayValue:"Description",originalValue:"Description",isSelected:!1,necessaryCol:!1,alwaysSelected:!1,pdfCols:!1},{displayValue:"Created By",originalValue:"CreatedByUser",isSelected:!0,necessaryCol:!1,alwaysSelected:!1,pdfCols:!1},{displayValue:"Created On",originalValue:"CreatedAt",isSelected:!0,necessaryCol:!0,alwaysSelected:!1,pdfCols:!1},{displayValue:"Updated On",originalValue:"UpdatedAt",isSelected:!1,necessaryCol:!1,alwaysSelected:!1,pdfCols:!1}],this.selectedProjId=sessionStorage.getItem("activeDomainId")+"_"+sessionStorage.getItem("activeProjectId"),this.templateNamevalid=!0,this.templateNameReq=!1,this.templateNameLengthExceed=!1,this.changedTemplateName=!1,this.regexForTemplateName=/^[a-zA-Z][A-Za-z0-9_]*$/,this.templateNameUnique=!0,this.pdfCheckCount=0,this.columnFilter={},this.scrollHt="300px",this.filterData={},this.selectedRowData={},this.userDetails={},this.getTabNameByConnNameList=[],this.deleteTemplate=[],this.dataTemplateNamevalid=!0,this.result1=[],this.resultData=[],this.noRecordFound=!1,this.pdfData=[],this.disableDownloadBtn=!0,this.statusPollDiv=!1,this.showTemplateName=!1}return n(t,[{key:"ngOnChanges",value:function(e){this.getTemplateList()}},{key:"ngOnInit",value:function(){var e;this.domainProjService.passDomainProjVal(!1),sessionStorage.removeItem("dataTemplateForMultitable"),sessionStorage.removeItem("connDet"),this.appId=sessionStorage.getItem("idApp"),sessionStorage.getItem("userDetail")&&(this.userDetails=JSON.parse(sessionStorage.getItem("userDetail"))),sessionStorage.getItem("fromDate")?(this.fromDate=new Date(sessionStorage.getItem("fromDate")),this.toDate=new Date(sessionStorage.getItem("toDate"))):(this.fromDate=new Date,this.fromDate.setDate((new Date).getDate()-30),this.toDate=new Date,this.toDate.setDate((new Date).getDate()+1)),this.maxDate=new Date,this.maxDate.setDate((new Date).getDate()+3),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(function(e){e.accessControl=e.accessControl.split("-")}))),this.projectNames=this.homeServiceService.getProjectList(),this.projectNames.map(function(e){e.domainProject=e.domainName+"-"+e.projectName,e.domainAndProjectId=e.domainId+"_"+e.idProject,e.domainAndProjectName=e.domainName+"-"+e.projectName}),sessionStorage.removeItem("templateObj"),sessionStorage.removeItem("templateNameView"),sessionStorage.removeItem("idData"),sessionStorage.removeItem("validationTemplate"),sessionStorage.removeItem("profilingRedirect"),this.getTemplateList()}},{key:"roleOnModule",value:function(e){return this.roleModule.find(function(t){return t.moduleName===e})}},{key:"downloadCSV",value:function(){var e=new N.a;e.SearchByOption="1",e.SearchText="ef",e.ProjectIds=this.selectedProjId.split("_")[1];var t=new Date(this.fromDate),i=new Date(this.toDate);e.FromDate=this.datePipe.transform(t,"yyyy-MM-dd"),e.ToDate=this.datePipe.transform(i,"yyyy-MM-dd"),e.filterByDerived=!0,e.domainId=this.selectedProjId.split("_")[0],this.dataTemplateService.downloadCSVDataTemplate(e).subscribe(function(e){return Object(zi.saveAs)(e,"Data_Template.csv")})}},{key:"takeAction",value:function(){this.informParent.emit("The child triggered an event")}},{key:"onFilterClick",value:function(e){var t=this;Object.keys(this.displayFiltersFor).map(function(i){t.displayFiltersFor[i]=i===e})}},{key:"checkValue",value:function(e,t){var i=this;this.checkCount=0,this.customizeCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(e){!0===e.isSelected&&i.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount,this.colSpanCount=this.customizeCols.filter(function(e){return!0===e.isSelected}).length,null!=this.storeFilterValue&&this.storeFilterValue.map(function(a){a==e&&0==t&&i.resetFilter(e)})}},{key:"showMoreCols",value:function(){return this.customizeCols.filter(function(e){return!e.necessaryCol&&e.isSelected}).length<this.customizeCols.length}},{key:"openOtherField",value:function(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"showData",value:function(){return Object(H.a)(this,void 0,void 0,i().mark(function t(){var a,n;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=this.first+this.pageSize,n=this.templates.filter(function(e,t){return t<=a}),this.pageWiseTemplates=e(n),this.mainTemplates=e(this.templates),this.calculateNumOfPages();case 2:case"end":return t.stop()}},t,this)}))}},{key:"getTemplateList",value:function(){return Object(H.a)(this,void 0,void 0,i().mark(function t(){var a,n,o,r=this;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.spinner.show(),a=new Date(this.fromDate),n=new Date(this.toDate),o={SearchByOption:"1",FromDate:this.datePipe.transform(a,"yyyy-MM-dd"),ToDate:this.datePipe.transform(n,"yyyy-MM-dd"),ProjectIds:this.selectedProjId.split("_")[1],SearchText:"",domainId:this.selectedProjId.split("_")[0],filterByDerived:!0},sessionStorage.setItem("fromDate",a.toString()),sessionStorage.setItem("toDate",n.toString()),this.dataTemplateService.getDetailsOfDataTemplateList("getPaginatedDataTemplateList",o).subscribe(function(t){var i=[];if("success"===t.status){t.result.ViewPageDataList.map(function(e){e.TemplateId=parseInt(e.TemplateId),i.push(e)}),r.mainTemplates=[].concat(i),r.templates=e(r.mainTemplates),r.pdfData=e(r.templates),r.totalrecords=r.templates.length;var a=r.first+r.pageSize;null!=r.filterObj&&r.filterObj.forEach(function(e){r.templates=r.templates.filter(function(t){return r.filterService.filters.contains(t[e],r.columnFilter[e])})});var n=r.templates.filter(function(e,t){return t<=a});r.pageWiseTemplates=e(n),r.calculateNumOfPages(),r.checkCount=0,r.customizeCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(e){!0===e.isSelected&&r.checkCount++}),r.checkboxDisabled=r.checkCount>=r.maxCount}else r.mainTemplates=[],r.templates=[],r.pageWiseTemplates=[];r.spinner.hide(),r.spinner.hide()&&(r.noRecordFound=!0)});case 3:case"end":return t.stop()}},t,this)}))}},{key:"onChangeDomProj",value:function(e){void 0===e?(e=sessionStorage.getItem("activeDomainId")+"_"+sessionStorage.getItem("activeProjectId"),this.selectedProjId=e,this.getTemplateList()):(sessionStorage.setItem("activeDomainId",e.value.split("_")[0]),sessionStorage.setItem("activeProjectId",e.value.split("_")[1]),this.domainName=e.originalEvent.currentTarget.ariaLabel)}},{key:"createTemplate",value:function(){this.router.navigateByUrl("/dbckangui/data-template/view-derived-template/add-derived-template")}},{key:"editTemplate",value:function(e){"Derived"===e.DataSource?(sessionStorage.setItem("derivedTemplateDetail",JSON.stringify(e)),this.router.navigateByUrl("/dbckangui/data-template/view-derived-template/edit-derived-template")):(sessionStorage.setItem("templateDetail",JSON.stringify(e)),this.router.navigateByUrl("/dbckangui/data-template/edit-template"))}},{key:"viewTemplate",value:function(e){sessionStorage.setItem("templateObj",JSON.stringify({idData:e.TemplateId,dataLocation:e.DataLocation,name:e.TemplateName,description:e.Description})),sessionStorage.setItem("templateNameView",e.TemplateName),this.router.navigateByUrl("/dbckangui/data-template/view-screen-derived-table")}},{key:"deleteTemplates",value:function(e){this.deleteModal=!0,this.deleteTemplate=e}},{key:"calculateNumOfPages",value:function(){if(this.totalNumOfPages=this.mainTemplates.length?this.mainTemplates.length<this.pageSize?1:Math.ceil(this.mainTemplates.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}},{key:"onPageChange",value:function(t){var i=this;this.first=t.first;var a=this.getSortedData(),n=this.first+this.pageSize,o=a.filter(function(e,t){if(t<=n&&t>=i.first)return e});this.selectedPage={pageIndex:t.page,page:t.page+1},this.pageWiseTemplates=e(o)}},{key:"onPageNumChange",value:function(t){var i=this;this.selectedPage={page:t.value.page,pageIndex:t.value.pageIndex},this.first=1===t.value.page?0:10*(t.value.page-1);var a=this.getSortedData(),n=this.first+this.pageSize,o=a.filter(function(e,t){if(t<=n&&t>=i.first)return e});this.pageWiseTemplates=e(o)}},{key:"getSortedData",value:function(){var t=this,i=e(this.templates);return this.sortOrderEvent?1===this.sortOrderEvent.order?(i.sort(function(e,i){return e[t.sortOrderEvent.field]>i[t.sortOrderEvent.field]?1:i[t.sortOrderEvent.field]>e[t.sortOrderEvent.field]?-1:0}),i):(i.sort(function(e,i){return e[t.sortOrderEvent.field]>i[t.sortOrderEvent.field]?-1:i[t.sortOrderEvent.field]>e[t.sortOrderEvent.field]?1:0}),i):i}},{key:"successToasty",value:function(e){this.messages.displayToaster(e,"success","Success")}},{key:"deleteConfirm",value:function(){var e=this;this.deleteModal=!1,this.dataTemplateService.deleteTemplate("deleteDataTemplate",{dataTemplateId:this.deleteTemplate.TemplateId}).subscribe(function(t){e.getTemplateList()})}},{key:"copyTemplate",value:function(e){this.display=!0,this.templateNameReq=!1,this.templateNamevalid=!0,this.templateNameUnique=!0,this.changedTemplateName=!1,this.connToCpoy=JSON.parse(JSON.stringify(e)),this.checkDupTemplateName()}},{key:"customSort",value:function(t){var i=this;this.sortField=t.field,this.sortOrder=t.order,this.sortMode=t.mode,this.customSortArr.filter(function(e){return e.field=t.field})[0]?this.customSortArr.map(function(e){e.order=t.order}):this.customSortArr.push(t);var a=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=a+1,this.selectedPage.pageIndex=a,this.sortOrderEvent=t;var n=e(this.templates),o=e(this.sortOrderEvent.multiSortMeta);o.length>=6&&(t.multiSortMeta=t.multiSortMeta.splice(6,1)),1===o.length?n.sort(function(e,t){return e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]?-o[0].order:0}):2===o.length?n.sort(function(e,t){return e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]?-o[1].order:0}):3===o.length?n.sort(function(e,t){return e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]?-o[2].order:0}):4===o.length?n.sort(function(e,t){return e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]&&-o[2].order||e[o[3].field]>t[o[3].field]?o[3].order:t[o[3].field]>e[o[3].field]?-o[3].order:0}):5===o.length?n.sort(function(e,t){return e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]&&-o[2].order||e[o[3].field]>t[o[3].field]?o[3].order:t[o[3].field]>e[o[3].field]&&-o[3].order||e[o[4].field]>t[o[4].field]?o[4].order:t[o[4].field]>e[o[4].field]?-o[4].order:0}):6===o.length&&n.sort(function(e,t){return e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]&&-o[2].order||e[o[3].field]>t[o[3].field]?o[3].order:t[o[3].field]>e[o[3].field]&&-o[3].order||e[o[4].field]>t[o[4].field]?o[4].order:t[o[4].field]>e[o[4].field]&&-o[4].order||e[o[5].field]>t[o[5].field]?o[5].order:t[o[5].field]>e[o[5].field]?-o[5].order:0});var r=this.first+this.pageSize,l=n.filter(function(e,t){if(t<=r&&t>=i.first)return e});this.pageWiseTemplates=e(l)}},{key:"showCustomizeModal",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"checkDupTemplateName",value:function(){var e=this;this.changedTemplateName=!0,this.templateNameUnique=!1,this.connToCpoy.TemplateName.length>=1?(this.templateNameReq=!1,this.connToCpoy.TemplateName.length<=500?this.regexForTemplateName.test(this.connToCpoy.TemplateName)?(this.templateNamevalid=!0,this.dataTemplateService.templateDuplicateCheck("checkTemplateNameForDuplicate",{templateName:this.connToCpoy.TemplateName}).subscribe(function(t){e.templateNameUnique=!1!==t.result.isDataTemplateNameValid},function(t){e.templateNameUnique=!1})):(this.templateNamevalid=!1,this.templateNameUnique=!0):(this.templateNamevalid=!0,this.templateNameUnique=!0)):(this.templateNameReq=!0,this.templateNamevalid=!0,this.templateNameUnique=!0,this.templateNameLengthExceed=!1)}},{key:"copyNewTemplate",value:function(){var e=this;!this.templateNameReq&&this.templateNameUnique&&this.templateNamevalid&&(this.display=!1,this.dataTemplateService.copyTemplate("copyTemplate",{newTemplateName:this.connToCpoy.TemplateName,dataTemplateId:this.connToCpoy.TemplateId,createdBy:this.userDetails.firstName}).subscribe(function(t){"success"===t.status&&e.getTemplateList()}))}},{key:"deleteCancel",value:function(){this.deleteModal=!1}},{key:"getFilterData",value:function(t){var i=this;this.filterObj=t,this.columnFilter[t[0]]=t[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var a=Object.keys(this.columnFilter);this.storeFilterValue=a,this.displayFiltersFor[t[0]]=!1,this.first=0,this.globalFilterValue||(this.templates=e(this.mainTemplates)),a.forEach(function(e){i.templates=i.templates.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"globalFilterFun",value:function(t){var i=e(this.globalFilterLogic()),a=this.first+this.pageSize,n=i.filter(function(e,t){return t<=a});this.detectChanges.detectChanges(),this.pageWiseTemplates=e(n),this.setPageNumber()}},{key:"globalFilterLogic",value:function(){var t=this;if(this.mainTemplates.length){var i=Object.keys(this.mainTemplates[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainTemplates.forEach(function(e){var a=!1;i.forEach(function(i){e[i]&&e[i].toString().toLowerCase().includes(t.globalFilterValue.toLowerCase())&&!a&&(t.filterValue.push(e),a=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var a=Object.keys(this.columnFilter);this.first=0,a.forEach(function(e){t.filterValue=t.filterValue.filter(function(i){return t.filterService.filters.contains(i[e],t.columnFilter[e])})})}return this.templates=e(this.filterValue),this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=e(this.mainTemplates),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.first=0,n.forEach(function(e){t.filterValue=t.filterValue.filter(function(i){return t.filterService.filters.contains(i[e],t.columnFilter[e])})})}return this.templates=e(this.filterValue),this.calculateNumOfPages(),this.templates}return[]}},{key:"resetFilter",value:function(t){var i=this;this.columnFilter[t]=null,delete this.columnFilter[t],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var a=Object.keys(this.columnFilter);this.displayFiltersFor[t]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.templates=e(this.mainTemplates),a.forEach(function(e){i.templates=i.templates.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"setPageNumber",value:function(){if(this.totalNumOfPages=this.templates.length?this.templates.length<this.pageSize?1:Math.ceil(this.templates.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var t=0;t<this.totalNumOfPages;t++)this.numOfPages.push({pageIndex:t,page:t+1})}var i=this.first+this.pageSize,a=this.templates.filter(function(e,t){return t<=i});this.pageWiseTemplates=e(a)}},{key:"hideBox",value:function(e){this.displayFiltersFor[e.fieldName]=!1}},{key:"getFilterState",value:function(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){var t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}},{key:"isMoreDisplayed",get:function(){var e;return e=this.customizeCols.length?this.customizeCols.filter(function(e){return e.isSelected}):[],this.customizeCols.length!==e.length}},{key:"reRunTemplate",value:function(e){var t=this;this.statusPollDiv=!0,this.getTemplatename=e.TemplateName,this.show=!1,this.spinner.show(),setTimeout(function(){var i,a={template:e,urlName:"rerunDataTemplate"};t.showTemplateName=!0,t.getTemplatename=null===(i=null==a?void 0:a.template)||void 0===i?void 0:i.TemplateName,t.dataTemplateService.commonstatuspoll(a.urlName,{dataTemplateId:a.template.TemplateId}).subscribe(function(e){t.spinner.hide(),null==e.result?(t.displayMessage=null==e?void 0:e.message,t.resultData.push(e)):(t.displayMessage=null==e?void 0:e.message,t.resultData.push(e),t.resultData.map(function(i){i.intervalIdOfTemp=setInterval(function(){var n,o=new N.b;o.idData=null==a?void 0:a.template.TemplateId,o.uniqueId=null===(n=e.result)||void 0===n?void 0:n.uniqueId,t.dataTemplateService.createStatusPoll("templateStatusPoll",o).subscribe(function(e){t.result1[0]=e,t.result1[0].getTemplateName=null==a?void 0:a.template.TemplateName,"Task queued"===t.result1[0].status||"Task started"===t.result1[0].status?t.result1[0].progressBarShow=!1:"Task in progress"===t.result1[0].status?(t.result1[0].progressBarShow=!0,e.percentage>=100&&(e.percentage=100)):"Task completed"===t.result1[0].status?(t.result1[0].progressBarShow=!1,clearInterval(i.intervalIdOfTemp),t.displayMessageLatest=t.displayMessage.replace(/in progress/gi,"completed"),t.result1[0].showmsg=!0):"Task failed"===t.result1[0].status?(t.result1[0].progressBarShow=!1,clearInterval(i.intervalIdOfTemp),t.displayMessageLatest=t.displayMessage.replace(/in progress/gi,"failed"),t.result1[0].showmsg=!0):"Task killed"===t.result1[0].status?(t.result1[0].progressBarShow=!1,clearInterval(i.intervalIdOfTemp),t.displayMessageLatest=t.displayMessage.replace(/in progress/gi,"killed"),t.result1[0].showmsg=!0):"Task "===t.result1[0].status&&(t.result1[0].status="Task killed",t.result1[0].progressBarShow=!1,clearInterval(i.intervalIdOfTemp),t.displayMessageLatest=t.displayMessage.replace(/in progress/gi,"killed"),t.result1[0].showmsg=!0)})},3e3)}))})},2e3)}},{key:"ngOnDestroy",value:function(){var e;clearInterval(this.interval),clearInterval(this.interval1),null===(e=this.modalRef)||void 0===e||e.hide(),this.resultData.map(function(e){clearInterval(e.intervalIdOfTemp)})}},{key:"exportPdf",value:function(){var e=this;this.pdfData.length&&(this.spinner.show(),setTimeout(function(){e.getProjectName=e.projectNames.filter(function(t){return t.idProject===parseInt(e.selectedProjId.split("_")[1],10)})[0].projectName,e.getDomainName=e.projectNames.filter(function(t){return t.domainId===parseInt(e.selectedProjId.split("_")[0],10)})[0].domainName;var t=new Date(e.fromDate),i=new Date(e.toDate),a=e.datePipe.transform(t,"yyyy-MM-dd"),n=e.datePipe.transform(i,"yyyy-MM-dd"),o=new qi.default("l","pt"),r=e.customizeCols.filter(function(e){return e.pdfCols}),l=[];r.forEach(function(e){return l.push(e.displayValue)});var c,s=[];r.forEach(function(e){return s.push(e.originalValue)}),c=e.pdfData.map(function(e){return Object.assign(s.map(function(t){return e[t]}))});var d=o.internal.pageSize,p=d.height?d.height:d.getHeight();Ei()(o,{columns:l,body:c,didDrawPage:function(t){1==t.pageNumber&&(o.text("Validation Templates",o.internal.pageSize.width/2,25,null,"center"),o.setFontSize(10),o.text("Domain-Project Name: "+e.getDomainName+"-"+e.getProjectName,t.settings.margin.left,40),o.text("From Date: "+a,t.settings.margin.left,55),o.text("To Date: "+n,t.settings.margin.left,70)),o.setFontSize(9),o.text("Created by FirstEigen",o.internal.pageSize.width-40,p-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}},columnStyles:{}}),o.save("ValidationTemplate.pdf"),e.disableDownloadBtn=!0,e.pdfCheckboxDisabled=!1,r.forEach(function(e){return e.pdfCols=!1}),e.spinner.hide()},2e3))}},{key:"openExportPdf",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"closeExportPdf",value:function(){var e=this;this.modalRef.hide(),setTimeout(function(){e.pdfCheckCount=0,e.pdfCheckboxDisabled=!1,e.disableDownloadBtn=!0,e.customizeCols.forEach(function(e){return e.pdfCols=!1})},1e3)}},{key:"pdfColsValue",value:function(){var e=this;this.pdfCheckCount=0,this.customizeCols.filter(function(e){return!0===e.pdfCols}).forEach(function(t){!0===t.pdfCols&&e.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}},{key:"filterColumnNameWithHighlightName",value:function(e){return!(Object.keys(this.columnFilter).findIndex(function(t){return t===e})<0)}},{key:"activeTab",value:function(e){switch(this.onChangeDomProj(),e){case"addDataTemplateScreen":this.domainProjService.passDomainProjVal(!1),this.router.navigateByUrl("/dbckangui/data-template/view-template");break;case"addDerivedTemplate":this.resultData.map(function(e){clearInterval(e.intervalIdOfTemp)}),this.statusPollDiv=!1,this.addDerivedTemplate=!1,this.domainProjService.passDomainProjVal(!1),this.router.navigateByUrl("/dbckangui/data-template/view-derived-template");break;case"addReferenceScreen":this.domainProjService.passDomainProjVal(!0),this.router.navigateByUrl("/dbckangui/data-template/view-references");break;case"customMicrosegment":this.domainProjService.passDomainProjVal(!1),this.router.navigateByUrl("/dbckangui/data-template/custom-microsegment")}}}]),t}()).\u0275fac=function(e){return new(e||an)(u.dc(k.a),u.dc(ie.c),u.dc(g.d),u.dc(c.d),u.dc(T.a),u.dc(M.i),u.dc(u.h),u.dc(Qi.a),u.dc(O.b),u.dc(M.a),u.dc(S.a))},an.\u0275cmp=u.Xb({type:an,selectors:[["app-view-derived-template"]],inputs:{addDerivedTemplate:"addDerivedTemplate"},outputs:{informParent:"informParent"},features:[u.Lb],decls:52,vars:25,consts:[[1,"main-profile"],["id","profilingscreen",1,"content-wrapper","top","profile-screen"],["profilingscreen",""],[1,"row"],[1,"col-sm-12","adjust"],[1,"nav","nav-pills","justify-content-left"],[3,"click"],["id","dataTable-tab","data-toggle","tab","href","#dataTable"],["id","derivedTemplate-tab","data-toggle","tab","href","#derivedTemplate",1,"active"],["id","referenceView-tab","data-toggle","tab","href","#referenceView"],["id","customMicrosegment-tab","data-toggle","tab","href","#customMicrosegment"],[1,"tab-content","clearfix"],["id","dataTable",1,"tab-pane"],["id","derivedTemplate",1,"tab-pane","active"],["class","container-fluid create-conn-main",4,"ngIf"],[4,"ngIf"],["id","referenceView",1,"tab-pane"],["id","customMicrosegment",1,"tab-pane"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pTemplate","header"],["id","TemplateName","maxlength","500","type","text","pInputText","",1,"form-field","copy-ip",3,"placeholder","ngModel","ngModelChange","keyup"],[1,"err-msg"],["class","err-msg",4,"ngIf"],["pButton","","type","button","label","Submit",1,"button","w-button","btn-mr-rt","submit-btn","btn-label",3,"disabled","click"],["pButton","","type","button","label","Delete",1,"mr-top-10","button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],["template",""],["moreTemplate",""],["exportPdfTemplate",""],[1,"container-fluid","create-conn-main"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","text-right"],["pButton","","type","button","label","Add",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn",3,"ngClass","click"],[1,"row","br-top"],[1,"col-sm-12","col-md-3","padd-l"],["for","from_date",1,"form-label"],["yearRange","2000:2030","inputId","dateformat","dateFormat","yy-mm-dd","appendTo","body",1,"dateField",3,"styleClass","maxDate","ngModel","showIcon","monthNavigator","yearNavigator","readonlyInput","ngModelChange"],[1,"col-sm-12","col-md-3"],["yearRange","2000:2030","inputId","dateformat","dateFormat","yy-mm-dd","appendTo","body",3,"styleClass","minDate","maxDate","ngModel","showIcon","monthNavigator","yearNavigator","readonlyInput","ngModelChange"],[1,"col-sm-12","col-md-3","pd-top-30"],["pButton","","type","button","label","Show",1,"button","w-button","logoutButton","submit-btn",3,"click"],[1,"col-md-3","d-flex","justify-content-end","pr-28","align-items-end"],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["id","view_data_temp",1,"row","p-field"],[1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","responsiveLayout","scroll","sortMode","multiple",3,"value","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","multiSortMeta","rows","first","customSort","firstChange","sortFunction"],["pTemplate","caption"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"float-right",3,"click"],["src","assets/images/Vector.png","width","25px"],[1,"header"],[4,"ngFor","ngForOf"],[1,"width_100"],["class","min_width_50",4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"min_width_50"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Copy","aria-hidden","true",1,"fa","fa-files-o"],[1,"actions",3,"click"],["title","View","aria-hidden","true",1,"fa","fa-eye","iconColor"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil","iconColor"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],["title","Rediscover rules","aria-hidden","true",1,"fa","fa-repeat","rerun_datatable"],["class","more-display min_width_50",3,"click",4,"ngIf"],["class","text-center word_break_word_all rule-ellipsis",3,"title",4,"ngIf"],[1,"text-center","word_break_word_all","rule-ellipsis",3,"title"],["type","button",3,"ngClass"],["class","deltaStatus",3,"title","ngClass",4,"ngIf"],[1,"deltaStatus",3,"title","ngClass"],[1,"more-display","min_width_50",3,"click"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","virtualScroll","itemSize","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"progress-container"],[1,"row","p-field","task-progress-container"],["class","form-title padding-left-0",4,"ngIf"],[1,"col-sm-12","col-md-12","mr-top","req-field","padding-left-0"],[1,"form-title","padding-left-0"],["class","container-fluid create-conn-main",4,"ngFor","ngForOf"],["class","col-sm-12 col-md-12 req-field padding-left-0",4,"ngIf"],[3,"value","appName","success","progressBarShow"],[1,"col-sm-12","col-md-12","req-field","padding-left-0"],[1,"modal-title"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],[1,"modal-body"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-8"],["class","color-code",4,"ngIf"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname","value","customizeCols[col.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"],[1,"modal-header"],[1,"row","padding-btm1"],[1,"cursor-pointer"],["src","assets/images/close.png",1,"margin-l","cursor-pointer"],["class","col-sm-6 padding-btm3",4,"ngIf"],[1,"col-sm-6","padding-btm3"],[1,"field-dis-val"],[1,"modal-body","pdf-modal"],[1,"col-lg-4"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"]],template:function(e,t){1&e&&(u.jc(0,"div",0),u.jc(1,"div",1,2),u.jc(3,"div",3),u.jc(4,"div",4),u.jc(5,"ul",5),u.jc(6,"li",6),u.qc("click",function(){return t.activeTab("addDataTemplateScreen")}),u.jc(7,"a",7),u.bd(8," Data Tables "),u.ic(),u.ic(),u.jc(9,"li",6),u.qc("click",function(){return t.activeTab("addDerivedTemplate")}),u.jc(10,"a",8),u.bd(11,"Derived Tables"),u.ic(),u.ic(),u.jc(12,"li",6),u.qc("click",function(){return t.activeTab("addReferenceScreen")}),u.jc(13,"a",9),u.bd(14,"Reference Data"),u.ic(),u.ic(),u.jc(15,"li",6),u.qc("click",function(){return t.activeTab("customMicrosegment")}),u.jc(16,"a",10),u.bd(17," Custom Microsegment "),u.ic(),u.ic(),u.ic(),u.jc(18,"div",11),u.ec(19,"div",12),u.jc(20,"div",13),u.Zc(21,Ia,2,1,"div",14),u.Zc(22,La,3,2,"div",15),u.ec(23,"router-outlet"),u.ic(),u.ec(24,"div",16),u.ec(25,"div",17),u.ic(),u.ic(),u.ic(),u.ic(),u.ic(),u.jc(26,"p-dialog",18),u.qc("visibleChange",function(e){return t.display=e}),u.Zc(27,Ea,2,1,"ng-template",19),u.jc(28,"input",20),u.qc("ngModelChange",function(e){return t.connToCpoy.TemplateName=e})("keyup",function(){return t.checkDupTemplateName()}),u.ic(),u.jc(29,"p",21),u.Zc(30,Za,4,1,"span",22),u.Zc(31,Aa,2,0,"span",22),u.Zc(32,Ua,5,1,"span",22),u.ic(),u.jc(33,"p-footer"),u.jc(34,"button",23),u.qc("click",function(){return t.copyNewTemplate()}),u.ic(),u.ic(),u.ic(),u.jc(35,"p-dialog",18),u.qc("visibleChange",function(e){return t.deleteModal=e}),u.Zc(36,Wa,3,0,"ng-template",19),u.jc(37,"p"),u.bd(38," If "),u.jc(39,"b"),u.bd(40),u.ic(),u.bd(41," template is deleted , every validation which uses this template will be deleted "),u.ic(),u.jc(42,"p"),u.bd(43," Press 'Delete' to delete a template, else Press Cancel."),u.ic(),u.jc(44,"p-footer"),u.jc(45,"button",24),u.qc("click",function(){return t.deleteConfirm()}),u.ic(),u.ic(),u.ic(),u.Zc(46,Ja,12,2,"ng-template",null,25,u.ad),u.Zc(48,Ka,11,1,"ng-template",null,26,u.ad),u.Zc(50,tn,17,3,"ng-template",null,27,u.ad)),2&e&&(u.Nb(21),u.Bc("ngIf",0===t.route.children.length&&0==t.statusPollDiv),u.Nb(1),u.Bc("ngIf",1==t.statusPollDiv),u.Nb(4),u.Vc(u.Ec(23,nn)),u.Bc("visible",t.display)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),u.Nb(2),u.Dc("placeholder","Enter ",t.appConstant.dataTabelName," Name"),u.Bc("ngModel",t.connToCpoy.TemplateName),u.Nb(2),u.Bc("ngIf",t.templateNameReq),u.Nb(1),u.Bc("ngIf",!t.templateNamevalid),u.Nb(1),u.Bc("ngIf",!t.templateNameUnique),u.Nb(2),u.Bc("disabled",!t.templateNamevalid||!t.templateNameUnique||!t.changedTemplateName||t.templateNameReq),u.Nb(1),u.Vc(u.Ec(24,nn)),u.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),u.Nb(5),u.dd("",t.deleteTemplate.TemplateName," "))},directives:[c.n,M.m,p.a,g.i,s.d,s.k,j.a,s.o,s.r,g.e,m.b,c.l,ma.a,It.f,c.m,It.d,It.e,Ft.a,y.a,ae.a,D.a,re.a],pipes:[c.x],styles:['@charset "UTF-8";[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.padd-l[_ngcontent-%COMP%]{padding-left:28px}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px;word-break:break-word}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.wordBreak[_ngcontent-%COMP%]{overflow-wrap:break-word;width:10rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.word_break_word_all[_ngcontent-%COMP%]{word-break:break-word!important;overflow-wrap:break-word!important}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.deltaStatus[_ngcontent-%COMP%]{border-radius:3px;color:#eef1f5;font-size:10px;padding:1.5px}.approved[_ngcontent-%COMP%]{background-color:#56b608}.revire-waiting[_ngcontent-%COMP%]{background-color:red}.rejected[_ngcontent-%COMP%]{background-color:#e72b56;border-radius:3px;color:#eef1f5}.iconColorOnFailed[_ngcontent-%COMP%]{color:#e72b56}.imgOnSuccess[_ngcontent-%COMP%]{color:#56b608}.imgSize[_ngcontent-%COMP%]{width:14px;height:auto}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.mr-top-10[_ngcontent-%COMP%]{margin-top:10px!important}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{height:40px}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:10px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:500;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:38px!important}.rule-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:38px!important;margin:0!important;box-shadow:none!important}[_nghost-%COMP%]     p-dropdown .p-inputtext, [_nghost-%COMP%]     p-dropdown p-dropdownitem{font-family:Open Sans!important;font-size:14px!important;font-weight:400;width:100%!important;border-radius:10px!important;height:38px!important}[_nghost-%COMP%]     p-dropdown .p-dropdown-empty-message{font-family:Open Sans!important;font-size:16px!important;font-weight:400}[_nghost-%COMP%]     p-dropdown ::-webkit-scrollbar{width:7px}[_nghost-%COMP%]     p-dropdown ::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px linear-gradient(180deg,#001585,#ff7526 .01%,#fb9a64 97.92%);border-radius:7px}[_nghost-%COMP%]     p-dropdown ::-webkit-scrollbar-thumb{border-radius:7px;background:linear-gradient(180deg,#001585,#ff7526 .01%,#fb9a64 97.92%);-webkit-box-shadow:inset 0 0 6pxlinear-gradient 180deg,0 #001585,.01% #ff7526,97.92% #fb9a64}[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr>th{padding-left:1px;padding-right:1px}[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr{font-family:Open Sans!important;font-size:14px!important;font-weight:400;vertical-align:top}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:30px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}[_nghost-%COMP%]     .p-datatable .p-paginator-bottom{border-bottom-left-radius:10px!important;border-bottom-right-radius:10px!important}[_nghost-%COMP%]     .pi-filter:before{content:"\ue94c";font-size:14px}[_nghost-%COMP%]     .pi-sort-alt:before{content:"\ue99e";font-size:13px}[_nghost-%COMP%]     .p-overlaypanel .p-overlaypanel-content{padding:1rem;background:#fff4ee!important}[_nghost-%COMP%]     .p-checkbox .p-checkbox-box.p-highlight{border-color:linear-gradient(180deg,#ff7526,#fb9a64)!important;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-checkbox .p-checkbox-box{border-color:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-dialog .p-dialog-header{background:#fff4ee!important;padding:10px!important}[_nghost-%COMP%]     .p-dialog .p-dialog-content{background:#fff4ee!important;padding-bottom:10px!important}[_nghost-%COMP%]     .p-dialog .p-dialog-footer{background:#fff4ee!important;padding-bottom:10px!important}[_nghost-%COMP%]     .p-paginator .p-paginator-pages .p-paginator-page.p-highlight{background:transparent!important;border:2px solid #ff7526!important;color:#495057!important;border-radius:6px!important;font-weight:400!important}[_nghost-%COMP%]     .p-paginator .p-paginator-pages .p-paginator-page{font-weight:400!important}.minWidth[_ngcontent-%COMP%]{width:170px}.pdf-modal[_ngcontent-%COMP%]{padding-bottom:0}.adjust[_ngcontent-%COMP%]{top:10px}.nav-pills[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #dedede;border-radius:8px 8px 0 0}.nav-pills[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:50px;position:relative}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:-1%;margin-top:.1%;top:10px}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;padding:15px 20px;line-height:19px;color:#717171;font-size:14px;font-weight:700;z-index:1}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:transparent;border-color:transparent}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";width:100%;height:50px;position:absolute;bottom:1%;left:-1px;font-size:12px;background:transparent;border:1px solid transparent;z-index:-1}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:before{background:linear-gradient(180deg,transparent,transparent);bottom-border-color:#dedede;font-size:16px;font-family:Open Sans!important;text-align:center;border-radius:8px 8px 0 0}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:focus, .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:hover{border:1px solid transparent;background:transparent;color:#951447;font-weight:700;z-index:2;-webkit-text-decoration:underline 3px;text-decoration:underline 3px;text-underline-offset:8px}a[_ngcontent-%COMP%]:hover{text-decoration:none}@media only screen and (max-width:767px){.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:15px 10px;font-size:12px}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{bottom:6px}}@media only screen and (max-width:480px){.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;margin-bottom:5px}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{bottom:0;transform:none;border-bottom:1px solid #d3d3d3}}.main-profile[_ngcontent-%COMP%]{margin-top:2%}.tab-content[_ngcontent-%COMP%]   .tab-pane[_ngcontent-%COMP%]{box-shadow:0 0 15px #e6e5e5;padding:5px 20px 20px;background:#fff;line-height:22px}.tab-content[_ngcontent-%COMP%]   .tab-pane[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.val_css[_ngcontent-%COMP%]{padding-left:30px;font-size:15px;font-weight:600;margin-top:10px}.padding-left-0[_ngcontent-%COMP%]{padding-left:0!important}.pr-28[_ngcontent-%COMP%]{padding-right:28px}.rerun_datatable[_ngcontent-%COMP%]{color:#c32121}.template_create_success[_ngcontent-%COMP%]{background:#b2e7b2}.template_create_fail[_ngcontent-%COMP%], .template_create_success[_ngcontent-%COMP%]{border-radius:15px;padding:2px 7px;width:97%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:none;cursor:auto}.template_create_fail[_ngcontent-%COMP%]{background:#f7877b}']}),an);function rn(e,t){if(1&e){var i=u.kc();u.jc(0,"div",28),u.jc(1,"a",29),u.qc("click",function(){return u.Rc(i),u.uc().deleteRecords()}),u.jc(2,"span",30),u.bd(3," Delete "),u.ic(),u.ic(),u.ic()}}function ln(e,t){if(1&e){var i=u.kc();u.jc(0,"div",31),u.jc(1,"span",32),u.jc(2,"input",33),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc().globalFilterValue=e})("keyup",function(e){return u.Rc(i),u.uc().globalFilterFun(e)}),u.ic(),u.bd(3,"\xa0 "),u.ec(4,"i",34),u.ic(),u.jc(5,"span",35),u.jc(6,"span",36),u.jc(7,"img",37),u.qc("click",function(){u.Rc(i);var e=u.uc(),t=u.Oc(27);return e.openCustomizeColumn(t)}),u.ic(),u.bd(8," \xa0Customize "),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc();u.Nb(1),u.Bc("ngClass",a.disable?"notallowed":""),u.Nb(1),u.Bc("ngModel",a.globalFilterValue)("ngClass",a.disable?"disablefields":""),u.Nb(3),u.Qb(0==(null==a.viewList?null:a.viewList.length)?"disable":""),u.Nb(1),u.Bc("ngClass",a.disable?"notallowed":""),u.Nb(1),u.Bc("ngClass",a.disable?"disablefields":"")}}function cn(e,t){if(1&e){var i=u.kc();u.jc(0,"th",44),u.bd(1),u.ec(2,"br"),u.ec(3,"p-sortIcon",45),u.jc(4,"app-column-filter",46),u.qc("filterData",function(e){return u.Rc(i),u.uc(3).getFilterData(e)})("resetFilterValues",function(e){return u.Rc(i),u.uc(3).resetFilter(e)}),u.ic(),u.jc(5,"span",36),u.jc(6,"i",47),u.qc("click",function(){u.Rc(i);var e=u.uc().$implicit;return u.uc(2).onFilterClick(e.originalValue)}),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc().$implicit,n=u.uc(2);u.Bc("ngClass",n.disable?"notallowed":""),u.Nb(1),u.dd(" ",a.displayValue,""),u.Nb(2),u.Cc("field",a.originalValue),u.Cc("pSortableColumn",a.originalValue),u.Bc("ngClass",n.disable?"disablefields":""),u.Nb(1),u.Bc("colFilterData",n.getFilterState(a.originalValue))("customId",a.originalValue)("display",n.displayFiltersFor[a.originalValue])("fieldName",a.originalValue),u.Nb(1),u.Qb(n.disable?"notallowed":"columnFilter"),u.Bc("ngClass",n.filterColumnNameWithHighlightName(a.originalValue)?"selected-filter-column":""),u.Nb(1),u.Qb(n.disable?"disablefields":""),u.Bc("ngClass",n.filterColumnNameWithHighlightName(a.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function sn(e,t){if(1&e&&(u.hc(0),u.Zc(1,cn,7,15,"th",43),u.gc()),2&e){var i=t.$implicit;u.Nb(1),u.Bc("ngIf",i.isSelected)}}function dn(e,t){1&e&&(u.hc(0),u.jc(1,"th",39),u.bd(2," More"),u.ic(),u.gc())}function pn(e,t){if(1&e&&(u.jc(0,"tr",38),u.hc(1),u.jc(2,"th",39),u.ec(3,"i",40),u.ic(),u.gc(),u.Zc(4,sn,2,1,"ng-container",41),u.Zc(5,dn,3,0,"ng-container",42),u.ic()),2&e){var i=u.uc();u.Nb(4),u.Bc("ngForOf",i.customizecol),u.Nb(1),u.Bc("ngIf",i.isMoreDisplayed)}}function un(e,t){if(1&e){var i=u.kc();u.jc(0,"input",54),u.qc("ngModelChange",function(e){u.Rc(i);var t=u.uc(3).$implicit;return u.uc().$implicit[t.originalValue]=e})("keydown.enter",function(e){u.Rc(i);var t=u.uc(3).$implicit,a=u.uc().$implicit;return u.uc().testMethod(t,e,a)})("change",function(e){u.Rc(i);var t=u.uc(3).$implicit,a=u.uc().$implicit;return u.uc().testMethod(t,e,a)}),u.ic()}if(2&e){var a=u.uc(3).$implicit,n=u.uc().$implicit;u.Bc("ngModel",n[a.originalValue])}}function mn(e,t){if(1&e&&u.bd(0),2&e){var i=u.uc(3).$implicit,a=u.uc().$implicit;u.dd(" ",a[i.originalValue]," ")}}function gn(e,t){1&e&&(u.jc(0,"p-cellEditor"),u.Zc(1,un,1,1,"ng-template",52),u.Zc(2,mn,1,1,"ng-template",53),u.ic())}function fn(e,t){if(1&e&&(u.jc(0,"span"),u.bd(1),u.ic()),2&e){var i=u.uc(2).$implicit,a=u.uc().$implicit;u.Nb(1),u.dd(" ",a[i.originalValue]," ")}}function hn(e,t){if(1&e&&(u.jc(0,"td",51),u.Zc(1,gn,3,0,"p-cellEditor",42),u.Zc(2,fn,2,1,"span",42),u.ic()),2&e){var i=u.uc().$implicit,a=u.uc().$implicit,n=u.uc();u.Bc("ngClass","dbk_row_Id"==i.originalValue?"disabled-opa":"")("title",a[i.originalValue]),u.Nb(1),u.Bc("ngIf",!n.disable),u.Nb(1),u.Bc("ngIf",n.disable)}}function bn(e,t){if(1&e&&(u.hc(0),u.Zc(1,hn,3,4,"td",50),u.gc()),2&e){var i=t.$implicit;u.Nb(1),u.Bc("ngIf",i.isSelected)}}function vn(e,t){if(1&e){var i=u.kc();u.hc(0),u.jc(1,"td",55),u.qc("click",function(){u.Rc(i);var e=u.uc().$implicit,t=u.uc(),a=u.Oc(29);return t.openMoreColumns(a,e),t.viewMore(e)}),u.bd(2," ... "),u.ic(),u.gc()}}function Cn(e,t){if(1&e){var i=u.kc();u.jc(0,"tr",48),u.hc(1),u.jc(2,"td",39),u.jc(3,"p-checkbox",49),u.qc("ngModelChange",function(e){return t.$implicit.checked=e})("onChange",function(){u.Rc(i);var e=t.$implicit;return u.uc().deleteObj(e)}),u.ic(),u.ic(),u.gc(),u.Zc(4,bn,2,1,"ng-container",41),u.Zc(5,vn,3,0,"ng-container",42),u.ic()}if(2&e){var a=t.$implicit,n=u.uc();u.Nb(3),u.Bc("value",a.checked)("ngModel",a.checked),u.Nb(1),u.Bc("ngForOf",n.customizecol),u.Nb(1),u.Bc("ngIf",n.isMoreDisplayed)}}function yn(e,t){1&e&&(u.jc(0,"div",56),u.bd(1," No records found "),u.ic())}function wn(e,t){if(1&e){var i=u.kc();u.jc(0,"div",57),u.jc(1,"p-paginator",58,59),u.qc("onPageChange",function(e){return u.Rc(i),u.uc().onPageChange(e)})("firstChange",function(e){return u.Rc(i),u.uc().first=e}),u.ic(),u.ic()}if(2&e){var a=u.uc();u.Nb(1),u.Bc("rows",10)("totalRecords",a.viewList.length)("showCurrentPageReport",!0)("first",a.first)}}function xn(e,t){if(1&e&&(u.jc(0,"div",64),u.jc(1,"div"),u.bd(2),u.ic(),u.ic()),2&e){var i=u.uc(3);u.Nb(2),u.ed("Page ",i.selectedPage.page," of ",i.totalNumOfPages,"")}}function Mn(e,t){if(1&e&&u.Zc(0,xn,3,2,"div",63),2&e){var i=u.uc(2);u.Bc("ngIf",i.selectedPage)}}function Pn(e,t){if(1&e){var i=u.kc();u.jc(0,"div",60),u.jc(1,"p-dropdown",61),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc().selectedPage=e})("onChange",function(e){return u.Rc(i),u.uc().onPageNumChange(e)}),u.Zc(2,Mn,1,1,"ng-template",62),u.ic(),u.ic()}if(2&e){var a=u.uc();u.Nb(1),u.Bc("options",a.numOfPages)("filter",!0)("ngModel",a.selectedPage)}}function Nn(e,t){if(1&e&&(u.jc(0,"span",83),u.bd(1," Please enter "),u.jc(2,"b"),u.bd(3),u.ic(),u.ic()),2&e){var i=u.uc(2).$implicit;u.Nb(3),u.cd(i)}}function On(e,t){1&e&&(u.jc(0,"span",83),u.bd(1," Only Numbers allowed "),u.ic())}function Tn(e,t){if(1&e&&(u.jc(0,"p",83),u.Zc(1,Nn,4,1,"span",82),u.Zc(2,On,2,0,"span",82),u.ic()),2&e){var i=u.uc().$implicit,a=u.uc(2);u.Nb(1),u.Bc("ngIf",a.dynamicForm.controls[i].errors.required),u.Nb(1),u.Bc("ngIf",a.dynamicForm.controls[i].errors.pattern)}}function kn(e,t){if(1&e&&(u.jc(0,"div",78),u.jc(1,"label",79),u.bd(2),u.jc(3,"sup",80),u.bd(4,"*"),u.ic(),u.ic(),u.ec(5,"br"),u.ec(6,"input",81),u.Zc(7,Tn,3,2,"p",82),u.ic()),2&e){var i=t.$implicit,a=u.uc(2);u.Nb(1),u.Cc("for",i),u.Nb(1),u.cd(i),u.Nb(4),u.Cc("id",i),u.Dc("placeholder","Enter ",i,""),u.Bc("formControlName",i),u.Nb(1),u.Bc("ngIf",a.dynamicForm.controls[i].invalid&&!a.dynamicForm.controls[i].pristine)}}function Sn(e,t){if(1&e){var i=u.kc();u.jc(0,"div",65),u.jc(1,"p",66),u.bd(2,"Insert New Values to Reference Table"),u.ic(),u.jc(3,"div",67),u.qc("click",function(){return u.Rc(i),u.uc().cancel()}),u.jc(4,"label",68),u.bd(5,"Close"),u.ic(),u.ec(6,"img",69),u.ic(),u.ic(),u.jc(7,"div",70),u.jc(8,"div",71),u.hc(9),u.Zc(10,kn,8,6,"div",72),u.gc(),u.ic(),u.jc(11,"div",73),u.jc(12,"p"),u.bd(13,"Note: Fields marked with "),u.jc(14,"b"),u.bd(15,'"*"'),u.ic(),u.bd(16," are required. "),u.ic(),u.ic(),u.jc(17,"div",74),u.jc(18,"div",75),u.jc(19,"button",76),u.qc("click",function(){return u.Rc(i),u.uc().submit()}),u.ic(),u.jc(20,"button",77),u.qc("click",function(){return u.Rc(i),u.uc().cancel()}),u.ic(),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc();u.Nb(8),u.Bc("formGroup",a.dynamicForm),u.Nb(2),u.Bc("ngForOf",a.objectKeysNew),u.Nb(9),u.Bc("disabled",!a.dynamicForm.valid)}}function jn(e,t){if(1&e){var i=u.kc();u.jc(0,"div",93),u.jc(1,"table"),u.jc(2,"tr",94),u.jc(3,"td"),u.jc(4,"p-checkbox",95),u.qc("onChange",function(e){u.Rc(i);var t=u.uc().$implicit;return u.uc(2).checkValue(e,t.originalValue,t.isSelected)})("ngModelChange",function(e){return u.Rc(i),u.uc().$implicit.isSelected=e}),u.ic(),u.ic(),u.jc(5,"td"),u.jc(6,"label"),u.bd(7),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc().$implicit,n=u.uc(2);u.Nb(4),u.Cc("value",a.isSelected),u.Bc("disabled",n.checkboxDisabled&&!a.isSelected)("ngModel",a.isSelected),u.Nb(3),u.cd(a.displayValue)}}function _n(e,t){if(1&e&&(u.hc(0),u.Zc(1,jn,8,4,"div",92),u.gc()),2&e){var i=t.$implicit;u.Nb(1),u.Bc("ngIf",!i.necessaryCol)}}function Dn(e,t){1&e&&(u.jc(0,"div",96),u.bd(1,"You can select up to 8 columns."),u.ic())}function In(e,t){if(1&e){var i=u.kc();u.jc(0,"div",70),u.jc(1,"div",84),u.Zc(2,_n,2,1,"ng-container",41),u.ic(),u.ic(),u.jc(3,"div",85),u.jc(4,"div",86),u.jc(5,"div",87),u.Zc(6,Dn,2,0,"div",88),u.ic(),u.jc(7,"div",89),u.qc("click",function(){return u.Rc(i),u.uc().modalRef.hide()}),u.jc(8,"label",90),u.bd(9,"Close Customize"),u.ic(),u.ec(10,"img",91),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc();u.Nb(2),u.Bc("ngForOf",a.customizecol),u.Nb(4),u.Bc("ngIf",a.checkboxDisabled)}}function Fn(e,t){if(1&e&&(u.jc(0,"div",99),u.jc(1,"table"),u.jc(2,"tr"),u.jc(3,"td",100),u.bd(4),u.ic(),u.jc(5,"td",101),u.bd(6),u.ic(),u.ic(),u.ic(),u.ic()),2&e){var i=u.uc().$implicit,a=u.uc(2);u.Nb(3),u.Bc("title",i.displayValue),u.Nb(1),u.dd(" ",i.displayValue," "),u.Nb(1),u.Bc("title",a.selectedRowData[i.originalValue]),u.Nb(1),u.dd(" : ",a.selectedRowData[i.originalValue]," ")}}function Vn(e,t){if(1&e&&(u.hc(0),u.Zc(1,Fn,7,4,"div",98),u.gc()),2&e){var i=t.$implicit;u.Nb(1),u.Bc("ngIf",!i.necessaryCol&&!i.isSelected)}}function Bn(e,t){if(1&e){var i=u.kc();u.jc(0,"div",65),u.jc(1,"b"),u.bd(2,"More Columns:"),u.ic(),u.ic(),u.jc(3,"div",70),u.jc(4,"div",97),u.Zc(5,Vn,2,1,"ng-container",41),u.ic(),u.ic(),u.jc(6,"div",85),u.jc(7,"div",67),u.qc("click",function(){return u.Rc(i),u.uc().modalRef.hide()}),u.jc(8,"label",68),u.bd(9,"Close"),u.ic(),u.ec(10,"img",69),u.ic(),u.ic()}if(2&e){var a=u.uc();u.Nb(5),u.Bc("ngForOf",a.customizecol)}}function Rn(e,t){if(1&e){var i=u.kc();u.jc(0,"input",110),u.qc("change",function(e){return u.Rc(i),u.uc(2).changeFile(e)}),u.ic()}}function zn(e,t){if(1&e&&(u.jc(0,"p",83),u.ec(1,"span",111),u.ic()),2&e){var i=u.uc(2);u.Nb(1),u.Cc("innerHtml",i.fileErrMsg,u.Sc)}}function qn(e,t){1&e&&u.ec(0,"input",112)}function Ln(e,t){if(1&e&&(u.jc(0,"p",83),u.ec(1,"span",111),u.ic()),2&e){var i=u.uc(2);u.Nb(1),u.Cc("innerHtml",i.pathErrMsg,u.Sc)}}var En=function(){return{standalone:!0}};function Zn(e,t){if(1&e){var i=u.kc();u.jc(0,"div",102),u.jc(1,"div",65),u.jc(2,"p",66),u.bd(3,"Add bulk rows"),u.ic(),u.jc(4,"div",67),u.qc("click",function(){return u.Rc(i),u.uc().cancel()}),u.jc(5,"label",68),u.bd(6,"Close"),u.ic(),u.ec(7,"img",69),u.ic(),u.ic(),u.jc(8,"div",70),u.jc(9,"div",103),u.hc(10),u.jc(11,"div",104),u.jc(12,"p-radioButton",105),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc().selectedValue=e})("onClick",function(){return u.Rc(i),u.uc().getRadioVal("File_Upload")}),u.ic(),u.ic(),u.jc(13,"div",104),u.jc(14,"p-radioButton",106),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc().selectedValue=e})("onClick",function(){return u.Rc(i),u.uc().getRadioVal("File_Path")}),u.ic(),u.ic(),u.ec(15,"br"),u.jc(16,"div",104),u.Zc(17,Rn,1,0,"input",107),u.Zc(18,zn,2,1,"p",82),u.ic(),u.jc(19,"div",108),u.Zc(20,qn,1,0,"input",109),u.Zc(21,Ln,2,1,"p",82),u.ic(),u.gc(),u.ic(),u.jc(22,"div",74),u.jc(23,"div",75),u.jc(24,"button",76),u.qc("click",function(){return u.Rc(i),u.uc().submitCSV()}),u.ic(),u.jc(25,"button",77),u.qc("click",function(){return u.Rc(i),u.uc().cancel()}),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc();u.Bc("formGroup",a.uploadCSVForm),u.Nb(12),u.Bc("ngModelOptions",u.Ec(10,En))("ngModel",a.selectedValue),u.Nb(2),u.Bc("ngModelOptions",u.Ec(11,En))("ngModel",a.selectedValue),u.Nb(3),u.Bc("ngIf",a.showFileUpload),u.Nb(1),u.Bc("ngIf",a.errMsgFileUpload),u.Nb(2),u.Bc("ngIf",a.showFilePath),u.Nb(1),u.Bc("ngIf",a.errMsgFilePath),u.Nb(3),u.Bc("disabled",!a.uploadCSVForm.valid)}}function An(e,t){1&e&&(u.jc(0,"span",113),u.ec(1,"i",114),u.bd(2," Confirmation "),u.ic())}var Un=function(){return{width:"100%"}},Wn=function(){return{width:"50vw"}};Ai.a.vfs=Wi.a.pdfMake.vfs;var Qn,$n=((Qn=function(){function t(e,i,a,n,r,l,c,s){o(this,t),this.globalRulesService=e,this.spinner=i,this.filterService=a,this.router=n,this.fb=r,this.modalService=l,this.detectChanges=c,this.messages=s,this.addReferenceScreen=!1,this.viewReferenceScreen=!1,this.screenReference=new u.p,this.viewScreenReference=new u.p,this.viewList=[],this.mainViewList=[],this.pageWiseViewList=[],this.customizecol=[],this.first=0,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.pageSize=9,this.totalNumOfPages=0,this.checkboxDisabled=!1,this.maxCount=4,this.displayFiltersFor={},this.columnFilter={},this.scrollHt="400px",this.filterData={},this.selectedRowData={},this.globalFilterValues=[],this.customSortArr=[],this.multiSortMeta=[{field:"dbk_row_Id",order:-1}],this.noRecordFound=!1,this.showFilePath=!1,this.showFileUpload=!1,this.errMsgFileUpload=!1,this.errMsgFilePath=!1,this.selectedValue="File_Upload",this.fileErrMsg="",this.pathErrMsg="",this.disable=!1,this.pushedArray=[],this.deleteModal=!1}return n(t,[{key:"ngOnInit",value:function(){this.uploadCSVForm=this.fb.group({dataUpload:[""],filePath:[""]}),"File_Upload"===this.selectedValue&&(this.showFileUpload=!0),this.showData()}},{key:"hideBox",value:function(e){this.displayFiltersFor[e.fieldName]=!1}},{key:"testMethod",value:function(e,t,i){var a=JSON.parse(sessionStorage.getItem("refdata"));this.globalRulesService.updateRefData("updateRefData",{row_id:i.dbk_row_Id,col_name:e.displayValue,update_val:t.target.value,table_name:null==a?void 0:a.tableName,idData:null==a?void 0:a.idData}).subscribe(function(e){})}},{key:"isMoreDisplayed",get:function(){var e;return e=this.customizecol.length?this.customizecol.filter(function(e){return e.isSelected}):[],this.customizecol.length-1!==e.length}},{key:"openMoreColumns",value:function(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"openCustomizeColumn",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"onFilterClick",value:function(e){var t=this;Object.keys(this.displayFiltersFor).map(function(i){t.displayFiltersFor[i]=i===e})}},{key:"checkValue",value:function(e,t,i){var a=this;this.checkCount=0,this.customizecol.filter(function(e){return!1===e.necessaryCol}).forEach(function(e){!0===e.isSelected&&a.checkCount++}),this.checkboxDisabled=this.checkCount>=8,this.colSpanCount=this.customizecol.filter(function(e){return!0===e.isSelected}).length,void 0!==this.storeFilterValue&&this.storeFilterValue.map(function(e){e===t&&!1===i&&a.resetFilter(t)})}},{key:"openOtherField",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"calculateNumOfPages",value:function(){if(this.totalNumOfPages=this.viewList.length<this.pageSize?1:Math.ceil(this.viewList.length/(this.pageSize+1)),this.numOfPages=[],1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}},{key:"onPageChange",value:function(t){var i=this;this.first=t.first;var a=this.getSortedData(),n=this.first+this.pageSize,o=a.filter(function(e,t){if(t<=n&&t>=i.first)return e});this.selectedPage={pageIndex:t.page,page:t.page+1},this.pageWiseViewList=e(o)}},{key:"onPageNumChange",value:function(t){var i=this;this.selectedPage={page:t.value.page,pageIndex:t.value.pageIndex},this.first=1===t.value.page?0:10*(t.value.page-1);var a=this.getSortedData(),n=this.first+this.pageSize,o=a.filter(function(e,t){if(t<=n&&t>=i.first)return e});this.pageWiseViewList=e(o)}},{key:"getSortedData",value:function(){var t=this,i=e(this.viewList);return this.sortOrderEvent?1===this.sortOrderEvent.order?(i.sort(function(e,i){return e[t.sortOrderEvent.field]>i[t.sortOrderEvent.field]?1:i[t.sortOrderEvent.field]>e[t.sortOrderEvent.field]?-1:0}),i):(i.sort(function(e,i){return e[t.sortOrderEvent.field]>i[t.sortOrderEvent.field]?-1:i[t.sortOrderEvent.field]>e[t.sortOrderEvent.field]?1:0}),i):i}},{key:"showData",value:function(){return Object(H.a)(this,void 0,void 0,i().mark(function t(){var a,n=this;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=JSON.parse(sessionStorage.getItem("refdata")),this.viewList=[],this.objectKeysNew=[],this.customizecol=[],this.pushedArray=[],this.globalRulesService.getListReferenceTable({idData:null==a?void 0:a.idData,tableName:null==a?void 0:a.tableName}).subscribe(function(t){n.spinner.hide(),n.spinner.hide()&&(n.noRecordFound=!0),n.viewList=t.data;var i=[],a=[];t.headers.forEach(function(e){a.push(e.split(":")[0])}),n.objectKeysNew=a.filter(function(e){return"dbk_row_Id"!==e}),t.headers.forEach(function(e){"dbk_row_Id"!==e.split(":")[0]&&i.push({name:e.split(":")[0],dataType:e.split(":")[1]})});var o={};i.forEach(function(e){o[e.name]="Integer"===e.dataType?["",[s.w.required,s.w.pattern("^[0-9]+$")]]:["",s.w.required]}),n.dynamicForm=n.fb.group(o);var r=a,l=r.indexOf("dbk_row_Id"),c=r.splice(l,1)[0];r.splice(0,0,c);var d=r;n.mainViewList=e(n.viewList),d.forEach(function(e,t){"dbk_row_Id"===e?n.customizecol.push({originalValue:e,colIndex:t,isSelected:!1,necessaryCol:!0,displayValue:e}):"dbk_row_Id"!==e&&n.customizecol.push({originalValue:e,colIndex:t,isSelected:t<=7,necessaryCol:!1,displayValue:e})}),n.customizecol.forEach(function(e){n.globalFilterValues.push(e.originalValue)}),n.checkValue({}),n.colSpanCount=n.customizecol.filter(function(e){return!0===e.isSelected}).length;var p=n.first+n.pageSize,u=n.viewList.filter(function(e,t){return t<=p});n.pageWiseViewList=e(u),Object.keys(n.pageWiseViewList[0]).forEach(function(e){n.displayFiltersFor[e]=!1}),n.calculateNumOfPages()});case 2:case"end":return t.stop()}},t,this)}))}},{key:"deleteObj",value:function(e){var t=this.pageWiseViewList.filter(function(e){return!0===e.checked});this.disable=!(!t||!t.length);var i=this.pushedArray.find(function(t){return t.dbk_row_Id===e.dbk_row_Id});!0!==e.checked||i?this.pushedArray=this.pushedArray.filter(function(t){return t!==e.dbk_row_Id}):this.pushedArray.push(e.dbk_row_Id)}},{key:"deleteRecords",value:function(){this.deleteModal=!0}},{key:"deleteConfirm",value:function(){var e=this;this.deleteModal=!1;var t=JSON.parse(sessionStorage.getItem("refdata"));this.globalRulesService.deleteReferenceData({idData:null==t?void 0:t.idData,recordsToDelete:this.pushedArray}).subscribe(function(t){"success"===t.status?(e.showData(),e.disable=!1):e.disable=!0})}},{key:"deleteCancel",value:function(){this.deleteModal=!1}},{key:"viewMore",value:function(e){var t={};for(var i in e)this.selectedColumns[i]||(t[i]=e[i].toString());this.moreValidation=t}},{key:"cancel",value:function(){var e,t,i;null===(e=this.modalRef)||void 0===e||e.hide(),null===(t=this.dynamicForm)||void 0===t||t.reset(),null===(i=this.uploadCSVForm)||void 0===i||i.reset(),this.selectedValue="File_Upload",this.showFileUpload=!0,this.showFilePath=!1,this.fileErrMsg="",this.pathErrMsg=""}},{key:"submit",value:function(){var e,t=this;if(null===(e=this.dynamicForm)||void 0===e?void 0:e.valid){this.showMsg=!0;var i=JSON.parse(sessionStorage.getItem("refdata")),a=Object.values(this.dynamicForm.value);this.globalRulesService.insertNewValueToRefTable("insertNewValueToRefTable",{columnNames:this.objectKeysNew,columnValues:a,tableName:i.tableName,idData:i.idData}).subscribe(function(e){t.modalRef.hide(),"success"===e.status?(t.showData(),t.dynamicForm.reset(),setTimeout(function(){t.messages.displayToaster(e.message,"success","Success")},800)):t.dynamicForm.reset()})}else this.showMsg=!1}},{key:"globalFilterFun",value:function(t){var i=e(this.globalFilterLogic()),a=this.first+this.pageSize,n=i.filter(function(e,t){return t<=a});this.detectChanges.detectChanges(),this.pageWiseViewList=e(n),this.setPageNumber()}},{key:"globalFilterLogic",value:function(){var t=this;if(this.mainViewList.length){var i=Object.keys(this.mainViewList[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainViewList.forEach(function(e){var a=!1;i.forEach(function(i){e[i]&&e[i].toString().toLowerCase().includes(t.globalFilterValue.toLowerCase())&&!a&&(t.filterValue.push(e),a=!0)})}),this.columnFilter!=={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var a=Object.keys(this.columnFilter);this.first=0,a.forEach(function(e){t.filterValue=t.filterValue.filter(function(i){return t.filterService.filters.contains(i[e],t.columnFilter[e])})})}return this.viewList=e(this.filterValue),this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=e(this.mainViewList),this.columnFilter!=={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.first=0,n.forEach(function(e){t.filterValue=t.filterValue.filter(function(i){return t.filterService.filters.contains(i[e],t.columnFilter[e])})})}return this.viewList=e(this.filterValue),this.calculateNumOfPages(),this.viewList}return[]}},{key:"getFilterData",value:function(t){var i=this;this.columnFilter[t[0]]=t[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var a=Object.keys(this.columnFilter);this.storeFilterValue=a,this.displayFiltersFor[t[0]]=!1,this.first=0,this.globalFilterValue||(this.viewList=e(this.mainViewList)),a.forEach(function(e){i.viewList=i.viewList.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"resetFilter",value:function(t){var i=this;this.columnFilter[t]=null,delete this.columnFilter[t],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var a=Object.keys(this.columnFilter);this.displayFiltersFor[t]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.viewList=e(this.mainViewList),a.forEach(function(e){i.viewList=i.viewList.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"customSort",value:function(t){var i=this;this.sortField=t.field,this.sortOrder=t.order,this.sortMode=t.mode,this.customSortArr.filter(function(e){return e.field=t.field})[0]?this.customSortArr.map(function(e){e.order=t.order}):this.customSortArr.push(t);var a=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=a+1,this.selectedPage.pageIndex=a,this.sortOrderEvent=t;var n=e(this.viewList),o=e(this.sortOrderEvent.multiSortMeta);o.length>=2&&(t.multiSortMeta=t.multiSortMeta.splice(4,1)),1===o.length?n.sort(function(e,t){return e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]?-o[0].order:0}):2===o.length?n.sort(function(e,t){return e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]?-o[1].order:0}):3===o.length?n.sort(function(e,t){return e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]?-o[2].order:0}):4===o.length&&n.sort(function(e,t){return e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]&&-o[2].order||e[o[3].field]>t[o[3].field]?o[3].order:t[o[3].field]>e[o[3].field]?-o[3].order:0});var r=this.first+this.pageSize,l=n.filter(function(e,t){if(t<=r&&t>=i.first)return e});this.pageWiseViewList=e(l)}},{key:"setPageNumber",value:function(){if(this.totalNumOfPages=this.viewList.length?this.viewList.length<this.pageSize?1:Math.ceil(this.viewList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var t=0;t<this.totalNumOfPages;t++)this.numOfPages.push({pageIndex:t,page:t+1})}var i=this.first+this.pageSize,a=this.viewList.filter(function(e,t){return t<=i});this.pageWiseViewList=e(a)}},{key:"getFilterState",value:function(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){var t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}},{key:"gotoDetailedView",value:function(){this.screenReference.emit(!1),this.viewScreenReference.emit(!1),this.router.navigate(["/dbckangui/data-template/view-references"])}},{key:"filterColumnNameWithHighlightName",value:function(e){return!(Object.keys(this.columnFilter).findIndex(function(t){return t===e})<0)}},{key:"getRadioVal",value:function(e){"File_Upload"===e?(this.showFilePath=!1,this.showFileUpload=!0,this.errMsgFilePath=!1,this.uploadCSVForm.controls.filePath.setValue("")):"File_Path"===e&&(this.showFilePath=!0,this.showFileUpload=!1,this.errMsgFileUpload=!1,this.uploadCSVForm.controls.dataUpload.setValue(""))}},{key:"submitCSV",value:function(){var e=this,t=JSON.parse(sessionStorage.getItem("refdata"));if(""===this.uploadCSVForm.value.dataUpload&&""===this.uploadCSVForm.value.filePath||null===this.uploadCSVForm.value.dataUpload&&null===this.uploadCSVForm.value.filePath)!0===this.showFileUpload?(this.errMsgFileUpload=!0,this.fileErrMsg="Please choose the valid <b>File</b>"):!0===this.showFilePath&&(this.errMsgFilePath=!0,this.pathErrMsg="Please enter the valid <b>Path</b>");else if(this.uploadCSVForm.valid)if(""!==this.uploadCSVForm.value.dataUpload&&null!==this.uploadCSVForm.value.dataUpload)if("csv"===this.uploadCSVForm.value.dataUpload.split(".")[1]){this.fileErrMsg="",this.pathErrMsg="";var i=new FormData;Array.from(this.statementFile).forEach(function(e){if(e){var a=e.slice(0,e.size,e.type),n=new File([a],e.name,{type:e.type});i.append("datafile ",n),i.append("idData ",t.idData)}}),this.globalRulesService.addReferenceDataByFile(i).subscribe(function(t){e.modalRef.hide(),"success"===t.status?(e.uploadCSVForm.reset(),e.selectedValue="File_Upload",e.showFileUpload=!0,e.showFilePath=!1,e.showData(),0==t.result.failedCount&&0==t.result.duplicateCount?e.messages.displayToaster("Successfully inserted data","success","Success"):0==t.result.failedCount&&0==t.result.duplicateCount||(0==t.result.failedCount&&0!=t.result.duplicateCount&&e.messages.displayToaster("There were "+t.result.totalCount+" total records out of which "+t.result.duplicateCount+(1==t.result.duplicateCount?" was":" were")+" duplicate records and no failed records.","warn","Warning"),0!=t.result.failedCount&&0==t.result.duplicateCount&&e.messages.displayToaster("There were "+t.result.totalCount+" total records out of which "+t.result.failedCount+(1==t.result.failedCount?" was":" were")+" failed records and no duplicate records.","warn","Warning"),0!=t.result.failedCount&&0!=t.result.duplicateCount&&e.messages.displayToaster("There were "+t.result.totalCount+" total records out of which "+t.result.failedCount+(1==t.result.failedCount?" was":" were")+" failed records and "+t.result.duplicateCount+(1==t.result.duplicateCount?" was":" were")+" duplicate records.","warn","Warning"))):(e.uploadCSVForm.reset(),e.selectedValue="File_Upload",e.showFileUpload=!0,e.showFilePath=!1,e.messages.displayToaster(t.message,"error","Failed"))})}else this.errMsgFileUpload=!0,this.fileErrMsg="Please select <b>CSV file</b>";else""!==this.uploadCSVForm.value.filePath&&null!==this.uploadCSVForm.value.filePath?this.uploadCSVForm.value.filePath.includes(".csv")?(this.fileErrMsg="",this.pathErrMsg="",this.globalRulesService.addReferenceDataByPath({idData:t.idData,filePath:this.uploadCSVForm.value.filePath}).subscribe(function(t){e.modalRef.hide(),"success"===t.status?(e.uploadCSVForm.reset(),e.selectedValue="File_Upload",e.showFileUpload=!0,e.showFilePath=!1,e.showData(),0==t.result.failedCount&&0==t.result.duplicateCount?e.messages.displayToaster("Successfully inserted data","success","Success"):0==t.result.failedCount&&0==t.result.duplicateCount||(0==t.result.failedCount&&0!=t.result.duplicateCount&&e.messages.displayToaster("There were "+t.result.totalCount+" total records out of which "+t.result.duplicateCount+(1==t.result.duplicateCount?" was":" were")+" duplicate records and no failed records.","warn","Warning"),0!=t.result.failedCount&&0==t.result.duplicateCount&&e.messages.displayToaster("There were "+t.result.totalCount+" total records out of which "+t.result.failedCount+(1==t.result.failedCount?" was":" were")+" failed records and no duplicate records.","warn","Warning"),0!=t.result.failedCount&&0!=t.result.duplicateCount&&e.messages.displayToaster("There were "+t.result.totalCount+" total records out of which "+t.result.failedCount+(1==t.result.failedCount?" was":" were")+" failed records and "+t.result.duplicateCount+(1==t.result.duplicateCount?" was":" were")+" duplicate records.","warn","Warning"))):(e.uploadCSVForm.reset(),e.selectedValue="File_Upload",e.showFileUpload=!0,e.showFilePath=!1,e.messages.displayToaster(t.message,"error","Failed"))})):(this.errMsgFilePath=!0,this.pathErrMsg="Please select <b>CSV file</b>"):(this.errMsgFilePath=!0,this.pathErrMsg="Please enter the valid <b>Path</b>")}},{key:"changeFile",value:function(e){var t=this;this.fileErrMsg="",this.pathErrMsg="",this.statementFile=[],Array.from(e.target.files).forEach(function(e){t.statementFile.push(e)}),null!=e&&(this.uploadCSVForm.get("filePath").setValidators([]),this.uploadCSVForm.get("dataUpload").updateValueAndValidity())}}]),t}()).\u0275fac=function(e){return new(e||Qn)(u.dc(O.d),u.dc(ie.c),u.dc(g.d),u.dc(M.i),u.dc(s.e),u.dc(Qi.a),u.dc(u.h),u.dc(O.b))},Qn.\u0275cmp=u.Xb({type:Qn,selectors:[["app-view-list"]],inputs:{addReferenceScreen:"addReferenceScreen",viewReferenceScreen:"viewReferenceScreen"},outputs:{screenReference:"screenReference",viewScreenReference:"viewScreenReference"},decls:38,vars:36,consts:[[1,"container-fluid","create-conn-main"],["width","100%",1,"row","p-field","br-top"],[1,"col-sm-10","col-md-10","margin-lf","d-flex","align-items-center"],[1,"form-title","w-inline-block",3,"ngClass"],["pButton","","type","button","label","New Row",1,"button","w-button","shadow","submit-btn",3,"ngClass","click"],["pButton","","type","button","label","Bulk Upload",1,"button","w-button","shadow","submit-btn",3,"ngClass","click"],["class","col-sm-1 col-md-1 pad-top-10 margin-percent",4,"ngIf"],[1,"col-sm-1","col-md-1","pad-top-10","margin-percent-2",3,"ngClass"],["title","Back",1,"advance_tab","cursor-pointer","margin-left-15",3,"ngClass","click"],[1,"back_btn"],["id","view_global_rules",1,"row","p-field"],["view_global_rules",""],[1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","responsiveLayout","scroll","sortMode","multiple",3,"value","scrollable","scrollHeight","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","rows","first","globalFilterFields","customSort","multiSortMeta","firstChange","sortFunction"],["viewListTab",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["moreTemplate",""],["template",""],["moreTemplates",""],["csvTemplate",""],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pButton","","type","button","label","Delete",1,"mr-top-10","button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],[1,"col-sm-1","col-md-1","pad-top-10","margin-percent"],["title","Delete",1,"advance_tab","cursor-pointer","margin-left-15",3,"click"],[1,"back_btn","red-btn"],[1,"table-header"],[1,"gsearch",3,"ngClass"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngClass","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"float-right","margin-top-gfilter"],[3,"ngClass"],["src","assets/images/Vector.png","id","openCustomizeModal","width","25px",1,"cursor-pointer",3,"ngClass","click"],[1,"header"],[1,"min_width_50"],["title","Delete","aria-hidden","true",1,"fa","fa-trash","font"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","word-break-all",3,"ngClass",4,"ngIf"],[1,"word-break-all",3,"ngClass"],[3,"field","pSortableColumn","ngClass"],[3,"colFilterData","customId","display","fieldName","filterData","resetFilterValues"],[1,"pi-filter-color",3,"ngClass","click"],[1,"row-ht"],["binary","true","name","deleteCheckBox",3,"value","ngModel","ngModelChange","onChange"],["pEditableColumn","","class","text-center word_break_word_all rule-ellipsis",3,"ngClass","title",4,"ngIf"],["pEditableColumn","",1,"text-center","word_break_word_all","rule-ellipsis",3,"ngClass","title"],["pTemplate","input"],["pTemplate","output"],["pInputText","","type","text",1,"width-100",3,"ngModel","ngModelChange","keydown.enter","change"],[1,"open-more-col","cursor-pointer","min_width_50",3,"click"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-header"],[1,"form-title"],[3,"click"],[1,"cursor-pointer"],["src","assets/images/close.png",1,"margin-l"],[1,"modal-body"],[1,"row","padding-btm1",3,"formGroup"],["class","col-sm-6 padding-btm3",4,"ngFor","ngForOf"],[1,"note"],[1,"row","p-field","mr-top"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button","label","Submit",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],["pButton","","type","button","label","Cancel",1,"button","w-button","shadow","btn-cancel",3,"click"],[1,"col-sm-6","padding-btm3"],[1,"form-label",3,"for"],[1,"req-field"],["maxlength","500","type","text","pInputText","",1,"form-field",3,"id","formControlName","placeholder"],["class","err-msg",4,"ngIf"],[1,"err-msg"],[1,"row","bottom"],[1,"modal-footer"],[1,"row","width"],[1,"col-lg-8"],["class","color-code",4,"ngIf"],[1,"col-lg-4","arrow-text-right",3,"click"],[1,"cursor-pointer","pad-right"],["src","assets/images/close.png","width","30px",1,"img-margin","cursor-pointer"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname",3,"disabled","value","ngModel","onChange","ngModelChange"],[1,"color-code"],[1,"row","margin-btm1"],["class","col-sm-6 margin-btm",4,"ngIf"],[1,"col-sm-6","margin-btm"],[1,"field-dis-val","rule-ellipsis","more-column-list",3,"title"],[1,"field-dis-val","rule-ellipsis","item-value1",3,"title"],[3,"formGroup"],[1,"row","padding-btm1"],[1,"col-md-12","mr-top"],["for","File_Upload","label","Upload file from Local","styleClass","radio-style","name","FileUpload","inputId","File_Upload","value","File_Upload","id","getRadioValFU",1,"spaceRadio",3,"ngModelOptions","ngModel","ngModelChange","onClick"],["for","File_Path","label","File path from Server","styleClass","radio-style","name","FilePath","inputId","File_Path","value","File_Path","id","getRadioValFP",1,"spaceRadio",3,"ngModelOptions","ngModel","ngModelChange","onClick"],["id","rule_name","formControlName","dataUpload","placeholder","Upload File To be analyzed","type","file","class","form-field","pInputText","",3,"change",4,"ngIf"],[1,"col-md-12"],["id","filePath","formControlName","filePath","placeholder","Enter Server File Path","type","text","class","form-field","pInputText","",4,"ngIf"],["id","rule_name","formControlName","dataUpload","placeholder","Upload File To be analyzed","type","file","pInputText","",1,"form-field",3,"change"],[1,"err-msg",3,"innerHtml"],["id","filePath","formControlName","filePath","placeholder","Enter Server File Path","type","text","pInputText","",1,"form-field"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"]],template:function(e,t){if(1&e){var i=u.kc();u.jc(0,"div",0),u.jc(1,"div",1),u.jc(2,"div",2),u.jc(3,"p",3),u.jc(4,"button",4),u.qc("click",function(){u.Rc(i);var e=u.Oc(25);return t.openOtherField(e)}),u.ic(),u.ic(),u.jc(5,"p",3),u.jc(6,"button",5),u.qc("click",function(){u.Rc(i);var e=u.Oc(31);return t.openOtherField(e)}),u.ic(),u.ic(),u.ic(),u.Zc(7,rn,4,0,"div",6),u.jc(8,"div",7),u.jc(9,"a",8),u.qc("click",function(){return t.gotoDetailedView()}),u.jc(10,"span",9),u.bd(11," Back "),u.ic(),u.ic(),u.ic(),u.ic(),u.jc(12,"div",10,11),u.jc(14,"div",12),u.jc(15,"p-table",13,14),u.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),u.Zc(17,ln,9,7,"ng-template",15),u.Zc(18,pn,6,2,"ng-template",16),u.Zc(19,Cn,6,4,"ng-template",17),u.ic(),u.ic(),u.Zc(20,yn,2,0,"div",18),u.jc(21,"div",19),u.Zc(22,wn,3,4,"div",20),u.Zc(23,Pn,3,3,"div",21),u.ic(),u.ic(),u.ic(),u.Zc(24,Sn,21,3,"ng-template",null,22,u.ad),u.Zc(26,In,11,2,"ng-template",null,23,u.ad),u.Zc(28,Bn,11,1,"ng-template",null,24,u.ad),u.Zc(30,Zn,26,12,"ng-template",null,25,u.ad),u.jc(32,"p-dialog",26),u.qc("visibleChange",function(e){return t.deleteModal=e}),u.Zc(33,An,3,0,"ng-template",16),u.jc(34,"p"),u.bd(35," Are you sure you want to delete?"),u.ic(),u.jc(36,"p-footer"),u.jc(37,"button",27),u.qc("click",function(){return t.deleteConfirm()}),u.ic(),u.ic(),u.ic()}2&e&&(u.Nb(3),u.Bc("ngClass",t.disable?"notallowed":""),u.Nb(1),u.Bc("ngClass",t.disable?"disablefields":""),u.Nb(1),u.Bc("ngClass",t.disable?"notallowed":""),u.Nb(1),u.Bc("ngClass",t.disable?"disablefields":""),u.Nb(1),u.Bc("ngIf",t.disable),u.Nb(1),u.Bc("ngClass",t.disable?"notallowed":"margin-percent-3"),u.Nb(1),u.Bc("ngClass",t.disable?"disablefields":""),u.Nb(6),u.Vc(u.Ec(34,Un)),u.Bc("value",t.pageWiseViewList)("scrollable",t.pageWiseViewList.length>7)("scrollHeight",t.pageWiseViewList.length>7?t.scrollHt:"")("responsive",!0)("rowHover",!0)("sortField","dbk_row_Id")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("rows",10)("first",t.first)("globalFilterFields",t.globalFilterValues)("customSort",!0)("multiSortMeta",t.multiSortMeta),u.Nb(5),u.Bc("ngIf",!t.pageWiseViewList.length&&t.noRecordFound),u.Nb(2),u.Bc("ngIf",t.pageWiseViewList.length),u.Nb(1),u.Bc("ngIf",t.pageWiseViewList.length),u.Nb(9),u.Vc(u.Ec(35,Wn)),u.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1))},directives:[c.l,m.b,c.n,It.f,g.i,p.a,g.e,s.d,j.a,s.o,s.r,c.m,It.d,It.e,Ft.a,re.a,It.b,It.a,y.a,ae.a,s.p,s.i,s.k,s.g,_.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.ui-toast-detail[_ngcontent-%COMP%]{white-space:pre-line}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{max-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-top-10[_ngcontent-%COMP%], .pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pad-top-10[_ngcontent-%COMP%]{max-width:50px}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-lf[_ngcontent-%COMP%]{margin-left:-25px}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.width[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}.note[_ngcontent-%COMP%]{text-align:left;font-size:13px;color:#eb5454;margin-top:15px}.showRow[_ngcontent-%COMP%]{display:none}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.p-field[_ngcontent-%COMP%]{margin:0 10px}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}.form-label[_ngcontent-%COMP%]{font-size:16px}.rule-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.disablefields[_ngcontent-%COMP%]{opacity:.65;pointer-events:none}.notallowed[_ngcontent-%COMP%]{cursor:not-allowed}.font[_ngcontent-%COMP%]{font-size:25px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}.margin-percent[_ngcontent-%COMP%]{margin-left:6.5%}.margin-percent-2[_ngcontent-%COMP%]{margin-left:2%}.margin-percent-3[_ngcontent-%COMP%]{margin-left:10%!important}.pad-right[_ngcontent-%COMP%]{padding-right:10px}"]}),Qn),Gn=r("M6ac");function Jn(e,t){if(1&e){var i=u.kc();u.jc(0,"div",53),u.jc(1,"span",54),u.jc(2,"input",55),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc(3).globalFilterValue=e})("keyup",function(e){return u.Rc(i),u.uc(3).globalFilterFun(e)}),u.ic(),u.bd(3,"\xa0 "),u.ec(4,"i",56),u.ic(),u.jc(5,"span",57),u.qc("click",function(){u.Rc(i);var e=u.uc(3),t=u.Oc(47);return e.showCustomizeModal(t)}),u.ec(6,"img",58),u.bd(7," \xa0Customize "),u.ic(),u.ic()}if(2&e){var a=u.uc(3);u.Nb(2),u.Bc("ngModel",a.globalFilterValue),u.Nb(3),u.Qb(0==(null==a.templates?null:a.templates.length)?"disable":""),u.Nb(1),u.Rb("cursor-pointer ",a.templates.length?"":"disabled-opa","")}}function Hn(e,t){if(1&e){var i=u.kc();u.jc(0,"th"),u.jc(1,"span"),u.bd(2),u.ic(),u.ec(3,"br"),u.ec(4,"p-sortIcon",65),u.jc(5,"app-column-filter",66),u.qc("hideFilterDataBox",function(e){return u.Rc(i),u.uc(5).hideBox(e)})("filterData",function(e){return u.Rc(i),u.uc(5).getFilterData(e)})("resetFilterValues",function(e){return u.Rc(i),u.uc(5).resetFilter(e)}),u.ic(),u.jc(6,"span",67),u.jc(7,"i",68),u.qc("click",function(){u.Rc(i);var e=u.uc().$implicit;return u.uc(4).onFilterClick(e.originalValue)}),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc().$implicit,n=u.uc(4);u.Qb("TemplateId"==a.originalValue?"width_100":""),u.Nb(2),u.dd(" ",a.displayValue," "),u.Nb(2),u.Cc("field",a.originalValue),u.Cc("pSortableColumn",a.originalValue),u.Nb(1),u.Bc("colFilterData",n.getFilterState(a.originalValue))("display",n.displayFiltersFor[a.originalValue])("fieldName",a.originalValue)("customId",a.originalValue),u.Nb(1),u.Bc("ngClass",n.filterColumnNameWithHighlightName(a.originalValue)?"selected-filter-column":""),u.Nb(1),u.Bc("ngClass",n.filterColumnNameWithHighlightName(a.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function Yn(e,t){if(1&e&&(u.hc(0),u.Zc(1,Hn,8,11,"th",64),u.gc()),2&e){var i=t.$implicit;u.Nb(1),u.Bc("ngIf",i.isSelected)}}function Kn(e,t){1&e&&(u.jc(0,"th",69),u.bd(1,"More"),u.ic())}function Xn(e,t){if(1&e&&(u.jc(0,"tr",59),u.Zc(1,Yn,2,1,"ng-container",60),u.jc(2,"th",61),u.bd(3," Actions"),u.ic(),u.jc(4,"th",62),u.bd(5," Rerun"),u.ic(),u.Zc(6,Kn,2,0,"th",63),u.ic()),2&e){var i=u.uc(3);u.Nb(1),u.Bc("ngForOf",i.customizeCols),u.Nb(5),u.Bc("ngIf",i.isMoreDisplayed)}}function eo(e,t){if(1&e&&(u.jc(0,"td",82),u.jc(1,"span"),u.bd(2),u.ic(),u.ec(3,"br"),u.ic()),2&e){var i=u.uc().$implicit,a=u.uc().$implicit;u.Qb("TemplateId"==i.originalValue?"width_70":""),u.Bc("title",a[i.originalValue]),u.Nb(2),u.cd(a[i.originalValue])}}function to(e,t){if(1&e&&(u.jc(0,"span",85),u.jc(1,"b"),u.bd(2),u.vc(3,"uppercase"),u.ic(),u.ic()),2&e){var i=u.uc(3).$implicit;u.Cc("title","approved"===i.DeltaApprovalStatus?"Approved":"waitingforapproval"===i.DeltaApprovalStatus?"Waiting For Approval":"reviewpending"===i.DeltaApprovalStatus?"Review Pending":""),u.Bc("ngClass","approved"===i.DeltaApprovalStatus?"approved":"revire-waiting"),u.Nb(2),u.cd(u.wc(3,3,i.DeltaApprovalStatus))}}function io(e,t){if(1&e&&(u.jc(0,"td",82),u.jc(1,"button",83),u.bd(2),u.ic(),u.ec(3,"br"),u.Zc(4,to,4,5,"span",84),u.ic()),2&e){var i=u.uc().$implicit,a=u.uc().$implicit;u.Bc("title",a[i.originalValue]),u.Nb(1),u.Bc("ngClass","Y"===a.Template_create_success?"template_create_success":"template_create_fail"),u.Nb(1),u.dd("",a[i.originalValue]," "),u.Nb(2),u.Bc("ngIf","approved"===a.DeltaApprovalStatus||"waitingforapproval"===a.DeltaApprovalStatus||"reviewpending"===a.DeltaApprovalStatus)}}function ao(e,t){if(1&e&&(u.jc(0,"td",82),u.jc(1,"span"),u.bd(2),u.ic(),u.ic()),2&e){var i=u.uc().$implicit,a=u.uc().$implicit;u.Dc("title","",a[i.originalValue]," (User defined nickname)"),u.Nb(2),u.cd(a[i.originalValue])}}function no(e,t){if(1&e&&(u.hc(0),u.Zc(1,eo,4,4,"td",80),u.Zc(2,io,5,4,"td",81),u.Zc(3,ao,3,2,"td",81),u.gc()),2&e){var i=t.$implicit;u.Nb(1),u.Bc("ngIf",i.isSelected&&"TemplateName"!==i.originalValue&&"Tablename"!==i.originalValue),u.Nb(1),u.Bc("ngIf",i.isSelected&&"Tablename"==i.originalValue),u.Nb(1),u.Bc("ngIf",i.isSelected&&"TemplateName"==i.originalValue)}}function oo(e,t){if(1&e){var i=u.kc();u.jc(0,"span",71),u.qc("click",function(){u.Rc(i);var e=u.uc().$implicit;return u.uc(3).profiling(e)}),u.ec(1,"img",86),u.ic()}if(2&e){var a=u.uc(4),n=null;u.Bc("ngClass",null!=(n=a.roleOnModule("Data Template"))&&null!=n.accessControl&&n.accessControl.includes("R")?" cursor-pointer":"disable")}}function ro(e,t){if(1&e){var i=u.kc();u.jc(0,"span",71),u.qc("click",function(){u.Rc(i);var e=u.uc().$implicit;return u.uc(3).rerunProfiling(e)}),u.ec(1,"i",87),u.ic()}if(2&e){var a=u.uc(4),n=null;u.Bc("ngClass",null!=(n=a.roleOnModule("Data Template"))&&null!=n.accessControl&&n.accessControl.includes("R")?" cursor-pointer":"disable")}}function lo(e,t){if(1&e){var i=u.kc();u.jc(0,"td",88),u.qc("click",function(){u.Rc(i);var e=u.uc().$implicit,t=u.uc(3),a=u.Oc(49);return t.openOtherField(a,e)}),u.bd(1," ... "),u.ic()}}function co(e,t){if(1&e){var i=u.kc();u.jc(0,"tr",70),u.Zc(1,no,4,3,"ng-container",60),u.jc(2,"td",61),u.jc(3,"span"),u.jc(4,"span",71),u.qc("click",function(){u.Rc(i);var e=t.$implicit;return u.uc(3).copyTemplate(e)}),u.ec(5,"i",72),u.ic(),u.jc(6,"span",73),u.qc("click",function(){u.Rc(i);var e=t.$implicit;return u.uc(3).viewTemplate(e)}),u.ec(7,"i",74),u.ic(),u.jc(8,"span",71),u.qc("click",function(){u.Rc(i);var e=t.$implicit;return u.uc(3).editTemplate(e)}),u.ec(9,"i",75),u.ic(),u.jc(10,"span",71),u.qc("click",function(){u.Rc(i);var e=t.$implicit;return u.uc(3).deleteTemplates(e)}),u.ec(11,"i",76),u.ic(),u.Zc(12,oo,2,1,"span",77),u.ic(),u.ic(),u.jc(13,"td",62),u.jc(14,"span",71),u.qc("click",function(){u.Rc(i);var e=t.$implicit;return u.uc(3).reRunTemplate(e)}),u.ec(15,"i",78),u.ic(),u.Zc(16,ro,2,1,"span",77),u.ic(),u.Zc(17,lo,2,0,"td",79),u.ic()}if(2&e){var a=t.$implicit,n=u.uc(3),o=null,r=null,l=null;u.Nb(1),u.Bc("ngForOf",n.customizeCols),u.Nb(3),u.Bc("ngClass","approved"===a.DeltaApprovalStatus?"":"disabled-opa"),u.Nb(4),u.Bc("ngClass",null!=(o=n.roleOnModule("Data Template"))&&null!=o.accessControl&&o.accessControl.includes("U")?" cursor-pointer":"disable")("ngClass","approved"===a.DeltaApprovalStatus||"N"==a.Template_create_success?"":"disabled-opa"),u.Nb(2),u.Bc("ngClass",null!=(r=n.roleOnModule("Data Template"))&&null!=r.accessControl&&r.accessControl.includes("D")?" cursor-pointer":"disable")("ngClass","approved"===a.DeltaApprovalStatus||"N"==a.Template_create_success?"":"disabled-opa"),u.Nb(2),u.Bc("ngIf","Y"===a.ProfilingEnabled),u.Nb(2),u.Bc("ngClass",null!=(l=n.roleOnModule("Data Template"))&&null!=l.accessControl&&l.accessControl.includes("R")?" cursor-pointer":"disable"),u.Nb(2),u.Bc("ngIf","Y"===a.ProfilingEnabled),u.Nb(1),u.Bc("ngIf",n.isMoreDisplayed)}}function so(e,t){1&e&&(u.jc(0,"div",89),u.bd(1," No records found "),u.ic())}function po(e,t){if(1&e){var i=u.kc();u.jc(0,"div",90),u.jc(1,"p-paginator",91,92),u.qc("onPageChange",function(e){return u.Rc(i),u.uc(3).onPageChange(e)})("firstChange",function(e){return u.Rc(i),u.uc(3).first=e}),u.ic(),u.ic()}if(2&e){var a=u.uc(3);u.Nb(1),u.Bc("rows",10)("totalRecords",a.templates.length)("showCurrentPageReport",!0)("first",a.first)}}function uo(e,t){if(1&e&&(u.jc(0,"div",97),u.jc(1,"div"),u.bd(2),u.ic(),u.ic()),2&e){var i=u.uc(5);u.Nb(2),u.ed("Page ",i.selectedPage.page," of ",i.totalNumOfPages,"")}}function mo(e,t){if(1&e&&u.Zc(0,uo,3,2,"div",96),2&e){var i=u.uc(4);u.Bc("ngIf",i.selectedPage)}}function go(e,t){if(1&e){var i=u.kc();u.jc(0,"div",93),u.jc(1,"p-dropdown",94),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc(3).selectedPage=e})("onChange",function(e){return u.Rc(i),u.uc(3).onPageNumChange(e)}),u.Zc(2,mo,1,1,"ng-template",95),u.ic(),u.ic()}if(2&e){var a=u.uc(3);u.Nb(1),u.Bc("options",a.numOfPages)("filter",!0)("ngModel",a.selectedPage)("virtualScroll",!0)("itemSize",30)}}var fo=function(){return{width:"100%"}};function ho(e,t){if(1&e){var i=u.kc();u.jc(0,"div"),u.jc(1,"div",3),u.jc(2,"div",29),u.jc(3,"p",30),u.bd(4),u.ic(),u.ic(),u.jc(5,"div",31),u.jc(6,"p",30),u.jc(7,"button",32),u.qc("click",function(){return u.Rc(i),u.uc(2).createTemplate()}),u.ic(),u.ic(),u.ic(),u.ic(),u.jc(8,"div",33),u.jc(9,"div",34),u.jc(10,"label",35),u.bd(11,"From Date"),u.ic(),u.ec(12,"br"),u.jc(13,"p-calendar",36),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc(2).fromDate=e}),u.ic(),u.ic(),u.jc(14,"div",37),u.jc(15,"label",35),u.bd(16,"To Date"),u.ic(),u.ec(17,"br"),u.jc(18,"p-calendar",38),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc(2).toDate=e}),u.ic(),u.ic(),u.jc(19,"div",39),u.jc(20,"button",40),u.qc("click",function(){return u.Rc(i),u.uc(2).getTemplateList()}),u.ic(),u.ic(),u.jc(21,"div",41),u.jc(22,"a"),u.jc(23,"img",42),u.qc("click",function(){return u.Rc(i),u.uc(2).downloadCSV()}),u.ic(),u.ic(),u.jc(24,"a"),u.jc(25,"img",43),u.qc("click",function(){u.Rc(i);var e=u.uc(2),t=u.Oc(51);return e.openExportPdf(t)}),u.ic(),u.ic(),u.ic(),u.ic(),u.jc(26,"div",44),u.jc(27,"div",45),u.jc(28,"p-table",46),u.qc("firstChange",function(e){return u.Rc(i),u.uc(2).first=e})("sortFunction",function(e){return u.Rc(i),u.uc(2).customSort(e)}),u.Zc(29,Jn,8,6,"ng-template",47),u.Zc(30,Xn,7,2,"ng-template",19),u.Zc(31,co,18,10,"ng-template",48),u.ic(),u.ic(),u.Zc(32,so,2,0,"div",49),u.jc(33,"div",50),u.Zc(34,po,3,4,"div",51),u.Zc(35,go,3,5,"div",52),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc(2),n=null;u.Nb(4),u.dd(" ",a.appConstant.dataTabelName,"s "),u.Nb(3),u.Bc("ngClass",null!=(n=a.roleOnModule("Data Template"))&&null!=n.accessControl&&n.accessControl.includes("C")?" cursor-pointer":"disable"),u.Nb(6),u.Bc("styleClass","form-field")("maxDate",a.toDate)("ngModel",a.fromDate)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("readonlyInput",!0),u.Nb(5),u.Bc("styleClass","form-field")("minDate",a.fromDate)("maxDate",a.maxDate)("ngModel",a.toDate)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("readonlyInput",!0),u.Nb(4),u.Rb("w-inline-block cursor-pointer float-right ",null!=a.pageWiseTemplates&&a.pageWiseTemplates.length?"":"disabled-opa",""),u.Nb(2),u.Rb("w-inline-block cursor-pointer float-right ",null!=a.pageWiseTemplates&&a.pageWiseTemplates.length?"":"disabled-opa",""),u.Nb(4),u.Vc(u.Ec(40,fo)),u.Bc("value",a.pageWiseTemplates)("responsive",!0)("rowHover",!0)("sortField","TemplateId")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("multiSortMeta",a.multiSortMeta)("rows",10)("first",a.first)("customSort",!0),u.Nb(4),u.Bc("ngIf",!a.pageWiseTemplates.length&&a.noRecordFound),u.Nb(2),u.Bc("ngIf",a.pageWiseTemplates.length),u.Nb(1),u.Bc("ngIf",a.pageWiseTemplates.length)}}function bo(e,t){if(1&e&&(u.jc(0,"div",28),u.Zc(1,ho,36,41,"div",14),u.ic()),2&e){var i=u.uc();u.Nb(1),u.Bc("ngIf",0==i.statusPollDiv)}}function vo(e,t){if(1&e&&(u.jc(0,"p",102),u.jc(1,"b"),u.bd(2),u.ic(),u.bd(3),u.ic()),2&e){var i=u.uc(3);u.Nb(2),u.dd("",i.appConstant.dataTabelName,":"),u.Nb(1),u.dd(" ",i.getTemplatename," ")}}function Co(e,t){if(1&e&&(u.jc(0,"div"),u.jc(1,"div",28),u.jc(2,"div",98),u.jc(3,"div",99),u.Zc(4,vo,4,2,"p",100),u.jc(5,"div",101),u.bd(6),u.ec(7,"br"),u.ec(8,"hr"),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()),2&e){var i=u.uc(2);u.Nb(4),u.Bc("ngIf",i.showTemplateName),u.Nb(2),u.dd(" ",i.displayMessage," \xa0 ")}}function yo(e,t){if(1&e&&(u.jc(0,"div",101),u.bd(1),u.ec(2,"br"),u.ec(3,"hr"),u.ic()),2&e){var i=u.uc(4);u.Nb(1),u.dd(" ",i.displayMessage," \xa0 ")}}function wo(e,t){if(1&e&&(u.jc(0,"div",101),u.bd(1),u.ec(2,"br"),u.ec(3,"hr"),u.ic()),2&e){var i=u.uc(4);u.Nb(1),u.dd(" ",i.displayMessageLatest," \xa0 ")}}function xo(e,t){if(1&e&&(u.jc(0,"div",28),u.jc(1,"div",98),u.jc(2,"div",99),u.jc(3,"p",102),u.jc(4,"b"),u.bd(5),u.ic(),u.bd(6),u.ic(),u.ic(),u.jc(7,"div",99),u.Zc(8,yo,4,1,"div",104),u.Zc(9,wo,4,1,"div",104),u.ic(),u.jc(10,"div",3),u.ec(11,"app-progress-bar",105),u.ic(),u.ic(),u.ic()),2&e){var i=t.$implicit,a=u.uc(3);u.Nb(5),u.dd("",a.appConstant.dataTabelName,":"),u.Nb(1),u.dd(" ",null==i?null:i.getTemplateName," "),u.Nb(2),u.Bc("ngIf",1!=(null==i?null:i.showmsg)),u.Nb(1),u.Bc("ngIf","Task completed"==(null==i?null:i.status)||"Task failed"==(null==i?null:i.status)||"Task killed"==(null==i?null:i.status)),u.Nb(2),u.Bc("value",null==i?null:i.percentage)("success",null==i?null:i.status)("progressBarShow",null==i?null:i.progressBarShow)}}function Mo(e,t){if(1&e&&(u.jc(0,"div"),u.Zc(1,xo,12,7,"div",103),u.ic()),2&e){var i=u.uc(2);u.Nb(1),u.Bc("ngForOf",i.result1)}}function Po(e,t){if(1&e&&(u.jc(0,"div"),u.Zc(1,Co,9,2,"div",14),u.Zc(2,Mo,2,1,"div",14),u.ic()),2&e){var i=u.uc();u.Nb(1),u.Bc("ngIf",0==i.result1.length&&1==i.statusPollDiv),u.Nb(1),u.Bc("ngIf",0!=i.result1.length&&i.statusPollDiv)}}function No(e,t){if(1&e&&(u.jc(0,"span",106),u.bd(1),u.ic()),2&e){var i=u.uc();u.Nb(1),u.dd(" Please enter new ",i.appConstant.dataTabelName," Name")}}function Oo(e,t){if(1&e&&(u.jc(0,"span",21),u.bd(1,"Please enter new "),u.jc(2,"b"),u.bd(3),u.ic(),u.ic()),2&e){var i=u.uc();u.Nb(3),u.dd("",i.appConstant.dataTabelName," Name")}}function To(e,t){1&e&&(u.jc(0,"span",21),u.bd(1," Please start naming with alphabets and do not use spaces or special characters except _(underscore) "),u.ic())}function ko(e,t){if(1&e&&(u.jc(0,"span",21),u.bd(1," This "),u.jc(2,"b"),u.bd(3),u.ic(),u.bd(4," is in use. Please choose another name. "),u.ic()),2&e){var i=u.uc();u.Nb(3),u.dd("",i.appConstant.dataTabelName," Name")}}function So(e,t){1&e&&(u.jc(0,"span",107),u.ec(1,"i",108),u.bd(2," WARNING "),u.ic())}function jo(e,t){if(1&e){var i=u.kc();u.jc(0,"div",119),u.jc(1,"table"),u.jc(2,"tr",120),u.jc(3,"td"),u.jc(4,"p-checkbox",121),u.qc("ngModelChange",function(e){return u.Rc(i),u.uc().$implicit.isSelected=e})("onChange",function(){u.Rc(i);var e=u.uc().$implicit;return u.uc(2).checkValue(e.originalValue,e.isSelected)}),u.ic(),u.ic(),u.jc(5,"td"),u.jc(6,"label"),u.bd(7),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc().$implicit,n=u.uc(2);u.Nb(4),u.Bc("ngModel",a.isSelected)("disabled",n.checkboxDisabled&&!a.isSelected),u.Nb(3),u.cd(a.displayValue)}}function _o(e,t){if(1&e&&(u.hc(0),u.Zc(1,jo,8,3,"div",118),u.gc()),2&e){var i=t.$implicit;u.Nb(1),u.Bc("ngIf",!i.necessaryCol&&!i.alwaysSelected)}}function Do(e,t){if(1&e&&(u.jc(0,"div",122),u.bd(1),u.ic()),2&e){var i=u.uc(2);u.Nb(1),u.dd("You can select up to ",i.maxCount," columns.")}}function Io(e,t){if(1&e){var i=u.kc();u.jc(0,"div",109),u.jc(1,"div",110),u.Zc(2,_o,2,1,"ng-container",60),u.ic(),u.ic(),u.jc(3,"div",111),u.jc(4,"div",112),u.jc(5,"div",113),u.Zc(6,Do,2,1,"div",114),u.ic(),u.jc(7,"div",115),u.jc(8,"div"),u.jc(9,"label",116),u.qc("click",function(){return u.Rc(i),u.uc().modalRef.hide()}),u.bd(10,"Close Customize"),u.ic(),u.jc(11,"img",117),u.qc("click",function(){return u.Rc(i),u.uc().modalRef.hide()}),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc();u.Nb(2),u.Bc("ngForOf",a.customizeCols),u.Nb(4),u.Bc("ngIf",a.checkboxDisabled)}}function Fo(e,t){if(1&e&&(u.jc(0,"div",128),u.jc(1,"table"),u.jc(2,"tr"),u.jc(3,"td",129),u.bd(4),u.ic(),u.jc(5,"td"),u.bd(6,"\xa0:\xa0\xa0"),u.ic(),u.jc(7,"td",129),u.bd(8),u.ic(),u.ic(),u.ic(),u.ic()),2&e){var i=u.uc().$implicit,a=u.uc(2);u.Nb(4),u.cd(i.displayValue),u.Nb(4),u.cd(a.selectedRowData[i.originalValue])}}function Vo(e,t){if(1&e&&(u.hc(0),u.Zc(1,Fo,9,2,"div",127),u.gc()),2&e){var i=t.$implicit;u.Nb(1),u.Bc("ngIf",!i.necessaryCol&&!i.isSelected)}}function Bo(e,t){if(1&e){var i=u.kc();u.jc(0,"div",123),u.jc(1,"b"),u.bd(2,"More Columns:"),u.ic(),u.ic(),u.jc(3,"div",109),u.jc(4,"div",124),u.Zc(5,Vo,2,1,"ng-container",60),u.ic(),u.ic(),u.jc(6,"div",111),u.jc(7,"div",6),u.qc("click",function(){return u.Rc(i),u.uc().modalRef.hide()}),u.jc(8,"label",125),u.bd(9,"Close"),u.ic(),u.ec(10,"img",126),u.ic(),u.ic()}if(2&e){var a=u.uc();u.Nb(5),u.Bc("ngForOf",a.customizeCols)}}function Ro(e,t){if(1&e){var i=u.kc();u.hc(0),u.jc(1,"div",119),u.jc(2,"table"),u.jc(3,"tr",120),u.jc(4,"td"),u.jc(5,"p-checkbox",134),u.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return u.Rc(i),u.uc(2).pdfColsValue()}),u.ic(),u.ic(),u.jc(6,"td"),u.jc(7,"label"),u.bd(8),u.ic(),u.ic(),u.ic(),u.ic(),u.ic(),u.gc()}if(2&e){var a=t.$implicit,n=u.uc(2);u.Nb(5),u.Bc("ngModel",a.pdfCols)("disabled",n.pdfCheckboxDisabled&&!a.pdfCols),u.Nb(3),u.cd(a.displayValue)}}function zo(e,t){1&e&&(u.jc(0,"div",122),u.bd(1,"You can select up to 9 columns."),u.ic())}function qo(e,t){if(1&e){var i=u.kc();u.jc(0,"div",123),u.jc(1,"span",106),u.bd(2,"Please select columns that need to be downloaded in PDF"),u.ic(),u.ic(),u.jc(3,"div",130),u.jc(4,"div",110),u.Zc(5,Ro,9,3,"ng-container",60),u.ic(),u.ic(),u.jc(6,"div",111),u.jc(7,"div",112),u.jc(8,"div",131),u.Zc(9,zo,2,0,"div",114),u.ic(),u.jc(10,"div",132),u.jc(11,"button",133),u.qc("click",function(){u.Rc(i);var e=u.uc();return e.exportPdf(),e.modalRef.hide()}),u.ic(),u.ic(),u.jc(12,"div",115),u.jc(13,"div"),u.jc(14,"label",116),u.qc("click",function(){return u.Rc(i),u.uc().closeExportPdf()}),u.bd(15,"Close"),u.ic(),u.jc(16,"img",117),u.qc("click",function(){return u.Rc(i),u.uc().closeExportPdf()}),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()}if(2&e){var a=u.uc();u.Nb(5),u.Bc("ngForOf",a.customizeCols),u.Nb(4),u.Bc("ngIf",a.pdfCheckboxDisabled),u.Nb(2),u.Bc("disabled",a.disableDownloadBtn)}}var Lo=function(){return{width:"50vw"}};Ai.a.vfs=Wi.a.pdfMake.vfs;var Eo,Zo,Ao,Uo=[{path:"",component:ri,data:{breadcrumb:"Tables"},children:[{path:"",redirectTo:"view-template"},{path:"view-screen-data-table",component:Gn.a,data:{breadcrumb:"View Details",templateNameView:"test_data"}},{path:"view-screen-derived-table",component:Gn.a,data:{breadcrumb:"View Details",templateNameView:"test_data"}},{path:"view-table-profiling",component:P.a,data:{breadcrumb:"Profiling",validationTemplate:"test_data"}},{path:"view-template",component:(Eo=function(){function t(e,i,a,n,r,l,c,s,d,p,m){o(this,t),this.dataTemplateService=e,this.spinner=i,this.filterService=a,this.datePipe=n,this.homeServiceService=r,this.router=l,this.detectChanges=c,this.modalService=s,this.messages=d,this.route=p,this.domainProj=m,this.colSpan=5,this.informParent=new u.p,this.appConstant=new X.a,this.projectNames=[],this.templates=[],this.mainTemplates=[],this.pageWiseTemplates=[],this.display=!1,this.deleteModal=!1,this.show=!0,this.connToCpoy={},this.first=0,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.pageSize=9,this.totalNumOfPages=0,this.checkboxDisabled=!1,this.pdfCheckboxDisabled=!1,this.maxCount=4,this.customSortArr=[],this.displayFiltersFor={AdvancedRulesEnabled:!1,Description:!1,CreatedBy:!1,CreatedByUser:!1,ProjectName:!1,CreatedAt:!1,ProjectId:!1,DataLocation:!1,UpdatedAt:!1,Tablename:!1,DataSource:!1,ProfilingEnabled:!1,TemplateName:!1,DeltaApprovalStatus:!1,Template_create_success:!1,TemplateId:!1,databaseName:!1},this.multiSortMeta=[{field:"TemplateId",order:-1}],this.customizeCols=[{displayValue:this.appConstant.dataTabelName+" Id",originalValue:"TemplateId",isSelected:!0,necessaryCol:!1,alwaysSelected:!1,pdfCols:!1},{displayValue:"Name",originalValue:"TemplateName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0,pdfCols:!1},{displayValue:"Data Source",originalValue:"DataLocation",isSelected:!0,necessaryCol:!0,alwaysSelected:!0,pdfCols:!1},{displayValue:"Database",originalValue:"databaseName",isSelected:!0,necessaryCol:!1,alwaysSelected:!1,pdfCols:!1},{displayValue:"Table Name",originalValue:"Tablename",isSelected:!0,necessaryCol:!1,alwaysSelected:!1,pdfCols:!1},{displayValue:"Project",originalValue:"ProjectName",isSelected:!1,necessaryCol:!1,alwaysSelected:!1,pdfCols:!1},{displayValue:"Description",originalValue:"Description",isSelected:!1,necessaryCol:!1,alwaysSelected:!1,pdfCols:!1},{displayValue:"Created By",originalValue:"CreatedByUser",isSelected:!0,necessaryCol:!1,alwaysSelected:!1,pdfCols:!1},{displayValue:"Created On",originalValue:"CreatedAt",isSelected:!0,necessaryCol:!0,alwaysSelected:!1,pdfCols:!1},{displayValue:"Updated On",originalValue:"UpdatedAt",isSelected:!1,necessaryCol:!1,alwaysSelected:!1,pdfCols:!1}],this.templateNamevalid=!0,this.templateNameReq=!1,this.templateNameLengthExceed=!1,this.changedTemplateName=!1,this.regexForTemplateName=/^[a-zA-Z][A-Za-z0-9_]*$/,this.templateNameUnique=!0,this.pdfCheckCount=0,this.columnFilter={},this.filterData={},this.selectedRowData={},this.userDetails={},this.getTabNameByConnNameList=[],this.deleteTemplate=[],this.dataTemplateNamevalid=!0,this.result1=[],this.resultData=[],this.noRecordFound=!1,this.pdfData=[],this.disableDownloadBtn=!0,this.addDataTemplateScreen=!1,this.editDataTemplateScreen=!1,this.addDerivedTemplate=!1,this.editDerivedTemplate=!1,this.showTemplateName=!1,this.statusPollDiv=!1,this.viewScreen=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}return n(t,[{key:"ngOnInit",value:function(){var e;this.domainProj.passDomainProjVal(!1),sessionStorage.removeItem("dataTemplateForMultitable"),sessionStorage.removeItem("connDet"),this.appId=sessionStorage.getItem("idApp"),sessionStorage.getItem("userDetail")&&(this.userDetails=JSON.parse(sessionStorage.getItem("userDetail"))),sessionStorage.getItem("fromDate")?(this.fromDate=new Date(sessionStorage.getItem("fromDate")),this.toDate=new Date(sessionStorage.getItem("toDate"))):(this.fromDate=new Date,this.fromDate.setDate((new Date).getDate()-30),this.toDate=new Date,this.toDate.setDate((new Date).getDate()+1)),this.maxDate=new Date,this.maxDate.setDate((new Date).getDate()+3),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(function(e){e.accessControl=e.accessControl.split("-")}))),this.projectNames=this.homeServiceService.getProjectList(),this.projectNames.map(function(e){e.domainProject=e.domainName+"-"+e.projectName,e.domainAndProjectId=e.domainId+"_"+e.idProject,e.domainAndProjectName=e.domainName+"-"+e.projectName}),sessionStorage.removeItem("templateObj"),sessionStorage.removeItem("templateNameView"),sessionStorage.removeItem("idData"),sessionStorage.removeItem("validationTemplate"),sessionStorage.removeItem("profilingRedirect"),this.getTemplateList()}},{key:"roleOnModule",value:function(e){return this.roleModule.find(function(t){return t.moduleName===e})}},{key:"downloadCSV",value:function(){var e=new N.a;e.SearchByOption="1",e.SearchText="ef",e.ProjectIds=sessionStorage.getItem("activeProjectId");var t=new Date(this.fromDate),i=new Date(this.toDate);e.FromDate=this.datePipe.transform(t,"yyyy-MM-dd"),e.ToDate=this.datePipe.transform(i,"yyyy-MM-dd"),e.filterByDerived=!1,e.domainId=sessionStorage.getItem("activeDomainId"),this.dataTemplateService.downloadCSVDataTemplate(e).subscribe(function(e){return Object(zi.saveAs)(e,"Data_Template.csv")})}},{key:"takeAction",value:function(){this.informParent.emit("The child triggered an event")}},{key:"onFilterClick",value:function(e){var t=this;Object.keys(this.displayFiltersFor).map(function(i){t.displayFiltersFor[i]=i===e})}},{key:"checkValue",value:function(e,t){var i=this;this.checkCount=0,this.customizeCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(e){!0===e.isSelected&&i.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount,this.colSpanCount=this.customizeCols.filter(function(e){return!0===e.isSelected}).length,null!=this.storeFilterValue&&this.storeFilterValue.map(function(a){a==e&&0==t&&i.resetFilter(e)})}},{key:"showMoreCols",value:function(){return this.customizeCols.filter(function(e){return!e.necessaryCol&&e.isSelected}).length<this.customizeCols.length}},{key:"openOtherField",value:function(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"showData",value:function(){return Object(H.a)(this,void 0,void 0,i().mark(function t(){var a,n;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=this.first+this.pageSize,n=this.templates.filter(function(e,t){return t<=a}),this.pageWiseTemplates=e(n),this.mainTemplates=e(this.templates),this.calculateNumOfPages();case 2:case"end":return t.stop()}},t,this)}))}},{key:"getTemplateList",value:function(){return Object(H.a)(this,void 0,void 0,i().mark(function t(){var a,n,o,r=this;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.spinner.show(),a=new Date(this.fromDate),n=new Date(this.toDate),o={SearchByOption:"1",FromDate:this.datePipe.transform(a,"yyyy-MM-dd"),ToDate:this.datePipe.transform(n,"yyyy-MM-dd"),ProjectIds:sessionStorage.getItem("activeProjectId"),SearchText:"",domainId:sessionStorage.getItem("activeDomainId"),filterByDerived:!1},sessionStorage.setItem("fromDate",a.toString()),sessionStorage.setItem("toDate",n.toString()),this.dataTemplateService.getDetailsOfDataTemplateList("getPaginatedDataTemplateList",o).subscribe(function(t){var i=[];if("success"===t.status){t.result.ViewPageDataList.map(function(e){e.TemplateId=parseInt(e.TemplateId),i.push(e)}),r.mainTemplates=[].concat(i),r.templates=e(r.mainTemplates),r.pdfData=e(r.templates),r.totalrecords=r.templates.length;var a=r.first+r.pageSize;null!=r.filterObj&&r.filterObj.forEach(function(e){r.templates=r.templates.filter(function(t){return r.filterService.filters.contains(t[e],r.columnFilter[e])})});var n=r.templates.filter(function(e,t){return t<=a});r.pageWiseTemplates=e(n),r.calculateNumOfPages(),r.checkCount=0,r.customizeCols.filter(function(e){return!1===e.necessaryCol}).forEach(function(e){!0===e.isSelected&&r.checkCount++}),r.checkboxDisabled=r.checkCount>=r.maxCount}else r.mainTemplates=[],r.templates=[],r.pageWiseTemplates=[];r.spinner.hide(),r.spinner.hide()&&(r.noRecordFound=!0)});case 3:case"end":return t.stop()}},t,this)}))}},{key:"createTemplate",value:function(){this.addDataTemplateScreen=!0,this.viewScreen=!1,this.editDataTemplateScreen=!1,this.router.navigateByUrl("/dbckangui/data-template/view-template/add-template")}},{key:"editTemplate",value:function(e){"Derived"===e.DataSource?(sessionStorage.setItem("derivedTemplateDetail",JSON.stringify(e)),this.router.navigateByUrl("/dbckangui/data-template/edit-derived-template")):(sessionStorage.setItem("templateDetail",JSON.stringify(e)),this.editDataTemplateScreen=!0,this.viewScreen=!1,this.addDataTemplateScreen=!1,this.router.navigateByUrl("/dbckangui/data-template/view-template/edit-template"))}},{key:"profiling",value:function(e){sessionStorage.setItem("idData",e.TemplateId),sessionStorage.setItem("validationTemplate",e.TemplateName),sessionStorage.setItem("profilingRedirect","template"),this.router.navigateByUrl("/dbckangui/data-template/view-table-profiling")}},{key:"viewTemplate",value:function(e){sessionStorage.setItem("templateObj",JSON.stringify({idData:e.TemplateId,dataLocation:e.DataLocation,name:e.TemplateName,description:e.Description})),sessionStorage.setItem("templateNameView",e.TemplateName),this.viewScreen=!0,this.router.navigateByUrl("/dbckangui/data-template/view-screen-data-table")}},{key:"deleteTemplates",value:function(e){this.deleteModal=!0,this.deleteTemplate=e}},{key:"calculateNumOfPages",value:function(){if(this.totalNumOfPages=this.mainTemplates.length?this.mainTemplates.length<this.pageSize?1:Math.ceil(this.mainTemplates.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}},{key:"onPageChange",value:function(t){var i=this;this.first=t.first;var a=this.getSortedData(),n=this.first+this.pageSize,o=a.filter(function(e,t){if(t<=n&&t>=i.first)return e});this.selectedPage={pageIndex:t.page,page:t.page+1},this.pageWiseTemplates=e(o)}},{key:"onPageNumChange",value:function(t){var i=this;this.selectedPage={page:t.value.page,pageIndex:t.value.pageIndex},this.first=1===t.value.page?0:10*(t.value.page-1);var a=this.getSortedData(),n=this.first+this.pageSize,o=a.filter(function(e,t){if(t<=n&&t>=i.first)return e});this.pageWiseTemplates=e(o)}},{key:"getSortedData",value:function(){var t=this,i=e(this.templates);return this.sortOrderEvent?1===this.sortOrderEvent.order?(i.sort(function(e,i){return e[t.sortOrderEvent.field]>i[t.sortOrderEvent.field]?1:i[t.sortOrderEvent.field]>e[t.sortOrderEvent.field]?-1:0}),i):(i.sort(function(e,i){return e[t.sortOrderEvent.field]>i[t.sortOrderEvent.field]?-1:i[t.sortOrderEvent.field]>e[t.sortOrderEvent.field]?1:0}),i):i}},{key:"successToasty",value:function(e){this.messages.displayToaster(e,"success","Success")}},{key:"deleteConfirm",value:function(){var e=this;this.deleteModal=!1,this.dataTemplateService.deleteTemplate("deleteDataTemplate",{dataTemplateId:this.deleteTemplate.TemplateId}).subscribe(function(t){e.getTemplateList()})}},{key:"copyTemplate",value:function(e){this.display=!0,this.templateNameReq=!1,this.templateNamevalid=!0,this.templateNameUnique=!0,this.changedTemplateName=!1,this.connToCpoy=JSON.parse(JSON.stringify(e)),this.checkDupTemplateName()}},{key:"customSort",value:function(t){var i=this;this.sortField=t.field,this.sortOrder=t.order,this.sortMode=t.mode,this.customSortArr.filter(function(e){return e.field=t.field})[0]?this.customSortArr.map(function(e){e.order=t.order}):this.customSortArr.push(t);var a=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=a+1,this.selectedPage.pageIndex=a,this.sortOrderEvent=t;var n=e(this.templates),o=e(this.sortOrderEvent.multiSortMeta);o.length>=6&&(t.multiSortMeta=t.multiSortMeta.splice(6,1)),1===o.length?n.sort(function(e,t){return e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]?-o[0].order:0}):2===o.length?n.sort(function(e,t){return e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]?-o[1].order:0}):3===o.length?n.sort(function(e,t){return e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]?-o[2].order:0}):4===o.length?n.sort(function(e,t){return e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]&&-o[2].order||e[o[3].field]>t[o[3].field]?o[3].order:t[o[3].field]>e[o[3].field]?-o[3].order:0}):5===o.length?n.sort(function(e,t){return e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]&&-o[2].order||e[o[3].field]>t[o[3].field]?o[3].order:t[o[3].field]>e[o[3].field]&&-o[3].order||e[o[4].field]>t[o[4].field]?o[4].order:t[o[4].field]>e[o[4].field]?-o[4].order:0}):6===o.length&&n.sort(function(e,t){return e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]&&-o[2].order||e[o[3].field]>t[o[3].field]?o[3].order:t[o[3].field]>e[o[3].field]&&-o[3].order||e[o[4].field]>t[o[4].field]?o[4].order:t[o[4].field]>e[o[4].field]&&-o[4].order||e[o[5].field]>t[o[5].field]?o[5].order:t[o[5].field]>e[o[5].field]?-o[5].order:0});var r=this.first+this.pageSize,l=n.filter(function(e,t){if(t<=r&&t>=i.first)return e});this.pageWiseTemplates=e(l)}},{key:"showCustomizeModal",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"checkDupTemplateName",value:function(){var e=this;this.changedTemplateName=!0,this.templateNameUnique=!1,this.connToCpoy.TemplateName.length>=1?(this.templateNameReq=!1,this.connToCpoy.TemplateName.length<=500?this.regexForTemplateName.test(this.connToCpoy.TemplateName)?(this.templateNamevalid=!0,this.dataTemplateService.templateDuplicateCheck("checkTemplateNameForDuplicate",{templateName:this.connToCpoy.TemplateName}).subscribe(function(t){e.templateNameUnique=!1!==t.result.isDataTemplateNameValid},function(t){e.templateNameUnique=!1})):(this.templateNamevalid=!1,this.templateNameUnique=!0):(this.templateNamevalid=!0,this.templateNameUnique=!0)):(this.templateNameReq=!0,this.templateNamevalid=!0,this.templateNameUnique=!0,this.templateNameLengthExceed=!1)}},{key:"copyNewTemplate",value:function(){var e=this;!this.templateNameReq&&this.templateNameUnique&&this.templateNamevalid&&(this.display=!1,this.dataTemplateService.copyTemplate("copyTemplate",{newTemplateName:this.connToCpoy.TemplateName,dataTemplateId:this.connToCpoy.TemplateId,createdBy:this.userDetails.firstName}).subscribe(function(t){"success"===t.status&&e.getTemplateList()}))}},{key:"deleteCancel",value:function(){this.deleteModal=!1}},{key:"getFilterData",value:function(t){var i=this;this.filterObj=t,this.columnFilter[t[0]]=t[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var a=Object.keys(this.columnFilter);this.storeFilterValue=a,this.displayFiltersFor[t[0]]=!1,this.first=0,this.globalFilterValue||(this.templates=e(this.mainTemplates)),a.forEach(function(e){i.templates=i.templates.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"globalFilterFun",value:function(t){var i=e(this.globalFilterLogic()),a=this.first+this.pageSize,n=i.filter(function(e,t){return t<=a});this.detectChanges.detectChanges(),this.pageWiseTemplates=e(n),this.setPageNumber()}},{key:"globalFilterLogic",value:function(){var t=this;if(this.mainTemplates.length){var i=Object.keys(this.mainTemplates[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainTemplates.forEach(function(e){var a=!1;i.forEach(function(i){e[i]&&e[i].toString().toLowerCase().includes(t.globalFilterValue.toLowerCase())&&!a&&(t.filterValue.push(e),a=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var a=Object.keys(this.columnFilter);this.first=0,a.forEach(function(e){t.filterValue=t.filterValue.filter(function(i){return t.filterService.filters.contains(i[e],t.columnFilter[e])})})}return this.templates=e(this.filterValue),this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=e(this.mainTemplates),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var n=Object.keys(this.columnFilter);this.first=0,n.forEach(function(e){t.filterValue=t.filterValue.filter(function(i){return t.filterService.filters.contains(i[e],t.columnFilter[e])})})}return this.templates=e(this.filterValue),this.calculateNumOfPages(),this.templates}return[]}},{key:"resetFilter",value:function(t){var i=this;this.columnFilter[t]=null,delete this.columnFilter[t],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));var a=Object.keys(this.columnFilter);this.displayFiltersFor[t]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.templates=e(this.mainTemplates),a.forEach(function(e){i.templates=i.templates.filter(function(t){return i.filterService.filters.contains(t[e],i.columnFilter[e])})}),this.setPageNumber()}},{key:"setPageNumber",value:function(){if(this.totalNumOfPages=this.templates.length?this.templates.length<this.pageSize?1:Math.ceil(this.templates.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(var t=0;t<this.totalNumOfPages;t++)this.numOfPages.push({pageIndex:t,page:t+1})}var i=this.first+this.pageSize,a=this.templates.filter(function(e,t){return t<=i});this.pageWiseTemplates=e(a)}},{key:"hideBox",value:function(e){this.displayFiltersFor[e.fieldName]=!1}},{key:"getFilterState",value:function(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){var t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}},{key:"isMoreDisplayed",get:function(){var e;return e=this.customizeCols.length?this.customizeCols.filter(function(e){return e.isSelected}):[],this.customizeCols.length!==e.length}},{key:"reRunTemplate",value:function(e){var t=this;this.statusPollDiv=!0,this.getTemplatename=e.TemplateName,this.show=!1,this.spinner.show(),setTimeout(function(){var i,a={template:e,urlName:"rerunDataTemplate"};t.showTemplateName=!0,t.getTemplatename=null===(i=null==a?void 0:a.template)||void 0===i?void 0:i.TemplateName,t.dataTemplateService.commonstatuspoll(a.urlName,{dataTemplateId:a.template.TemplateId}).subscribe(function(e){t.spinner.hide(),null==e.result?(t.displayMessage=null==e?void 0:e.message,t.resultData.push(e)):(t.displayMessage=null==e?void 0:e.message,t.resultData.push(e),t.resultData.map(function(i){i.intervalIdOfTemp=setInterval(function(){var n,o=new N.b;o.idData=null==a?void 0:a.template.TemplateId,o.uniqueId=null===(n=e.result)||void 0===n?void 0:n.uniqueId,t.dataTemplateService.createStatusPoll("templateStatusPoll",o).subscribe(function(e){t.result1[0]=e,t.result1[0].getTemplateName=null==a?void 0:a.template.TemplateName,"Task queued"===t.result1[0].status||"Task started"===t.result1[0].status?t.result1[0].progressBarShow=!1:"Task in progress"===t.result1[0].status?(t.result1[0].progressBarShow=!0,e.percentage>=100&&(e.percentage=100)):"Task completed"===t.result1[0].status?(t.result1[0].progressBarShow=!1,clearInterval(i.intervalIdOfTemp),t.displayMessageLatest=t.displayMessage.replace(/in progress/gi,"completed"),t.result1[0].showmsg=!0):"Task failed"===t.result1[0].status?(t.result1[0].progressBarShow=!1,clearInterval(i.intervalIdOfTemp),t.displayMessageLatest=t.displayMessage.replace(/in progress/gi,"failed"),t.result1[0].showmsg=!0):"Task killed"===t.result1[0].status?(t.result1[0].progressBarShow=!1,clearInterval(i.intervalIdOfTemp),t.displayMessageLatest=t.displayMessage.replace(/in progress/gi,"killed"),t.result1[0].showmsg=!0):"Task "===t.result1[0].status&&(t.result1[0].status="Task killed",t.result1[0].progressBarShow=!1,clearInterval(i.intervalIdOfTemp),t.displayMessageLatest=t.displayMessage.replace(/in progress/gi,"killed"),t.result1[0].showmsg=!0)})},3e3)}))})},2e3)}},{key:"ngOnDestroy",value:function(){var e;clearInterval(this.interval),clearInterval(this.interval1),null===(e=this.modalRef)||void 0===e||e.hide(),this.resultData.map(function(e){clearInterval(e.intervalIdOfTemp)})}},{key:"rerunProfiling",value:function(e){var t=this;this.statusPollDiv=!0,this.getTemplatename=e.TemplateName,this.show=!1,this.spinner.show(),setTimeout(function(){var i,a={template:e,urlName:"rerunTemplateProfiling"};t.showTemplateName=!1,t.getTemplatename=null===(i=null==a?void 0:a.template)||void 0===i?void 0:i.TemplateName,t.dataTemplateService.commonstatuspoll(a.urlName,{dataTemplateId:a.template.TemplateId}).subscribe(function(e){t.spinner.hide(),null==e.result?(t.displayMessage=null==e?void 0:e.message,t.resultData.push(e)):(t.displayMessage=null==e?void 0:e.message,t.resultData.push(e),t.resultData.map(function(i){i.intervalIdOfTemp=setInterval(function(){var n,o=new N.b;o.idData=null==a?void 0:a.template.TemplateId,o.uniqueId=null===(n=e.result)||void 0===n?void 0:n.uniqueId,t.dataTemplateService.createStatusPoll("templateStatusPoll",o).subscribe(function(e){t.result1[0]=e,t.result1[0].getTemplateName=null==a?void 0:a.template.TemplateName,"Task queued"===t.result1[0].status||"Task started"===t.result1[0].status?t.result1[0].progressBarShow=!1:"Task in progress"===t.result1[0].status?(t.result1[0].progressBarShow=!0,e.percentage>=100&&(e.percentage=100)):"Task completed"===t.result1[0].status?(t.result1[0].progressBarShow=!1,clearInterval(i.intervalIdOfTemp),t.displayMessageLatest=t.displayMessage.replace(/in progress/gi,"completed"),t.result1[0].showmsg=!0):"Task failed"===t.result1[0].status?(t.result1[0].progressBarShow=!1,clearInterval(i.intervalIdOfTemp),t.displayMessageLatest=t.displayMessage.replace(/in progress/gi,"failed"),t.result1[0].showmsg=!0):"Task killed"===t.result1[0].status?(t.result1[0].progressBarShow=!1,clearInterval(i.intervalIdOfTemp),t.displayMessageLatest=t.displayMessage.replace(/in progress/gi,"killed"),t.result1[0].showmsg=!0):"Task "===t.result1[0].status&&(t.result1[0].status="Task killed",t.result1[0].progressBarShow=!1,clearInterval(i.intervalIdOfTemp),t.displayMessageLatest=t.displayMessage.replace(/in progress/gi,"killed"),t.result1[0].showmsg=!0)})},3e3)}))})},2e3)}},{key:"exportPdf",value:function(){var e=this;this.pdfData.length&&(this.spinner.show(),setTimeout(function(){e.getProjectName=e.projectNames.filter(function(e){return e.idProject===parseInt(sessionStorage.getItem("activeProjectId"),10)})[0].projectName,e.getDomainName=e.projectNames.filter(function(e){return e.domainId===parseInt(sessionStorage.getItem("activeDomainId"),10)})[0].domainName;var t=new Date(e.fromDate),i=new Date(e.toDate),a=e.datePipe.transform(t,"yyyy-MM-dd"),n=e.datePipe.transform(i,"yyyy-MM-dd"),o=new qi.default("l","pt"),r=e.customizeCols.filter(function(e){return e.pdfCols}),l=[];r.forEach(function(e){return l.push(e.displayValue)});var c,s=[];r.forEach(function(e){return s.push(e.originalValue)}),c=e.pdfData.map(function(e){return Object.assign(s.map(function(t){return e[t]}))});var d=o.internal.pageSize,p=d.height?d.height:d.getHeight();Ei()(o,{columns:l,body:c,didDrawPage:function(t){1==t.pageNumber&&(o.text("Validation Templates",o.internal.pageSize.width/2,25,null,"center"),o.setFontSize(10),o.text("Domain-Project Name: "+e.getDomainName+"-"+e.getProjectName,t.settings.margin.left,40),o.text("From Date: "+a,t.settings.margin.left,55),o.text("To Date: "+n,t.settings.margin.left,70)),o.setFontSize(9),o.text("Created by FirstEigen",o.internal.pageSize.width-40,p-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}},columnStyles:{}}),o.save("ValidationTemplate.pdf"),e.disableDownloadBtn=!0,e.pdfCheckboxDisabled=!1,r.forEach(function(e){return e.pdfCols=!1}),e.spinner.hide()},2e3))}},{key:"openExportPdf",value:function(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}},{key:"closeExportPdf",value:function(){var e=this;this.modalRef.hide(),setTimeout(function(){e.pdfCheckCount=0,e.pdfCheckboxDisabled=!1,e.disableDownloadBtn=!0,e.customizeCols.forEach(function(e){return e.pdfCols=!1})},1e3)}},{key:"pdfColsValue",value:function(){var e=this;this.pdfCheckCount=0,this.customizeCols.filter(function(e){return!0===e.pdfCols}).forEach(function(t){!0===t.pdfCols&&e.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}},{key:"filterColumnNameWithHighlightName",value:function(e){return!(Object.keys(this.columnFilter).findIndex(function(t){return t===e})<0)}},{key:"activeTab",value:function(e){switch(e){case"addDataTemplateScreen":this.resultData.map(function(e){clearInterval(e.intervalIdOfTemp)}),this.statusPollDiv=!1,this.result1=[],this.resultData=[],this.addDataTemplateScreen=!1,this.viewScreen=!1,this.editDataTemplateScreen=!1,this.domainProj.passDomainProjVal(!1),this.router.navigateByUrl("/dbckangui/data-template/view-template");break;case"addDerivedTemplate":this.addDerivedTemplate=!1,this.domainProj.passDomainProjVal(!1),this.router.navigateByUrl("/dbckangui/data-template/view-derived-template");break;case"addReferenceScreen":this.domainProj.passDomainProjVal(!1),this.router.navigateByUrl("/dbckangui/data-template/view-references");break;case"customMicrosegment":this.domainProj.passDomainProjVal(!1),this.router.navigateByUrl("/dbckangui/data-template/custom-microsegment")}}}]),t}(),Eo.\u0275fac=function(e){return new(e||Eo)(u.dc(k.a),u.dc(ie.c),u.dc(g.d),u.dc(c.d),u.dc(T.a),u.dc(M.i),u.dc(u.h),u.dc(Qi.a),u.dc(te.a),u.dc(M.a),u.dc(S.a))},Eo.\u0275cmp=u.Xb({type:Eo,selectors:[["app-view-template"]],outputs:{informParent:"informParent"},decls:52,vars:26,consts:[[1,"main-profile"],["id","profilingscreen",1,"content-wrapper","top","profile-screen"],["profilingscreen",""],[1,"row"],[1,"col-sm-12","adjust"],[1,"nav","nav-pills","justify-content-left"],[3,"click"],["id","dataTable-tab","data-toggle","tab","href","#dataTable",1,"active"],["id","derivedTemplate-tab","data-toggle","tab","href","#derivedTemplate"],["id","referenceView-tab","data-toggle","tab","href","#referenceView"],["id","customMicrosegment-tab","data-toggle","tab","href","#customMicrosegment"],[1,"tab-content","clearfix"],["id","dataTable",1,"tab-pane","active"],["class","container-fluid create-conn-main",4,"ngIf"],[4,"ngIf"],["id","derivedTemplate",1,"tab-pane"],["id","referenceView",1,"tab-pane"],["id","customMicrosegment",1,"tab-pane"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pTemplate","header"],["id","TemplateName","maxlength","500","type","text","pInputText","",1,"form-field","copy-ip",3,"placeholder","ngModel","ngModelChange","keyup"],[1,"err-msg"],["class","err-msg",4,"ngIf"],["pButton","","type","button","label","Submit",1,"button","w-button","btn-mr-rt","submit-btn","btn-label",3,"disabled","click"],["pButton","","type","button","label","Delete",1,"mr-top-10","button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],["template",""],["moreTemplate",""],["exportPdfTemplate",""],[1,"container-fluid","create-conn-main"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","text-right"],["pButton","","type","button","label","Add a table to validate",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn",3,"ngClass","click"],[1,"row","br-top"],[1,"col-sm-12","col-md-3","padd-l"],["for","from_date",1,"form-label"],["yearRange","2000:2030","inputId","dateformat","dateFormat","yy-mm-dd","appendTo","body",1,"dateField",3,"styleClass","maxDate","ngModel","showIcon","monthNavigator","yearNavigator","readonlyInput","ngModelChange"],[1,"col-sm-12","col-md-3"],["yearRange","2000:2030","inputId","dateformat","dateFormat","yy-mm-dd","appendTo","body",3,"styleClass","minDate","maxDate","ngModel","showIcon","monthNavigator","yearNavigator","readonlyInput","ngModelChange"],[1,"col-sm-12","col-md-3","pd-top-30"],["pButton","","type","button","label","Show",1,"button","w-button","logoutButton","submit-btn",3,"click"],[1,"col-md-3","d-flex","justify-content-end","pr-28","align-items-end"],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["id","view_data_temp",1,"row","p-field"],[1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","responsiveLayout","scroll","sortMode","multiple",3,"value","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","multiSortMeta","rows","first","customSort","firstChange","sortFunction"],["pTemplate","caption"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"float-right",3,"click"],["src","assets/images/Vector.png","width","25px"],[1,"header"],[4,"ngFor","ngForOf"],[1,"width_100"],[1,"min_width_70"],["class","min_width_60",4,"ngIf"],[3,"class",4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"min_width_60"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Copy","aria-hidden","true",1,"fa","fa-files-o"],[1,"actions",3,"click"],["title","View","aria-hidden","true",1,"fa","fa-eye","iconColor"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil","iconColor"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],["class","actions",3,"ngClass","click",4,"ngIf"],["title","Rediscover rules","aria-hidden","true",1,"fa","fa-repeat","rerun_datatable"],["class","more-display min_width_60",3,"click",4,"ngIf"],["class","text-center word_break_word_all rule-ellipsis",3,"title","class",4,"ngIf"],["class","text-center word_break_word_all rule-ellipsis",3,"title",4,"ngIf"],[1,"text-center","word_break_word_all","rule-ellipsis",3,"title"],["type","button",3,"ngClass"],["class","deltaStatus",3,"title","ngClass",4,"ngIf"],[1,"deltaStatus",3,"title","ngClass"],["src","assets/images/01-statistics-2.png","loading","lazy","alt","Profiling","title","Profiling",1,"iconColor","imgSize"],["title","Rerun Profile","aria-hidden","true",1,"fa","fa-repeat","rerun_profile"],[1,"more-display","min_width_60",3,"click"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","virtualScroll","itemSize","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"progress-container"],[1,"row","p-field","task-progress-container"],["class","form-title padding-left-0",4,"ngIf"],[1,"col-sm-12","col-md-12","req-field","padding-left-0"],[1,"form-title","padding-left-0"],["class","container-fluid create-conn-main",4,"ngFor","ngForOf"],["class","col-sm-12 col-md-12 req-field padding-left-0",4,"ngIf"],[3,"value","appName","success","progressBarShow"],[1,"modal-title"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],[1,"modal-body"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-8"],["class","color-code",4,"ngIf"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname","value","customizeCols[col.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"],[1,"modal-header"],[1,"row","padding-btm1"],[1,"cursor-pointer"],["src","assets/images/close.png",1,"margin-l","cursor-pointer"],["class","col-sm-6 padding-btm3",4,"ngIf"],[1,"col-sm-6","padding-btm3"],[1,"field-dis-val"],[1,"modal-body","pdf-modal"],[1,"col-lg-4"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"]],template:function(e,t){1&e&&(u.jc(0,"div",0),u.jc(1,"div",1,2),u.jc(3,"div",3),u.jc(4,"div",4),u.jc(5,"ul",5),u.jc(6,"li",6),u.qc("click",function(){return t.activeTab("addDataTemplateScreen")}),u.jc(7,"a",7),u.bd(8),u.ic(),u.ic(),u.jc(9,"li",6),u.qc("click",function(){return t.activeTab("addDerivedTemplate")}),u.jc(10,"a",8),u.bd(11,"Derived Tables"),u.ic(),u.ic(),u.jc(12,"li",6),u.qc("click",function(){return t.activeTab("addReferenceScreen")}),u.jc(13,"a",9),u.bd(14,"Reference Data"),u.ic(),u.ic(),u.jc(15,"li",6),u.qc("click",function(){return t.activeTab("customMicrosegment")}),u.jc(16,"a",10),u.bd(17," Custom Microsegment "),u.ic(),u.ic(),u.ic(),u.jc(18,"div",11),u.jc(19,"div",12),u.Zc(20,bo,2,1,"div",13),u.Zc(21,Po,3,2,"div",14),u.ec(22,"router-outlet"),u.ic(),u.ec(23,"div",15),u.ec(24,"div",16),u.ec(25,"div",17),u.ic(),u.ic(),u.ic(),u.ic(),u.ic(),u.jc(26,"p-dialog",18),u.qc("visibleChange",function(e){return t.display=e}),u.Zc(27,No,2,1,"ng-template",19),u.jc(28,"input",20),u.qc("ngModelChange",function(e){return t.connToCpoy.TemplateName=e})("keyup",function(){return t.checkDupTemplateName()}),u.ic(),u.jc(29,"p",21),u.Zc(30,Oo,4,1,"span",22),u.Zc(31,To,2,0,"span",22),u.Zc(32,ko,5,1,"span",22),u.ic(),u.jc(33,"p-footer"),u.jc(34,"button",23),u.qc("click",function(){return t.copyNewTemplate()}),u.ic(),u.ic(),u.ic(),u.jc(35,"p-dialog",18),u.qc("visibleChange",function(e){return t.deleteModal=e}),u.Zc(36,So,3,0,"ng-template",19),u.jc(37,"p"),u.bd(38," If "),u.jc(39,"b"),u.bd(40),u.ic(),u.bd(41," template is deleted , every validation which uses this template will be deleted "),u.ic(),u.jc(42,"p"),u.bd(43," Press 'Delete' to delete a template, else Press Cancel."),u.ic(),u.jc(44,"p-footer"),u.jc(45,"button",24),u.qc("click",function(){return t.deleteConfirm()}),u.ic(),u.ic(),u.ic(),u.Zc(46,Io,12,2,"ng-template",null,25,u.ad),u.Zc(48,Bo,11,1,"ng-template",null,26,u.ad),u.Zc(50,qo,17,3,"ng-template",null,27,u.ad)),2&e&&(u.Nb(8),u.dd(" ",t.appConstant.dataTabelName,"s "),u.Nb(12),u.Bc("ngIf",0===t.route.children.length&&0==t.statusPollDiv),u.Nb(1),u.Bc("ngIf",t.statusPollDiv),u.Nb(5),u.Vc(u.Ec(24,Lo)),u.Bc("visible",t.display)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),u.Nb(2),u.Dc("placeholder","Enter ",t.appConstant.dataTabelName," Name"),u.Bc("ngModel",t.connToCpoy.TemplateName),u.Nb(2),u.Bc("ngIf",t.templateNameReq),u.Nb(1),u.Bc("ngIf",!t.templateNamevalid),u.Nb(1),u.Bc("ngIf",!t.templateNameUnique),u.Nb(2),u.Bc("disabled",!t.templateNamevalid||!t.templateNameUnique||!t.changedTemplateName||t.templateNameReq),u.Nb(1),u.Vc(u.Ec(25,Lo)),u.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),u.Nb(5),u.dd("",t.deleteTemplate.TemplateName," "))},directives:[c.n,M.m,p.a,g.i,s.d,s.k,j.a,s.o,s.r,g.e,m.b,c.l,ma.a,It.f,c.m,It.d,It.e,Ft.a,y.a,ae.a,D.a,re.a],pipes:[c.x],styles:['@charset "UTF-8";[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.padd-l[_ngcontent-%COMP%]{padding-left:28px}.pr-28[_ngcontent-%COMP%]{padding-right:28px}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px;word-break:break-word}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.wordBreak[_ngcontent-%COMP%]{overflow-wrap:break-word;width:10rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.word_break_word_all[_ngcontent-%COMP%]{word-break:break-word!important;overflow-wrap:break-word!important}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.deltaStatus[_ngcontent-%COMP%]{border-radius:3px;color:#eef1f5;font-size:10px;padding:1.5px}.approved[_ngcontent-%COMP%]{background-color:#56b608}.revire-waiting[_ngcontent-%COMP%]{background-color:red}.rejected[_ngcontent-%COMP%]{background-color:#e72b56;border-radius:3px;color:#eef1f5}.iconColorOnFailed[_ngcontent-%COMP%]{color:#e72b56}.imgOnSuccess[_ngcontent-%COMP%]{color:#56b608}.imgSize[_ngcontent-%COMP%]{width:14px;height:auto}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.mr-top-10[_ngcontent-%COMP%]{margin-top:10px!important}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{height:40px}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:10px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:500;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:38px!important}.rule-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:38px!important;margin:0!important;box-shadow:none!important}[_nghost-%COMP%]     p-dropdown .p-inputtext, [_nghost-%COMP%]     p-dropdown p-dropdownitem{font-family:Open Sans!important;font-size:14px!important;font-weight:400;width:100%!important;border-radius:10px!important;height:38px!important}[_nghost-%COMP%]     p-dropdown .p-dropdown-empty-message{font-family:Open Sans!important;font-size:16px!important;font-weight:400}[_nghost-%COMP%]     p-dropdown ::-webkit-scrollbar{width:7px}[_nghost-%COMP%]     p-dropdown ::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px linear-gradient(180deg,#001585,#ff7526 .01%,#fb9a64 97.92%);border-radius:7px}[_nghost-%COMP%]     p-dropdown ::-webkit-scrollbar-thumb{border-radius:7px;background:linear-gradient(180deg,#001585,#ff7526 .01%,#fb9a64 97.92%);-webkit-box-shadow:inset 0 0 6pxlinear-gradient 180deg,0 #001585,.01% #ff7526,97.92% #fb9a64}[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr>th{padding-left:1px;padding-right:1px}[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr{font-family:Open Sans!important;font-size:14px!important;font-weight:400;vertical-align:top}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:30px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}[_nghost-%COMP%]     .p-datatable .p-paginator-bottom{border-bottom-left-radius:10px!important;border-bottom-right-radius:10px!important}[_nghost-%COMP%]     .pi-filter:before{content:"\ue94c";font-size:14px}[_nghost-%COMP%]     .pi-sort-alt:before{content:"\ue99e";font-size:13px}[_nghost-%COMP%]     .p-overlaypanel .p-overlaypanel-content{padding:1rem;background:#fff4ee!important}[_nghost-%COMP%]     .p-checkbox .p-checkbox-box.p-highlight{border-color:linear-gradient(180deg,#ff7526,#fb9a64)!important;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-checkbox .p-checkbox-box{border-color:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-dialog .p-dialog-header{background:#fff4ee!important;padding:10px!important}[_nghost-%COMP%]     .p-dialog .p-dialog-content{background:#fff4ee!important;padding-bottom:10px!important}[_nghost-%COMP%]     .p-dialog .p-dialog-footer{background:#fff4ee!important;padding-bottom:10px!important}[_nghost-%COMP%]     .p-paginator .p-paginator-pages .p-paginator-page.p-highlight{background:transparent!important;border:2px solid #ff7526!important;color:#495057!important;border-radius:6px!important;font-weight:400!important}[_nghost-%COMP%]     .p-paginator .p-paginator-pages .p-paginator-page{font-weight:400!important}.minWidth[_ngcontent-%COMP%]{width:170px}.pdf-modal[_ngcontent-%COMP%]{padding-bottom:0}.adjust[_ngcontent-%COMP%]{top:10px}.nav-pills[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #dedede;border-radius:8px 8px 0 0}.nav-pills[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:50px;position:relative}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:-1%;margin-top:.1%;top:10px}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;padding:15px 20px;line-height:19px;color:#717171;font-size:14px;font-weight:700;z-index:1}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:transparent;border-color:transparent}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";width:100%;height:50px;position:absolute;bottom:1%;left:-1px;font-size:12px;background:transparent;border:1px solid transparent;z-index:-1}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:before{background:linear-gradient(180deg,transparent,transparent);bottom-border-color:#dedede;font-size:16px;font-family:Open Sans!important;text-align:center;border-radius:8px 8px 0 0}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:focus, .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:hover{border:1px solid transparent;background:transparent;color:#951447;font-weight:700;z-index:2;-webkit-text-decoration:underline 3px;text-decoration:underline 3px;text-underline-offset:8px}a[_ngcontent-%COMP%]:hover{text-decoration:none}@media only screen and (max-width:767px){.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:15px 10px;font-size:12px}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{bottom:6px}}@media only screen and (max-width:480px){.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;margin-bottom:5px}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{bottom:0;transform:none;border-bottom:1px solid #d3d3d3}}.main-profile[_ngcontent-%COMP%]{margin-top:2%}.tab-content[_ngcontent-%COMP%]   .tab-pane[_ngcontent-%COMP%]{box-shadow:0 0 15px #e6e5e5;padding:5px 20px 20px;background:#fff;line-height:22px}.tab-content[_ngcontent-%COMP%]   .tab-pane[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.val_css[_ngcontent-%COMP%]{padding-left:30px;font-size:15px;font-weight:600;margin-top:10px}.padding-left-0[_ngcontent-%COMP%]{padding-left:0!important}.template_create_success[_ngcontent-%COMP%]{background:#b2e7b2}.template_create_fail[_ngcontent-%COMP%], .template_create_success[_ngcontent-%COMP%]{border-radius:15px;padding:2px 7px;width:97%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:none;cursor:auto}.template_create_fail[_ngcontent-%COMP%]{background:#f7877b}.rerun_profile[_ngcontent-%COMP%]{color:#001585}.rerun_datatable[_ngcontent-%COMP%]{color:#c32121}']}),Eo),data:{breadcrumb:"Data Tables"},children:[{path:"add-template",component:Dt,data:{breadcrumb:"Add"}},{path:"edit-template",component:Dt,data:{breadcrumb:"Edit Data Table"}}]},{path:"view-derived-template",component:on,data:{breadcrumb:"Derived Tables"},children:[{path:"add-derived-template",component:Ri,data:{breadcrumb:"Add Derived Table"}},{path:"edit-derived-template",component:Ri,data:{breadcrumb:"Edit Derived Table"}}]},{path:"custom-microsegment",component:ni,data:{breadcrumb:"Custom Microsegment"}},{path:"view-references",component:ua,data:{breadcrumb:"Reference Data"},children:[{path:"view-list",component:$n,data:{refdataName:"test_data"}},{path:"add-internal-reference",component:J,data:{refdataName:"Add Internal Reference"}}]}]}],Wo=((Zo=n(function e(){o(this,e)})).\u0275fac=function(e){return new(e||Zo)},Zo.\u0275mod=u.bc({type:Zo}),Zo.\u0275inj=u.ac({imports:[[M.l.forChild(Uo)],M.l]}),Zo),Qo=r("PCNd"),$o=((Ao=n(function e(){o(this,e)})).\u0275fac=function(e){return new(e||Ao)},Ao.\u0275mod=u.bc({type:Ao}),Ao.\u0275inj=u.ac({imports:[[c.b,Wo,b.b,w.a,s.j,x.a,s.u,d.a,p.b,y.b,C,Qo.a]]}),Ao)},w6bx:function(e,t,i){"use strict";i.d(t,"b",function(){return a}),i.d(t,"a",function(){return r});var a=n(function e(){o(this,e)}),r=n(function e(){o(this,e)})}}])}();