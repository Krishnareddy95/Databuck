(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"0DOw":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s});class i{}class s{}},Ldox:function(t,e,a){"use strict";a.r(e),a.d(e,"ValidationDetailsModule",function(){return $t});var i=a("ofXK"),s=a("3Pt+"),n=a("CV0D"),o=a("ThbA"),c=a("tyNb"),r=a("0DOw"),l=a("fXoL"),d=a("bUwk"),g=a("J4N/"),u=a("tPnb"),h=a("ey9i"),p=a("GFnV"),m=a("K1R0");const b=["horizontalscrollDetail"],f=["horizontalscrollDetailBottom"];function y(t,e){if(1&t&&(l.jc(0,"div",10),l.jc(1,"label",11),l.bd(2),l.ic(),l.ic()),2&t){const t=l.uc();l.Nb(2),l.dd("Table Name: ",t.fileName,"")}}function v(t,e){if(1&t&&(l.jc(0,"span",24),l.bd(1),l.ic()),2&t){const t=l.uc(2);l.Nb(1),l.cd(t.statusPoll.status)}}const k=function(t){return{"fa-spin fa-spinner":t}};function C(t,e){if(1&t){const t=l.kc();l.jc(0,"span",20),l.jc(1,"button",21),l.qc("click",function(){return l.Rc(t),l.uc().runStatusPoll()}),l.ec(2,"i",22),l.bd(3," Run "),l.ic(),l.ec(4,"br"),l.Zc(5,v,2,1,"span",23),l.ic()}if(2&t){const t=l.uc();l.Nb(1),l.Bc("disabled",t.isLoading),l.Nb(1),l.Bc("ngClass",l.Fc(3,k,t.isLoading)),l.Nb(3),l.Bc("ngIf",("Task killed"==t.statusPoll.status||"Task failed"==t.statusPoll.status)&&t.displayTaskStatus)}}function D(t,e){if(1&t&&(l.jc(0,"span",25),l.ec(1,"circle-progress",26),l.ic()),2&t){const t=l.uc();l.Nb(1),l.Bc("percent",t.statusPoll.percentage)("radius",30)("outerStrokeWidth",8)("showSubtitle",!1)("outerStrokeColor","#951447")("subtitleFontSize",8)("space",-8)("innerStrokeColor","#e7e8ea")("innerStrokeWidth",8)("animation",!1)}}function _(t,e){if(1&t){const t=l.kc();l.jc(0,"a",27),l.jc(1,"img",28),l.qc("click",function(){return l.Rc(t),l.uc().redirectTable()}),l.ic(),l.ic()}if(2&t){const t=l.uc();l.Nb(1),l.Bc("src","table"==t.activeView?"assets/images/table-view-active.png":"assets/images/table-view-inactive.png",l.Tc)}}function w(t,e){if(1&t){const t=l.kc();l.jc(0,"a",29),l.jc(1,"img",30),l.qc("click",function(){return l.Rc(t),l.uc().redirectDashboard()}),l.ic(),l.ic()}if(2&t){const t=l.uc();l.Nb(1),l.Bc("src","dashboard"==t.activeView?"assets/images/dashboard-active.png":"assets/images/dashboard-inactive.png",l.Tc)}}const S=function(t){return[t]};let x=(()=>{class t{constructor(t,e,a,i,s,n,o){this.router=t,this.httpService=e,this.datePipe=a,this.domainProjService=i,this.runService=s,this.messages=n,this.dataQualityService=o,this.activeTab="status-change",this.activeView="table",this.showLeftIcon=!1,this.showSideLeftIcon=!1,this.data=[],this.isDerivedTemplate=!0,this.statusPoll={},this.isLoading=!1,this.arr=[],this.displayTaskStatus=!1}ngOnInit(){this.domainProjService.passDomainProjVal(!0),this.setActiveTab(this.router.url.split("/")[6]),this.activeView=this.router.url.split("/")[6].split("?")[0],this.idApp=this.router.url.split("?")[1],this.router.url.match("dbckangui/quality/data/detailed-view/details-summary/table")&&this.setActiveTab("details-summary"),this.router.url.match("dbckangui/quality/data/detailed-view/details-summary/dashboard")&&this.setActiveTab("details-summary"),this.validationCheckName=sessionStorage.getItem("validationCheckName"),sessionStorage.getItem("idApp")&&(this.idApp=parseInt(sessionStorage.getItem("idApp"),10)),this.fileName=sessionStorage.getItem("fileName"),this.isDerivedTemplate="N"==sessionStorage.getItem("isDerivedTemplate"),sessionStorage.getItem("fromDate")?(this.fromDate=new Date(sessionStorage.getItem("fromDate")),this.toDate=new Date(sessionStorage.getItem("toDate"))):(this.fromDate=new Date,this.fromDate.setDate((new Date).getDate()-30),this.toDate=new Date,this.toDate.setDate((new Date).getDate()+1)),this.getFilteredData()}getFilteredData(){const t=new Date(this.fromDate),e=new Date(this.toDate),a={fromDate:this.datePipe.transform(t,"yyyy-MM-dd"),toDate:this.datePipe.transform(e,"yyyy-MM-dd"),idApp:this.idApp.toString()};this.dataQualityService.getDetailOfValidation("getValidationForIdApp",a).subscribe(t=>{sessionStorage.setItem("latestDate",t.result.date),sessionStorage.setItem("latestRun",t.result.run),this.latestDate=t.result.date,this.latestRun=t.result.run})}setActiveTab(t){this.activeTab=t}rightShift(){this.container.nativeElement.scrollLeft+=100,this.showLeftIcon=!0}leftShift(){this.container.nativeElement.scrollLeft-=100,this.showLeftIcon=0!==this.container.nativeElement.scrollLeft}redirectTable(){this.activeView="table",this.router.navigateByUrl("/dbckangui/quality/data/detailed-view/details-summary/table")}redirectDashboard(){this.activeView="dashboard",this.router.navigateByUrl("/dbckangui/quality/data/detailed-view/details-summary/dashboard")}navigatetoScreen(t){this.activeView=t.split("/")[6].split("?")[0],this.router.navigate([t])}runStatusPoll(){let t=0;this.displayTaskStatus=!1;const e=new r.a;e.validationRunType="unit_testing";let a=0;sessionStorage.getItem("idApp")&&(a=parseInt(sessionStorage.getItem("idApp"),10)),e.appIds=JSON.stringify(a),this.runService.getRunAndTask("runTaskResult",e).subscribe(e=>{var a;this.result=e.result,this.isLoading=!0,"failed"==e.status&&(this.isLoading=!1),null===(a=this.result)||void 0===a||a.map(e=>{const a=this.result.find(e=>e.uniqueId===this.result[t].uniqueId);e.intervalId=setInterval(()=>{const t=new r.b;t.idApp=a.appId,t.task_name=sessionStorage.getItem("validationCheckNameRun"),t.uniqueId=a.uniqueId,this.runService.getStatusPoll("statusPoll",t).subscribe(t=>{var a;e.success=null===(a=null==t?void 0:t.result)||void 0===a?void 0:a.status,this.statusPoll=null==t?void 0:t.result,this.isLoading="Task queued"==this.statusPoll.status||"Task started"==this.statusPoll.status,"Task queued"===e.success||"Task started"===e.success?e.progressBarShow=!1:"Task in progress"===e.success?(e.value=t.result.percentage,e.progressBarShow=!0,e.value>=100&&(e.value=100)):"Task killed"===e.success?(e.progressBarShow=!1,this.displayTaskStatus=!0,this.messages.displayToaster(this.statusPoll.status,"warn","Warning"),clearInterval(e.intervalId),setTimeout(()=>{this.displayTaskStatus=!1},5e3)):"Task completed"===e.success?(this.isLoading=!0,this.messages.displayToaster(this.statusPoll.status,"success","Success"),e.progressBarShow=!1,window.location.reload(),this.router.navigateByUrl("/dbckangui/data-connection/view-connections-copy",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/dbckangui/quality/data/detailed-view/details-summary/table"])}),clearInterval(e.intervalId),setTimeout(()=>{this.isLoading=!1},5e3)):"Task failed"===e.success&&(e.progressBarShow=!1,this.displayTaskStatus=!0,this.messages.displayToaster(this.statusPoll.status,"warn","Warning"),clearInterval(e.intervalId),setTimeout(()=>{this.displayTaskStatus=!1},5e3))})},2500),this.arr.push(e.intervalId),t++})},t=>{this.isLoading=!1})}}return t.\u0275fac=function(e){return new(e||t)(l.dc(c.i),l.dc(d.a),l.dc(i.d),l.dc(g.a),l.dc(u.a),l.dc(h.b),l.dc(p.a))},t.\u0275cmp=l.Xb({type:t,selectors:[["app-detail-summary-main-layout"]],viewQuery:function(t,e){if(1&t&&(l.gd(b,1),l.gd(f,1)),2&t){let t;l.Nc(t=l.rc())&&(e.container=t.first),l.Nc(t=l.rc())&&(e.containerBottom=t.first)}},decls:33,vars:25,consts:[[1,"div-block-11-2"],["id","container1"],["id","horizontalscrollDetail1",1,"div-block-12-2"],["horizontalscrollDetail1",""],[1,"tab-btn-result","w-button",3,"ngClass","click"],[1,"tab-btn-result1","w-button",3,"ngClass","click"],[1,"tab-btn-result2","w-button",3,"ngClass","click"],[1,"div-block-11-2","row","padding-top-10"],[1,"col-sm-6","customCssL"],["class","margin-left-15",4,"ngIf"],[1,"margin-left-15"],[1,"default-font-14","mar_bot_5","word_break_word_all"],[1,"col-sm-6","d-flex","customCssR","height-100"],[1,"display-align","margin-right-16"],["class","position3",4,"ngIf"],["class","position2",4,"ngIf"],["class","advance_tab cursor-pointer mr-10",4,"ngIf"],["class","advance_tab cursor-pointer mr-0",4,"ngIf"],["id","screen"],["screen",""],[1,"position3"],["type","button",1,"button_new","w-button","shadow","btn-mr-rt","runBtnCss",3,"disabled","click"],[1,"fa",3,"ngClass"],["class","err-msg",4,"ngIf"],[1,"err-msg"],[1,"position2"],[3,"percent","radius","outerStrokeWidth","showSubtitle","outerStrokeColor","subtitleFontSize","space","innerStrokeColor","innerStrokeWidth","animation"],[1,"advance_tab","cursor-pointer","mr-10"],["title","Table View","loading","lazy","alt","Table View",1,"image-7","tableView","dasboard-icon",3,"src","click"],[1,"advance_tab","cursor-pointer","mr-0"],["title","Dashboard View","loading","lazy","alt","Dashboard View",1,"image-7","dashboardView",3,"src","click"]],template:function(t,e){1&t&&(l.jc(0,"div",0),l.hc(1,1),l.jc(2,"div",2,3),l.jc(4,"a",4),l.qc("click",function(){return e.navigatetoScreen("/dbckangui/quality/data/detailed-view/details-summary/table"),e.setActiveTab("details-summary")}),l.bd(5," Summary"),l.ic(),l.jc(6,"a",5),l.qc("click",function(){return e.navigatetoScreen("/dbckangui/quality/data/detailed-view/check-main/profiling"),e.setActiveTab("profiling")}),l.bd(7,"Profile"),l.ic(),l.jc(8,"a",5),l.qc("click",function(){return e.navigatetoScreen("/dbckangui/quality/data/detailed-view/check-main/rule-catalog"),e.setActiveTab("rule-catalog")}),l.bd(9,"Rules"),l.ic(),l.jc(10,"a",4),l.qc("click",function(){return e.navigatetoScreen("/dbckangui/quality/data/detailed-view/check-main/essential"),e.setActiveTab("essential")}),l.bd(11,"Essential Results "),l.ic(),l.jc(12,"a",4),l.qc("click",function(){return e.navigatetoScreen("/dbckangui/quality/data/detailed-view/check-main/advance"),e.setActiveTab("advance")}),l.bd(13,"Advanced Results "),l.ic(),l.jc(14,"a",6),l.qc("click",function(){return e.navigatetoScreen("/dbckangui/quality/data/detailed-view/check-main/custom_rules"),e.setActiveTab("custom_rules")}),l.bd(15,"Custom Rule Results"),l.ic(),l.ic(),l.gc(),l.ic(),l.jc(16,"div",7),l.jc(17,"div",8),l.Zc(18,y,3,1,"div",9),l.jc(19,"div",10),l.jc(20,"label",11),l.bd(21),l.ic(),l.ic(),l.jc(22,"div",10),l.jc(23,"label",11),l.bd(24),l.ic(),l.ic(),l.ic(),l.jc(25,"div",12),l.jc(26,"div",13),l.Zc(27,C,6,5,"span",14),l.Zc(28,D,2,10,"span",15),l.ic(),l.Zc(29,_,2,1,"a",16),l.Zc(30,w,2,1,"a",17),l.ic(),l.ic(),l.ec(31,"router-outlet",18,19)),2&t&&(l.Nb(4),l.Bc("ngClass",l.Fc(13,S,"details-summary"===e.activeTab?"":"non-active")),l.Nb(2),l.Bc("ngClass",l.Fc(15,S,"profiling"===e.activeTab?"":"non-active")),l.Nb(2),l.Bc("ngClass",l.Fc(17,S,"rule-catalog"===e.activeTab?"":"non-active")),l.Nb(2),l.Bc("ngClass",l.Fc(19,S,"essential"===e.activeTab?"":"non-active")),l.Nb(2),l.Bc("ngClass",l.Fc(21,S,"advance"===e.activeTab?"":"non-active")),l.Nb(2),l.Bc("ngClass",l.Fc(23,S,"custom_rules"===e.activeTab?"":"non-active")),l.Nb(4),l.Bc("ngIf",e.isDerivedTemplate),l.Nb(3),l.dd("Run Date: ",e.latestDate,""),l.Nb(3),l.dd("Run#: ",e.latestRun,""),l.Nb(3),l.Bc("ngIf","Task in progress"!==e.statusPoll.status),l.Nb(1),l.Bc("ngIf","Task in progress"==e.statusPoll.status),l.Nb(1),l.Bc("ngIf","status-change"!==e.activeTab),l.Nb(1),l.Bc("ngIf","status-change"!==e.activeTab))},directives:[i.l,i.n,c.m,m.a],styles:[".advance_tab[_ngcontent-%COMP%]{width:32px;margin:5px 30px 0 0}.customCssR[_ngcontent-%COMP%]{display:flex;justify-content:end}.customCssR[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img.tableView[_ngcontent-%COMP%]{height:28px!important;margin-right:0;width:27px}.customCssR[_ngcontent-%COMP%]   .mr-0[_ngcontent-%COMP%]{margin-right:0}.customCssR[_ngcontent-%COMP%]   .mr-10[_ngcontent-%COMP%]{margin-right:10px}.customCssR[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img.dashboardView[_ngcontent-%COMP%]{height:24px!important;margin-right:-31px}.download_button[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.padding[_ngcontent-%COMP%]{padding-left:0}.text-align[_ngcontent-%COMP%]{text-align:end}.tableView[_ngcontent-%COMP%]{height:20px;padding-right:10px}.dashboardView[_ngcontent-%COMP%]{height:20px;margin-right:0}#container1[_ngcontent-%COMP%], #container2[_ngcontent-%COMP%]{width:90%;overflow-x:scroll}#horizontalscrollDetail[_ngcontent-%COMP%], #horizontalscrollDetailBottom[_ngcontent-%COMP%]{width:970px;overflow-x:auto;white-space:nowrap}.p-tooltip[_ngcontent-%COMP%]{margin-left:0!important;pointer-events:none!important}.dasboard-icon[_ngcontent-%COMP%]{width:30px;padding-right:5px}"]}),t})();var I=a("mrSG"),j=a("kfal"),P=a("acRR");let M=(()=>{class t{constructor(t,e){this.messages=t,this.http=e}getValidationSummaryChecks(t){return Object(I.a)(this,void 0,void 0,function*(){try{const e={idApp:t},a=yield this.http.post("dashboardSummary",e).toPromise();if(a.status===j.a[j.a.success].toString())return a.result}catch(e){this.messages.displayErrorToast()}return[]})}getValidationSummaryForDashboard(t){return Object(I.a)(this,void 0,void 0,function*(){try{const e={idApp:t},a=yield this.http.post("getDQIScoresMap",e).toPromise();if(a.status===j.a[j.a.success].toString())return a.result}catch(e){this.messages.displayErrorToast()}return[]})}downloadCSV(t){return this.http.postforCSV("getValidationDQISummaryCSV",t)}getValidationExecutiveSummary(t){return this.http.post("getValidationExecutiveSummary",t)}getDateVsDtsGraphData(t){return this.http.post("getDateVsDtsGraphData",t)}}return t.\u0275fac=function(e){return new(e||t)(l.nc(P.a),l.nc(d.a))},t.\u0275prov=l.Zb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var O=a("rEr+"),T=a("7zfz"),N=a("7kUa");function V(t,e){if(1&t){const t=l.kc();l.jc(0,"div",7),l.jc(1,"div",8),l.jc(2,"span",9),l.jc(3,"input",10),l.qc("ngModelChange",function(e){return l.Rc(t),l.uc().globalFilterValue=e})("input",function(){l.Rc(t);const e=l.uc();return l.Oc(2).filterGlobal(e.globalFilterValue,"contains")}),l.ic(),l.bd(4,"\xa0 "),l.ec(5,"i",11),l.ic(),l.ic(),l.ic()}if(2&t){const t=l.uc();l.Nb(3),l.Bc("ngModel",t.globalFilterValue)}}function q(t,e){1&t&&(l.jc(0,"tr"),l.jc(1,"th",12),l.bd(2,"Summary"),l.ic(),l.ic())}function R(t,e){if(1&t&&(l.jc(0,"tr"),l.jc(1,"td",13),l.bd(2),l.ic(),l.ic()),2&t){const t=e.$implicit;l.Nb(2),l.cd(t.value)}}function B(t,e){1&t&&(l.jc(0,"tr"),l.jc(1,"td"),l.bd(2," No records found "),l.ic(),l.ic()),2&t&&(l.Nb(1),l.Ob("colspan",7))}const L=function(){return[10,25,35]},z=function(){return["value"]};let F=(()=>{class t{constructor(t,e,a,i){this.validationCheckSummaryService=t,this.datePipe=e,this.dataQualityService=a,this.domainProjService=i,this.executiveSummaryList=[],this.scrollHeight="500px"}ngOnInit(){this.domainProjService.passDomainProjVal(!0),sessionStorage.getItem("fromDate")?(this.fromDate=new Date(sessionStorage.getItem("fromDate")),this.toDate=new Date(sessionStorage.getItem("toDate"))):(this.fromDate=new Date,this.fromDate.setDate((new Date).getDate()-30),this.toDate=new Date,this.toDate.setDate((new Date).getDate()+1)),sessionStorage.getItem("idApp")&&(this.validationId=parseInt(sessionStorage.getItem("idApp"),10),this.getFilteredData(),this.validationCheckSummaryService.getValidationExecutiveSummary({idApp:this.validationId}).subscribe(t=>{t.result.executiveSummary.map(t=>{"No history available"!==t&&this.executiveSummaryList.push({value:t})})}))}getFilteredData(){const t=new Date(this.fromDate),e=new Date(this.toDate),a={fromDate:this.datePipe.transform(t,"yyyy-MM-dd"),toDate:this.datePipe.transform(e,"yyyy-MM-dd"),idApp:this.validationId.toString()};this.dataQualityService.getDetailOfValidation("getValidationForIdApp",a).subscribe(t=>{sessionStorage.setItem("aggreagteDQI",t.result.aggreagteDQI),sessionStorage.setItem("validationCheckName",t.result.validationCheckName+" ("+t.result.date+") ("+t.result.run+")")})}}return t.\u0275fac=function(e){return new(e||t)(l.dc(M),l.dc(i.d),l.dc(p.a),l.dc(g.a))},t.\u0275cmp=l.Xb({type:t,selectors:[["app-executive-summary-details"]],decls:8,vars:13,consts:[[1,"div-block-11-3","shadow","val-sum-check"],["styleClass","p-datatable-striped p-datatable-gridlines","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","scrollDirection","horizontal","id","screen1",3,"value","responsive","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","first","scrollable","scrollHeight","globalFilterFields"],["table","","screen1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"table-header"],[1,"col-md-12"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","input"],[1,"pi","pi-search","margin-gfilter"],[1,"test"],[1,"text-align"]],template:function(t,e){1&t&&(l.jc(0,"div",0),l.jc(1,"p-table",1,2),l.Zc(4,V,6,1,"ng-template",3),l.Zc(5,q,3,0,"ng-template",4),l.Zc(6,R,3,1,"ng-template",5),l.Zc(7,B,3,1,"ng-template",6),l.ic(),l.ic()),2&t&&(l.Nb(1),l.Bc("value",e.executiveSummaryList)("responsive",!0)("rowHover",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",l.Ec(11,L))("paginator",!1)("first",0)("scrollable",!0)("scrollHeight",e.scrollHeight)("globalFilterFields",l.Ec(12,z)))},directives:[O.f,T.i,s.d,N.a,s.o,s.r],styles:["[_nghost-%COMP%]     .p-dropdown .p-table ::-webkit-scrollbar{width:7px}[_nghost-%COMP%]     .p-dropdown .p-table ::-webkit-scrollbar-track{--webkit-box-shadow:inset 0 0 6px linear-gradient(180deg,#001585,#ff7526 0.01%,#fb9a64 97.92%);border-radius:7px}[_nghost-%COMP%]     .p-dropdown .p-table ::-webkit-scrollbar-thumb{border-radius:7px;background:linear-gradient(180deg,#001585,#ff7526 .01%,#fb9a64 97.92%);--webkit-box-shadow:inset 0 0 6pxlinear-gradient(180deg,#001585 0%,#ff7526 0.01%,#fb9a64 97.92%)}[_nghost-%COMP%]     .p-datatable .p-datatable-thead{border-top-right-radius:10px!important;border-top-left-radius:10px!important}[_nghost-%COMP%]     .p-datatable .p-paginator-bottom{border-width:0 0 1px;border-radius:0;border-bottom-left-radius:10px;border-bottom-right-radius:10px}[_nghost-%COMP%]     div[style]{min-height:50px!important}[_nghost-%COMP%]     .tooltip-text{background:#f2f2f2!important}[_nghost-%COMP%]     .p-datatable-scrollable-footer{display:none}.val-sum-check[_ngcontent-%COMP%]{height:100%;padding:10px;background:#fff;border-radius:20px}"]}),t})();var A=a("Iab2"),Q=a("i680"),K=a("7rT8"),Z=a.n(K),G=a("Nmef"),E=a("K3ix"),W=a("JqCM"),U=a("Ji6n");const $=["chart"];function H(t,e){if(1&t){const t=l.kc();l.jc(0,"div",23),l.jc(1,"table"),l.jc(2,"tr",24),l.jc(3,"td"),l.jc(4,"p-checkbox",25),l.qc("ngModelChange",function(t){return e.$implicit.display=t})("click",function(){return l.Rc(t),l.uc(2).checkDisplayGrid()}),l.ic(),l.ic(),l.jc(5,"td"),l.jc(6,"label"),l.bd(7),l.ic(),l.ic(),l.ic(),l.ic(),l.ic()}if(2&t){const t=e.$implicit,a=l.uc(2);l.Nb(4),l.Bc("disabled",t.display&&a.disableCheck||a.checkboxDisabled&&!t.display)("ngModel",t.display),l.Nb(3),l.cd(t.dqiChartName)}}function J(t,e){1&t&&(l.jc(0,"div",26),l.bd(1,"You can select up to 12 graphs"),l.ic())}function X(t,e){if(1&t){const t=l.kc();l.jc(0,"div",13),l.jc(1,"div",14),l.Zc(2,H,8,3,"div",15),l.ic(),l.ic(),l.jc(3,"div",16),l.jc(4,"div",17),l.jc(5,"div",18),l.Zc(6,J,2,0,"div",19),l.ic(),l.jc(7,"div",20),l.qc("click",function(){return l.Rc(t),l.uc().modalRef.hide()}),l.jc(8,"label",21),l.bd(9,"Close Customize"),l.ic(),l.ec(10,"img",22),l.ic(),l.ic(),l.ic()}if(2&t){const t=l.uc();l.Nb(2),l.Bc("ngForOf",t.validationList),l.Nb(4),l.Bc("ngIf",t.checkboxDisabled)}}function Y(t,e){if(1&t){const t=l.kc();l.jc(0,"span",27),l.jc(1,"img",28),l.qc("click",function(){l.Rc(t);const e=l.uc(),a=l.Oc(1);return e.openCustomizeGraph(a)}),l.ic(),l.bd(2,"\xa0Customize"),l.ic()}}function tt(t,e){if(1&t&&l.ec(0,"apx-chart",40),2&t){const t=l.uc(2).$implicit,e=l.uc();l.Bc("series",t.data)("chart",e.chart1.chart)("xaxis",t.category)("yaxis",e.chart1.yaxis)("colors",e.chart1.colors)("dataLabels",e.chart1.dataLabels)("fill",e.chart1.fill)("stroke",e.chart1.stroke)("markers",e.chart1.markers)}}function et(t,e){if(1&t&&l.ec(0,"apx-chart",41),2&t){const t=l.uc(2).$implicit,e=l.uc();l.Bc("series",t.data)("chart",e.chart1.chart)("yaxis",e.chart1.yaxis)("xaxis",t.category)("colors",e.chart1.colors)("dataLabels",e.chart1.dataLabels)("fill",e.chart1.fill)("stroke",e.chart1.stroke)("markers",e.chart1.markers)}}function at(t,e){1&t&&(l.jc(0,"div",42),l.bd(1," No records found "),l.ic())}const it=function(t){return[t]};function st(t,e){if(1&t){const t=l.kc();l.jc(0,"div",30),l.jc(1,"div",31),l.jc(2,"i",32),l.qc("click",function(){l.Rc(t);const e=l.uc().$implicit;return l.uc().resetChart(e.dqiChartName)}),l.ic(),l.ic(),l.jc(3,"div",33),l.jc(4,"div",34),l.jc(5,"div",35),l.bd(6),l.ic(),l.ic(),l.jc(7,"div",34),l.jc(8,"div",36),l.jc(9,"p",37),l.bd(10),l.ic(),l.ic(),l.ic(),l.ic(),l.Zc(11,tt,1,9,"apx-chart",38),l.Zc(12,et,1,9,"apx-chart",39),l.Zc(13,at,2,0,"div",12),l.ic()}if(2&t){const t=l.uc(),e=t.index,a=t.$implicit,i=l.uc();l.Bc("ngClass",l.Fc(9,it,(null==i.displayGrid?null:i.displayGrid.length)<=6?"col-lg-4 col-md-4 col-sm-4 div-block-12-8-width-pad-4":"col-lg-3 col-md-3 col-sm-3 div-block-12-8-width-pad-3")),l.Ob("id","screen"+e),l.Nb(2),l.Dc("id","rotate",e,""),l.Nb(4),l.cd(a.dqiChartName),l.Nb(3),l.Bc("ngClass",l.Fc(11,it,a.lastDqi>=75?"div_dqi_background_green":a.lastDqi<75&&a.lastDqi>=50?"div_dqi_background_orange":a.lastDqi<50&&a.lastDqi>0?"div_dqi_background_red":"div_dqi_background")),l.Nb(1),l.dd(" ",a.lastDqi.toFixed(2)," "),l.Nb(1),l.Bc("ngIf",(null==a||null==a.data?null:a.data.length)>0&&(null==i.displayGrid?null:i.displayGrid.length)<=6),l.Nb(1),l.Bc("ngIf",(null==a||null==a.data?null:a.data.length)>0&&(null==i.displayGrid?null:i.displayGrid.length)>6),l.Nb(1),l.Bc("ngIf",0==(null==a||null==a.data?null:a.data.length))}}function nt(t,e){if(1&t&&(l.hc(0),l.Zc(1,st,14,13,"div",29),l.gc()),2&t){const t=e.$implicit;l.Nb(1),l.Bc("ngIf",t.display)}}function ot(t,e){1&t&&(l.jc(0,"div",42),l.bd(1," No records found "),l.ic())}let ct=(()=>{class t{constructor(t,e,a,i,s,n,o,c){this.route=t,this.validationCheckSummaryService=e,this.homeServiceService=a,this.modalService=i,this.datePipe=s,this.spinner=n,this.dataQualityService=o,this.domainProjService=c,this.validationSummaryCheckDetails=[],this.validationList=[],this.customizeGraph=!1,this.displayGrid=[],this.disableCheck=!1,this.checkboxDisabled=!1,this.screens=[],sessionStorage.getItem("idApp")&&(this.validationId=parseInt(sessionStorage.getItem("idApp"),10)),this.setChartData()}ngOnInit(){this.domainProjService.passDomainProjVal(!0),this.aggreagteDQI=sessionStorage.getItem("aggreagteDQI"),this.getValidationSummaryChecks(),this.homeServiceService.siteMenuSubject.subscribe(t=>{this.validationList=[],this.getValidationSummaryChecks()}),sessionStorage.getItem("fromDate")?(this.fromDate=new Date(sessionStorage.getItem("fromDate")),this.toDate=new Date(sessionStorage.getItem("toDate"))):(this.fromDate=new Date,this.fromDate.setDate((new Date).getDate()-30),this.toDate=new Date,this.toDate.setDate((new Date).getDate()+1)),this.getFilteredData()}getFilteredData(){const t=new Date(this.fromDate),e=new Date(this.toDate),a={fromDate:this.datePipe.transform(t,"yyyy-MM-dd"),toDate:this.datePipe.transform(e,"yyyy-MM-dd"),idApp:this.validationId.toString()};this.dataQualityService.getDetailOfValidation("getValidationForIdApp",a).subscribe(t=>{sessionStorage.setItem("aggreagteDQI",t.result.aggreagteDQI),this.aggreagteDQI=t.result.aggreagteDQI,sessionStorage.setItem("validationCheckName",t.result.validationCheckName+" ("+t.result.date+") ("+t.result.run+")")})}getValidationSummaryChecks(){return Object(I.a)(this,void 0,void 0,function*(){this.validationSummaryCheckDetails=yield this.validationCheckSummaryService.getValidationSummaryForDashboard(this.validationId);for(const[t,e]of this.validationSummaryCheckDetails.entries()){const a={dqiChartName:"",lastDqi:0,data:[],category:{},display:!0};let i=[];const s=[];for(const t of e.graphData)i.push(t.date),i=i.sort((t,e)=>t.localeCompare(e)),e.graphData.length===i.length&&i.forEach(t=>{const a=e.graphData.find(e=>e.date===t);s.push(parseFloat(a.dqi.toFixed(2)))});a.dqiChartName=e.dqiRecordName,a.lastDqi=s[s.length-1],a.data=[{name:"DTS",data:s}],a.category={type:"category",categories:i,tickAmount:4,title:{text:"Date (Run)",style:{fontSize:"14px",fontFamily:"Open Sans",fontWeight:600}}},t>5&&(a.display=!1),this.validationList.push(a)}this.setChartData(),this.checkDisplayGrid()})}setChartData(){this.chart1={chart:{height:350,type:"area",toolbar:{show:!1}},series:[{name:"DTS",data:[]}],stroke:{curve:"smooth",width:.5},markers:{size:5,hover:{size:9}},yaxis:{tickAmount:5,min:0,max:100,title:{text:"DTS",style:{fontSize:"14px",fontFamily:"Open Sans",fontWeight:600}},labels:{formatter:t=>t.toFixed(0)}},xaxis:{type:"category",categories:[],tickAmount:4,title:{text:"Date (Run)",style:{fontSize:"14px",fontFamily:"Open Sans",fontWeight:600}}},fill:{colors:["#09D171"],type:"gradient",gradient:{shadeIntensity:.1,opacityFrom:.2,opacityTo:.1,inverseColors:!1}},dataLabels:{enabled:!1},colors:["#09D171"]}}resetChart(t){const e=this.validationList.findIndex(e=>e.dqiChartName===t),a={dqiChartName:"",lastDqi:0,data:[],category:{},display:!0};a.dqiChartName=this.validationList[e].dqiChartName,a.lastDqi=this.validationList[e].lastDqi,a.data=this.validationList[e].data,a.category=this.validationList[e].category,a.display=this.validationList[e].display,this.validationList.splice(e,1,a)}openCustomizeGraph(t){this.modalRef=this.modalService.show(t,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}downloadCsv(){const t=(t,e)=>null===e?"":e,e=Object.keys(this.validationSummaryCheckDetails[0]),a=this.validationSummaryCheckDetails.map(a=>e.map(e=>JSON.stringify(a[e],t)).join(","));a.unshift(e.join(","));const i=a.join("\r\n"),s=new Blob([i],{type:"text/csv"});Object(A.saveAs)(s,"ValidationSummaryChecks.csv")}checkDisplayGrid(){let t=0;this.validationList.forEach(e=>{e.display&&t++}),t>=2?(this.displayGrid=this.validationList.filter(t=>!0===t.display),this.disableCheck=!1):this.disableCheck=!0,this.checkboxDisabled=this.displayGrid.length>=12}getScreens(){this.screens=[];let t=0;for(;t<this.validationList.length;)Z()(document.getElementById("screen"+t)).then(t=>{const e=t.toDataURL("image/png");this.screens.push(e)}),t++}exportPdf(){return Object(I.a)(this,void 0,void 0,function*(){this.spinner.show();const t=this.aggreagteDQI,e=sessionStorage.getItem("validationCheckName"),a=new Q.default("l","mm");let i=20,s=50;this.screens=[];let n=[];n=this.displayGrid=this.validationList.filter(t=>!0===t.display);for(var o=0;o<n.length;o++)yield Z()(document.getElementById("screen"+o)).then(c=>{const r=c.toDataURL("image/png");a.addImage(r,i,s,70,110),this.screens.push(r),i+=90,0==o&&(a.text("Data Validation Overview",a.internal.pageSize.width/2,15,null,"center"),a.setFontSize(10),a.text("Validation Name: "+e,20,25),a.text("Table Name: "+sessionStorage.getItem("fileName"),20,33),a.text("Aggregate DTS: "+t,20,40),a.setFontSize(9),a.text("Created by FirstEigen",a.internal.pageSize.width-15,a.internal.pageSize.height-5,null,"right")),(o+1)%3==0&&o+1!=n.length&&(a.addPage(),i=20,s=50,a.setFontSize(9),a.text("Created by FirstEigen",a.internal.pageSize.width-15,a.internal.pageSize.height-5,null,"right")),n.length-1==o&&a.save("DetailSummaryDashboard.pdf")});this.spinner.hide()})}}return t.\u0275fac=function(e){return new(e||t)(l.dc(c.a),l.dc(M),l.dc(G.a),l.dc(E.a),l.dc(i.d),l.dc(W.c),l.dc(p.a),l.dc(g.a))},t.\u0275cmp=l.Xb({type:t,selectors:[["app-validation-detail-summary-dashboard"]],viewQuery:function(t,e){if(1&t&&l.gd($,1),2&t){let t;l.Nc(t=l.rc())&&(e.chart=t.first)}},decls:17,vars:4,consts:[["template",""],[1,"div-block-11-2","row","aggregate-dqi"],[1,"col-sm-10","col-md-10","col-lg-10","default-font","padding"],[1,"mar_top_-10","margin-left-15"],[1,"default-font-14"],[1,"default-font-14-weight"],[1,"download_button","col-sm-2","col-md-2","col-lg-2"],[1,"w-inline-block","cursor-pointer"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["class","float-right margin-top-12",4,"ngIf"],[1,"div-block-11-2-1","row"],[4,"ngFor","ngForOf"],["class","col-lg-12 col-md-12 col-sm-12 no_records",4,"ngIf"],[1,"modal-body"],[1,"row","main-val"],["class","col-sm-4",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-9"],["class","color-code",4,"ngIf"],[1,"col-lg-3",3,"click"],[1,"cursor-pointer"],["src","assets/images/close.png",1,"validation-margin"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname","value","valChecks.display",3,"disabled","ngModel","ngModelChange","click"],[1,"color-code"],[1,"float-right","margin-top-12"],["src","assets/images/Vector.png","width","20px",1,"cursor-pointer",3,"click"],["class","div-block-12-8 shadow",3,"ngClass",4,"ngIf"],[1,"div-block-12-8","shadow",3,"ngClass"],[1,"div-block-18","dqi-chart"],["title","Reset","aria-hidden","true",1,"fa","fa-refresh","cursor-pointer","rotate",3,"id","click"],[1,"div-block-19"],[1,"div_card_align"],[1,"text-block-5_1","heading"],[1,"text-block-5-copy","subheading"],[3,"ngClass"],[3,"series","chart","xaxis","yaxis","colors","dataLabels","fill","stroke","markers",4,"ngIf"],[3,"series","chart","yaxis","xaxis","colors","dataLabels","fill","stroke","markers",4,"ngIf"],[3,"series","chart","xaxis","yaxis","colors","dataLabels","fill","stroke","markers"],[3,"series","chart","yaxis","xaxis","colors","dataLabels","fill","stroke","markers"],[1,"col-lg-12","col-md-12","col-sm-12","no_records"]],template:function(t,e){1&t&&(l.Zc(0,X,11,2,"ng-template",null,0,l.ad),l.jc(2,"div",1),l.jc(3,"div",2),l.jc(4,"div",3),l.ec(5,"br"),l.jc(6,"span",4),l.bd(7," Aggregate DTS:"),l.ic(),l.jc(8,"span",5),l.bd(9),l.ic(),l.ic(),l.ic(),l.jc(10,"div",6),l.jc(11,"a",7),l.jc(12,"img",8),l.qc("click",function(){return e.exportPdf()}),l.ic(),l.ic(),l.Zc(13,Y,3,0,"span",9),l.ic(),l.ic(),l.jc(14,"div",10),l.Zc(15,nt,2,1,"ng-container",11),l.Zc(16,ot,2,0,"div",12),l.ic()),2&t&&(l.Nb(9),l.dd(" \xa0",e.aggreagteDQI.toFixed(2),"%"),l.Nb(4),l.Bc("ngIf",(null==e.validationSummaryCheckDetails?null:e.validationSummaryCheckDetails.length)>0),l.Nb(2),l.Bc("ngForOf",e.validationList),l.Nb(1),l.Bc("ngIf",0==(null==e.validationSummaryCheckDetails?null:e.validationSummaryCheckDetails.length)))},directives:[i.n,i.m,U.a,s.o,s.r,i.l,n.a],styles:[".div_dqi_background_green[_ngcontent-%COMP%]{background:rgba(50,210,95,.11);padding:5px 15px;border-radius:10px;color:#28ba51;font-weight:600}.main-val[_ngcontent-%COMP%]{padding-bottom:10px}.validation-margin[_ngcontent-%COMP%]{margin-left:5px;width:30px;cursor:pointer}.dqi-chart[_ngcontent-%COMP%]{justify-content:end;margin-bottom:10px;font-size:18px}.padding[_ngcontent-%COMP%]{padding-left:0}.aggregate-dqi[_ngcontent-%COMP%]{justify-content:right;margin-top:-10px}.div_dqi_background_orange[_ngcontent-%COMP%]{background:rgba(234,225,13,.22);color:#ebc605}.div_dqi_background_orange[_ngcontent-%COMP%], .div_dqi_background_red[_ngcontent-%COMP%]{padding:5px 15px;border-radius:10px;font-weight:600}.div_dqi_background_red[_ngcontent-%COMP%]{background:rgba(252,13,13,.08);color:#fc0d0d}.no_records[_ngcontent-%COMP%]{border-radius:10px!important;padding:12px!important;background:#fff;border:1px solid #dee2e6;text-align:center}.div_dqi_background[_ngcontent-%COMP%]{background:transparent;padding:5px 15px;border-radius:10px;color:#000;font-weight:600}.modal-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:left;justify-content:left;padding:.75rem;border-top:1px solid #dee2e6;border-bottom-right-radius:calc(.3rem - 1px);border-bottom-left-radius:calc(.3rem - 1px)}.rotate[_ngcontent-%COMP%]{-webkit-animation:rotation .5s linear 1}"]}),t})();var rt=a("DaQG"),lt=a.n(rt),dt=a("Z2oo"),gt=a.n(dt),ut=a("Tm3k"),ht=a.n(ut),pt=a("jIHw");const mt=["chart"];function bt(t,e){1&t&&l.ec(0,"img",24)}function ft(t,e){1&t&&l.ec(0,"img",25)}function yt(t,e){1&t&&l.ec(0,"img",26)}function vt(t,e){if(1&t&&l.ec(0,"apx-chart",27),2&t){const t=l.uc();l.Bc("series",t.aggregationDQIChart.series)("chart",t.aggregationDQIChart.chart)("xaxis",t.aggregationDQIChart.xaxis)("yaxis",t.aggregationDQIChart.yaxis)("colors",t.aggregationDQIChart.colors)("dataLabels",t.aggregationDQIChart.dataLabels)("fill",t.aggregationDQIChart.fill)("stroke",t.aggregationDQIChart.stroke)}}function kt(t,e){1&t&&(l.jc(0,"div",28),l.bd(1," No records found "),l.ic())}function Ct(t,e){if(1&t){const t=l.kc();l.jc(0,"div",29),l.jc(1,"div",30),l.jc(2,"div",31),l.jc(3,"span",32),l.jc(4,"input",33),l.qc("ngModelChange",function(e){return l.Rc(t),l.uc().globalFilterValue=e})("input",function(){l.Rc(t);const e=l.uc();return l.Oc(20).filterGlobal(e.globalFilterValue,"contains")}),l.ic(),l.bd(5,"\xa0 "),l.ec(6,"i",34),l.ic(),l.ic(),l.jc(7,"div",35),l.jc(8,"span",36),l.jc(9,"a",37),l.jc(10,"img",38),l.qc("click",function(){l.Rc(t);const e=l.uc(),a=l.Oc(29);return e.openExportPdf(a)}),l.ic(),l.ic(),l.jc(11,"a",37),l.jc(12,"img",39),l.qc("click",function(){return l.Rc(t),l.uc().downloadCsv()}),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.ic()}if(2&t){const t=l.uc();l.Nb(4),l.Bc("ngModel",t.globalFilterValue)}}function Dt(t,e){1&t&&(l.jc(0,"tr"),l.jc(1,"th",40),l.bd(2,"Test"),l.ic(),l.jc(3,"th"),l.bd(4,"DTS"),l.ic(),l.ec(5,"th",41),l.jc(6,"th",41),l.bd(7,"Count"),l.ic(),l.ec(8,"th",41),l.jc(9,"th",42),l.bd(10,"Defects"),l.ic(),l.jc(11,"th"),l.bd(12,"Status"),l.ic(),l.ic())}const _t=function(t){return[t]};function wt(t,e){if(1&t&&l.ec(0,"apx-chart",51),2&t){const t=l.uc().$implicit,e=l.uc();l.Bc("series",l.Fc(5,_t,t.DQI.toFixed(2)))("chart",e.chartOptions.chart)("fill",e.chartOptions.fill)("plotOptions",e.chartOptions.plotOptions)("labels",e.chartOptions.labels)}}function St(t,e){1&t&&l.ec(0,"img",57)}function xt(t,e){1&t&&l.ec(0,"img",58)}function It(t,e){1&t&&l.ec(0,"img",59)}function jt(t,e){if(1&t&&(l.jc(0,"div"),l.Zc(1,St,1,0,"img",54),l.Zc(2,xt,1,0,"img",55),l.Zc(3,It,1,0,"img",56),l.ic()),2&t){const t=l.uc(2).$implicit;l.Nb(1),l.Bc("ngIf","UP"==t.trend),l.Nb(1),l.Bc("ngIf","DOWN"==t.trend),l.Nb(1),l.Bc("ngIf","NEUTRAL"==t.trend)}}function Pt(t,e){if(1&t&&(l.jc(0,"div",52),l.Zc(1,jt,4,3,"div",53),l.ic()),2&t){const t=l.uc().$implicit;l.Nb(1),l.Bc("ngIf",t.trend)}}function Mt(t,e){if(1&t&&(l.jc(0,"div",60),l.jc(1,"span",61),l.bd(2),l.ic(),l.ic()),2&t){const t=l.uc().$implicit;l.Nb(2),l.dd(" Available only after ","Data Drift"==t.test?"1st":"2nd"," run ")}}function Ot(t,e){if(1&t&&(l.jc(0,"div",60),l.bd(1),l.vc(2,"number"),l.ic()),2&t){const t=l.uc().$implicit;l.Nb(1),l.dd(" ",l.xc(2,1,t.DQI,"1.0-0")," ")}}function Tt(t,e){if(1&t){const t=l.kc();l.jc(0,"tr"),l.jc(1,"td",43),l.qc("click",function(){l.Rc(t);const a=e.$implicit;return l.uc().navigateToScreen(a.test)}),l.bd(2),l.ic(),l.jc(3,"td",44),l.jc(4,"div",30),l.jc(5,"div",45),l.Zc(6,wt,1,7,"apx-chart",46),l.ic(),l.Zc(7,Pt,2,1,"div",47),l.ic(),l.Zc(8,Mt,3,1,"div",48),l.Zc(9,Ot,3,4,"div",48),l.ic(),l.jc(10,"td",49),l.bd(11),l.ic(),l.jc(12,"td",50),l.qc("click",function(){l.Rc(t);const a=e.$implicit,i=l.uc(),s=l.Oc(27);return i.openOtherField(s,a.column_names,a.more_column_names)}),l.bd(13),l.vc(14,"number"),l.ic(),l.jc(15,"td",49),l.bd(16),l.ic(),l.jc(17,"td",41),l.bd(18),l.vc(19,"number"),l.ic(),l.jc(20,"td"),l.jc(21,"button"),l.bd(22),l.vc(23,"uppercase"),l.ic(),l.ic(),l.ic()}if(2&t){const t=e.$implicit;l.Nb(1),l.Bc("ngClass","Length Check (Conformity)"===t.test||"Null (Completeness)"===t.test||"Primary Uniqueness"===t.test||"Custom Uniqueness"===t.test||"Data Type (Conformity)"===t.test||"Regex Pattern (Conformity)"===t.test||"Default Pattern Check (Conformity)"===t.test||"Date Consistency"===t.test||"Default Check"===t.test?"blue":"Custom Rules"===t.test||"Global Rules"===t.test||"SQL Rules"===t.test?"pink":"red"),l.Nb(1),l.cd(t.test),l.Nb(4),l.Bc("ngIf",t.DQI>0&&(""!=t.status||null==t.status)),l.Nb(1),l.Bc("ngIf",t.DQI>0),l.Nb(1),l.Bc("ngIf",("Distribution Check"==t.test||"Record Count"==t.test||"Data Drift"==t.test)&&""==t.status),l.Nb(1),l.Bc("ngIf",0==t.DQI&&(""!=t.status||null==t.status)),l.Nb(2),l.dd("","Record Count"===t.Key_Metric_1_Label?"":t.Key_Metric_1_Label," "),l.Nb(1),l.Bc("ngClass",(null==t||null==t.column_names?null:t.column_names.length)>0?"cursor-pointer":"disable-pointer"),l.Nb(1),l.dd(" ",l.wc(14,14,t.Key_Metric_1),""),l.Nb(3),l.cd(t.Key_Metric_2_Label),l.Nb(2),l.cd("Record Count"===t.Key_Metric_1_Label?"NA":l.wc(19,16,t.Key_Metric_2)),l.Nb(3),l.Qb(t.status?t.status:"NA"),l.Nb(1),l.cd(t.status?l.wc(23,18,t.status):"NA")}}function Nt(t,e){1&t&&(l.jc(0,"tr"),l.jc(1,"td"),l.bd(2," No records found "),l.ic(),l.ic()),2&t&&(l.Nb(1),l.Ob("colspan",7))}function Vt(t,e){if(1&t&&(l.jc(0,"li",73),l.bd(1),l.ic()),2&t){const t=e.$implicit;l.Nb(1),l.cd(t)}}const qt=function(t){return{"margin-bottom":t}};function Rt(t,e){if(1&t&&(l.jc(0,"ul",71),l.Zc(1,Vt,2,1,"li",72),l.ic()),2&t){const t=l.uc(2);l.Bc("ngStyle",l.Fc(2,qt,t.displayMoreData?"0px":"1rem")),l.Nb(1),l.Bc("ngForOf",t.displayModelValue)}}function Bt(t,e){if(1&t&&(l.jc(0,"li",73),l.bd(1),l.ic()),2&t){const t=e.$implicit;l.Nb(1),l.cd(t)}}function Lt(t,e){if(1&t&&(l.jc(0,"ul",74),l.Zc(1,Bt,2,1,"li",72),l.ic()),2&t){const t=l.uc(2);l.Nb(1),l.Bc("ngForOf",t.displayMoreValue)}}function zt(t,e){if(1&t){const t=l.kc();l.jc(0,"a",75),l.qc("click",function(){return l.Rc(t),l.uc(2).moreResult()}),l.bd(1,"Show More"),l.ic()}}function Ft(t,e){if(1&t){const t=l.kc();l.jc(0,"div",62),l.jc(1,"b"),l.bd(2,"Names of Columns Tested:"),l.ic(),l.ic(),l.jc(3,"div",63),l.Zc(4,Rt,2,4,"ul",64),l.Zc(5,Lt,2,1,"ul",65),l.Zc(6,zt,2,0,"a",66),l.ic(),l.jc(7,"div",67),l.jc(8,"div",68),l.qc("click",function(){return l.Rc(t),l.uc().modalRef.hide()}),l.jc(9,"label",69),l.bd(10,"Close"),l.ic(),l.ec(11,"img",70),l.ic(),l.ic()}if(2&t){const t=l.uc();l.Nb(4),l.Bc("ngIf",(null==t.displayModelValue?null:t.displayModelValue.length)>0),l.Nb(1),l.Bc("ngIf",(null==t.displayMoreValue?null:t.displayMoreValue.length)>0&&t.displayMoreData),l.Nb(1),l.Bc("ngIf",(null==t.displayMoreValue?null:t.displayMoreValue.length)>0&&!t.displayMoreData)}}function At(t,e){if(1&t){const t=l.kc();l.jc(0,"div",89),l.jc(1,"table"),l.jc(2,"tr",90),l.jc(3,"td"),l.jc(4,"p-checkbox",91),l.qc("ngModelChange",function(e){return l.Rc(t),l.uc().$implicit.pdfCols=e})("onChange",function(){return l.Rc(t),l.uc(3).pdfColsValue()}),l.ic(),l.ic(),l.jc(5,"td"),l.jc(6,"label"),l.bd(7),l.ic(),l.ic(),l.ic(),l.ic(),l.ic()}if(2&t){const t=l.uc().$implicit,e=l.uc(2);l.Nb(4),l.Bc("ngModel",t.pdfCols)("disabled",e.pdfCheckboxDisabled&&!t.pdfCols),l.Nb(3),l.cd(t.displayValue)}}function Qt(t,e){if(1&t&&(l.hc(0),l.Zc(1,At,8,3,"div",88),l.gc()),2&t){const t=e.$implicit;l.Nb(1),l.Bc("ngIf",t.showPdfCols)}}function Kt(t,e){1&t&&(l.jc(0,"div",92),l.bd(1,"You can select up to 9 columns."),l.ic())}function Zt(t,e){if(1&t){const t=l.kc();l.jc(0,"div",62),l.jc(1,"span",76),l.bd(2,"Please select columns that need to be downloaded in PDF"),l.ic(),l.ic(),l.jc(3,"div",77),l.jc(4,"div",78),l.Zc(5,Qt,2,1,"ng-container",79),l.ic(),l.ic(),l.jc(6,"div",67),l.jc(7,"div",80),l.jc(8,"div",81),l.Zc(9,Kt,2,0,"div",82),l.ic(),l.jc(10,"div",83),l.jc(11,"button",84),l.qc("click",function(){l.Rc(t);const e=l.uc();return e.exportPdf(),e.modalRef.hide()}),l.ic(),l.ic(),l.jc(12,"div",85),l.jc(13,"div"),l.jc(14,"label",86),l.qc("click",function(){return l.Rc(t),l.uc().closeExportPdf()}),l.bd(15,"Close"),l.ic(),l.jc(16,"img",87),l.qc("click",function(){return l.Rc(t),l.uc().closeExportPdf()}),l.ic(),l.ic(),l.ic(),l.ic(),l.ic()}if(2&t){const t=l.uc();l.Nb(5),l.Bc("ngForOf",t.customizeCols),l.Nb(4),l.Bc("ngIf",t.pdfCheckboxDisabled),l.Nb(2),l.Bc("disabled",t.disableDownloadBtn)}}const Gt=function(){return[10,25,35]},Et=function(){return["test","DQI","Key_Metric_1_Label","Key_Metric_1","Key_Metric_2_Label","Key_Metric_2","Status","Key_Metric_3","column_names","more_column_names","Key_Metric_3_list"]};gt.a.vfs=ht.a.pdfMake.vfs;const Wt=[{path:"",component:x,children:[{path:"",redirectTo:"status-change"},{path:"status-change",component:F,data:{breadcrumb:"Status Change",validationTemplate:"valName"}},{path:"table",component:(()=>{class t{constructor(t,e,a,i,s,n,o,c,r){this.validationCheckSummaryService=t,this.modalService=e,this.router=a,this.spinner=i,this.datePipe=s,this.dataQualityService=n,this.domainProjService=o,this.runService=c,this.messages=r,this.validationSummaryChecks=[],this.displayMoreData=!1,this.pdfData=[],this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.columns=[{title:"test",dataKey:"test"},{title:"DTS",dataKey:"DQI"},{title:"Record Count",dataKey:"Key_Metric_1_Label"},{title:"Measurement",dataKey:"Key_Metric_1"},{title:"Key_Metric_2_Label",dataKey:"Key_Metric_2_Label"},{title:"Key_Metric_2",dataKey:"Key_Metric_2"},{title:"Status",dataKey:"status"},{title:"Key_Metric_3",dataKey:"Key_Metric_3"},{title:"column_names",dataKey:"column_names"},{title:"more_column_names",dataKey:"more_column_names"},{title:"Key_Metric_3_list",dataKey:"Key_Metric_3_list"}],this.customizeCols=[{displayValue:"Test",originalValue:"test",class:"test",isSelected:!0,necessaryCol:!1,alwaysSelected:!1,showPdfCols:!0},{displayValue:"DTS",originalValue:"DQI",isSelected:!0,class:"",necessaryCol:!0,alwaysSelected:!1,showPdfCols:!0},{displayValue:"Measurement",originalValue:"Key_Metric_1_Label",isSelected:!0,class:"text-alignment",necessaryCol:!0,alwaysSelected:!1,showPdfCols:!0},{displayValue:"Count",originalValue:"Key_Metric_1",isSelected:!0,class:"text-alignment",necessaryCol:!0,alwaysSelected:!1,showPdfCols:!0},{displayValue:"Measurement",originalValue:"Key_Metric_2_Label",isSelected:!0,class:"text-alignment",necessaryCol:!0,alwaysSelected:!1,showPdfCols:!1},{displayValue:"Defects",originalValue:"Key_Metric_2",isSelected:!0,class:"measurment",necessaryCol:!0,alwaysSelected:!1,showPdfCols:!0},{displayValue:"Status",originalValue:"status",isSelected:!0,class:"",necessaryCol:!1,alwaysSelected:!1,showPdfCols:!0}],this.scrollHeight="500px",this.customizeColsPdf=[],this.statusPoll={},this.isLoading=!1,this.arr=[],this.displayTaskStatus=!1,this.validationSummaryCheckDetails=[],this.categories1=[],this.data1=[],this.aggreagteDQITrend="",this.resetAggreateDQIChart([],[]),sessionStorage.getItem("idApp")&&(this.validationId=parseInt(sessionStorage.getItem("idApp"),10)),this.chartOptions1={series:[76],chart:{type:"radialBar",offsetY:-20,width:"100%",height:170},plotOptions:{radialBar:{startAngle:-90,endAngle:90,track:{background:"#e7e7e7",strokeWidth:"97%",margin:5,dropShadow:{enabled:!0,top:2,left:0,opacity:.31,blur:2}},dataLabels:{name:{show:!1}}}},fill:{type:"gradient",gradient:{shade:"light",shadeIntensity:.4,inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,50,53,91]}},labels:["DTS"]},this.chartOptions={series:[76],chart:{type:"radialBar",offsetY:-20,width:"100%",height:100},plotOptions:{radialBar:{startAngle:-90,endAngle:90,track:{background:"#e7e7e7",strokeWidth:"97%",margin:5,dropShadow:{enabled:!0,top:2,left:0,opacity:.31,blur:2}},dataLabels:{name:{show:!1}}}},fill:{type:"gradient",gradient:{shade:"light",shadeIntensity:.4,inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,50,53,91]}},labels:["DTS"]},this.fileName=sessionStorage.getItem("fileName")}ngOnInit(){this.domainProjService.passDomainProjVal(!0),this.aggreagteDQI=sessionStorage.getItem("aggreagteDQI"),this.getValidationSummaryChecks(),sessionStorage.getItem("fromDate")?(this.fromDate=new Date(sessionStorage.getItem("fromDate")),this.toDate=new Date(sessionStorage.getItem("toDate"))):(this.fromDate=new Date,this.fromDate.setDate((new Date).getDate()-30),this.toDate=new Date,this.toDate.setDate((new Date).getDate()+1)),this.getFilteredData()}getFilteredData(){const t=new Date(this.fromDate),e=new Date(this.toDate),a={fromDate:this.datePipe.transform(t,"yyyy-MM-dd"),toDate:this.datePipe.transform(e,"yyyy-MM-dd"),idApp:this.validationId.toString()};this.dataQualityService.getDetailOfValidation("getValidationForIdApp",a).subscribe(t=>{sessionStorage.setItem("aggreagteDQI",t.result.aggreagteDQI),this.aggreagteDQITrend=t.result.trend,this.aggreagteDQI=t.result.aggreagteDQI,sessionStorage.setItem("latestDate",t.result.date),sessionStorage.setItem("latestRun",t.result.run),sessionStorage.setItem("validationCheckName",t.result.validationCheckName+" ("+t.result.date+") ("+t.result.run+")")})}getValidationSummaryChecks(){return Object(I.a)(this,void 0,void 0,function*(){this.validationSummaryChecks=yield this.validationCheckSummaryService.getValidationSummaryChecks(this.validationId);const t=new Date(this.fromDate),e=new Date(this.toDate),a={fromDate:this.datePipe.transform(t,"yyyy-MM-dd"),toDate:this.datePipe.transform(e,"yyyy-MM-dd"),idApp:this.validationId.toString()};this.validationCheckSummaryService.getDateVsDtsGraphData(a).subscribe(t=>{this.validationSummaryCheckDetails=t.result.listDateVsDTSGraph,this.categories1=[],this.data1=[];for(const e of this.validationSummaryCheckDetails)this.categories1.push(e.date),this.categories1=this.categories1.sort((t,e)=>t.localeCompare(e)),this.validationSummaryCheckDetails.length===this.categories1.length&&this.categories1.forEach(t=>{const e=this.validationSummaryCheckDetails.find(e=>e.date===t);this.data1.push(parseFloat(e.dts))});this.resetAggreateDQIChart(this.data1,this.categories1)}),this.validationSummaryChecks.map(t=>{t.Key_Metric_1=Number(t.Key_Metric_1),t.Key_Metric_2=Number(t.Key_Metric_2),t.Key_Metric_3_list=[],""!==t.Key_Metric_3&&(t.Key_Metric_3_list=t.Key_Metric_3.split(",")),t.column_names=[],t.more_column_names=[],t.DQI=Math.round(100*t.DQI)/100}),this.validationSummaryChecks.map(t=>{if(t.Key_Metric_3_list.length>0)for(let e=0;e<t.Key_Metric_3_list.length;e++)e>=10?t.more_column_names.push(t.Key_Metric_3_list[e]):t.column_names.push(t.Key_Metric_3_list[e])}),this.pdfData=this.validationSummaryChecks})}moreResult(){this.displayMoreData=!0}downloadCsv(){const t=sessionStorage.getItem("validationCheckName").split(" ");this.validationCheckSummaryService.downloadCSV({idApp:this.validationId,validationName:t[0],aggregateDTS:this.aggreagteDQI,tableName:this.fileName}).subscribe(t=>{Object(A.saveAs)(t,"ValidationSummaryChecks.csv")})}capture(){Z()(document.querySelector("#screen1"),{height:1200}).then(t=>{const e=this.aggreagteDQI,a=sessionStorage.getItem("validationCheckName");t.toDataURL(),t.toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onloadend=()=>{gt.a.createPdf({footer:{columns:[{text:"Created by FirstEigen",alignment:"right",style:"footerSection"}]},content:[{text:"Data Validation Overview",alignment:"center"},{text:"Validation Name: "+a,style:"textStyle"},{text:"Aggregate DTS: "+e,style:"textStyle"},{image:i.result,width:500,alignment:"left"}],styles:{sectionHeader:{bold:!0,decoration:"underline",fontSize:14,margin:[0,5,0,5]},textStyle:{bold:!1,fontSize:8,margin:[0,5,0,5]},footerSection:{fontSize:6,margin:[5,5,5,5]}}}).download("DetailSummaryTable.pdf")}})})}openExportPdf(t){this.modalRef=this.modalService.show(t,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}closeExportPdf(){this.modalRef.hide(),setTimeout(()=>{this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols.forEach(t=>t.pdfCols=!1)},1e3)}exportPdf(){this.pdfData.length&&(this.spinner.show(),setTimeout(()=>{const t=sessionStorage.getItem("validationCheckName"),e=new Q.default("l","pt");let a=this.customizeCols.filter(t=>t.pdfCols);a.forEach(t=>{if("Key_Metric_1_Label"==t.originalValue){const t=this.customizeCols.filter(t=>"Key_Metric_2_Label"==t.originalValue);t&&(t[0].pdfCols=!0,this.pdfCheckCount++)}if("Key_Metric_1"==t.originalValue){const t=this.customizeCols.filter(t=>"Key_Metric_2"==t.originalValue);t&&(t[0].pdfCols=!0,this.pdfCheckCount++)}}),a=this.customizeCols.filter(t=>t.pdfCols);const i=[];a.forEach(t=>i.push(t.displayValue));const s=[];a.forEach(t=>s.push(t.originalValue));const n=this.pdfData;let o=[];this.pdfData.map(t=>{"Data Drift"==t.test&&(""!=t.status&&null!=t.status||(t.DQI="")),"Record Count"==t.test&&(t.Key_Metric_2="",""!=t.status&&null!=t.status||(t.DQI=""))}),o=n.map(t=>Object.assign(s.map(e=>t[e])));const c=e.internal.pageSize,r=c.height?c.height:c.getHeight(),l=this.aggreagteDQI;lt()(e,{columns:i,body:o,didDrawPage:a=>{1==a.pageNumber&&(e.text("Detailed Summary",e.internal.pageSize.width/2,25,null,"center"),e.setFontSize(10),e.text("Validation Name: "+t,a.settings.margin.left,40),e.text("Table Name: "+this.fileName,a.settings.margin.left,55),e.text("Aggregate DTS: "+l,a.settings.margin.left,70)),e.setFontSize(9),e.text("Created by FirstEigen",e.internal.pageSize.width-40,r-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}},columnStyles:{}}),e.save("DetailedSummary.pdf"),this.disableDownloadBtn=!0,this.pdfCheckboxDisabled=!1,a.forEach(t=>t.pdfCols=!1),this.spinner.hide()},2e3))}pdfColsValue(){this.pdfCheckCount=0,this.customizeCols.filter(t=>!0===t.pdfCols).forEach(t=>{!0===t.pdfCols&&this.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}openOtherField(t,e,a){this.displayMoreData=!1,this.displayModelValue=e,this.displayMoreValue=a,this.modalRef=this.modalService.show(t,{class:"gray",backdrop:"static",keyboard:!1})}navigateToScreen(t){let e="",a="";"Record Count"===t?e="count_reasonability":"Length Check (Conformity)"===t?e="length_check":"Null (Completeness)"===t?e="null_check":"Primary Uniqueness"===t||"Custom Uniqueness"===t?(e="duplicate_check",a="duplicate_summary_tab"):"Distribution Check"===t?e="distribution_check":"Value Anomaly"===t?e="record_anomaly_check":"Data Type (Conformity)"===t?e="bad_data_check":"Regex Pattern (Conformity)"===t?(e="pattern_check",a="pattern_check_tab"):"Date Consistency"===t?(e="date_anomaly_check",a="date_summary_tab"):"Time Sequence"===t?e="sequence_check":"Custom Rules"===t||"Global Rules"===t||"SQL Rules"===t?e="global_rules":"Data Drift"===t?e="data_drift_check":"Default Check"===t?e="default_check":"Default Pattern Check (Conformity)"===t&&(e="default_pattern_check",a="default_pattern_check"),"length_check"!==e&&"null_check"!==e&&"duplicate_check"!==e&&"bad_data_check"!==e&&"default_check"!==e&&"date_anomaly_check"!==e&&"pattern_check"!==e&&"default_pattern_check"!==e||this.router.navigateByUrl("/dbckangui/quality/data/detailed-view/check-main/essential",{state:{checkName:e,subTab:a}}),"count_reasonability"!==e&&"distribution_check"!==e&&"record_anomaly_check"!==e&&"sequence_check"!==e&&"data_drift_check"!==e||this.router.navigateByUrl("/dbckangui/quality/data/detailed-view/check-main/advance",{state:{checkName:e}}),"global_rules"!==e&&"sql_rules"!==e&&"custom_rules"!==e||this.router.navigateByUrl("/dbckangui/quality/data/detailed-view/check-main/custom_rules",{state:{checkName:e}})}runStatusPoll(){let t=0;this.displayTaskStatus=!1;const e=new r.a;e.validationRunType="unit_testing",e.appIds=JSON.stringify(this.validationId),this.runService.getRunAndTask("runTaskResult",e).subscribe(e=>{var a;this.result=e.result,this.isLoading=!0,"failed"==e.status&&(this.isLoading=!1),null===(a=this.result)||void 0===a||a.map(e=>{const a=this.result.find(e=>e.uniqueId===this.result[t].uniqueId);e.intervalId=setInterval(()=>{const t=new r.b;t.idApp=a.appId,t.task_name=sessionStorage.getItem("validationCheckNameRun"),t.uniqueId=a.uniqueId,this.runService.getStatusPoll("statusPoll",t).subscribe(t=>{var a;e.success=null===(a=null==t?void 0:t.result)||void 0===a?void 0:a.status,this.statusPoll=null==t?void 0:t.result,this.isLoading="Task queued"==this.statusPoll.status||"Task started"==this.statusPoll.status,"Task queued"===e.success||"Task started"===e.success?e.progressBarShow=!1:"Task in progress"===e.success?(e.value=t.result.percentage,e.progressBarShow=!0,e.value>=100&&(e.value=100)):"Task killed"===e.success?(e.progressBarShow=!1,this.displayTaskStatus=!0,this.messages.displayToaster(this.statusPoll.status,"warn","Warning"),clearInterval(e.intervalId),setTimeout(()=>{this.displayTaskStatus=!1},5e3)):"Task completed"===e.success?(this.isLoading=!0,this.messages.displayToaster(this.statusPoll.status,"success","Success"),e.progressBarShow=!1,window.location.reload(),this.router.navigateByUrl("/dbckangui/data-connection/view-connections-copy",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/dbckangui/quality/data/detailed-view/details-summary/table"])}),clearInterval(e.intervalId),setTimeout(()=>{this.isLoading=!1},5e3)):"Task failed"===e.success&&(e.progressBarShow=!1,this.displayTaskStatus=!0,this.messages.displayToaster(this.statusPoll.status,"warn","Warning"),clearInterval(e.intervalId),setTimeout(()=>{this.displayTaskStatus=!1},5e3))})},2500),this.arr.push(e.intervalId),t++})},t=>{this.isLoading=!1})}ngOnDestroy(){this.arr.map(t=>{clearInterval(t),this.arr=[]})}resetAggreateDQIChart(t,e){this.aggregationDQIChart={chart:{height:280,type:"area",toolbar:{show:!1}},series:[{name:"DTS",data:t}],stroke:{curve:"smooth",width:.5},markers:{size:2,hover:{size:5}},yaxis:{tickAmount:2,min:0,max:100,title:{text:"DTS",style:{fontSize:"14px",fontFamily:"Open Sans",fontWeight:600}},labels:{formatter:t=>t.toFixed(2)}},xaxis:{categories:e,title:{text:"Date (Run)",style:{fontSize:"14px",fontFamily:"Open Sans",fontWeight:600}},tooltip:{enabled:!1},tickAmount:7},fill:{colors:["#09D171"],type:"gradient",gradient:{shadeIntensity:.1,opacityFrom:.7,opacityTo:.1,inverseColors:!1}},dataLabels:{enabled:!1},colors:["#09D171"]}}rotate(t){t.srcElement.classList.remove("rotate"),setTimeout(()=>{t.srcElement.classList.add("rotate")},0)}}return t.\u0275fac=function(e){return new(e||t)(l.dc(M),l.dc(E.a),l.dc(c.i),l.dc(W.c),l.dc(i.d),l.dc(p.a),l.dc(g.a),l.dc(u.a),l.dc(h.b))},t.\u0275cmp=l.Xb({type:t,selectors:[["app-validation-detail-summary-table"]],viewQuery:function(t,e){if(1&t&&l.gd(mt,1),2&t){let t;l.Nc(t=l.rc())&&(e.chart=t.first)}},decls:30,vars:19,consts:[[1,"div-block-11-2","row","main-aggregate","margingl"],[1,"col-sm-12","col-md-12","col-lg-12","container-pad-left"],[1,"div-block-12-4","container-padding"],[1,"div-block-18","project-graph-styling","div-styling"],["title","Reset","aria-hidden","true",1,"fa","fa-refresh","cursor-pointer",3,"click"],["id","project-data",1,"padding-top-15"],[1,"div-block-17"],[1,"div-block-18"],[1,"text-block-5","_1","heading"],[1,"default-font-16"],["src","assets/images/trend-up-new.png","class","trendsize image-7 margin-left-15","title","DTS is going Up","loading","lazy","alt","trendup",4,"ngIf"],["src","assets/images/trend-down-new.png","class","trendsize image-7 margin-left-15","title","DTS is going Down","loading","lazy","alt","trenddown",4,"ngIf"],["src","assets/images/neutral.png","class","trendsize image-7 margin-left-15","title","DTS is Neutral","loading","lazy","alt","neutral",4,"ngIf"],[3,"series","chart","xaxis","yaxis","colors","dataLabels","fill","stroke",4,"ngIf"],["class","col-lg-12 col-md-12 col-sm-12 no_records alignment",4,"ngIf"],[1,"div-block-11-3","shadow","val-sum-check"],["styleClass","p-datatable-striped p-datatable-gridlines","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","scrollDirection","horizontal","id","screen1",3,"value","responsive","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","first","scrollable","scrollHeight","globalFilterFields"],["table","","screen1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["moreTemplate",""],["exportPdfTemplate",""],["src","assets/images/trend-up-new.png","title","DTS is going Up","loading","lazy","alt","trendup",1,"trendsize","image-7","margin-left-15"],["src","assets/images/trend-down-new.png","title","DTS is going Down","loading","lazy","alt","trenddown",1,"trendsize","image-7","margin-left-15"],["src","assets/images/neutral.png","title","DTS is Neutral","loading","lazy","alt","neutral",1,"trendsize","image-7","margin-left-15"],[3,"series","chart","xaxis","yaxis","colors","dataLabels","fill","stroke"],[1,"col-lg-12","col-md-12","col-sm-12","no_records","alignment"],[1,"table-header"],[1,"row"],[1,"col-md-10"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","input"],[1,"pi","pi-search","margin-gfilter"],[1,"col-md-2"],[1,"download_button","float-right"],[1,"w-inline-block","cursor-pointer"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],[1,"test"],[1,"text-alignment"],[1,"measurment"],[1,"text-align","check_alignment",3,"ngClass","click"],[1,"check-test"],[1,"col-md-8"],[3,"series","chart","fill","plotOptions","labels",4,"ngIf"],["class","col-md-4 mar--16",4,"ngIf"],["class","assignGraph",4,"ngIf"],[1,"text-align"],[1,"text-alignment","keyMetric",3,"ngClass","click"],[3,"series","chart","fill","plotOptions","labels"],[1,"col-md-4","mar--16"],[4,"ngIf"],["src","assets/images/trend-up-new.png","class","trendsize image-7","title","DTS is going Up","loading","lazy","alt","trendup",4,"ngIf"],["src","assets/images/trend-down-new.png","class","trendsize image-7","title","DTS is going Down","loading","lazy","alt","trenddown",4,"ngIf"],["src","assets/images/neutral.png","class","trendsize image-7","title","DTS is Neutral","loading","lazy","alt","neutral",4,"ngIf"],["src","assets/images/trend-up-new.png","title","DTS is going Up","loading","lazy","alt","trendup",1,"trendsize","image-7"],["src","assets/images/trend-down-new.png","title","DTS is going Down","loading","lazy","alt","trenddown",1,"trendsize","image-7"],["src","assets/images/neutral.png","title","DTS is Neutral","loading","lazy","alt","neutral",1,"trendsize","image-7"],[1,"assignGraph"],[1,"italicfont"],[1,"modal-header"],[1,"modal-body"],["class","list-line",3,"ngStyle",4,"ngIf"],["class","list-line",4,"ngIf"],["class","more-result",3,"click",4,"ngIf"],[1,"modal-footer"],[3,"click"],[1,"cursor-pointer"],["src","assets/images/close.png","width","30px",1,"margin-l"],[1,"list-line",3,"ngStyle"],["class","font-size1",4,"ngFor","ngForOf"],[1,"font-size1"],[1,"list-line"],[1,"more-result",3,"click"],[1,"modal-title"],[1,"modal-body","pdf-modal"],[1,"row","padding-btm"],[4,"ngFor","ngForOf"],[1,"row","full-width"],[1,"col-lg-4"],["class","color-code",4,"ngIf"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"]],template:function(t,e){1&t&&(l.jc(0,"div",0),l.jc(1,"div",1),l.jc(2,"div",2),l.jc(3,"div",3),l.jc(4,"i",4),l.qc("click",function(t){return e.resetAggreateDQIChart(e.data1,e.categories1),e.rotate(t)}),l.ic(),l.ic(),l.jc(5,"div",5),l.jc(6,"div",6),l.jc(7,"div",7),l.jc(8,"div",8),l.bd(9,"Aggregate DTS"),l.ic(),l.ic(),l.jc(10,"div",7),l.jc(11,"div",9),l.bd(12),l.Zc(13,bt,1,0,"img",10),l.Zc(14,ft,1,0,"img",11),l.Zc(15,yt,1,0,"img",12),l.ic(),l.ic(),l.ic(),l.Zc(16,vt,1,8,"apx-chart",13),l.Zc(17,kt,2,0,"div",14),l.ic(),l.ic(),l.ic(),l.ic(),l.jc(18,"div",15),l.jc(19,"p-table",16,17),l.Zc(22,Ct,13,1,"ng-template",18),l.Zc(23,Dt,13,0,"ng-template",19),l.Zc(24,Tt,24,20,"ng-template",20),l.Zc(25,Nt,3,1,"ng-template",21),l.ic(),l.ic(),l.Zc(26,Ft,12,3,"ng-template",null,22,l.ad),l.Zc(28,Zt,17,3,"ng-template",null,23,l.ad)),2&t&&(l.Nb(12),l.dd("",e.aggreagteDQI.toFixed(2)," % "),l.Nb(1),l.Bc("ngIf","UP"==e.aggreagteDQITrend),l.Nb(1),l.Bc("ngIf","DOWN"==e.aggreagteDQITrend),l.Nb(1),l.Bc("ngIf","NEUTRAL"==e.aggreagteDQITrend),l.Nb(1),l.Bc("ngIf",(null==e.aggregationDQIChart||null==e.aggregationDQIChart.series[0].data?null:e.aggregationDQIChart.series[0].data.length)>0),l.Nb(1),l.Bc("ngIf",0==(null==e.aggregationDQIChart||null==e.aggregationDQIChart.series[0].data?null:e.aggregationDQIChart.series[0].data.length)),l.Nb(2),l.Bc("value",e.validationSummaryChecks)("responsive",!0)("rowHover",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",l.Ec(17,Gt))("paginator",!1)("first",0)("scrollable",!0)("scrollHeight",e.scrollHeight)("globalFilterFields",l.Ec(18,Et)))},directives:[i.n,O.f,T.i,n.a,s.d,N.a,s.o,s.r,i.l,i.o,i.m,pt.b,U.a],pipes:[i.e,i.x],styles:[".passed[_ngcontent-%COMP%]{background-color:#56b608;color:#fff;opacity:.7;padding:4px;border-radius:5px;width:60px;cursor:inherit}.failed[_ngcontent-%COMP%]{background-color:#e72b56}.NA[_ngcontent-%COMP%], .failed[_ngcontent-%COMP%]{color:#fff;opacity:.7;padding:3px;border-radius:5px;width:60px;cursor:inherit}.NA[_ngcontent-%COMP%]{background-color:#df9e28}.assignGraph[_ngcontent-%COMP%]{text-align:center;vertical-align:text-top;margin-top:-10px}[_nghost-%COMP%]     .p-dropdown .p-table ::-webkit-scrollbar{width:7px}[_nghost-%COMP%]     .p-dropdown .p-table ::-webkit-scrollbar-track{--webkit-box-shadow:inset 0 0 6px linear-gradient(180deg,#001585,#ff7526 0.01%,#fb9a64 97.92%);border-radius:7px}[_nghost-%COMP%]     .p-dropdown .p-table ::-webkit-scrollbar-thumb{border-radius:7px;background:linear-gradient(180deg,#001585,#ff7526 .01%,#fb9a64 97.92%);--webkit-box-shadow:inset 0 0 6pxlinear-gradient(180deg,#001585 0%,#ff7526 0.01%,#fb9a64 97.92%)}[_nghost-%COMP%]     .p-datatable .p-datatable-thead{border-top-right-radius:10px!important;border-top-left-radius:10px!important}[_nghost-%COMP%]     .p-datatable .p-paginator-bottom{border-width:0 0 1px;border-radius:0;border-bottom-left-radius:10px;border-bottom-right-radius:10px}[_nghost-%COMP%]     .tooltip-text{background:#f2f2f2!important}[_nghost-%COMP%]     .p-datatable-scrollable-footer{display:none}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:30px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.measurment[_ngcontent-%COMP%]{text-align:center;border-top-right-radius:10px}.list-line[_ngcontent-%COMP%]{list-style:none}.margin-l[_ngcontent-%COMP%]{margin-left:5px}.more-result[_ngcontent-%COMP%]{color:#b30f0f;font-size:14px;font-family:Open Sans!important;margin-left:8%}.font-size1[_ngcontent-%COMP%]{font-size:15px}.text-align[_ngcontent-%COMP%]{text-align:left}.test[_ngcontent-%COMP%]{text-align:center;border-top-left-radius:10px}.main-aggregate[_ngcontent-%COMP%]{justify-content:center}.val-sum-check[_ngcontent-%COMP%]{height:100%;padding:10px;background:#fff;border-radius:20px}.padding-left[_ngcontent-%COMP%]{padding-left:0}.download-btn[_ngcontent-%COMP%]{padding:0;text-align:end;margin-top:30px}.dropbtn[_ngcontent-%COMP%]{font-size:14px}.dropdown[_ngcontent-%COMP%]{z-index:100;position:relative;display:inline-block;margin-right:0!important}.showMore[_ngcontent-%COMP%]{display:block}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#f1f1f1;max-width:200px;padding:5px;word-break:break-all;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);z-index:999;text-align:left}.dropdown-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#000;padding:3px 5px;text-decoration:none;display:block}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{display:block}table[_ngcontent-%COMP%]{width:100%}header[_ngcontent-%COMP%]{height:20px}body[_ngcontent-%COMP%], header[_ngcontent-%COMP%]{display:inline-block;width:100%}body[_ngcontent-%COMP%]{height:200px;overflow:auto}.runBtnSec[_ngcontent-%COMP%]{padding-right:15px}.display-align[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-height[_ngcontent-%COMP%]{height:270px!important}.container-height1[_ngcontent-%COMP%]{height:125px!important}.container-padding[_ngcontent-%COMP%]{padding:15px!important}.container-pad-left[_ngcontent-%COMP%]{padding-left:0!important}.container-pad-right[_ngcontent-%COMP%]{padding-right:0!important}.margingl[_ngcontent-%COMP%]{margin-left:10px!important}.position[_ngcontent-%COMP%]{top:26%!important}.position[_ngcontent-%COMP%], .position2[_ngcontent-%COMP%]{position:relative!important}.position2[_ngcontent-%COMP%]{top:20%!important}.position3[_ngcontent-%COMP%]{position:relative!important;top:38%!important}.italicfont[_ngcontent-%COMP%]{font-style:italic;font-size:13px}.mar--16[_ngcontent-%COMP%]{margin-left:-16px}.trendsize[_ngcontent-%COMP%]{height:22px;width:19px}.no_records[_ngcontent-%COMP%]{border-radius:10px!important;padding:12px!important;background:#fff;border:1px solid #dee2e6;text-align:center;font-size:.9rem;vertical-align:middle;top:25%}.padding-top-3[_ngcontent-%COMP%]{padding-top:3px!important}.div-styling[_ngcontent-%COMP%]{min-height:0!important;float:right}"]}),t})(),data:{breadcrumb:"Summary",validationTemplate:"valName"}},{path:"dashboard",component:ct,data:{breadcrumb:"Summary",validationTemplate:"valName"}}]}];let Ut=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.bc({type:t}),t.\u0275inj=l.ac({imports:[[c.l.forChild(Wt)],c.l]}),t})(),$t=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.bc({type:t}),t.\u0275inj=l.ac({imports:[[i.b,s.j,Ut,o.a,n.b,m.b.forRoot({})]]}),t})()},tPnb:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var i=a("fXoL"),s=a("bUwk"),n=a("acRR");let o=(()=>{class t{constructor(t,e){this.http=t,this.messages=e}getValCheckNameList(t,e=new Object){return this.http.post(t,e)}getValidationCheckNameList(t,e=new Object){return this.http.postWithoutSpinner(t,e)}getAppGroupNameList(t){return this.http.get(t)}validationApprovedList(t){return this.http.get(t)}schedulerList(t){return this.http.getCallWithoutSpinner(t)}deleteAppGroup(t,e){return this.http.post(t,e)}deleteAppGroupMapping(t,e){return this.http.post(t,e)}getAppGroupList(t){return this.http.get(t)}downloadCSV(t){return this.http.getforCSV(t)}getRunAndTask(t,e=new Object){return this.http.post(t,e)}updateAppGroup(t,e=new Object){return this.http.post(t,e)}addAppGroup(t,e=new Object){return this.http.post(t,e)}getStatusPoll(t,e=new Object){return this.http.postWithoutSpinner(t,e)}getRunningJobsView(t,e=new Object){return this.http.post(t,e)}getAppGroupAssociatedValidations(t,e=new Object){return this.http.post(t,e)}downloadCSVJobs(t,e){return this.http.postforCSV(t,e)}clearAllQueuedJobs(t,e=new Object){return this.http.post(t,e)}deleteJobFromQueue(t,e=new Object){return this.http.postWithToasty(t,e)}subSchemaJobList(){return{result:[{taskType:"Template",applicationId:4838,applicationName:"queue_process_right_customer",processId:0,deployMode:null,sparkAppId:null,startTime:null,endTime:null,duration:0,jobDurationStatus:null,fullDuration:null,status:null,uniqueId:"Templ_4838_1660723942742",projectId:null,projectName:null,triggeredByHost:null},{taskType:"Template",applicationId:4839,applicationName:"queue_process_OmniPH",processId:0,deployMode:null,sparkAppId:null,startTime:null,endTime:null,duration:0,jobDurationStatus:null,fullDuration:null,status:null,uniqueId:"Templ_4839_1660723942747",projectId:null,projectName:null,triggeredByHost:null}],message:"Records found successfully",status:"success"}}getSchemaJobAssociatedTemplates(t,e=new Object){return this.http.post(t,e)}stopRunningJob(t,e=new Object){return this.http.postWithToasty(t,e)}getAppGroupById(t,e=new Object){return this.http.post(t,e)}getConnectionNameList(t){return this.http.post("getSchemaNames",t)}getRunConnection(t=new Object){return this.http.postWithToasty("triggerDataSchema",t)}triggerRunConnection(t=new Object){return this.http.postWithToasty("triggerAppGroup",t)}getSchedulersList(t){return this.http.post("viewSchedules",t)}submitScheduler(t){return this.http.postWithToasty("scheduleTask",t)}updatetScheduler(t){return this.http.postWithToasty("editScheduleTask",t)}deleteScheduler(t){return this.http.postWithToasty("deleteSchedule",t)}downloadSchedulerCSV(t=new Object){return this.http.postforCSV("getScheduleCSV",t)}getSchedularById(t){return this.http.post("editSchedule",t)}}return t.\u0275fac=function(e){return new(e||t)(i.nc(s.a),i.nc(n.a))},t.\u0275prov=i.Zb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);