(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{BeEg:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var o=i("fXoL"),n=i("bUwk");let s=(()=>{class e{constructor(e){this.http=e}getAllDatabuckTags(e){return this.http.get(e)}databuckTagsCSV(e){return this.http.getforCSV(e)}createDatabuckTags(e){return this.http.postWithToasty("addDatabuckTags",e)}updateDatabuckTagInfo(e){return this.http.post("updateDatabuckTagInfo",e)}}return e.\u0275fac=function(t){return new(t||e)(o.nc(n.a))},e.\u0275prov=o.Zb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},ZEcW:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var o=i("fXoL"),n=i("bUwk");let s=(()=>{class e{constructor(e){this.http=e}getDetailsOfDataTemplateList(e,t=new Object){return this.http.post(e,t)}getTabNameByConnName(e,t=new Object){return this.http.post(e,t)}copyTemplate(e,t=new Object){return this.http.postWithToasty(e,t)}templateDuplicateCheck(e,t=new Object){return this.http.postWithoutSpinner(e,t)}commonstatuspoll(e,t=new Object){return this.http.postWithToasty(e,t)}connectionNameList(e,t=new Object){return this.http.post(e,t)}templateEditForm(e,t=new Object){return this.http.post(e,t)}createTemplateList(e,t=new Object){return this.http.post(e,t)}createDerivedTemplateList(e,t=new Object){return this.http.post(e,t)}updateTemplateList(e,t=new Object){return this.http.post(e,t)}createStatusPoll(e,t=new Object){return this.http.postWithoutSpinner(e,t)}downloadCSVDataTemplate(e){return this.http.postforCSV("getPaginatedDataTemplatesCSV",e)}deleteTemplate(e,t){return this.http.postWithToasty(e,t)}viewscreen(e){return this.http.post("dataTemplateView",e)}editCheck(e){return this.http.postWithToasty("editCheck",e)}checkDateFormat(e){return this.http.postWithToasty("checkDateFormat",e)}approveMicroSegments(e){return this.http.post("approveMicroSegments",e)}rejectMicroSegments(e){return this.http.post("rejectMicroSegments",e)}reject(e){return this.http.post("rejectColumnAnalysisChanges",e)}approve(e){return this.http.post("approveColumnAnalysisChanges",e)}updateTemplate(e){return this.http.post("updateTemplateDeltaApprovalStatus",e)}selectAll(e,t){return this.http.post(e,t)}getTempDetailById(e,t=new Object){return this.http.post(e,t)}dQquickStart(e){return this.http.postWithMultipartWithouttosty("processDQQuickStart",e)}processDQQuickStartByPath(e){return this.http.postWithoutToasty("processDQQuickStartByPath",e)}getQuickStartValidationDetailsByIdData(e){return this.http.post("getQuickStartValidationDetailsByIdData",e)}deleteCustomMicrosegments(e){return this.http.post("deleteCustomMicrosegments",e)}changeDataColumnAjax(e){return this.http.post("changeDataColumnAjax",e)}getCustomMicroSegmentColumnNamesForCheck(e){return this.http.post("getCustomMicroSegmentColumnNamesForCheck",e)}getListOfTemplate(e){return this.http.post("getListOfMicrosegmentTemplate",e)}addCustomMicrosegments(e){return this.http.postWithToasty("addCustomMicrosegments",e)}getCustomMicroSegmentsByTemplateId(e){return this.http.post("getCustomMicroSegmentsByTemplateId",e)}dataTemplate1Dropdown(e,t){return this.http.post(e,t)}editDerivedDataTemplate(e,t){return this.http.post(e,t)}validateQueryForTemplate(e,t){return this.http.postWithoutToasty(e,t)}}return e.\u0275fac=function(t){return new(t||e)(o.nc(n.a))},e.\u0275prov=o.Zb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},cx2K:function(e,t,i){"use strict";i.r(t),i.d(t,"UserSettingsModule",function(){return fa});var o=i("ofXK"),n=i("3Pt+"),s=i("tyNb"),c=i("CV0D"),a=i("6RAO"),r=i("arFO"),l=i("6t4m"),d=i("VEwP"),p=i("BeEg"),u=i("ThbA"),g=i("PCNd"),h=i("Iab2"),f=i("Z2oo"),m=i.n(f),b=i("Tm3k"),C=i.n(b),x=i("7rT8"),v=i.n(x),P=i("DaQG"),j=i.n(P),w=i("i680"),O=i("fXoL"),S=i("kH6v"),y=i("JqCM"),M=i("7zfz"),N=i("K3ix"),k=i("J4N/"),D=i("jIHw"),F=i("rEr+"),_=i("/RsI"),I=i("7kUa"),V=i("guv5"),R=i("Ji6n");function L(e,t){if(1&e){const e=O.kc();O.jc(0,"div",25),O.jc(1,"span",26),O.jc(2,"input",27),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().globalFilterValue=t})("keyup",function(t){return O.Rc(e),O.uc().globalFilterFun(t)}),O.ic(),O.bd(3,"\xa0 "),O.ec(4,"i",28),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(2),O.Bc("ngModel",e.globalFilterValue)}}function B(e,t){if(1&e){const e=O.kc();O.jc(0,"th"),O.bd(1),O.ec(2,"br"),O.ec(3,"p-sortIcon",33),O.jc(4,"app-column-filter",34),O.qc("hideFilterDataBox",function(t){return O.Rc(e),O.uc(3).hideBox(t)})("filterData",function(t){return O.Rc(e),O.uc(3).getFilterData(t)})("resetFilterValues",function(t){return O.Rc(e),O.uc(3).resetFilter(t)}),O.ic(),O.jc(5,"span",35),O.jc(6,"i",36),O.qc("click",function(){O.Rc(e);const t=O.uc().$implicit;return O.uc(2).onFilterClick(t.originalValue)}),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc().$implicit,t=O.uc(2);O.Nb(1),O.cd(e.displayValue),O.Nb(2),O.Cc("field",e.originalValue),O.Cc("pSortableColumn",e.originalValue),O.Nb(1),O.Bc("colFilterData",t.getFilterState(e.originalValue))("customId",e.originalValue)("display",t.displayFiltersFor[e.originalValue])("fieldName",e.originalValue),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"selected-filter-column":""),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function E(e,t){if(1&e&&(O.hc(0),O.Zc(1,B,7,9,"th",32),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",e.isSelected)}}function z(e,t){if(1&e&&(O.jc(0,"tr",29),O.Zc(1,E,2,1,"ng-container",30),O.jc(2,"th",31),O.bd(3," Actions"),O.ic(),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngForOf",e.customizeCols)}}function T(e,t){if(1&e&&(O.jc(0,"span"),O.bd(1),O.ic()),2&e){const e=O.uc(2).$implicit,t=O.uc().$implicit;O.Nb(1),O.cd(t[e.originalValue])}}function q(e,t){if(1&e&&(O.jc(0,"button",44),O.bd(1),O.ic()),2&e){const e=O.uc(3).$implicit;O.Rb("conn-name ","yes"==e.Status?"conn-pass":"conn-failed",""),O.Bc("title",e.ValidationCheckName),O.Nb(1),O.dd(" ",e.ValidationCheckName," ")}}const Z=function(){return{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}};function U(e,t){if(1&e&&(O.jc(0,"td",42),O.Zc(1,T,2,1,"span",32),O.Zc(2,q,2,5,"button",43),O.ic()),2&e){const e=O.uc().$implicit,t=O.uc().$implicit;O.Sb("",""," ","ValidationCheckName"==e.originalValue?"text-center":"",""),O.Bc("ngStyle",O.Ec(8,Z))("title",t[e.originalValue]),O.Nb(1),O.Bc("ngIf","ValidationCheckName"!=e.originalValue),O.Nb(1),O.Bc("ngIf","ValidationCheckName"==e.originalValue)}}function A(e,t){if(1&e&&(O.hc(0),O.Zc(1,U,3,9,"td",41),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",e.isSelected)}}function W(e,t){if(1&e){const e=O.kc();O.jc(0,"tr",37),O.Zc(1,A,2,1,"ng-container",30),O.jc(2,"td",31),O.jc(3,"span",38),O.qc("click",function(){O.Rc(e);const i=t.$implicit;return O.uc().editLoginGrpMapping(i)}),O.ec(4,"i",39),O.ic(),O.jc(5,"span",38),O.qc("click",function(){O.Rc(e);const i=t.$implicit;return O.uc().deleteAppGroup(i)}),O.ec(6,"i",40),O.ic(),O.ec(7,"br"),O.ic(),O.ic()}if(2&e){const e=O.uc();let t=null,i=null;O.Nb(1),O.Bc("ngForOf",e.customizeCols),O.Nb(2),O.Bc("ngClass",null!=(t=e.roleOnModule("User Settings"))&&null!=t.accessControl&&t.accessControl.includes("U")?" cursor-pointer":"disable"),O.Nb(2),O.Bc("ngClass",null!=(i=e.roleOnModule("User Settings"))&&null!=i.accessControl&&i.accessControl.includes("D")?" cursor-pointer":"disable")}}function G(e,t){1&e&&(O.jc(0,"div",45),O.bd(1,"No records found"),O.ic())}function $(e,t){if(1&e){const e=O.kc();O.jc(0,"div",46),O.jc(1,"p-paginator",47,48),O.qc("onPageChange",function(t){return O.Rc(e),O.uc().onPageChange(t)})("firstChange",function(t){return O.Rc(e),O.uc().first=t}),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("rows",10)("totalRecords",e.loginGroup.length)("showCurrentPageReport",!0)("first",e.first)}}function J(e,t){if(1&e&&(O.jc(0,"div",53),O.jc(1,"div"),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc(3);O.Nb(2),O.ed("Page ",e.selectedPage.page," of ",e.totalNumOfPages,"")}}function H(e,t){if(1&e&&O.Zc(0,J,3,2,"div",52),2&e){const e=O.uc(2);O.Bc("ngIf",e.selectedPage)}}function Q(e,t){if(1&e){const e=O.kc();O.jc(0,"div",49),O.jc(1,"p-dropdown",50),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().selectedPage=t})("onChange",function(t){return O.Rc(e),O.uc().onPageNumChange(t)}),O.Zc(2,H,1,1,"ng-template",51),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("options",e.numOfPages)("filter",!0)("ngModel",e.selectedPage)}}function K(e,t){1&e&&(O.jc(0,"span",54),O.ec(1,"i",55),O.bd(2," Confirmation "),O.ic())}function Y(e,t){if(1&e){const e=O.kc();O.jc(0,"div"),O.jc(1,"p-checkbox",69),O.qc("ngModelChange",function(){O.Rc(e);const i=t.$implicit;return O.uc(2).onChecked(i.RoleRowId)}),O.ic(),O.jc(2,"label",70),O.bd(3),O.ic(),O.ec(4,"br"),O.ic()}if(2&e){const e=t.$implicit;O.Nb(1),O.Cc("value",e.RoleRowId),O.Nb(2),O.cd(e.RoleName)}}function X(e,t){if(1&e){const e=O.kc();O.jc(0,"div"),O.jc(1,"p-checkbox",71),O.qc("ngModelChange",function(){O.Rc(e);const i=t.$implicit;return O.uc(2).onCheckedProj(i.ProjectRowId)}),O.ic(),O.jc(2,"label",70),O.bd(3),O.ic(),O.ec(4,"br"),O.ic()}if(2&e){const e=t.$implicit;O.Nb(3),O.cd(e.ProjectName)}}function ee(e,t){if(1&e){const e=O.kc();O.jc(0,"div",56),O.jc(1,"div",57),O.jc(2,"div",58),O.jc(3,"label",59),O.bd(4,"Login Group Name"),O.ic(),O.ec(5,"br"),O.ec(6,"input",60),O.ic(),O.jc(7,"div",61),O.jc(8,"p-checkbox",62),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().newApproverInt=t})("ngModelChange",function(){O.Rc(e);const t=O.uc();return t.onCheckeds(t.newApproverInt)}),O.ic(),O.jc(9,"label",63),O.bd(10,"Belong to Approver Group "),O.ic(),O.ic(),O.ic(),O.jc(11,"div",57),O.jc(12,"div",58),O.jc(13,"label",59),O.bd(14,"Assigned Roles"),O.ic(),O.ec(15,"br"),O.jc(16,"div",64),O.Zc(17,Y,5,2,"div",30),O.ic(),O.ic(),O.jc(18,"div",58),O.jc(19,"label",59),O.bd(20,"Assigned Project"),O.ic(),O.ec(21,"br"),O.jc(22,"div",64),O.Zc(23,X,5,1,"div",30),O.ic(),O.ic(),O.ic(),O.jc(24,"div",65),O.ec(25,"br"),O.jc(26,"div",66),O.ec(27,"br"),O.jc(28,"button",67),O.qc("click",function(){return O.Rc(e),O.uc().saveLoginGroupData()}),O.ic(),O.jc(29,"button",68),O.qc("click",function(){return O.Rc(e),O.uc().modalRef.hide()}),O.ic(),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Bc("formGroup",e.loginGrpFrm),O.Nb(8),O.Bc("ngModel",e.newApproverInt),O.Nb(9),O.Bc("ngForOf",e.allRolesList),O.Nb(6),O.Bc("ngForOf",e.allProjectList)}}function te(e,t){if(1&e){const e=O.kc();O.hc(0),O.jc(1,"div",85),O.jc(2,"table"),O.jc(3,"tr",86),O.jc(4,"td"),O.jc(5,"p-checkbox",87),O.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return O.Rc(e),O.uc(2).pdfColsValue()}),O.ic(),O.ic(),O.jc(6,"td"),O.jc(7,"label"),O.bd(8),O.ic(),O.ic(),O.ic(),O.ic(),O.ic(),O.gc()}if(2&e){const e=t.$implicit,i=O.uc(2);O.Nb(5),O.Bc("ngModel",e.pdfCols)("disabled",i.pdfCheckboxDisabled&&!e.pdfCols),O.Nb(3),O.cd(e.displayValue)}}function ie(e,t){1&e&&(O.jc(0,"div",88),O.bd(1,"You can select up to 9 columns."),O.ic())}function oe(e,t){if(1&e){const e=O.kc();O.jc(0,"div",72),O.jc(1,"span",73),O.bd(2,"Please select columns that need to be downloaded in PDF"),O.ic(),O.ic(),O.jc(3,"div",74),O.jc(4,"div",75),O.Zc(5,te,9,3,"ng-container",30),O.ic(),O.ic(),O.jc(6,"div",76),O.jc(7,"div",77),O.jc(8,"div",78),O.Zc(9,ie,2,0,"div",79),O.ic(),O.jc(10,"div",80),O.jc(11,"button",81),O.qc("click",function(){O.Rc(e);const t=O.uc();return t.exportPdf(),t.modalRef.hide()}),O.ic(),O.ic(),O.jc(12,"div",82),O.jc(13,"div"),O.jc(14,"label",83),O.qc("click",function(){return O.Rc(e),O.uc().closeExportPdf()}),O.bd(15,"Close"),O.ic(),O.jc(16,"img",84),O.qc("click",function(){return O.Rc(e),O.uc().closeExportPdf()}),O.ic(),O.ic(),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(5),O.Bc("ngForOf",e.customizeCols),O.Nb(4),O.Bc("ngIf",e.pdfCheckboxDisabled),O.Nb(2),O.Bc("disabled",e.disableDownloadBtn)}}const ne=function(){return{width:"100%"}},se=function(){return{width:"50vw"}};m.a.vfs=C.a.pdfMake.vfs;let ce=(()=>{class e{constructor(e,t,i,o,n,s,c,a,r){this.userSettingService=e,this.spinner=t,this.filterService=i,this.datePipe=o,this.router=n,this.fb=s,this.detectChanges=c,this.modalService=a,this.domainProjService=r,this.projectNames=[],this.loginGroup=[],this.mainLoginGroup=[],this.pageWiseLoginGroup=[],this.display=!1,this.deleteModal=!1,this.deleteConnection={},this.connToCpoy={},this.first=0,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.pageSize=9,this.totalNumOfPages=0,this.checkboxDisabled=!1,this.maxCount=4,this.displayFiltersFor={GroupName:!1,IsApproverStr:!1,RoleNames:!1,ProjectNames:!1},this.multiSortMeta=[{field:"GroupRowId",order:-1}],this.pdfData=[],this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols=[{displayValue:"Login Group Name",originalValue:"GroupName",isSelected:!0,necessaryCol:!0,alwaysSelected:!1},{displayValue:"In Approver Group",originalValue:"IsApproverStr",isSelected:!0,necessaryCol:!0,alwaysSelected:!1,width:"35%"},{displayValue:"Assigned Roles",originalValue:"RoleNames",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Assigned Projects",originalValue:"ProjectNames",isSelected:!0,necessaryCol:!1,alwaysSelected:!1}],this.selectedProjId=17,this.schemaNamevalid=!0,this.schemaNameReq=!1,this.schemaNameLengthExceed=!1,this.changedSchemaName=!1,this.regexForSchemaName=/^[a-zA-Z][a-zA-z0-9_]*$/,this.schemaNameUnique=!0,this.columnFilter={},this.scrollHt="300px",this.filterData={},this.selectedRowData={},this.userDetails={},this.isHealthCheckEnabled="",this.roleId="",this.newRoleId=[],this.newProjectId=[],this.customSortArr=[],this.norecordfound=!1}ngOnInit(){var e;this.domainProjService.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData"),this.loginGrpFrm=this.fb.group({GroupName:["",n.w.compose([n.w.required,n.w.pattern("^[a-zA-Z][A-Za-z0-9_]*$")])],Roles:[""],Projects:[""],IsApproverInt:[""]}),sessionStorage.removeItem("connDet"),sessionStorage.getItem("userDetail")&&(this.userDetails=JSON.parse(sessionStorage.getItem("userDetail"))),this.fromDate=new Date,this.fromDate.setDate((new Date).getDate()-30),this.toDate=new Date,this.toDate.setDate((new Date).getDate()+1),this.maxDate=new Date,this.maxDate.setDate((new Date).getDate()+3),this.getLoginGroupMappingList(),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(e=>{e.accessControl=e.accessControl.split("-")})))}roleOnModule(e){return this.roleModule.find(t=>t.moduleName===e)}hideBox(e){this.displayFiltersFor[e.fieldName]=!1}capture(){if(this.pageWiseLoginGroup.length){this.spinner.show(),this.scrollHt="800px";const e="LoginGroupMapping.pdf",t="#login_grp_id";setTimeout(()=>{v()(document.querySelector(t),{height:1200}).then(t=>{try{t.toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onloadend=()=>{m.a.createPdf({footer:{columns:[{text:"Created by FirstEigen",alignment:"right",style:"footerSection"}]},content:[{text:"Login Group Mapping",alignment:"center",margin:[0,5,0,5]},{image:i.result,width:500,alignment:"left"}],styles:{sectionHeader:{bold:!0,decoration:"underline",fontSize:14,margin:[0,5,0,5]},textStyle:{bold:!1,fontSize:9,margin:[0,5,0,5]},footerSection:{fontSize:7,margin:[5,7,7,5]}}}).download(e),this.scrollHt="300px",this.spinner.hide()}})}catch(i){this.spinner.hide()}})},2e3)}}openExportPdf(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}closeExportPdf(){this.modalRef.hide(),setTimeout(()=>{this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols.forEach(e=>e.pdfCols=!1)},1e3)}exportPdf(){this.pdfData.length&&(this.spinner.show(),setTimeout(()=>{const e=new w.default("l","pt"),t=this.customizeCols.filter(e=>e.pdfCols),i=[];t.forEach(e=>i.push(e.displayValue));const o=[];t.forEach(e=>o.push(e.originalValue));let n=[];n=this.pdfData.map(e=>Object.assign(o.map(t=>e[t])));const s=e.internal.pageSize,c=s.height?s.height:s.getHeight();j()(e,{columns:i,body:n,didDrawPage:t=>{1==t.pageNumber&&(e.text("Login Group Mapping",e.internal.pageSize.width/2,25,null,"center"),e.setFontSize(10)),e.setFontSize(9),e.text("Created by FirstEigen",e.internal.pageSize.width-40,c-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}},columnStyles:{}}),e.save("Login Group Mapping.pdf"),this.disableDownloadBtn=!0,this.pdfCheckboxDisabled=!1,t.forEach(e=>e.pdfCols=!1),this.spinner.hide()},2e3))}pdfColsValue(){this.pdfCheckCount=0,this.customizeCols.filter(e=>!0===e.pdfCols).forEach(e=>{!0===e.pdfCols&&this.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}downloadCSV(){this.userSettingService.loginGroupMappingCSV("loginGroupMappingCSV").subscribe(e=>{const t=this.datePipe.transform(new Date,"yyyy-MM-dd");Object(h.saveAs)(e,"Login Group Mapping_"+t+".csv")})}onFilterClick(e){Object.keys(this.displayFiltersFor).map(t=>{this.displayFiltersFor[t]=t===e})}addNewGroup(){this.router.navigate(["/dbckangui/user-setting/add-login-group-mapping"])}onCheckeds(e){}editLoginGrpMapping(e){sessionStorage.setItem("loginGrpData",JSON.stringify(e)),this.router.navigate(["/dbckangui/user-setting/edit-login-group-mapping"])}openOtherField(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}onChecked(e){if(!0===this.loginGrpFrm.value.Roles)this.newRoleId.push(e);else{const t=this.newRoleId.indexOf(e);this.newRoleId.splice(t,1)}}onCheckedProj(e){if(!0===this.loginGrpFrm.value.Roles)this.newProjectId.push(e);else{const t=this.newProjectId.indexOf(e);this.newProjectId.splice(t,1)}}saveLoginGroupData(){this.IsApproverInt=!0===this.loginGrpFrm.value.IsApproverInt?"1":"0";const e={GroupRowId:this.GroupRowId,Roles:this.newRoleId.toString(),Projects:this.newProjectId.toString(),RoleRowIds:"",ProjectRowIds:"",IsApproverInt:this.IsApproverInt,GroupName:this.loginGrpFrm.value.GroupName};this.userSettingService.saveLoginGroupData("saveLoginGroupData",e).subscribe(e=>{})}getLoginGroupMappingList(){this.spinner.show(),this.userSettingService.loadLoginGroupMappingList("loadLoginGroupMappingList",{}).subscribe(e=>{this.spinner.hide(),this.spinner.hide()&&(this.norecordfound=!0),this.allProjectList=e.result.DataSet.AllProjects,this.allRolesList=e.result.DataSet.AllRoles;const t=[];e.result.DataSet.SecurityMatrix.map(e=>{e.GroupRowId=parseInt(e.GroupRowId),t.push(e)}),this.mainLoginGroup=[...t],this.loginGroup=[...this.mainLoginGroup],this.pdfData=[...this.mainLoginGroup];const i=this.first+this.pageSize;null!=this.filterObj&&this.filterObj.forEach(e=>{this.loginGroup=this.loginGroup.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))});const o=this.loginGroup.filter((e,t)=>t<=i);this.pageWiseLoginGroup=[...o],this.calculateNumOfPages(),this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount})}calculateNumOfPages(){if(this.totalNumOfPages=this.mainLoginGroup.length?this.mainLoginGroup.length<this.pageSize?1:Math.ceil(this.mainLoginGroup.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}onPageChange(e){this.first=e.first;const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseLoginGroup=[...o]}onPageNumChange(e){this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.pageWiseLoginGroup=[...o]}getSortedData(){const e=[...this.loginGroup];return this.sortOrderEvent?1===this.sortOrderEvent.order?(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?-1:0),e):(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?-1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?1:0),e):e}deleteAppGroup(e){this.deleteModal=!0,this.deleteGroupData=e,this.appGroupName=e.GroupName}deleteConfirm(){this.deleteModal=!1;const e={GroupRowId:this.deleteGroupData.GroupRowId.toString(),Roles:this.deleteGroupData.RoleRowIds,Projects:this.deleteGroupData.ProjectRowIds,RoleRowIds:"",ProjectRowIds:"",IsApproverInt:this.deleteGroupData.IsApproverInt,GroupName:"-2"};this.userSettingService.saveLoginGroupData("saveLoginGroupData",e).subscribe(e=>{"success"===e.status&&(this.getLoginGroupMappingList(),this.deleteConnection={})})}customSort(e){this.sortField=e.field,this.sortOrder=e.order,this.sortMode=e.mode,this.customSortArr.filter(t=>t.field=e.field)[0]?this.customSortArr.map(t=>{t.order=e.order}):this.customSortArr.push(e);const t=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=t+1,this.selectedPage.pageIndex=t,this.sortOrderEvent=e;const i=[...this.loginGroup],o=[...this.sortOrderEvent.multiSortMeta];o.length>=3&&(e.multiSortMeta=e.multiSortMeta.splice(6,1)),1===o.length?i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]?-o[0].order:0):2===o.length?i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]?-o[1].order:0):3===o.length?i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]?-o[2].order:0):4===o.length&&i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]&&-o[2].order||e[o[3].field]>t[o[3].field]?o[3].order:t[o[3].field]>e[o[3].field]?-o[3].order:0);const n=this.first+this.pageSize,s=i.filter((e,t)=>{if(t<=n&&t>=this.first)return e});this.pageWiseLoginGroup=[...s]}globalFilterFun(e){const t=[...this.globalFilterLogic()],i=this.first+this.pageSize,o=t.filter((e,t)=>t<=i);this.detectChanges.detectChanges(),this.pageWiseLoginGroup=[...o],this.setPageNumber()}globalFilterLogic(){if(this.mainLoginGroup.length){const e=Object.keys(this.mainLoginGroup[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainLoginGroup.forEach(t=>{let i=!1;e.forEach(e=>{t[e]&&t[e].toString().toLowerCase().includes(this.globalFilterValue.toLowerCase())&&!i&&(this.filterValue.push(t),i=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.loginGroup=[...this.filterValue],this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=[...this.mainLoginGroup],this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.loginGroup=[...this.filterValue],this.calculateNumOfPages(),this.loginGroup}return[]}getFilterData(e){this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e[0]]=!1,this.first=0,this.globalFilterValue||(this.loginGroup=[...this.mainLoginGroup]),t.forEach(e=>{this.loginGroup=this.loginGroup.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}resetFilter(e){this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.loginGroup=[...this.mainLoginGroup],t.forEach(e=>{this.loginGroup=this.loginGroup.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}setPageNumber(){if(this.totalNumOfPages=this.loginGroup.length?this.loginGroup.length<this.pageSize?1:Math.ceil(this.loginGroup.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}const e=this.first+this.pageSize,t=this.loginGroup.filter((t,i)=>i<=e);this.pageWiseLoginGroup=[...t]}getFilterState(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){const t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}filterColumnNameWithHighlightName(e){return!(Object.keys(this.columnFilter).findIndex(t=>t===e)<0)}}return e.\u0275fac=function(t){return new(t||e)(O.dc(S.a),O.dc(y.c),O.dc(M.d),O.dc(o.d),O.dc(s.i),O.dc(n.e),O.dc(O.h),O.dc(N.a),O.dc(k.a))},e.\u0275cmp=O.Xb({type:e,selectors:[["app-login-group-mapping"]],decls:37,vars:35,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title","marginrem"],[1,"col-sm-6","text-right"],[1,"form-title"],["pButton","","type","button","label","Add",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn",3,"ngClass","click"],[1,"d-flex","justify-content-end","p-field","br-top"],[1,""],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["id","login_grp_id",1,"row","p-field"],[1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","responsiveLayout","scroll","sortMode","multiple",3,"value","responsive","rowHover","sortOrder","pageLinks","filterDelay","resetPageOnSort","rows","first","customSort","multiSortMeta","sortField","firstChange","sortFunction"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],["addNewGroupTemplate",""],["exportPdfTemplate",""],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"header"],[4,"ngFor","ngForOf"],[1,"actionbtn"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","customId","display","fieldName","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],[3,"ngStyle","title","class",4,"ngIf"],[3,"ngStyle","title"],[3,"class","title",4,"ngIf"],[3,"title"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],[1,"modal-body",3,"formGroup"],[1,"row","padding-btm1"],[1,"col-md-6"],["for","logingroupname",1,"form-label"],["id","uri","maxlength","255","formControlName","GroupName","placeholder","Enter Login Group Name","type","text","pInputText","",1,"form-field"],[1,"col-md-6","mr-top"],["binary","true","inputId","binary","formControlName","IsApproverInt",1,"pChkBox",3,"ngModel","ngModelChange"],["for","query",1,"form-label","ml"],[1,"container"],[1,"row","p-field","mr-top"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button","label","Submit",1,"button","w-button","shadow","btn-mr-rt",3,"click"],["pButton","","type","button","label","Cancel",1,"button","w-button","shadow","btn-mr-rt",3,"click"],["binary","true","formControlName","Roles","inputId","binary",1,"pChkBox",3,"value","ngModelChange"],["for","logingroupname",1,"form-label","ml"],["binary","true","formControlName","Projects","inputId","binary",1,"pChkBox",3,"ngModelChange"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","pdf-modal"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-4"],["class","color-code",4,"ngIf"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"]],template:function(e,t){if(1&e){const e=O.kc();O.jc(0,"div",0),O.jc(1,"div",1),O.jc(2,"div",2),O.jc(3,"p",3),O.bd(4," Assign Login Groups to Roles and Projects "),O.ic(),O.ic(),O.jc(5,"div",4),O.jc(6,"p",5),O.jc(7,"button",6),O.qc("click",function(){return t.addNewGroup()}),O.ic(),O.ic(),O.ic(),O.ic(),O.jc(8,"div",7),O.jc(9,"div",8),O.jc(10,"a"),O.jc(11,"img",9),O.qc("click",function(){return t.downloadCSV()}),O.ic(),O.ic(),O.jc(12,"a"),O.jc(13,"img",10),O.qc("click",function(){O.Rc(e);const i=O.Oc(36);return t.openExportPdf(i)}),O.ic(),O.ic(),O.ic(),O.ic(),O.jc(14,"div",11),O.jc(15,"div",12),O.jc(16,"p-table",13),O.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),O.Zc(17,L,5,1,"ng-template",14),O.Zc(18,z,4,1,"ng-template",15),O.Zc(19,W,8,3,"ng-template",16),O.ic(),O.ic(),O.Zc(20,G,2,0,"div",17),O.jc(21,"div",18),O.Zc(22,$,3,4,"div",19),O.Zc(23,Q,3,3,"div",20),O.ic(),O.ic(),O.ic(),O.jc(24,"p-dialog",21),O.qc("visibleChange",function(e){return t.deleteModal=e}),O.Zc(25,K,3,0,"ng-template",15),O.jc(26,"p"),O.bd(27,"Are you sure you want to delete Group "),O.jc(28,"b"),O.bd(29),O.ic(),O.bd(30,"?"),O.ic(),O.jc(31,"p-footer"),O.jc(32,"button",22),O.qc("click",function(){return t.deleteConfirm()}),O.ic(),O.ic(),O.ic(),O.Zc(33,ee,30,4,"ng-template",null,23,O.ad),O.Zc(35,oe,17,3,"ng-template",null,24,O.ad)}if(2&e){let e=null;O.Nb(7),O.Bc("ngClass",null!=(e=t.roleOnModule("User Settings"))&&null!=e.accessControl&&e.accessControl.includes("C")?" cursor-pointer":"disable"),O.Nb(3),O.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseLoginGroup&&t.pageWiseLoginGroup.length?"":"disabled-opa",""),O.Nb(2),O.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseLoginGroup&&t.pageWiseLoginGroup.length?"":"disabled-opa",""),O.Nb(4),O.Vc(O.Ec(33,ne)),O.Bc("value",t.pageWiseLoginGroup)("responsive",!0)("rowHover",!0)("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("rows",10)("first",t.first)("filterDelay",0)("customSort",!0)("multiSortMeta",t.multiSortMeta)("sortField","GroupRowId"),O.Nb(4),O.Bc("ngIf",!t.pageWiseLoginGroup.length&&t.norecordfound),O.Nb(2),O.Bc("ngIf",t.pageWiseLoginGroup.length),O.Nb(1),O.Bc("ngIf",t.pageWiseLoginGroup.length),O.Nb(1),O.Vc(O.Ec(34,se)),O.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),O.Nb(5),O.dd("",t.appGroupName," ")}},directives:[D.b,o.l,F.f,M.i,o.n,_.a,M.e,n.d,I.a,n.o,n.r,o.m,F.d,F.e,V.a,o.o,l.a,r.a,n.p,n.i,n.k,n.g,R.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.container[_ngcontent-%COMP%]{max-height:100px;overflow-y:scroll}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.mr-top[_ngcontent-%COMP%]{padding:35px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.ml[_ngcontent-%COMP%]{margin-left:10px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}.marginrem[_ngcontent-%COMP%]{margin:.1rem}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px}"]}),e})();var ae=i("lVkt");function re(e,t){if(1&e&&O.ec(0,"input",26),2&e){const e=O.uc();O.Bc("ngClass",e.editMode?"cursor-not":"")}}function le(e,t){1&e&&O.ec(0,"input",27)}function de(e,t){1&e&&(O.jc(0,"span",28),O.bd(1,"Please enter "),O.jc(2,"b"),O.bd(3,"Login Group Name"),O.ic(),O.ic())}function pe(e,t){if(1&e&&(O.jc(0,"p",28),O.Zc(1,de,4,0,"span",10),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngIf",e.loginGrpFrm.controls.groupName.errors.required)}}function ue(e,t){if(1&e&&(O.jc(0,"div",31),O.jc(1,"div",32),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc(2);O.Nb(2),O.dd(" ",e.selectedRole.length<=3?e.getSelectedRoleString():"{"+e.selectedRole.length+"} selected"," ")}}function ge(e,t){1&e&&(O.jc(0,"div",33),O.bd(1," Select Role "),O.ic())}function he(e,t){if(1&e&&(O.Zc(0,ue,3,1,"div",29),O.Zc(1,ge,2,0,"div",30)),2&e){const e=O.uc();O.Bc("ngIf",e.selectedRole.length),O.Nb(1),O.Bc("ngIf",!e.selectedRole||0===e.selectedRole.length)}}function fe(e,t){if(1&e&&(O.jc(0,"div",34),O.jc(1,"div"),O.bd(2),O.ic(),O.ic()),2&e){const e=t.$implicit;O.Nb(2),O.cd(e.RoleName)}}function me(e,t){1&e&&(O.jc(0,"p",28),O.jc(1,"span",28),O.bd(2,"Please select atleast one "),O.jc(3,"b"),O.bd(4,"Role"),O.ic(),O.ic(),O.ic())}function be(e,t){if(1&e&&(O.jc(0,"div",31),O.jc(1,"div",32),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc(2);O.Nb(2),O.dd(" ",e.selectedProject.length<=3?e.getSelectedProjString():"{"+e.selectedProject.length+"} selected"," ")}}function Ce(e,t){1&e&&(O.jc(0,"div",33),O.bd(1," Select Project "),O.ic())}function xe(e,t){if(1&e&&(O.Zc(0,be,3,1,"div",29),O.Zc(1,Ce,2,0,"div",30)),2&e){const e=O.uc();O.Bc("ngIf",e.selectedProject.length),O.Nb(1),O.Bc("ngIf",!e.selectedProject||0===e.selectedProject.length)}}function ve(e,t){if(1&e&&(O.jc(0,"div",34),O.jc(1,"div"),O.bd(2),O.ic(),O.ic()),2&e){const e=t.$implicit;O.Nb(2),O.cd(e.ProjectName)}}function Pe(e,t){1&e&&(O.jc(0,"p",28),O.jc(1,"span",28),O.bd(2,"Please select atleast one "),O.jc(3,"b"),O.bd(4,"Project"),O.ic(),O.ic(),O.ic())}function je(e,t){if(1&e){const e=O.kc();O.jc(0,"button",35),O.qc("click",function(){return O.Rc(e),O.uc().saveLoginGroupData()}),O.ic()}}function we(e,t){if(1&e){const e=O.kc();O.jc(0,"button",36),O.qc("click",function(){return O.Rc(e),O.uc().saveLoginGroupData()}),O.ic()}if(2&e){const e=O.uc();O.Bc("disabled",!e.loginGrpFrm.valid)}}const Oe=function(){return{width:"100%",height:"36px"}},Se=function(){return{standalone:!0}};let ye=(()=>{class e{constructor(e,t,i){this.userSettingService=e,this.fb=t,this.router=i,this.newApproverInt=!1,this.newRoleId=[],this.newProjectId=[],this.groupRowId="-1",this.allRolesList=[],this.editMode=!1,this.dataid=[],this.selectedRole=[],this.selectedRoles=[],this.selectedProject=[],this.selectedProjects=[],this.requiredRole=!1,this.requiredProject=!1}ngOnInit(){this.loginGrpFrm=this.fb.group({groupName:["",n.w.compose([n.w.required])],roles:["",n.w.compose([n.w.required])],projects:["",n.w.compose([n.w.required])],isApproverInt:[""]}),this.getLoginGroupMappingList(),this.router.url.includes("edit-login-group-mapping")?(this.editMode=!0,this.loginGrpData=JSON.parse(sessionStorage.getItem("loginGrpData")),this.groupRowId=this.loginGrpData.GroupRowId,this.newApproverInt="1"===this.loginGrpData.IsApproverInt,this.loginGrpFrm.patchValue({groupName:this.loginGrpData.GroupName,roles:this.loginGrpData.RoleRowIds,projects:this.loginGrpData.ProjectRowIds,isApproverInt:this.newApproverInt})):this.editMode=!1}getLoginGroupMappingList(){this.userSettingService.loadLoginGroupMappingList("loadLoginGroupMappingList",{}).subscribe(e=>{this.allProjectList=e.result.DataSet.AllProjects,this.allRolesList=e.result.DataSet.AllRoles,""!==this.loginGrpFrm.value.roles&&this.loginGrpFrm.value.roles.split(",").map(e=>{const t=this.allRolesList.filter(t=>t.RoleRowId===e)[0];t&&(this.selectedRole.push(t),this.selectedRoles.push(t.RoleRowId))}),""!==this.loginGrpFrm.value.projects&&this.loginGrpFrm.value.projects.split(",").map(e=>{const t=this.allProjectList.filter(t=>t.ProjectRowId===e)[0];t&&(this.selectedProject.push(t),this.selectedProjects.push(t.ProjectRowId))})})}cancel(){sessionStorage.removeItem("loginGrpData"),this.router.navigate(["/dbckangui/user-setting/login-group-mapping"])}saveLoginGroupData(){if(this.loginGrpFrm.valid)if(0!==this.selectedRoles.length&&0!==this.selectedProjects.length){this.requiredRole=!1,this.requiredProject=!1;const e={GroupRowId:this.groupRowId.toString(),Roles:this.selectedRoles.toString(),Projects:this.selectedProjects.toString(),RoleRowIds:"",ProjectRowIds:"",IsApproverInt:this.loginGrpFrm.value.isApproverInt?"1":"0",GroupName:this.loginGrpFrm.value.groupName};this.userSettingService.saveLoginGroupData("saveLoginGroupData",e).subscribe(e=>{this.router.navigate(["/dbckangui/user-setting/login-group-mapping"]),sessionStorage.removeItem("loginGrpData")})}else 0===this.selectedRoles.length&&(this.requiredRole=!0),0===this.selectedProjects.length&&(this.requiredProject=!0);else 0===this.selectedRoles.length&&(this.requiredRole=!0),0===this.selectedProjects.length&&(this.requiredProject=!0)}onRoleChange(e){this.selectedRole=e.value,this.loginGrpFrm.controls.roles.setValue(e.value.toString()),this.selectedRoles=[],this.selectedRole.forEach(e=>{this.selectedRoles.push(e.RoleRowId)})}onProjChange(e){this.selectedProject=e.value,this.loginGrpFrm.controls.projects.setValue(e.value.toString()),this.selectedProjects=[],this.selectedProject.forEach(e=>{this.selectedProjects.push(e.ProjectRowId)})}getSelectedRoleString(){let e="";return this.selectedRole.forEach((t,i)=>{e=e+(0!==i?",":"")+t.RoleName}),e}getSelectedProjString(){let e="";return this.selectedProject.forEach((t,i)=>{e=e+(0!==i?",":"")+t.ProjectName}),e}}return e.\u0275fac=function(t){return new(t||e)(O.dc(S.a),O.dc(n.e),O.dc(s.i))},e.\u0275cmp=O.Xb({type:e,selectors:[["app-add-login-group"]],decls:54,vars:31,consts:[[1,"container-fluid","create-conn-main",3,"formGroup"],[1,"row"],[1,"col-sm-12"],[1,"form-title"],[1,"row","p-field"],[1,"col-sm-12","col-md-6"],["for","logingroupname",1,"form-label"],[1,"req-field"],["id","uri","maxlength","255","readonly","","class","form-field","formControlName","groupName","placeholder","Enter Login Group Name","type","text","pInputText","",3,"ngClass",4,"ngIf"],["id","uri","maxlength","255","class","form-field","formControlName","groupName","placeholder","Enter Login Group Names","type","text","pInputText","",4,"ngIf"],["class","err-msg",4,"ngIf"],[1,"col-md-6","col-sm-12","mr-tops"],["binary","true","inputId","binary","formControlName","isApproverInt",1,"pChkBox",3,"ngModel","ngModelChange"],["for","query",1,"form-label","ml"],[1,"col-md-6","col-sm-12","mr-top"],["defaultLabel","Select Validation","optionLabel","RoleName","name","selectedRole",1,"multiselect-custom",3,"options","ngModel","styleClass","maxSelectedLabels","selectedItemsLabel","ngModelOptions","filter","ngModelChange","onChange"],["pTemplate","selectedItems"],["pTemplate","item"],["defaultLabel","Select Project","optionLabel","ProjectName","name","selectedProject",1,"multiselect-custom",3,"options","ngModel","styleClass","maxSelectedLabels","selectedItemsLabel","ngModelOptions","filter","ngModelChange","onChange"],[1,"row","p-field","mr-top"],[1,"note","row","p-field"],[1,"col-sm-12","col-md-12","mr-top","text-left"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button","class","button w-button shadow btn-mr-rt","label","Update Login Group",3,"click",4,"ngIf"],["pButton","","type","button","class","button w-button shadow btn-mr-rt","label","Create Login Group",3,"disabled","click",4,"ngIf"],["pButton","","type","button","label","Cancel",1,"button","w-button","btn-cancel","shadow",3,"click"],["id","uri","maxlength","255","readonly","","formControlName","groupName","placeholder","Enter Login Group Name","type","text","pInputText","",1,"form-field",3,"ngClass"],["id","uri","maxlength","255","formControlName","groupName","placeholder","Enter Login Group Names","type","text","pInputText","",1,"form-field"],[1,"err-msg"],["class","validationType-item validationType-item-value",4,"ngIf"],["class","validationType-placeholder",4,"ngIf"],[1,"validationType-item","validationType-item-value"],[1,"word_break_word_all"],[1,"validationType-placeholder"],[1,"validationType-item"],["pButton","","type","button","label","Update Login Group",1,"button","w-button","shadow","btn-mr-rt",3,"click"],["pButton","","type","button","label","Create Login Group",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"]],template:function(e,t){1&e&&(O.jc(0,"div",0),O.jc(1,"div",1),O.jc(2,"div",2),O.jc(3,"p",3),O.bd(4," Login Group Mapping "),O.ic(),O.ic(),O.ic(),O.jc(5,"div",4),O.jc(6,"div",5),O.jc(7,"label",6),O.bd(8,"Login Group Name"),O.jc(9,"sup",7),O.bd(10,"*"),O.ic(),O.ic(),O.ec(11,"br"),O.jc(12,"div"),O.Zc(13,re,1,1,"input",8),O.Zc(14,le,1,0,"input",9),O.Zc(15,pe,2,1,"p",10),O.ic(),O.ic(),O.jc(16,"div",11),O.jc(17,"p-checkbox",12),O.qc("ngModelChange",function(e){return t.newApproverInt=e}),O.ic(),O.jc(18,"label",13),O.bd(19,"Belong to Approver Group "),O.ic(),O.ic(),O.ic(),O.jc(20,"div",4),O.jc(21,"div",14),O.jc(22,"label",6),O.bd(23,"Assigned Roles"),O.jc(24,"sup",7),O.bd(25,"*"),O.ic(),O.ic(),O.ec(26,"br"),O.jc(27,"p-multiSelect",15),O.qc("ngModelChange",function(e){return t.selectedRole=e})("onChange",function(e){return t.onRoleChange(e)}),O.Zc(28,he,2,2,"ng-template",16),O.Zc(29,fe,3,1,"ng-template",17),O.ic(),O.Zc(30,me,5,0,"p",10),O.ic(),O.jc(31,"div",14),O.jc(32,"label",6),O.bd(33,"Assigned Project"),O.jc(34,"sup",7),O.bd(35,"*"),O.ic(),O.ic(),O.ec(36,"br"),O.jc(37,"p-multiSelect",18),O.qc("ngModelChange",function(e){return t.selectedProject=e})("onChange",function(e){return t.onProjChange(e)}),O.Zc(38,xe,2,2,"ng-template",16),O.Zc(39,ve,3,1,"ng-template",17),O.ic(),O.Zc(40,Pe,5,0,"p",10),O.ic(),O.ic(),O.jc(41,"div",19),O.ec(42,"br"),O.jc(43,"div",20),O.jc(44,"div",21),O.jc(45,"p"),O.bd(46,"Note: Fields marked with "),O.jc(47,"b"),O.bd(48,'"*"'),O.ic(),O.bd(49," are required. "),O.ic(),O.ic(),O.ic(),O.jc(50,"div",22),O.Zc(51,je,1,0,"button",23),O.Zc(52,we,1,1,"button",24),O.jc(53,"button",25),O.qc("click",function(){return t.cancel()}),O.ic(),O.ic(),O.ic(),O.ic()),2&e&&(O.Bc("formGroup",t.loginGrpFrm),O.Nb(13),O.Bc("ngIf",t.editMode),O.Nb(1),O.Bc("ngIf",!t.editMode),O.Nb(1),O.Bc("ngIf",t.loginGrpFrm.controls.groupName.invalid&&!t.loginGrpFrm.controls.groupName.pristine),O.Nb(2),O.Bc("ngModel",t.newApproverInt),O.Nb(10),O.Vc(O.Ec(27,Oe)),O.Bc("options",t.allRolesList)("ngModel",t.selectedRole)("styleClass","form-field")("maxSelectedLabels",5)("selectedItemsLabel","{0} items selected")("ngModelOptions",O.Ec(28,Se))("filter",t.allRolesList.length>0),O.Nb(3),O.Bc("ngIf",t.requiredRole),O.Nb(7),O.Vc(O.Ec(29,Oe)),O.Bc("options",t.allProjectList)("ngModel",t.selectedProject)("styleClass","form-field")("maxSelectedLabels",5)("selectedItemsLabel","{0} items selected")("ngModelOptions",O.Ec(30,Se))("filter",t.allProjectList.length>0),O.Nb(3),O.Bc("ngIf",t.requiredProject),O.Nb(11),O.Bc("ngIf",t.editMode),O.Nb(1),O.Bc("ngIf",!t.editMode))},directives:[n.p,n.i,o.n,R.a,n.o,n.g,ae.a,n.r,M.i,D.b,n.d,n.k,I.a,o.l],styles:[".add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.p-field[_ngcontent-%COMP%]{margin:0 10px}.note[_ngcontent-%COMP%]{text-align:left;font-size:13px;color:#eb5454;margin-left:12px!important;margin-top:25px!important}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .p-multiselect{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .multiselect-custom .p-multiselect-label{padding-top:.25rem!important;padding-bottom:.25rem!important}[_nghost-%COMP%]     .multiselect-custom .validationType-item-value{padding:.1rem .25rem!important;border-radius:3px!important;display:inline-flex!important;margin-right:.5rem!important}[_nghost-%COMP%]     .multiselect-custom .validationType-item div{white-space:normal;word-break:break-word}[_nghost-%COMP%]     .multiselect-custom .validationType-placeholder{font-family:Open Sans!important;font-size:14px!important;font-weight:400;padding:.25rem}@media screen and (max-width:640px){[_nghost-%COMP%]     .p-multiselect{width:100%!important}}.margin-left[_ngcontent-%COMP%]{margin-left:10px;margin-top:5px}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.mr-tops[_ngcontent-%COMP%]{padding-top:35px}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}.container[_ngcontent-%COMP%]{height:375px;overflow-y:scroll}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.ml[_ngcontent-%COMP%]{margin-left:10px}.toptable[_ngcontent-%COMP%]{padding-top:30px}"]}),e})();function Me(e,t){1&e&&(O.jc(0,"span",21),O.bd(1,"Please enter Project Name"),O.ic())}function Ne(e,t){1&e&&(O.jc(0,"span",21),O.bd(1,"Only characters allowed"),O.ic())}function ke(e,t){if(1&e&&(O.jc(0,"p",21),O.Zc(1,Me,2,0,"span",6),O.Zc(2,Ne,2,0,"span",6),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngIf",e.projectForm.controls.projectName.errors.required),O.Nb(1),O.Bc("ngIf",e.projectForm.controls.projectName.errors.pattern)}}function De(e,t){1&e&&(O.jc(0,"span",21),O.bd(1,"Please enter Description"),O.ic())}function Fe(e,t){if(1&e&&(O.jc(0,"p",21),O.Zc(1,De,2,0,"span",6),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngIf",e.projectForm.controls.projectDescription.errors.required)}}function _e(e,t){if(1&e&&(O.jc(0,"div",24),O.jc(1,"div",25),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc(2);O.Nb(2),O.cd(e.selectedUsers.length<=3?e.getselectedValidationString():"{"+e.selectedUsers.length+"} selected")}}function Ie(e,t){1&e&&(O.jc(0,"div",26),O.bd(1," Select Users "),O.ic())}function Ve(e,t){if(1&e&&(O.Zc(0,_e,3,1,"div",22),O.Zc(1,Ie,2,0,"div",23)),2&e){const e=O.uc();O.Bc("ngIf",e.selectedUsers.length),O.Nb(1),O.Bc("ngIf",!e.selectedUsers||0===e.selectedUsers.length)}}function Re(e,t){if(1&e&&(O.jc(0,"div",27),O.jc(1,"div"),O.bd(2),O.ic(),O.ic()),2&e){const e=t.$implicit;O.Nb(2),O.cd(e.firstName)}}function Le(e,t){if(1&e){const e=O.kc();O.jc(0,"button",28),O.qc("click",function(){return O.Rc(e),O.uc().saveProject()}),O.ic()}if(2&e){const e=O.uc();O.Bc("disabled",!e.projectForm.valid)}}function Be(e,t){if(1&e){const e=O.kc();O.jc(0,"button",29),O.qc("click",function(){return O.Rc(e),O.uc().updateProject()}),O.ic()}if(2&e){const e=O.uc();O.Bc("disabled",!e.projectForm.valid||!e.projectForm.dirty)}}const Ee=function(){return{standalone:!0}};let ze=(()=>{class e{constructor(e,t,i,o){this.userSettingsService=e,this.fb=t,this.router=i,this.domainProj=o,this.selectedUsers=[],this.submitClicked=!1,this.editMode=!1}ngOnInit(){if(this.domainProj.passDomainProjVal(!0),this.resetFormValidators(),this.userSettingsService.getUserListForProject().subscribe(e=>{this.userList=e.result.groupList}),this.router.url.includes("edit-project")){if(sessionStorage.getItem("objProject")){this.editMode=!0;const e=JSON.parse(sessionStorage.getItem("objProject"));this.oldProjectName=e.selectedProject.projectName,e.assignedgroupList.forEach(t=>{const i=e.groupList.findIndex(e=>e.email===t.email.trim());i>=0&&this.selectedUsers.push(e.groupList[i])}),this.projectForm.patchValue({projectName:e.selectedProject.projectName,projectDescription:e.selectedProject.projectDescription,selectedOwnerGroups:e.assignedgroupList})}}else this.editMode=!1}ngOnDestroy(){sessionStorage.removeItem("objProject")}onProjectChange(e){this.chooseSchema=[],this.selectedUsers.forEach(e=>{this.chooseSchema.push(e.id)}),this.markFormAsTouched()}getselectedValidationString(){let e="";return this.selectedUsers.forEach((t,i)=>{"null"!=t.email.trim()&&(e=e+(0!=i?",":"")+t.firstName)}),e}resetFormValidators(){this.projectForm=this.fb.group({projectName:["",n.w.compose([n.w.required])],projectDescription:[""],selectedOwnerGroups:[[]]})}saveProject(){if(this.submitClicked=!0,this.projectForm.valid){const e=JSON.parse(JSON.stringify(this.projectForm.value));e.selectedOwnerGroups=[],this.selectedUsers.forEach(t=>{e.selectedOwnerGroups.push(this.userList.find(e=>e.idUser===t.idUser).email)}),this.userSettingsService.saveProject(e).subscribe(e=>{"success"===e.status&&(this.submitClicked=!1,this.backToScreen())})}else this.submitClicked=!0,this.markFormAsTouched()}updateProject(){if(this.submitClicked=!0,this.projectForm.valid){const e=JSON.parse(JSON.stringify(this.projectForm.value));e.selectedOwnerGroups=[],this.selectedUsers.forEach(t=>{var i;e.selectedOwnerGroups.push(null===(i=this.userList.find(e=>e.idUser===t.idUser))||void 0===i?void 0:i.email)}),e.id=JSON.parse(sessionStorage.getItem("objProject")).selectedProject.idProject,e.oldProject=this.oldProjectName,this.userSettingsService.updateProject(e).subscribe(e=>{"success"===e.status&&(this.submitClicked=!1,this.backToScreen())})}else this.submitClicked=!0,this.markFormAsTouched()}backToScreen(){this.router.navigateByUrl("/dbckangui/user-setting/assets/view-projects")}markFormAsTouched(){this.projectForm.updateValueAndValidity(),Object.keys(this.projectForm.controls).forEach(e=>{this.projectForm.controls[e].markAsTouched(),this.projectForm.controls[e].markAsDirty()})}}return e.\u0275fac=function(t){return new(t||e)(O.dc(S.a),O.dc(n.e),O.dc(s.i),O.dc(k.a))},e.\u0275cmp=O.Xb({type:e,selectors:[["app-add-projects"]],decls:37,vars:9,consts:[[1,"container-fluid","create-conn-main",3,"formGroup"],[1,"row","p-field"],[1,"col-sm-12","col-md-6","mr-top"],["for","project_name",1,"form-label"],[1,"req-field"],["id","project_name","maxlength","500","formControlName","projectName","placeholder","Enter Project Name","type","text","pInputText","",1,"form-field"],["class","err-msg",4,"ngIf"],["for","project_description",1,"form-label"],["id","project_description","maxlength","500","formControlName","projectDescription","placeholder","Enter Description","type","text","pInputText","",1,"form-field"],["for","user_id",1,"form-label"],["defaultLabel","Select Users","optionLabel","firstName","name","selectedUsers",1,"multiselect-custom",3,"options","ngModel","ngModelOptions","ngModelChange","onChange"],["pTemplate","selectedItems"],["pTemplate","item"],[1,"note_duplicate"],[1,"note","row","p-field"],[1,"col-sm-12","col-md-12","mr-top","text-left"],[1,"row","p-field","mr-top"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button","class","button w-button shadow btn-mr-rt","label","Create Project",3,"disabled","click",4,"ngIf"],["pButton","","type","button","class","button w-button shadow btn-mr-rt","label","Update Project",3,"disabled","click",4,"ngIf"],["pButton","","type","button","label","Cancel",1,"button","w-button","shadow","btn-cancel",3,"click"],[1,"err-msg"],["class","validationType-item validationType-item-value",4,"ngIf"],["class","validationType-placeholder",4,"ngIf"],[1,"validationType-item","validationType-item-value"],[1,"word_break_word_all"],[1,"validationType-placeholder"],[1,"validationType-item"],["pButton","","type","button","label","Create Project",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],["pButton","","type","button","label","Update Project",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"]],template:function(e,t){1&e&&(O.jc(0,"div",0),O.jc(1,"div",1),O.jc(2,"div",2),O.jc(3,"label",3),O.bd(4,"Project Name"),O.jc(5,"sup",4),O.bd(6,"*"),O.ic(),O.ic(),O.ec(7,"br"),O.ec(8,"input",5),O.Zc(9,ke,3,2,"p",6),O.ic(),O.jc(10,"div",2),O.jc(11,"label",7),O.bd(12,"Description"),O.ic(),O.ec(13,"br"),O.ec(14,"input",8),O.Zc(15,Fe,2,1,"p",6),O.ic(),O.jc(16,"div",2),O.jc(17,"label",9),O.bd(18,"Assign Users"),O.ic(),O.ec(19,"br"),O.jc(20,"p-multiSelect",10),O.qc("ngModelChange",function(e){return t.selectedUsers=e})("onChange",function(e){return t.onProjectChange(e)}),O.Zc(21,Ve,2,2,"ng-template",11),O.Zc(22,Re,3,1,"ng-template",12),O.ic(),O.jc(23,"div",13),O.bd(24," Note: If Active Directory is enabled then user list will not be available. "),O.ic(),O.ic(),O.ic(),O.jc(25,"div",14),O.jc(26,"div",15),O.jc(27,"p"),O.bd(28,"Note: Fields marked with "),O.jc(29,"b"),O.bd(30,'"*"'),O.ic(),O.bd(31," are required. "),O.ic(),O.ic(),O.ic(),O.jc(32,"div",16),O.jc(33,"div",17),O.Zc(34,Le,1,1,"button",18),O.Zc(35,Be,1,1,"button",19),O.jc(36,"button",20),O.qc("click",function(){return t.backToScreen()}),O.ic(),O.ic(),O.ic(),O.ic()),2&e&&(O.Bc("formGroup",t.projectForm),O.Nb(9),O.Bc("ngIf",t.projectForm.controls.projectName.invalid&&!t.projectForm.controls.projectName.pristine),O.Nb(6),O.Bc("ngIf",t.projectForm.controls.projectDescription.invalid&&!t.projectForm.controls.projectDescription.pristine),O.Nb(5),O.Bc("options",t.userList)("ngModel",t.selectedUsers)("ngModelOptions",O.Ec(8,Ee)),O.Nb(14),O.Bc("ngIf",!t.editMode),O.Nb(1),O.Bc("ngIf",t.editMode))},directives:[n.p,n.i,n.d,n.k,n.o,n.g,I.a,o.n,ae.a,n.r,M.i,D.b],styles:["[_ngcontent-%COMP%]::-moz-placeholder{color:gray;opacity:.8}[_ngcontent-%COMP%]::placeholder{color:gray;opacity:.8}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.note[_ngcontent-%COMP%]{text-align:left!important;font-size:13px;color:#eb5454;margin-left:12px!important;margin-top:20px!important}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]     .p-inputtext{font-size:14px}.p-field[_ngcontent-%COMP%]{margin:0 10px}.p-field-form[_ngcontent-%COMP%]{padding-right:0}.diabled-ip[_ngcontent-%COMP%]{opacity:.7;box-shadow:none!important;cursor:inherit}.diabled-ip[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .p-disabled:hover{cursor:not-allowed!important}.optional-fields[_ngcontent-%COMP%]{color:#789}.form-checkbox[_ngcontent-%COMP%]{padding-left:10px;font-size:16px;padding-top:8px}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.warning-msg[_ngcontent-%COMP%]{font-size:12px;color:#007bff;margin-bottom:0;padding-top:8px;padding-left:5px}[_nghost-%COMP%]     .p-multiselect{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .multiselect-custom .p-multiselect-label{padding-top:.25rem!important;padding-bottom:.25rem!important}[_nghost-%COMP%]     .multiselect-custom .validationType-item div{white-space:normal;word-break:break-word;width:400px}[_nghost-%COMP%]     .multiselect-custom .validationType-placeholder{font-family:Open Sans!important;font-size:14px!important;font-weight:400;padding:.25rem}"]}),e})();function Te(e,t){1&e&&(O.jc(0,"span"),O.bd(1," Please enter "),O.jc(2,"b"),O.bd(3,"Role Name"),O.ic(),O.ic())}function qe(e,t){if(1&e&&(O.jc(0,"p",19),O.Zc(1,Te,4,0,"span",20),O.ic()),2&e){O.uc();const e=O.Oc(9);O.Nb(1),O.Bc("ngIf",null==e.errors?null:e.errors.required)}}function Ze(e,t){if(1&e&&(O.jc(0,"p",19),O.jc(1,"span",19),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc();O.Nb(2),O.cd(e.invalidMsg)}}const Ue=function(){return{standalone:!0}};function Ae(e,t){if(1&e){const e=O.kc();O.hc(0),O.jc(1,"p-checkbox",26),O.qc("ngModelChange",function(e){return t.$implicit.checked=e})("onChange",function(t){O.Rc(e);const i=O.uc(2).$implicit;return O.uc().readAccess(t,i)}),O.ic(),O.jc(2,"label",27),O.bd(3),O.ic(),O.gc()}if(2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngModel",e.checked)("ngModelOptions",O.Ec(5,Ue))("value",e.checked)("name",e.displayName),O.Nb(2),O.cd(e.displayName)}}function We(e,t){if(1&e&&(O.jc(0,"div",24),O.jc(1,"div"),O.Zc(2,Ae,4,6,"ng-container",25),O.ic(),O.ic()),2&e){const e=O.uc().$implicit;O.Nb(2),O.Bc("ngForOf",e.childKey)}}function Ge(e,t){if(1&e){const e=O.kc();O.jc(0,"div",2),O.jc(1,"p-checkbox",21),O.qc("ngModelChange",function(e){return t.$implicit.checked=e})("onChange",function(){O.Rc(e);const i=t.$implicit;return O.uc().selectChanges(i)}),O.ic(),O.jc(2,"label",22),O.bd(3),O.ic(),O.ec(4,"br"),O.Zc(5,We,3,1,"div",23),O.ec(6,"br"),O.ic()}if(2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngModel",e.checked)("ngModelOptions",O.Ec(7,Ue))("value",e.checked)("name",e.displayName)("id",e.idModule),O.Nb(2),O.cd(e.displayName),O.Nb(2),O.Bc("ngIf",e.checked)}}let $e=(()=>{class e{constructor(e,t,i){this.userSettingsService=e,this.router=t,this.domainProjService=i,this.ruleCategoryList=[],this.taskList=[],this.showColumn=!1,this.isDisabled=!1,this.showMsg=!1,this.roleNamevalid=!0}ngOnInit(){this.domainProjService.passDomainProjVal(!0),this.router.url.includes("edit-role")?(this.editRoleDetails=JSON.parse(sessionStorage.getItem("editRole")),this.userSettingsService.getEditRole("editRoleModule",{idRole:this.editRoleDetails.idRole}).subscribe(e=>{this.taskList=e.Module,this.roleName=e.Name,this.description=e.Description,this.taskList.forEach(e=>{e.childKey=[{displayName:"C",value:"-C",checked:!1},{displayName:"R",value:"-R",checked:!1},{displayName:"U",value:"-U",checked:!1},{displayName:"D",value:"-D",checked:!1}],e.childModule&&e.childModule.forEach(t=>{e.childKey.map(e=>{t.checked&&e.displayName===t.displayName&&(e.checked=!0)})})})}),this.isDisabled=!0):this.userSettingsService.getModuleList("addNewRole").subscribe(e=>{"success"===e.status&&(this.taskList=e.Modules,this.taskList.forEach(e=>{e.idModule=e.id,e.displayName=e.displayName,e.checked=!1,e.childKey=[{displayName:"C",value:"-C",checked:!1},{displayName:"R",value:"-R",checked:!1},{displayName:"U",value:"-U",checked:!1},{displayName:"D",value:"-D",checked:!1}],delete e.id,delete e.name}))})}readAccess(e,t){this.taskList.forEach(i=>{t.displayName==i.displayName&&i.childKey.map(t=>{1!=e.checked||"C"!=t.displayName&&"U"!=t.displayName&&"D"!=t.displayName?0==e.checked&&0==t.checked&&"R"==t.displayName&&i.childKey.forEach(e=>{"C"!=e.displayName&&"U"!=e.displayName&&"D"!=e.displayName||(e.checked=!1)}):i.childKey.forEach(e=>{"R"==e.displayName&&(e.checked=!0)})})})}saveRole(){if(this.taskDataAll=[],this.accessControlAll=[],this.taskList.forEach(e=>{if(!0===e.checked){this.taskDataAll.push(e.idModule);let t="";e.childKey.forEach(e=>{!0===e.checked&&(t+=e.value)}),this.accessControlAll.push(t)}}),this.td=this.taskDataAll.toString().replace(/,/g,"-"),this.ac=this.accessControlAll.toString(),null!=this.editRoleDetails){const e={idRole:this.editRoleDetails.idRole,taskDataAll:this.td.toString(),accessControlAll:this.ac.toString()};null!=this.td&&null!=this.ac&&this.userSettingsService.editRole(e).subscribe(e=>{"success"===e.status&&this.router.navigateByUrl("/dbckangui/user-setting/view-roles")})}else{const e={roleName:this.roleName,description:this.description?this.description:"",taskDataAll:this.td.toString(),accessControlAll:this.ac.toString()};null!=this.td&&null!=this.ac&&this.userSettingsService.saveRole(e).subscribe(e=>{"success"===e.status&&this.router.navigateByUrl("/dbckangui/user-setting/view-roles")})}}selectChanges(e){!1===e.checked&&e.childKey.forEach(e=>{e.checked=!1})}backToScreen(){this.router.navigateByUrl("/dbckangui/user-setting/view-roles")}checkDupSchemaName(){this.roleName.length>=3?this.userSettingsService.checkDuplicateName("duplicateRoleName",{val:this.roleName}).subscribe(e=>{this.showMsg=!1,"failed"===e.status?(this.roleNamevalid=!1,this.invalidMsg=e.message):this.roleNamevalid=!0},e=>{this.showMsg=!0}):this.roleNamevalid=!0}}return e.\u0275fac=function(t){return new(t||e)(O.dc(S.a),O.dc(s.i),O.dc(k.a))},e.\u0275cmp=O.Xb({type:e,selectors:[["app-add-role"]],decls:32,vars:15,consts:[[1,"container-fluid","create-conn-main"],[1,"row","p-field"],[1,"col-sm-12","col-md-6","mr-top"],["for","roleName",1,"form-label"],[1,"req-field"],["id","roleName","maxlength","500","placeholder","Enter Role Name","type","text","pInputText","","name","roleName","required","",1,"form-field",3,"ngModel","ngModelOptions","disabled","ngClass","ngModelChange","keyup"],["roleName1","ngModel"],["class","err-msg",4,"ngIf"],["for","description",1,"form-label"],["id","description","maxlength","500","placeholder","Enter Description","type","text","pInputText","","name","description",1,"form-field",3,"ngModel","ngModelOptions","ngClass","disabled","ngModelChange"],[1,"col-sm-12","col-md-12","mr-top"],["for","accessControl",1,"form-label"],["class","col-sm-12 col-md-6 mr-top",4,"ngFor","ngForOf"],[1,"note","row","p-field"],[1,"col-sm-12","col-md-12","mr-top","text-left"],[1,"row","p-field","mr-top"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","label","click"],["pButton","","type","button","label","Cancel",1,"button","w-button","shadow","btn-cancel",3,"click"],[1,"err-msg"],[4,"ngIf"],["binary","true","inputId","checkbox.idModule",3,"ngModel","ngModelOptions","value","name","id","ngModelChange","onChange"],["for","checkbox.idModule",1,"form-label","mar-0"],["class","pad-5",4,"ngIf"],[1,"pad-5"],[4,"ngFor","ngForOf"],["binary","true","inputId","child.displayName",3,"ngModel","ngModelOptions","value","name","ngModelChange","onChange"],[1,"form-label-role","margin-checkbox"]],template:function(e,t){if(1&e&&(O.jc(0,"form",0),O.jc(1,"div",1),O.jc(2,"div",2),O.jc(3,"label",3),O.bd(4,"Role Name"),O.jc(5,"sup",4),O.bd(6,"*"),O.ic(),O.ic(),O.ec(7,"br"),O.jc(8,"input",5,6),O.qc("ngModelChange",function(e){return t.roleName=e})("keyup",function(){return t.checkDupSchemaName()}),O.ic(),O.Zc(10,qe,2,1,"p",7),O.Zc(11,Ze,3,1,"p",7),O.ic(),O.jc(12,"div",2),O.jc(13,"label",8),O.bd(14,"Description"),O.ic(),O.ec(15,"br"),O.jc(16,"input",9),O.qc("ngModelChange",function(e){return t.description=e}),O.ic(),O.ic(),O.jc(17,"div",10),O.jc(18,"label",11),O.bd(19,"Access Control"),O.ic(),O.ic(),O.Zc(20,Ge,7,8,"div",12),O.ic(),O.jc(21,"div",13),O.jc(22,"div",14),O.jc(23,"p"),O.bd(24,"Note: Fields marked with "),O.jc(25,"b"),O.bd(26,'"*"'),O.ic(),O.bd(27," are required. "),O.ic(),O.ic(),O.ic(),O.jc(28,"div",15),O.jc(29,"div",16),O.jc(30,"button",17),O.qc("click",function(){return t.saveRole()}),O.ic(),O.jc(31,"button",18),O.qc("click",function(){return t.backToScreen()}),O.ic(),O.ic(),O.ic(),O.ic()),2&e){const e=O.Oc(9);O.Nb(8),O.Bc("ngModel",t.roleName)("ngModelOptions",O.Ec(13,Ue))("disabled",t.isDisabled)("ngClass",t.isDisabled?"diabledfield":""),O.Nb(2),O.Bc("ngIf",e.invalid&&(e.dirty||e.touched)),O.Nb(1),O.Bc("ngIf",!t.roleNamevalid&&!t.showMsg),O.Nb(5),O.Bc("ngModel",t.description)("ngModelOptions",O.Ec(14,Ue))("ngClass",t.isDisabled?"diabledfield":"")("disabled",t.isDisabled),O.Nb(4),O.Bc("ngForOf",t.taskList),O.Nb(10),O.Bc("disabled",!t.roleName)("label",t.editRoleDetails?"Update Role":"Create Role")}},directives:[n.x,n.p,n.q,n.d,n.k,I.a,n.v,n.o,n.r,o.l,o.n,o.m,D.b,R.a],styles:["[_ngcontent-%COMP%]::-moz-placeholder{color:gray;opacity:.8}[_ngcontent-%COMP%]::placeholder{color:gray;opacity:.8}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.note[_ngcontent-%COMP%]{text-align:left;font-size:13px;color:#eb5454;margin-left:12px!important;margin-top:20px!important}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}.form-label-role[_ngcontent-%COMP%]{font-size:16px;margin-bottom:0!important;margin-right:4%!important;margin-left:1%!important}[_nghost-%COMP%]     .p-inputtext{font-size:14px}.p-field[_ngcontent-%COMP%]{margin:0 10px}.p-field-form[_ngcontent-%COMP%]{padding-right:0}.diabled-ip[_ngcontent-%COMP%]{opacity:.7;box-shadow:none!important;cursor:inherit}.diabled-ip[_ngcontent-%COMP%]:hover, .diabledfield[_ngcontent-%COMP%]{cursor:not-allowed!important}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .p-disabled:hover{cursor:not-allowed!important}.optional-fields[_ngcontent-%COMP%]{color:#789}.form-checkbox[_ngcontent-%COMP%]{padding-left:10px;font-size:16px;padding-top:8px}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.warning-msg[_ngcontent-%COMP%]{font-size:12px;color:#007bff;margin-bottom:0;padding-top:8px;padding-left:5px}.mar-0[_ngcontent-%COMP%]{margin:0;padding-left:1%}.pad-5[_ngcontent-%COMP%]{padding-top:5px}"]}),e})();function Je(e,t){1&e&&(O.jc(0,"span",22),O.bd(1,"Please enter "),O.jc(2,"b"),O.bd(3,"First Name"),O.ic(),O.ic())}function He(e,t){1&e&&(O.jc(0,"span",22),O.bd(1,"Only characters allowed"),O.ic())}function Qe(e,t){if(1&e&&(O.jc(0,"p",22),O.Zc(1,Je,4,0,"span",6),O.Zc(2,He,2,0,"span",6),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngIf",e.userForm.controls.firstName.errors.required),O.Nb(1),O.Bc("ngIf",e.userForm.controls.firstName.errors.pattern)}}function Ke(e,t){1&e&&(O.jc(0,"span",22),O.bd(1,"Please enter "),O.jc(2,"b"),O.bd(3,"Last Name"),O.ic(),O.ic())}function Ye(e,t){1&e&&(O.jc(0,"span",22),O.bd(1,"Only characters allowed"),O.ic())}function Xe(e,t){if(1&e&&(O.jc(0,"p",22),O.Zc(1,Ke,4,0,"span",6),O.Zc(2,Ye,2,0,"span",6),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngIf",e.userForm.controls.lastName.errors.required),O.Nb(1),O.Bc("ngIf",e.userForm.controls.lastName.errors.pattern)}}function et(e,t){1&e&&(O.jc(0,"span",22),O.bd(1,"Email must be a valid "),O.jc(2,"b"),O.bd(3,"Email Address"),O.ic(),O.ic())}function tt(e,t){1&e&&(O.jc(0,"span",22),O.bd(1,"Please enter "),O.jc(2,"b"),O.bd(3,"Email"),O.ic(),O.ic())}function it(e,t){if(1&e&&(O.jc(0,"p",22),O.Zc(1,et,4,0,"span",6),O.Zc(2,tt,4,0,"span",6),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngIf",e.userForm.controls.userName.errors.pattern),O.Nb(1),O.Bc("ngIf",e.userForm.controls.userName.errors.required)}}function ot(e,t){if(1&e&&(O.jc(0,"p"),O.jc(1,"span",22),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc();O.Nb(2),O.cd(e.dupEmail)}}function nt(e,t){1&e&&(O.jc(0,"span",22),O.bd(1,"Please enter "),O.jc(2,"b"),O.bd(3,"Password"),O.ic(),O.ic())}function st(e,t){if(1&e&&(O.jc(0,"p",22),O.Zc(1,nt,4,0,"span",6),O.ic()),2&e){const e=O.uc(2);O.Nb(1),O.Bc("ngIf",e.userForm.controls.password.errors.required)}}function ct(e,t){if(1&e&&(O.jc(0,"div",2),O.jc(1,"label",23),O.bd(2,"Password"),O.jc(3,"sup",4),O.bd(4,"*"),O.ic(),O.ic(),O.ec(5,"br"),O.ec(6,"input",24),O.Zc(7,st,2,1,"p",6),O.ic()),2&e){const e=O.uc();O.Nb(7),O.Bc("ngIf",e.userForm.controls.password.invalid&&!e.userForm.controls.password.pristine)}}function at(e,t){1&e&&(O.jc(0,"span",22),O.bd(1,"Please choose "),O.jc(2,"b"),O.bd(3,"Role"),O.ic(),O.ic())}function rt(e,t){if(1&e&&(O.jc(0,"p",22),O.Zc(1,at,4,0,"span",6),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngIf",e.userForm.controls.roleId.errors.required)}}function lt(e,t){if(1&e){const e=O.kc();O.jc(0,"button",25),O.qc("click",function(){return O.Rc(e),O.uc().updateUser()}),O.ic()}if(2&e){const e=O.uc();O.Bc("disabled",!e.userForm.valid||e.dupEmailFlag||!e.userForm.dirty)}}function dt(e,t){if(1&e){const e=O.kc();O.jc(0,"button",26),O.qc("click",function(){return O.Rc(e),O.uc().saveUser()}),O.ic()}if(2&e){const e=O.uc();O.Bc("disabled",!e.userForm.valid||e.dupEmailFlag)}}let pt=(()=>{class e{constructor(e,t,i,o){this.fb=e,this.userSettingsService=t,this.router=i,this.domainProjService=o,this.ruleCategoryList=[],this.showColumn=!1,this.dupEmail="",this.dupEmailFlag=!1}ngOnInit(){this.domainProjService.passDomainProjVal(!0),this.resetFormValidators(),this.getAllRoleList(),this.router.url.includes("edit-user")?sessionStorage.getItem("objUser")&&(this.editMode=!0,this.userForm.controls.password.setValidators([])):this.editMode=!1}updateUser(){if(this.userForm.valid){const e=JSON.parse(JSON.stringify(this.userForm.value)),t=JSON.parse(sessionStorage.getItem("objUser"));this.userSettingsService.updateUser({roleId:e.roleId,userId:t.idUser,firstName:e.firstName,lastName:e.lastName,email:e.userName}).subscribe(e=>{"success"===e.status&&this.backToScreen()})}}getAllRoleList(){this.userSettingsService.getRoleList().subscribe(e=>{if("success"===e.status&&(this.ruleCategoryList=e.result),this.editMode){const e=JSON.parse(sessionStorage.getItem("objUser")),t=this.ruleCategoryList.filter(t=>t.roleName==e.roleName);this.userForm.patchValue({userId:e.userId,firstName:e.firstName,lastName:e.lastName,userName:e.email,password:"",roleId:t[0].idRole}),console}})}resetFormValidators(){this.userForm=this.fb.group({firstName:["",n.w.compose([n.w.required])],lastName:["",n.w.compose([n.w.required])],userName:["",[n.w.required,n.w.email,n.w.pattern("^[A-Za-z0-9._%-]+@[A-Za-z0-9.-]+.[A-Za-z]{2,4}$")]],password:["",n.w.compose([n.w.required])],roleId:["",n.w.compose([n.w.required])]})}saveUser(){if(this.userForm.valid){const e=JSON.parse(JSON.stringify(this.userForm.value));this.userSettingsService.saveUser(e).subscribe(e=>{"success"===e.status&&this.backToScreen()})}else this.markFormAsTouched()}backToScreen(){this.router.navigateByUrl("/dbckangui/user-setting/view-users")}markFormAsTouched(){this.userForm.updateValueAndValidity(),Object.keys(this.userForm.controls).forEach(e=>{this.userForm.controls[e].markAsTouched(),this.userForm.controls[e].markAsDirty()})}checkDuplicateEmail(){this.userSettingsService.duplicateEmail({val:this.userForm.controls.userName.value}).subscribe(e=>{"failed"===e.status?(this.dupEmail=e.message,this.dupEmailFlag=!0):(this.dupEmail="",this.dupEmailFlag=!1)})}}return e.\u0275fac=function(t){return new(t||e)(O.dc(n.e),O.dc(S.a),O.dc(s.i),O.dc(k.a))},e.\u0275cmp=O.Xb({type:e,selectors:[["app-add-user"]],decls:48,vars:13,consts:[["id","userForm",1,"container-fluid","create-conn-main",3,"formGroup"],[1,"row","p-field"],[1,"col-sm-12","col-md-6","mr-top"],["for","first_name","id","firstName",1,"form-label"],[1,"req-field"],["id","first_name","maxlength","500","formControlName","firstName","placeholder","Enter First Name","type","text","pInputText","",1,"form-field"],["class","err-msg",4,"ngIf"],["for","last_name","id","lastName",1,"form-label"],["id","last_name","maxlength","500","formControlName","lastName","placeholder","Enter Last Name","type","text","pInputText","",1,"form-field"],["for","email_id","id","userName",1,"form-label"],["id","email_id","maxlength","500","formControlName","userName","placeholder","Enter Email","type","email","pInputText","",1,"form-field",3,"keyup"],[4,"ngIf"],["class","col-sm-12 col-md-6 mr-top",4,"ngIf"],["for","role_id","id","roleId",1,"form-label"],["formControlName","roleId","placeholder","Select Role","optionValue","idRole","optionLabel","roleName",3,"styleClass","options","virtualScroll","itemSize"],[1,"note","row","p-field"],[1,"col-sm-12","col-md-6","mr-top","text-left"],[1,"row","p-field","mr-top"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button","class","button w-button shadow btn-mr-rt","label","Update User",3,"disabled","click",4,"ngIf"],["pButton","","type","button","class","button w-button shadow btn-mr-rt","label","Create User",3,"disabled","click",4,"ngIf"],["pButton","","type","button","label","Cancel",1,"button","w-button","shadow","btn-cancel",3,"click"],[1,"err-msg"],["for","rule_name","id","password",1,"form-label"],["id","rule_name","maxlength","500","formControlName","password","placeholder","Enter Password","type","password","pInputText","",1,"form-field"],["pButton","","type","button","label","Update User",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],["pButton","","type","button","label","Create User",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"]],template:function(e,t){1&e&&(O.jc(0,"div",0),O.jc(1,"div",1),O.jc(2,"div",2),O.jc(3,"label",3),O.bd(4,"First Name"),O.jc(5,"sup",4),O.bd(6,"*"),O.ic(),O.ic(),O.ec(7,"br"),O.ec(8,"input",5),O.Zc(9,Qe,3,2,"p",6),O.ic(),O.jc(10,"div",2),O.jc(11,"label",7),O.bd(12,"Last Name"),O.jc(13,"sup",4),O.bd(14,"*"),O.ic(),O.ic(),O.ec(15,"br"),O.ec(16,"input",8),O.Zc(17,Xe,3,2,"p",6),O.ic(),O.jc(18,"div",2),O.jc(19,"label",9),O.bd(20,"Email"),O.jc(21,"sup",4),O.bd(22,"*"),O.ic(),O.ic(),O.ec(23,"br"),O.jc(24,"input",10),O.qc("keyup",function(){return t.checkDuplicateEmail()}),O.ic(),O.Zc(25,it,3,2,"p",6),O.Zc(26,ot,3,1,"p",11),O.ic(),O.Zc(27,ct,8,1,"div",12),O.jc(28,"div",2),O.jc(29,"label",13),O.bd(30,"Role"),O.jc(31,"sup",4),O.bd(32,"*"),O.ic(),O.ic(),O.ec(33,"br"),O.ec(34,"p-dropdown",14),O.Zc(35,rt,2,1,"p",6),O.ic(),O.ic(),O.jc(36,"div",15),O.jc(37,"div",16),O.jc(38,"p"),O.bd(39,"Note: Fields marked with "),O.jc(40,"b"),O.bd(41,'"*"'),O.ic(),O.bd(42," are required. "),O.ic(),O.ic(),O.ic(),O.jc(43,"div",17),O.jc(44,"div",18),O.Zc(45,lt,1,1,"button",19),O.Zc(46,dt,1,1,"button",20),O.jc(47,"button",21),O.qc("click",function(){return t.backToScreen()}),O.ic(),O.ic(),O.ic(),O.ic()),2&e&&(O.Bc("formGroup",t.userForm),O.Nb(9),O.Bc("ngIf",t.userForm.controls.firstName.invalid&&!t.userForm.controls.firstName.pristine),O.Nb(8),O.Bc("ngIf",t.userForm.controls.lastName.invalid&&!t.userForm.controls.lastName.pristine),O.Nb(8),O.Bc("ngIf",t.userForm.controls.userName.invalid&&!t.userForm.controls.userName.pristine),O.Nb(1),O.Bc("ngIf",t.dupEmail.length>0),O.Nb(1),O.Bc("ngIf",!t.editMode),O.Nb(7),O.Bc("styleClass","form-field")("options",t.ruleCategoryList)("virtualScroll",!0)("itemSize",30),O.Nb(1),O.Bc("ngIf",t.userForm.controls.roleId.invalid&&!t.userForm.controls.roleId.pristine),O.Nb(10),O.Bc("ngIf",t.editMode),O.Nb(1),O.Bc("ngIf",!t.editMode))},directives:[n.p,n.i,n.d,n.k,n.o,n.g,I.a,o.n,r.a,D.b],styles:["[_ngcontent-%COMP%]::-moz-placeholder{color:gray;opacity:.8}[_ngcontent-%COMP%]::placeholder{color:gray;opacity:.8}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.note[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#eb5454;margin-left:12px!important;margin-top:25px!important}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]     .p-inputtext{font-size:14px}.p-field[_ngcontent-%COMP%]{margin:0 10px}.p-field-form[_ngcontent-%COMP%]{padding-right:0}.diabled-ip[_ngcontent-%COMP%]{opacity:.7;box-shadow:none!important;cursor:inherit}.diabled-ip[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .p-disabled:hover{cursor:not-allowed!important}.optional-fields[_ngcontent-%COMP%]{color:#789}.form-checkbox[_ngcontent-%COMP%]{padding-left:10px;font-size:16px;padding-top:8px}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.warning-msg[_ngcontent-%COMP%]{font-size:12px;color:#007bff;margin-bottom:0;padding-top:8px;padding-left:5px}"]}),e})();var ut=i("ey9i");function gt(e,t){1&e&&(O.jc(0,"span",18),O.jc(1,"span",18),O.jc(2,"b"),O.bd(3,"Event Message Body"),O.ic(),O.bd(4," cannot be blank"),O.ic(),O.ic())}function ht(e,t){if(1&e&&(O.jc(0,"p",18),O.Zc(1,gt,5,0,"span",13),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngIf",e.alertForm.controls.eventMessegeSubject.errors.required)}}let ft=(()=>{class e{constructor(e,t,i,o){this.router=e,this.userSettingsService=t,this.messages=i,this.fb=o,this.ruleCategoryList=[],this.alertForm=this.fb.group({eventMessegeSubject:[""]})}ngOnInit(){this.userSettingsService.getAlertEventById({eventId:JSON.parse(sessionStorage.getItem("alertObj")).eventId}).subscribe(e=>{this.alertObj=e.result.alertEvent,this.alertForm.patchValue({eventMessegeSubject:this.alertObj.alertEventMessege})})}update(){""!==this.eventMessegeSubject&&this.userSettingsService.updateEventSubscription({eventId:this.alertObj.eventId,msgBody:this.alertForm.value.eventMessegeSubject}).subscribe(e=>{"success"===e.status&&(this.messages.displayToaster(e.message,"success","Success"),this.router.navigate(["/dbckangui/user-setting/alert-notification"]))})}backToScreen(){this.router.navigate(["/dbckangui/user-setting/alert-notification"])}}return e.\u0275fac=function(t){return new(t||e)(O.dc(s.i),O.dc(S.a),O.dc(ut.b),O.dc(n.e))},e.\u0275cmp=O.Xb({type:e,selectors:[["app-alert-edit"]],decls:39,vars:8,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"row","p-field",3,"formGroup"],[1,"col-sm-12","col-md-12","mr-top"],["for","first_name",1,"form-label"],[1,"req-field"],["id","last_name","maxlength","500","type","text","readonly","","pInputText","",1,"form-field",3,"value"],["for","last_name",1,"form-label"],["for","email_id",1,"form-label"],["for","role_id",1,"form-label"],["id","querytextboxid","placeholder","Enter Event Message Body","formControlName","eventMessegeSubject",1,"form-field",3,"rows","cols"],["class","err-msg",4,"ngIf"],[1,"row","p-field","mr-top"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button","label","Update",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],["pButton","","type","button","label","Cancel",1,"button","w-button","shadow","btn-cancel",3,"click"],[1,"err-msg"]],template:function(e,t){1&e&&(O.jc(0,"div",0),O.jc(1,"div",1),O.jc(2,"div",2),O.jc(3,"p",3),O.bd(4," Customize Alert Event Notification "),O.ic(),O.ic(),O.ic(),O.jc(5,"div",4),O.jc(6,"div",5),O.jc(7,"label",6),O.bd(8,"Event Topic Name"),O.jc(9,"sup",7),O.bd(10,"*"),O.ic(),O.ic(),O.ec(11,"br"),O.ec(12,"input",8),O.ic(),O.jc(13,"div",5),O.jc(14,"label",9),O.bd(15,"Event Message Subject"),O.jc(16,"sup",7),O.bd(17,"*"),O.ic(),O.ic(),O.ec(18,"br"),O.ec(19,"input",8),O.ic(),O.jc(20,"div",5),O.jc(21,"label",10),O.bd(22,"Event Message Code"),O.jc(23,"sup",7),O.bd(24,"*"),O.ic(),O.ic(),O.ec(25,"br"),O.ec(26,"input",8),O.ic(),O.jc(27,"div",5),O.jc(28,"label",11),O.bd(29,"Event Message Body"),O.jc(30,"sup",7),O.bd(31,"*"),O.ic(),O.ic(),O.ec(32,"br"),O.ec(33,"textarea",12),O.Zc(34,ht,2,1,"p",13),O.ic(),O.ic(),O.jc(35,"div",14),O.jc(36,"div",15),O.jc(37,"button",16),O.qc("click",function(){return t.update()}),O.ic(),O.jc(38,"button",17),O.qc("click",function(){return t.backToScreen()}),O.ic(),O.ic(),O.ic(),O.ic()),2&e&&(O.Nb(5),O.Bc("formGroup",t.alertForm),O.Nb(7),O.Bc("value",null==t.alertObj?null:t.alertObj.eventName),O.Nb(7),O.Bc("value",null==t.alertObj?null:t.alertObj.eventMessegeSubject),O.Nb(7),O.Bc("value",null==t.alertObj?null:t.alertObj.eventName),O.Nb(7),O.Bc("rows",10)("cols",30),O.Nb(1),O.Bc("ngIf",t.alertForm.controls.eventMessegeSubject.invalid&&!t.alertForm.controls.eventMessegeSubject.pristine),O.Nb(3),O.Bc("disabled",!t.alertForm.valid||!t.alertForm.dirty))},directives:[n.p,n.i,I.a,n.d,n.o,n.g,o.n,D.b],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}[_nghost-%COMP%]     .p-dropdown{height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}[_ngcontent-%COMP%]::-moz-placeholder{color:gray;opacity:.8}[_ngcontent-%COMP%]::placeholder{color:gray;opacity:.8}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.note[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#eb5454}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]     .p-inputtext{font-size:14px}.p-field[_ngcontent-%COMP%]{margin:0 10px}.p-field-form[_ngcontent-%COMP%]{padding-right:0}.diabled-ip[_ngcontent-%COMP%]{opacity:.7;box-shadow:none!important;cursor:inherit}.diabled-ip[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .p-disabled:hover{cursor:not-allowed!important}.optional-fields[_ngcontent-%COMP%]{color:#789}.form-checkbox[_ngcontent-%COMP%]{padding-left:10px;font-size:16px;padding-top:8px}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.warning-msg[_ngcontent-%COMP%]{font-size:12px;color:#007bff;margin-bottom:0;padding-top:8px;padding-left:5px}"]}),e})();function mt(e,t){if(1&e){const e=O.kc();O.jc(0,"div",20),O.jc(1,"span",21),O.jc(2,"input",22),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().globalFilterValue=t})("keyup",function(t){return O.Rc(e),O.uc().globalFilterFun(t)}),O.ic(),O.bd(3,"\xa0 "),O.ec(4,"i",23),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(2),O.Bc("ngModel",e.globalFilterValue)}}function bt(e,t){if(1&e){const e=O.kc();O.jc(0,"th"),O.jc(1,"span"),O.bd(2),O.ec(3,"br"),O.ic(),O.ec(4,"p-sortIcon",29),O.jc(5,"app-column-filter",30),O.qc("hideFilterDataBox",function(t){return O.Rc(e),O.uc(3).hideBox(t)})("filterData",function(t){return O.Rc(e),O.uc(3).getFilterData(t)})("resetFilterValues",function(t){return O.Rc(e),O.uc(3).resetFilter(t)}),O.ic(),O.jc(6,"span",31),O.jc(7,"i",32),O.qc("click",function(){O.Rc(e);const t=O.uc().$implicit;return O.uc(2).onFilterClick(t.originalValue)}),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc().$implicit,t=O.uc(2);O.Nb(2),O.dd(" ",e.displayValue,""),O.Nb(2),O.Cc("field",e.originalValue),O.Cc("pSortableColumn",e.originalValue),O.Nb(1),O.Bc("colFilterData",t.getFilterState(e.originalValue))("display",t.displayFiltersFor[e.originalValue])("fieldName",e.originalValue)("customId",e.originalValue+"_subscribe_notify"),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"selected-filter-column":""),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function Ct(e,t){if(1&e){const e=O.kc();O.jc(0,"th",33),O.jc(1,"span"),O.bd(2),O.ec(3,"br"),O.ic(),O.ec(4,"p-sortIcon",29),O.jc(5,"app-column-filter",30),O.qc("hideFilterDataBox",function(t){return O.Rc(e),O.uc(3).hideBox(t)})("filterData",function(t){return O.Rc(e),O.uc(3).getFilterData(t)})("resetFilterValues",function(t){return O.Rc(e),O.uc(3).resetFilter(t)}),O.ic(),O.jc(6,"span",31),O.jc(7,"i",32),O.qc("click",function(){O.Rc(e);const t=O.uc().$implicit;return O.uc(2).onFilterClick(t.originalValue)}),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc().$implicit,t=O.uc(2);O.Nb(2),O.dd(" ",e.displayValue,""),O.Nb(2),O.Cc("field",e.originalValue),O.Cc("pSortableColumn",e.originalValue),O.Nb(1),O.Bc("colFilterData",t.getFilterState(e.originalValue))("display",t.displayFiltersFor[e.originalValue])("fieldName",e.originalValue)("customId",e.originalValue+"_subscribe_notify"),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"selected-filter-column":""),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function xt(e,t){if(1&e){const e=O.kc();O.jc(0,"th",33),O.jc(1,"span"),O.bd(2),O.ec(3,"br"),O.ic(),O.ec(4,"p-sortIcon",29),O.jc(5,"app-column-filter",30),O.qc("hideFilterDataBox",function(t){return O.Rc(e),O.uc(3).hideBox(t)})("filterData",function(t){return O.Rc(e),O.uc(3).getFilterData(t)})("resetFilterValues",function(t){return O.Rc(e),O.uc(3).resetFilter(t)}),O.ic(),O.jc(6,"span",31),O.jc(7,"i",32),O.qc("click",function(){O.Rc(e);const t=O.uc().$implicit;return O.uc(2).onFilterClick(t.originalValue)}),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc().$implicit,t=O.uc(2);O.Nb(2),O.dd(" ",e.displayValue,""),O.Nb(2),O.Cc("field",e.originalValue),O.Cc("pSortableColumn",e.originalValue),O.Nb(1),O.Bc("colFilterData",t.getFilterState(e.originalValue))("display",t.displayFiltersFor[e.originalValue])("fieldName",e.originalValue)("customId",e.originalValue+"_subscribe_notify"),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"selected-filter-column":""),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function vt(e,t){if(1&e&&(O.hc(0),O.Zc(1,bt,8,9,"th",27),O.Zc(2,Ct,8,9,"th",28),O.Zc(3,xt,8,9,"th",28),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",e.isSelected&&"Alert Subscription Id"!=e.displayValue&&e.isSelected&&"Is Global Subscription"!=e.displayValue),O.Nb(1),O.Bc("ngIf",e.isSelected&&"Alert Subscription Id"==e.displayValue),O.Nb(1),O.Bc("ngIf",e.isSelected&&"Is Global Subscription"==e.displayValue)}}function Pt(e,t){if(1&e&&(O.jc(0,"tr",24),O.Zc(1,vt,4,3,"ng-container",25),O.jc(2,"th",26),O.bd(3,"Delete"),O.ic(),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngForOf",e.customizeSubscribeCols)}}function jt(e,t){if(1&e){const e=O.kc();O.jc(0,"input",41),O.qc("ngModelChange",function(t){O.Rc(e);const i=O.uc(3).$implicit;return O.uc().$implicit[i.originalValue]=t})("change",function(t){O.Rc(e);const i=O.uc(4).$implicit;return O.uc().changeCommValue(t.target.value,i)}),O.ic()}if(2&e){const e=O.uc(3).$implicit,t=O.uc().$implicit;O.Bc("ngModel",t[e.originalValue])}}function wt(e,t){if(1&e&&O.bd(0),2&e){const e=O.uc(3).$implicit,t=O.uc().$implicit;O.dd(" ",t[e.originalValue]," ")}}function Ot(e,t){1&e&&(O.jc(0,"p-cellEditor"),O.Zc(1,jt,1,1,"ng-template",39),O.Zc(2,wt,1,1,"ng-template",40),O.ic())}function St(e,t){if(1&e&&(O.jc(0,"span"),O.bd(1),O.ic()),2&e){const e=O.uc(2).$implicit,t=O.uc().$implicit;O.Nb(1),O.cd(t[e.originalValue])}}function yt(e,t){if(1&e&&(O.jc(0,"td",38),O.Zc(1,Ot,3,0,"p-cellEditor",27),O.Zc(2,St,2,1,"span",27),O.ic()),2&e){const e=O.uc().$implicit,t=O.uc().$implicit;O.Bc("title",t[e.originalValue]),O.Nb(1),O.Bc("ngIf","communicationValues"==e.originalValue),O.Nb(1),O.Bc("ngIf","communicationValues"!==e.originalValue)}}function Mt(e,t){if(1&e&&(O.hc(0),O.Zc(1,yt,3,3,"td",37),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",e.isSelected)}}function Nt(e,t){if(1&e){const e=O.kc();O.jc(0,"tr",34),O.Zc(1,Mt,2,1,"ng-container",25),O.jc(2,"td"),O.jc(3,"span",35),O.qc("click",function(){O.Rc(e);const i=t.$implicit;return O.uc().deleteAlertSubscription(i)}),O.ec(4,"i",36),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();let t=null;O.Nb(1),O.Bc("ngForOf",e.customizeSubscribeCols),O.Nb(2),O.Bc("ngClass",null!=(t=e.roleOnModule("User Settings"))&&null!=t.accessControl&&t.accessControl.includes("D")?" cursor-pointer":"disable")}}function kt(e,t){1&e&&(O.jc(0,"div",42),O.bd(1," No records found "),O.ic())}function Dt(e,t){if(1&e){const e=O.kc();O.jc(0,"div",43),O.jc(1,"p-paginator",44,45),O.qc("onPageChange",function(t){return O.Rc(e),O.uc().onPageChange(t)})("firstChange",function(t){return O.Rc(e),O.uc().first=t}),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("rows",10)("totalRecords",e.subscribeEventList.length)("showCurrentPageReport",!0)("first",e.first)}}function Ft(e,t){if(1&e&&(O.jc(0,"div",50),O.jc(1,"div"),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc(3);O.Nb(2),O.ed("Page ",e.selectedPage.page," of ",e.totalNumOfPages,"")}}function _t(e,t){if(1&e&&O.Zc(0,Ft,3,2,"div",49),2&e){const e=O.uc(2);O.Bc("ngIf",e.selectedPage)}}function It(e,t){if(1&e){const e=O.kc();O.jc(0,"div",46),O.jc(1,"p-dropdown",47),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().selectedPage=t})("onChange",function(t){return O.Rc(e),O.uc().onPageNumChange(t)}),O.Zc(2,_t,1,1,"ng-template",48),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("options",e.numOfPages)("filter",!0)("ngModel",e.selectedPage)}}function Vt(e,t){1&e&&(O.jc(0,"span",51),O.ec(1,"i",52),O.bd(2," Confirmation "),O.ic())}function Rt(e,t){if(1&e){const e=O.kc();O.jc(0,"button",53),O.qc("click",function(){return O.Rc(e),O.uc().deleteConfirm()}),O.ic()}}function Lt(e,t){if(1&e){const e=O.kc();O.hc(0),O.jc(1,"div",67),O.jc(2,"table"),O.jc(3,"tr",68),O.jc(4,"td"),O.jc(5,"p-checkbox",69),O.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return O.Rc(e),O.uc(2).pdfColsValue()}),O.ic(),O.ic(),O.jc(6,"td"),O.jc(7,"label"),O.bd(8),O.ic(),O.ic(),O.ic(),O.ic(),O.ic(),O.gc()}if(2&e){const e=t.$implicit,i=O.uc(2);O.Nb(5),O.Bc("ngModel",e.pdfCols)("disabled",i.pdfCheckboxDisabled&&!e.pdfCols),O.Nb(3),O.cd(e.displayValue)}}function Bt(e,t){1&e&&(O.jc(0,"div",70),O.bd(1,"You can select up to 9 columns."),O.ic())}function Et(e,t){if(1&e){const e=O.kc();O.jc(0,"div",54),O.jc(1,"span",55),O.bd(2,"Please select columns that need to be downloaded in PDF"),O.ic(),O.ic(),O.jc(3,"div",56),O.jc(4,"div",57),O.Zc(5,Lt,9,3,"ng-container",25),O.ic(),O.ic(),O.jc(6,"div",58),O.jc(7,"div",59),O.jc(8,"div",60),O.Zc(9,Bt,2,0,"div",61),O.ic(),O.jc(10,"div",62),O.jc(11,"button",63),O.qc("click",function(){O.Rc(e);const t=O.uc();return t.exportPdf(),t.modalRef.hide()}),O.ic(),O.ic(),O.jc(12,"div",64),O.jc(13,"div"),O.jc(14,"label",65),O.qc("click",function(){return O.Rc(e),O.uc().closeExportPdf()}),O.bd(15,"Close"),O.ic(),O.jc(16,"img",66),O.qc("click",function(){return O.Rc(e),O.uc().closeExportPdf()}),O.ic(),O.ic(),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(5),O.Bc("ngForOf",e.customizeSubscribeCols),O.Nb(4),O.Bc("ngIf",e.pdfCheckboxDisabled),O.Nb(2),O.Bc("disabled",e.disableDownloadBtn)}}const zt=function(){return{width:"100%"}},Tt=function(){return{width:"50vw"}};m.a.vfs=C.a.pdfMake.vfs;let qt=(()=>{class e{constructor(e,t,i,o,n,s,c){this.userSettingsService=e,this.spinner=t,this.filterService=i,this.datePipe=o,this.modalService=n,this.cdr=s,this.messages=c,this.projectNames=[],this.pageWiseSubscribeEvents=[],this.mainSubscribeEventList=[],this.subscribeEventList=[],this.display=!1,this.deleteModal=!1,this.deleteProjectObj={},this.globalRuleObjToCopy={},this.first=0,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.pageSize=9,this.totalNumOfPages=0,this.checkboxDisabled=!1,this.maxCount=4,this.displayFiltersFor={alertSubId:!1,projectName:!1,commModeName:!1,isGlobalSubscription:!1,communicationValues:!1,eventName:!1},this.pdfData=[],this.pdfCheckCount=0,this.disableDownloadBtn=!0,this.pdfCheckboxDisabled=!1,this.columnFilter={},this.scrollHt="300px",this.filterData={},this.selectedRowData={},this.customizeSubscribeCols=[{displayValue:"Alert Subscription Id",originalValue:"alertSubId",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Project Name",originalValue:"projectName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Communication Mode",originalValue:"commModeName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Is Global Subscription",originalValue:"isGlobalSubscription",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Communication Values",originalValue:"communicationValues",isSelected:!0,necessaryCol:!0,alwaysSelected:!0}],this.customSortArr=[],this.noRecordFound=!1}ngOnChanges(e){var t;this.eventId&&this.userSettingsService.getAllSubscribedEventByEventId({eventId:this.eventId}).subscribe(e=>{"success"===e.status&&(e.result.subscribedEventList.map(e=>{e.alertSubId=parseInt(e.alertSubId,10)}),this.mainSubscribeEventList=[...e.result.subscribedEventList],this.getAllSubscribedEvents())}),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(t=this.roleModule)||void 0===t||t.map(e=>{e.accessControl=e.accessControl.split("-")})))}ngOnInit(){this.setRecords()}setRecords(){if("false"===this.subscriptionInner)this.userSettingsService.getAllSubscribedEvents().subscribe(e=>{"success"===e.status?(this.spinner.hide(),this.spinner.hide()&&(this.noRecordFound=!0),this.customizeSubscribeCols.splice(1,1,{displayValue:"Event Name",originalValue:"eventName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0}),e.result.subscribedEventList.map(e=>{e.alertSubId=parseInt(e.alertSubId,10)}),this.mainSubscribeEventList=[...e.result.subscribedEventList],this.getAllSubscribedEvents()):(this.mainSubscribeEventList=[],this.subscribeEventList=[],this.pageWiseSubscribeEvents=[],this.noRecordFound=!0)});else{const e=JSON.parse(sessionStorage.getItem("alertObj"));this.userSettingsService.getAllSubscribedEventByEventId({eventId:e.eventId}).subscribe(e=>{"success"===e.status?(e.result.subscribedEventList.map(e=>{e.alertSubId=parseInt(e.alertSubId,10)}),this.mainSubscribeEventList=[...e.result.subscribedEventList],this.getAllSubscribedEvents()):(this.mainSubscribeEventList=[],this.subscribeEventList=[],this.pageWiseSubscribeEvents=[],this.noRecordFound=!0)})}}roleOnModule(e){return this.roleModule.find(t=>t.moduleName===e)}hideBox(e){this.displayFiltersFor[e.fieldName]=!1}capture(){if(this.pageWiseSubscribeEvents.length){this.spinner.show(),this.scrollHt="1500px";const e="SubscribedNotification.pdf";setTimeout(()=>{v()(document.querySelector("#view_subscribe_notification_list"),{height:1200}).then(t=>{try{t.toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onloadend=()=>{m.a.createPdf({footer:{columns:[{text:"Created by FirstEigen",alignment:"right",style:"footerSection"}]},content:[{text:"Subscribe Details",alignment:"center",margin:[0,5,0,5]},{image:i.result,width:500,alignment:"left"}],styles:{sectionHeader:{bold:!0,decoration:"underline",fontSize:14,margin:[0,5,0,5]},textStyle:{bold:!1,fontSize:9,margin:[0,5,0,5]},footerSection:{fontSize:7,margin:[5,7,7,5]}}}).download(e),this.scrollHt="300px",this.spinner.hide()}})}catch(i){this.spinner.hide()}})},2e3)}}openExportPdf(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}closeExportPdf(){this.modalRef.hide(),setTimeout(()=>{this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeSubscribeCols.forEach(e=>e.pdfCols=!1)},1e3)}exportPdf(){this.pdfData.length&&(this.spinner.show(),setTimeout(()=>{const e=new w.default("l","pt"),t=this.customizeSubscribeCols.filter(e=>e.pdfCols),i=[];t.forEach(e=>i.push(e.displayValue));const o=[];t.forEach(e=>o.push(e.originalValue));let n=[];n=this.pdfData.map(e=>Object.assign(o.map(t=>e[t])));const s=e.internal.pageSize,c=s.height?s.height:s.getHeight();j()(e,{columns:i,body:n,didDrawPage:t=>{1==t.pageNumber&&(e.text("Subscribe Details",e.internal.pageSize.width/2,25,null,"center"),e.setFontSize(10)),e.setFontSize(9),e.text("Created by FirstEigen",e.internal.pageSize.width-40,c-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}},columnStyles:{}}),e.save("Subscribe Details.pdf"),this.disableDownloadBtn=!0,this.pdfCheckboxDisabled=!1,t.forEach(e=>e.pdfCols=!1),this.spinner.hide()},2e3))}pdfColsValue(){this.pdfCheckCount=0,this.customizeSubscribeCols.filter(e=>!0===e.pdfCols).forEach(e=>{!0===e.pdfCols&&this.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}globalFilterLogic(){if(this.mainSubscribeEventList.length){const e=Object.keys(this.mainSubscribeEventList[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainSubscribeEventList.forEach(t=>{let i=!1;e.forEach(e=>{t[e]&&t[e].toString().toLowerCase().includes(this.globalFilterValue.toLowerCase())&&!i&&(this.filterValue.push(t),i=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.subscribeEventList=[...this.filterValue],this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=[...this.mainSubscribeEventList],this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.subscribeEventList=[...this.filterValue],this.calculateNumOfPages(),this.subscribeEventList}return[]}globalFilterFun(e){const t=[...this.globalFilterLogic()],i=this.first+this.pageSize,o=t.filter((e,t)=>t<=i);this.cdr.detectChanges(),this.pageWiseSubscribeEvents=[...o],this.setPageNumber()}downloadCSV(){this.userSettingsService.downloadProjectCSV("projectCSV").subscribe(e=>{const t=this.datePipe.transform(new Date,"yyyy-MM-dd");Object(h.saveAs)(e,"ProjectCSV_"+t+".csv")})}onFilterClick(e){Object.keys(this.displayFiltersFor).map(t=>{this.displayFiltersFor[t]=t===e})}checkValue(){this.checkCount=0,this.customizeSubscribeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}showMoreCols(){return this.customizeSubscribeCols.filter(e=>!e.necessaryCol&&e.isSelected).length<this.customizeSubscribeCols.length}openOtherField(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}getAllSubscribedEvents(){this.subscribeEventList=[...this.mainSubscribeEventList];const e=this.first+this.pageSize,t=this.subscribeEventList.filter((t,i)=>i<=e);this.pageWiseSubscribeEvents=[...t],this.pdfData=[...t],this.calculateNumOfPages(),this.checkCount=0,this.customizeSubscribeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}calculateNumOfPages(){if(this.totalNumOfPages=this.mainSubscribeEventList.length?this.mainSubscribeEventList.length<this.pageSize?1:Math.ceil(this.mainSubscribeEventList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}onPageChange(e){this.first=e.first;const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseSubscribeEvents=[...o]}onPageNumChange(e){this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.pageWiseSubscribeEvents=[...o]}getSortedData(){const e=[...this.subscribeEventList];return this.sortOrderEvent?1===this.sortOrderEvent.order?(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?-1:0),e):(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?-1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?1:0),e):e}customSort(e){const t=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=t+1,this.selectedPage.pageIndex=t,this.sortOrderEvent=e;const i=[...this.subscribeEventList];i.sort(1===this.sortOrderEvent.order?(t,i)=>t[e.field]>i[e.field]?1:i[e.field]>t[e.field]?-1:0:(t,i)=>t[e.field]>i[e.field]?-1:i[e.field]>t[e.field]?1:0);const o=this.first+this.pageSize,n=i.filter((e,t)=>{if(t<=o&&t>=this.first)return e});this.pageWiseSubscribeEvents=[...n]}getFilterData(e){this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e[0]]=!1,this.first=0,this.subscribeEventList=[...this.mainSubscribeEventList],this.globalFilterValue||(this.subscribeEventList=[...this.mainSubscribeEventList]),t.forEach(e=>{this.subscribeEventList=this.subscribeEventList.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}resetFilter(e){this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.subscribeEventList=[...this.mainSubscribeEventList],t.forEach(e=>{this.subscribeEventList=this.subscribeEventList.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}setPageNumber(){if(this.totalNumOfPages=this.subscribeEventList.length?this.subscribeEventList.length<this.pageSize?1:Math.ceil(this.subscribeEventList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}const e=this.first+this.pageSize,t=this.subscribeEventList.filter((t,i)=>i<=e);this.pageWiseSubscribeEvents=[...t]}getFilterState(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){const t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}changeCommValue(e,t){""!==e?this.userSettingsService.updateAlertSubscriptionCommunicationValues({alertSubscriptionId:t.alertSubId,communicationValues:e}).subscribe(e=>{"success"===e.status&&this.messages.displayToaster(e.message,"success","Success")}):(this.messages.displayToaster("Please enter Communication Value","warn","Warning!"),this.setRecords())}deleteAlertSubscription(e){this.deleteModal=!0,this.alertSubObj=e}deleteConfirm(){this.deleteModal=!1,this.userSettingsService.deleteAlertSubscription({alertSubId:this.alertSubObj.alertSubId}).subscribe(e=>{"success"===e.status&&(this.messages.displayToaster(e.message,"success","Success"),this.setRecords())})}filterColumnNameWithHighlightName(e){return!(Object.keys(this.columnFilter).findIndex(t=>t===e)<0)}}return e.\u0275fac=function(t){return new(t||e)(O.dc(S.a),O.dc(y.c),O.dc(M.d),O.dc(o.d),O.dc(N.a),O.dc(O.h),O.dc(ut.b))},e.\u0275cmp=O.Xb({type:e,selectors:[["app-subscribe-notification"]],inputs:{subscriptionInner:"subscriptionInner",eventId:"eventId"},features:[O.Lb],decls:32,vars:31,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","col-md-6"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["id","view_subscribe_notification_list",1,"row","p-field"],["view_subscribe_notification_list",""],[1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","sortMode","single","responsiveLayout","scroll",3,"value","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","rows","first","customSort","firstChange","sortFunction"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pTemplate","footer"],["exportPdfTemplate",""],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"header"],[4,"ngFor","ngForOf"],["width","50px"],[4,"ngIf"],["width","100px",4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],["width","100px"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],["pEditableColumn","","class","text-center word_break_word_all rule-ellipsis",3,"title",4,"ngIf"],["pEditableColumn","",1,"text-center","word_break_word_all","rule-ellipsis",3,"title"],["pTemplate","input"],["pTemplate","output"],["pInputText","","type","text",1,"width-100",3,"ngModel","ngModelChange","change"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","pdf-modal"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-4"],["class","color-code",4,"ngIf"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"]],template:function(e,t){if(1&e){const e=O.kc();O.jc(0,"div",0),O.jc(1,"div",1),O.jc(2,"div",2),O.jc(3,"p",3),O.bd(4," Subscribe Details "),O.ic(),O.ic(),O.jc(5,"div",4),O.jc(6,"a"),O.jc(7,"img",5),O.qc("click",function(){O.Rc(e);const i=O.Oc(31);return t.openExportPdf(i)}),O.ic(),O.ic(),O.ic(),O.ic(),O.jc(8,"div",6,7),O.jc(10,"div",8),O.jc(11,"p-table",9),O.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),O.Zc(12,mt,5,1,"ng-template",10),O.Zc(13,Pt,4,1,"ng-template",11),O.Zc(14,Nt,5,2,"ng-template",12),O.ic(),O.ic(),O.Zc(15,kt,2,0,"div",13),O.jc(16,"div",14),O.Zc(17,Dt,3,4,"div",15),O.Zc(18,It,3,3,"div",16),O.ic(),O.ic(),O.ic(),O.jc(19,"p-dialog",17),O.qc("visibleChange",function(e){return t.deleteModal=e}),O.Zc(20,Vt,3,0,"ng-template",11),O.jc(21,"p"),O.bd(22,"Are you sure you want to delete Subscription "),O.jc(23,"b"),O.bd(24),O.ic(),O.bd(25," with Communication Mode "),O.jc(26,"b"),O.bd(27),O.ic(),O.bd(28,"? "),O.ic(),O.Zc(29,Rt,1,0,"ng-template",18),O.ic(),O.Zc(30,Et,17,3,"ng-template",null,19,O.ad)}2&e&&(O.Nb(6),O.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseSubscribeEvents&&t.pageWiseSubscribeEvents.length?"":"disabled-opa",""),O.Nb(5),O.Vc(O.Ec(29,zt)),O.Bc("value",t.pageWiseSubscribeEvents)("responsive",!0)("rowHover",!0)("sortField","alertSubId")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("rows",10)("first",t.first)("filterDelay",0)("customSort",!0),O.Nb(4),O.Bc("ngIf",!t.pageWiseSubscribeEvents.length&&t.noRecordFound),O.Nb(2),O.Bc("ngIf",t.pageWiseSubscribeEvents.length),O.Nb(1),O.Bc("ngIf",t.pageWiseSubscribeEvents.length),O.Nb(1),O.Vc(O.Ec(30,Tt)),O.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),O.Nb(5),O.cd(null==t.alertSubObj?null:t.alertSubObj.eventName),O.Nb(3),O.cd(null==t.alertSubObj?null:t.alertSubObj.commModeName))},directives:[F.f,M.i,o.n,_.a,n.d,I.a,n.o,n.r,o.m,F.d,F.e,V.a,o.l,F.b,F.a,l.a,r.a,D.b,R.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}"]}),e})();function Zt(e,t){if(1&e){const e=O.kc();O.jc(0,"div",19),O.jc(1,"span",20),O.jc(2,"input",21),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().globalFilterValue=t})("keyup",function(t){return O.Rc(e),O.uc().globalFilterFun(t)}),O.ic(),O.bd(3,"\xa0 "),O.ec(4,"i",22),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(2),O.Bc("ngModel",e.globalFilterValue)}}function Ut(e,t){if(1&e){const e=O.kc();O.jc(0,"th"),O.bd(1),O.ec(2,"br"),O.ec(3,"p-sortIcon",29),O.jc(4,"app-column-filter",30),O.qc("hideFilterDataBox",function(t){return O.Rc(e),O.uc(3).hideBox(t)})("filterData",function(t){return O.Rc(e),O.uc(3).getFilterData(t)})("resetFilterValues",function(t){return O.Rc(e),O.uc(3).resetFilter(t)}),O.ic(),O.jc(5,"span",31),O.jc(6,"i",32),O.qc("click",function(){O.Rc(e);const t=O.uc().$implicit;return O.uc(2).onFilterClick(t.originalValue)}),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc().$implicit,t=O.uc(2);O.Nb(1),O.dd(" ",e.displayValue,""),O.Nb(2),O.Cc("field",e.originalValue),O.Cc("pSortableColumn",e.originalValue),O.Nb(1),O.Bc("colFilterData",t.getFilterState(e.originalValue))("display",t.displayFiltersFor[e.originalValue])("fieldName",e.originalValue)("customId",e.originalValue+"_alert_notify"),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"selected-filter-column":""),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function At(e,t){if(1&e){const e=O.kc();O.jc(0,"th",33),O.bd(1),O.ec(2,"br"),O.ec(3,"p-sortIcon",29),O.jc(4,"app-column-filter",30),O.qc("hideFilterDataBox",function(t){return O.Rc(e),O.uc(3).hideBox(t)})("filterData",function(t){return O.Rc(e),O.uc(3).getFilterData(t)})("resetFilterValues",function(t){return O.Rc(e),O.uc(3).resetFilter(t)}),O.ic(),O.jc(5,"span",31),O.jc(6,"i",32),O.qc("click",function(){O.Rc(e);const t=O.uc().$implicit;return O.uc(2).onFilterClick(t.originalValue)}),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc().$implicit,t=O.uc(2);O.Nb(1),O.dd(" ",e.displayValue,""),O.Nb(2),O.Cc("field",e.originalValue),O.Cc("pSortableColumn",e.originalValue),O.Nb(1),O.Bc("colFilterData",t.getFilterState(e.originalValue))("display",t.displayFiltersFor[e.originalValue])("fieldName",e.originalValue)("customId",e.originalValue+"_alert_notify"),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"selected-filter-column":""),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function Wt(e,t){if(1&e&&(O.hc(0),O.Zc(1,Ut,7,9,"th",27),O.Zc(2,At,7,9,"th",28),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",e.isSelected&&"Name"!=e.displayValue),O.Nb(1),O.Bc("ngIf",e.isSelected&&"Name"==e.displayValue)}}function Gt(e,t){if(1&e&&(O.jc(0,"tr",23),O.Zc(1,Wt,3,2,"ng-container",24),O.jc(2,"th",25),O.bd(3,"Subscribe"),O.ic(),O.jc(4,"th",26),O.bd(5,"Edit"),O.ic(),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngForOf",e.customizeAlertCols)}}function $t(e,t){if(1&e&&(O.jc(0,"td",39),O.jc(1,"span"),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc().$implicit,t=O.uc().$implicit;O.Bc("title",t[e.originalValue]),O.Nb(2),O.cd(t[e.originalValue])}}function Jt(e,t){if(1&e&&(O.hc(0),O.Zc(1,$t,3,2,"td",38),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",e.isSelected)}}function Ht(e,t){if(1&e){const e=O.kc();O.jc(0,"tr",34),O.Zc(1,Jt,2,1,"ng-container",24),O.jc(2,"td",25),O.jc(3,"span",35),O.qc("click",function(){O.Rc(e);const i=t.$implicit;return O.uc().subscribeAlertNotification(i)}),O.ec(4,"i",36),O.ic(),O.ic(),O.jc(5,"td",26),O.jc(6,"span",35),O.qc("click",function(){O.Rc(e);const i=t.$implicit;return O.uc().editAlertNotification(i)}),O.ec(7,"i",37),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();let t=null,i=null;O.Nb(1),O.Bc("ngForOf",e.customizeAlertCols),O.Nb(2),O.Bc("ngClass",null!=(t=e.roleOnModule("User Settings"))&&null!=t.accessControl&&t.accessControl.includes("C")?" cursor-pointer":"disable"),O.Nb(3),O.Bc("ngClass",null!=(i=e.roleOnModule("User Settings"))&&null!=i.accessControl&&i.accessControl.includes("U")?" cursor-pointer":"disable")}}function Qt(e,t){1&e&&(O.jc(0,"div",40),O.bd(1," No records found "),O.ic())}function Kt(e,t){if(1&e){const e=O.kc();O.jc(0,"div",41),O.jc(1,"p-paginator",42,43),O.qc("onPageChange",function(t){return O.Rc(e),O.uc().onPageChange(t)})("firstChange",function(t){return O.Rc(e),O.uc().first=t}),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("rows",10)("totalRecords",e.alertEventList.length)("showCurrentPageReport",!0)("first",e.first)}}function Yt(e,t){if(1&e&&(O.jc(0,"div",48),O.jc(1,"div"),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc(3);O.Nb(2),O.ed("Page ",e.selectedPage.page," of ",e.totalNumOfPages,"")}}function Xt(e,t){if(1&e&&O.Zc(0,Yt,3,2,"div",47),2&e){const e=O.uc(2);O.Bc("ngIf",e.selectedPage)}}function ei(e,t){if(1&e){const e=O.kc();O.jc(0,"div",44),O.jc(1,"p-dropdown",45),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().selectedPage=t})("onChange",function(t){return O.Rc(e),O.uc().onPageNumChange(t)}),O.Zc(2,Xt,1,1,"ng-template",46),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("options",e.numOfPages)("filter",!0)("ngModel",e.selectedPage)}}function ti(e,t){if(1&e){const e=O.kc();O.hc(0),O.jc(1,"div",62),O.jc(2,"table"),O.jc(3,"tr",63),O.jc(4,"td"),O.jc(5,"p-checkbox",64),O.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return O.Rc(e),O.uc(2).pdfColsValue()}),O.ic(),O.ic(),O.jc(6,"td"),O.jc(7,"label"),O.bd(8),O.ic(),O.ic(),O.ic(),O.ic(),O.ic(),O.gc()}if(2&e){const e=t.$implicit,i=O.uc(2);O.Nb(5),O.Bc("ngModel",e.pdfCols)("disabled",i.pdfCheckboxDisabled&&!e.pdfCols),O.Nb(3),O.cd(e.displayValue)}}function ii(e,t){1&e&&(O.jc(0,"div",65),O.bd(1,"You can select up to 9 columns."),O.ic())}function oi(e,t){if(1&e){const e=O.kc();O.jc(0,"div",49),O.jc(1,"span",50),O.bd(2,"Please select columns that need to be downloaded in PDF"),O.ic(),O.ic(),O.jc(3,"div",51),O.jc(4,"div",52),O.Zc(5,ti,9,3,"ng-container",24),O.ic(),O.ic(),O.jc(6,"div",53),O.jc(7,"div",54),O.jc(8,"div",55),O.Zc(9,ii,2,0,"div",56),O.ic(),O.jc(10,"div",57),O.jc(11,"button",58),O.qc("click",function(){O.Rc(e);const t=O.uc();return t.exportPdf(),t.modalRef.hide()}),O.ic(),O.ic(),O.jc(12,"div",59),O.jc(13,"div"),O.jc(14,"label",60),O.qc("click",function(){return O.Rc(e),O.uc().closeExportPdf()}),O.bd(15,"Close"),O.ic(),O.jc(16,"img",61),O.qc("click",function(){return O.Rc(e),O.uc().closeExportPdf()}),O.ic(),O.ic(),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(5),O.Bc("ngForOf",e.customizeAlertCols),O.Nb(4),O.Bc("ngIf",e.pdfCheckboxDisabled),O.Nb(2),O.Bc("disabled",e.disableDownloadBtn)}}const ni=function(){return{width:"100%"}};m.a.vfs=C.a.pdfMake.vfs;let si=(()=>{class e{constructor(e,t,i,o,n,s,c,a){this.userSettingsService=e,this.spinner=t,this.filterService=i,this.datePipe=o,this.modalService=n,this.router=s,this.cdRef=c,this.domainProjService=a,this.alertEventList=[],this.mainAlertEventList=[],this.pageWiseAlertEvents=[],this.first=0,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.pageSize=9,this.totalNumOfPages=0,this.checkboxDisabled=!1,this.maxCount=4,this.displayFiltersFor={eventName:!1,eventModuleName:!1,eventCommunicationType:!1,eventMessageCode:!1,eventCompletionMessage:!1,eventMessageSubject:!1,eventMessageBody:!1},this.columnFilter={},this.scrollHt="300px",this.filterData={},this.selectedRowData={},this.pdfData=[],this.customizeAlertCols=[{displayValue:"Name",originalValue:"eventName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Module Name",originalValue:"eventModuleName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Communication Type",originalValue:"eventCommunicationType",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Message Code",originalValue:"eventMessageCode",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Completion Message",originalValue:"eventCompletionMessage",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Message Subject",originalValue:"eventMessageSubject",isSelected:!1,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Message Body",originalValue:"eventMessageBody",isSelected:!1,necessaryCol:!1,alwaysSelected:!1}],this.customSortArr=[],this.norecordfound=!1,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.pdfCheckCount=0}ngOnDestroy(){}ngOnInit(){var e;this.domainProjService.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData"),this.getAllAlertEvents(),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(e=>{e.accessControl=e.accessControl.split("-")})))}roleOnModule(e){return this.roleModule.find(t=>t.moduleName===e)}hideBox(e){this.displayFiltersFor[e.fieldName]=!1}capture(){if(this.pageWiseAlertEvents.length){this.spinner.show(),this.scrollHt="1500px";const e="AlterNotificationList.pdf";setTimeout(()=>{v()(document.querySelector("#view_alert_events_list"),{height:1200}).then(t=>{try{t.toBlob(t=>{const i=new FileReader;i.readAsDataURL(t),i.onloadend=()=>{m.a.createPdf({footer:{columns:[{text:"Created by FirstEigen",alignment:"right",style:"footerSection"}]},content:[{text:"Alert Notification List",alignment:"center",margin:[0,5,0,5]},{image:i.result,width:500,alignment:"left"}],styles:{sectionHeader:{bold:!0,decoration:"underline",fontSize:14,margin:[0,5,0,5]},textStyle:{bold:!1,fontSize:9,margin:[0,5,0,5]},footerSection:{fontSize:7,margin:[5,7,7,5]}}}).download(e),this.scrollHt="300px",this.spinner.hide()}})}catch(i){this.spinner.hide()}})},2e3)}}downloadCSV(){this.userSettingsService.downloadAlertNotificationCSV("alterNotificationCSV").subscribe(e=>{const t=this.datePipe.transform(new Date,"yyyy-MM-dd");Object(h.saveAs)(e,"AlertNotificationCSV_"+t+".csv")})}openExportPdf(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}closeExportPdf(){this.modalRef.hide(),setTimeout(()=>{this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeAlertCols.forEach(e=>e.pdfCols=!1)},1e3)}exportPdf(){this.pdfData.length&&(this.spinner.show(),setTimeout(()=>{const e=new w.default("l","pt"),t=this.customizeAlertCols.filter(e=>e.pdfCols),i=[];t.forEach(e=>i.push(e.displayValue));const o=[];t.forEach(e=>o.push(e.originalValue));let n=[];n=this.pdfData.map(e=>Object.assign(o.map(t=>e[t])));const s=e.internal.pageSize,c=s.height?s.height:s.getHeight();j()(e,{columns:i,body:n,didDrawPage:t=>{1==t.pageNumber&&(e.text("Alert Events",e.internal.pageSize.width/2,25,null,"center"),e.setFontSize(10)),e.setFontSize(9),e.text("Created by FirstEigen",e.internal.pageSize.width-40,c-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}},columnStyles:{}}),e.save("Alert Events.pdf"),this.disableDownloadBtn=!0,this.pdfCheckboxDisabled=!1,t.forEach(e=>e.pdfCols=!1),this.spinner.hide()},2e3))}pdfColsValue(){this.pdfCheckCount=0,this.customizeAlertCols.filter(e=>!0===e.pdfCols).forEach(e=>{!0===e.pdfCols&&this.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}onFilterClick(e){Object.keys(this.displayFiltersFor).map(t=>{this.displayFiltersFor[t]=t===e})}checkValue(){this.checkCount=0,this.customizeAlertCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}showMoreCols(){return this.customizeAlertCols.filter(e=>!e.necessaryCol&&e.isSelected).length<this.customizeAlertCols.length}openOtherField(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}getAllAlertEvents(){this.spinner.show(),this.userSettingsService.getAllAlertEvents().subscribe(e=>{if("success"===e.status){this.spinner.hide(),this.spinner.hide()&&(this.norecordfound=!0),e.result.eventList.map(e=>{e.eventMessageCode=parseInt(e.eventMessageCode)}),this.mainAlertEventList=[...e.result.eventList],this.alertEventList=[...this.mainAlertEventList];const t=this.first+this.pageSize;null!=this.filterObj&&this.filterObj.forEach(e=>{this.alertEventList=this.alertEventList.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))});const i=this.alertEventList.filter((e,i)=>i<=t);this.pageWiseAlertEvents=[...i],this.pdfData=[...i],this.calculateNumOfPages(),this.checkCount=0,this.customizeAlertCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}else this.mainAlertEventList=[],this.alertEventList=[],this.pageWiseAlertEvents=[]})}calculateNumOfPages(){if(this.totalNumOfPages=this.mainAlertEventList.length?this.mainAlertEventList.length<this.pageSize?1:Math.ceil(this.mainAlertEventList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}globalFilterFun(e){const t=[...this.globalFilterLogic()],i=this.first+this.pageSize,o=t.filter((e,t)=>t<=i);this.cdRef.detectChanges(),this.pageWiseAlertEvents=[...o],this.setPageNumber()}globalFilterLogic(){if(this.mainAlertEventList.length){const e=Object.keys(this.mainAlertEventList[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainAlertEventList.forEach(t=>{let i=!1;e.forEach(e=>{t[e]&&t[e].toString().toLowerCase().includes(this.globalFilterValue.toLowerCase())&&!i&&(this.filterValue.push(t),i=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.alertEventList=[...this.filterValue],this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=[...this.mainAlertEventList],this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.alertEventList=[...this.filterValue],this.calculateNumOfPages(),this.alertEventList}return[]}onPageChange(e){this.first=e.first;const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseAlertEvents=[...o]}onPageNumChange(e){this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.pageWiseAlertEvents=[...o]}getSortedData(){const e=[...this.alertEventList];return this.sortOrderEvent?1===this.sortOrderEvent.order?(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?-1:0),e):(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?-1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?1:0),e):e}customSort(e){this.sortField=e.field,this.sortOrder=e.order,this.sortMode=e.mode,this.customSortArr.filter(t=>t.field=e.field)[0]?this.customSortArr.map(t=>{t.order=e.order}):this.customSortArr.push(e);const t=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=t+1,this.selectedPage.pageIndex=t,this.sortOrderEvent=e;const i=[...this.alertEventList],o=[...this.sortOrderEvent.multiSortMeta];o.length>=4&&(e.multiSortMeta=e.multiSortMeta.splice(4,1)),1===o.length?i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]?-o[0].order:0):2===o.length?i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]?-o[1].order:0):3===o.length?i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]?-o[2].order:0):4===o.length&&i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]&&-o[2].order||e[o[3].field]>t[o[3].field]?o[3].order:t[o[3].field]>e[o[3].field]?-o[3].order:0);const n=this.first+this.pageSize,s=i.filter((e,t)=>{if(t<=n&&t>=this.first)return e});this.pageWiseAlertEvents=[...s]}getFilterData(e){this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e[0]]=!1,this.first=0,this.globalFilterValue||(this.alertEventList=[...this.mainAlertEventList]),t.forEach(e=>{this.alertEventList=this.alertEventList.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}resetFilter(e){this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.alertEventList=[...this.mainAlertEventList],t.forEach(e=>{this.alertEventList=this.alertEventList.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}setPageNumber(){if(this.totalNumOfPages=this.alertEventList.length?this.alertEventList.length<this.pageSize?1:Math.ceil(this.alertEventList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}const e=this.first+this.pageSize,t=this.alertEventList.filter((t,i)=>i<=e);this.pageWiseAlertEvents=[...t]}getFilterState(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){const t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}editAlertNotification(e){sessionStorage.setItem("alertObj",JSON.stringify(e)),this.router.navigate(["/dbckangui/user-setting/alert-notification/alert-edit"])}subscribeAlertNotification(e){sessionStorage.setItem("alertObj",JSON.stringify(e)),this.router.navigate(["/dbckangui/user-setting/alert-notification/subscription"])}filterColumnNameWithHighlightName(e){return!(Object.keys(this.columnFilter).findIndex(t=>t===e)<0)}}return e.\u0275fac=function(t){return new(t||e)(O.dc(S.a),O.dc(y.c),O.dc(M.d),O.dc(o.d),O.dc(N.a),O.dc(s.i),O.dc(O.h),O.dc(k.a))},e.\u0275cmp=O.Xb({type:e,selectors:[["app-alert-notifications"]],decls:22,vars:22,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","col-md-6"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["id","view_alert_events_list",1,"row","p-field"],["view_alert_events_list",""],[1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","sortMode","multiple","responsiveLayout","scroll",3,"value","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","rows","first","customSort","firstChange","sortFunction"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["exportPdfTemplate",""],[3,"subscriptionInner"],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"header"],[4,"ngFor","ngForOf"],["width","80px"],["width","50px"],[4,"ngIf"],["width","250px",4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],["width","250px"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["aria-hidden","true","title","Subscribe",1,"fa","fa-bell"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil"],["class","text-center word_break_word_all rule-ellipsis",3,"title",4,"ngIf"],[1,"text-center","word_break_word_all","rule-ellipsis",3,"title"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","pdf-modal"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-4"],["class","color-code",4,"ngIf"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"]],template:function(e,t){if(1&e){const e=O.kc();O.jc(0,"div",0),O.jc(1,"div",1),O.jc(2,"div",2),O.jc(3,"p",3),O.bd(4," Alert Events "),O.ic(),O.ic(),O.jc(5,"div",4),O.jc(6,"a"),O.jc(7,"img",5),O.qc("click",function(){O.Rc(e);const i=O.Oc(20);return t.openExportPdf(i)}),O.ic(),O.ic(),O.ic(),O.ic(),O.jc(8,"div",6,7),O.jc(10,"div",8),O.jc(11,"p-table",9),O.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),O.Zc(12,Zt,5,1,"ng-template",10),O.Zc(13,Gt,6,1,"ng-template",11),O.Zc(14,Ht,8,3,"ng-template",12),O.ic(),O.ic(),O.Zc(15,Qt,2,0,"div",13),O.jc(16,"div",14),O.Zc(17,Kt,3,4,"div",15),O.Zc(18,ei,3,3,"div",16),O.ic(),O.ic(),O.ic(),O.Zc(19,oi,17,3,"ng-template",null,17,O.ad),O.ec(21,"app-subscribe-notification",18)}2&e&&(O.Nb(6),O.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseAlertEvents&&t.pageWiseAlertEvents.length?"":"disabled-opa",""),O.Nb(5),O.Vc(O.Ec(21,ni)),O.Bc("value",t.pageWiseAlertEvents)("responsive",!0)("rowHover",!0)("sortField","idProject")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("rows",10)("first",t.first)("filterDelay",0)("customSort",!0),O.Nb(4),O.Bc("ngIf",!t.pageWiseAlertEvents.length&&t.norecordfound),O.Nb(2),O.Bc("ngIf",t.pageWiseAlertEvents.length),O.Nb(1),O.Bc("ngIf",t.pageWiseAlertEvents.length),O.Nb(3),O.Bc("subscriptionInner","false"))},directives:[F.f,M.i,o.n,qt,n.d,I.a,n.o,n.r,o.m,F.d,F.e,V.a,o.l,l.a,r.a,D.b,R.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-bell[_ngcontent-%COMP%], .fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}"]}),e})();var ci=i("Nmef");function ai(e,t){1&e&&(O.jc(0,"span",18),O.bd(1,"Please choose "),O.jc(2,"b"),O.bd(3,"Event Name"),O.ic(),O.ic())}function ri(e,t){if(1&e&&(O.jc(0,"p",18),O.Zc(1,ai,4,0,"span",9),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngIf",e.alertSubForm.controls.eventName.errors.required)}}function li(e,t){1&e&&(O.jc(0,"span",18),O.bd(1,"Please choose "),O.jc(2,"b"),O.bd(3,"Subscription Type"),O.ic(),O.ic())}function di(e,t){if(1&e&&(O.jc(0,"p",18),O.Zc(1,li,4,0,"span",9),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngIf",e.alertSubForm.controls.subscriptionType.errors.required)}}function pi(e,t){1&e&&(O.jc(0,"span",18),O.bd(1,"Please choose "),O.jc(2,"b"),O.bd(3,"Communication Mode"),O.ic(),O.ic())}function ui(e,t){if(1&e&&(O.jc(0,"p",18),O.Zc(1,pi,4,0,"span",9),O.ic()),2&e){const e=O.uc(2);O.Nb(1),O.Bc("ngIf",e.alertSubForm.controls.communicationMode.errors.required)}}function gi(e,t){if(1&e){const e=O.kc();O.jc(0,"div",5),O.jc(1,"label",10),O.bd(2,"Communication Mode"),O.jc(3,"sup",7),O.bd(4,"*"),O.ic(),O.ic(),O.ec(5,"br"),O.jc(6,"p-multiSelect",19),O.qc("onChange",function(t){return O.Rc(e),O.uc().getCommSelectedValue(t)}),O.ic(),O.Zc(7,ui,2,1,"p",9),O.ic()}if(2&e){const e=O.uc();O.Nb(6),O.Bc("styleClass","form-field")("options",e.communicationList),O.Nb(1),O.Bc("ngIf",e.alertSubForm.controls.communicationMode.invalid&&!e.alertSubForm.controls.communicationMode.pristine)}}function hi(e,t){1&e&&(O.jc(0,"span",18),O.bd(1,"Please choose "),O.jc(2,"b"),O.bd(3,"Project Name"),O.ic(),O.ic())}function fi(e,t){if(1&e&&(O.jc(0,"p",18),O.Zc(1,hi,4,0,"span",9),O.ic()),2&e){const e=O.uc(2);O.Nb(1),O.Bc("ngIf",e.alertSubForm.controls.projectName.errors.required)}}function mi(e,t){if(1&e){const e=O.kc();O.jc(0,"div",5),O.jc(1,"label",10),O.bd(2,"Project Name"),O.jc(3,"sup",7),O.bd(4,"*"),O.ic(),O.ic(),O.ec(5,"br"),O.jc(6,"p-multiSelect",20),O.qc("onChange",function(t){return O.Rc(e),O.uc().getSelectedValue(t.value)}),O.ic(),O.Zc(7,fi,2,1,"p",9),O.ic()}if(2&e){const e=O.uc();O.Nb(6),O.Bc("styleClass","form-field")("options",e.projectList),O.Nb(1),O.Bc("ngIf",e.alertSubForm.controls.projectName.invalid&&!e.alertSubForm.controls.projectName.pristine)}}function bi(e,t){1&e&&(O.jc(0,"span",18),O.bd(1,"Please enter "),O.jc(2,"b"),O.bd(3,"Email"),O.ic(),O.ic())}function Ci(e,t){if(1&e&&(O.jc(0,"p",18),O.Zc(1,bi,4,0,"span",9),O.ic()),2&e){const e=O.uc(2);O.Nb(1),O.Bc("ngIf",e.alertSubForm.controls.email.errors.required)}}function xi(e,t){if(1&e&&(O.jc(0,"div",5),O.jc(1,"label",21),O.bd(2,"Email"),O.jc(3,"sup",7),O.bd(4,"*"),O.ic(),O.ic(),O.ec(5,"br"),O.ec(6,"input",22),O.Zc(7,Ci,2,1,"p",9),O.ic()),2&e){const e=O.uc();O.Nb(7),O.Bc("ngIf",e.alertSubForm.controls.email.invalid&&!e.alertSubForm.controls.email.pristine)}}function vi(e,t){1&e&&(O.jc(0,"span",18),O.bd(1,"Please enter "),O.jc(2,"b"),O.bd(3,"Jira"),O.ic(),O.ic())}function Pi(e,t){if(1&e&&(O.jc(0,"p",18),O.Zc(1,vi,4,0,"span",9),O.ic()),2&e){const e=O.uc(2);O.Nb(1),O.Bc("ngIf",e.alertSubForm.controls.jira.errors.required)}}function ji(e,t){if(1&e&&(O.jc(0,"div",5),O.jc(1,"label",21),O.bd(2,"Jira"),O.jc(3,"sup",7),O.bd(4,"*"),O.ic(),O.ic(),O.ec(5,"br"),O.ec(6,"input",23),O.Zc(7,Pi,2,1,"p",9),O.ic()),2&e){const e=O.uc();O.Nb(7),O.Bc("ngIf",e.alertSubForm.controls.jira.invalid&&!e.alertSubForm.controls.jira.pristine)}}function wi(e,t){1&e&&(O.jc(0,"span",18),O.bd(1,"Please enter "),O.jc(2,"b"),O.bd(3,"Slack"),O.ic(),O.ic())}function Oi(e,t){if(1&e&&(O.jc(0,"p",18),O.Zc(1,wi,4,0,"span",9),O.ic()),2&e){const e=O.uc(2);O.Nb(1),O.Bc("ngIf",e.alertSubForm.controls.slack.errors.required)}}function Si(e,t){if(1&e&&(O.jc(0,"div",5),O.jc(1,"label",21),O.bd(2,"Slack"),O.jc(3,"sup",7),O.bd(4,"*"),O.ic(),O.ic(),O.ec(5,"br"),O.ec(6,"input",24),O.Zc(7,Oi,2,1,"p",9),O.ic()),2&e){const e=O.uc();O.Nb(7),O.Bc("ngIf",e.alertSubForm.controls.slack.invalid&&!e.alertSubForm.controls.slack.pristine)}}function yi(e,t){1&e&&(O.jc(0,"span",18),O.bd(1,"Please enter "),O.jc(2,"b"),O.bd(3,"SNS"),O.ic(),O.ic())}function Mi(e,t){if(1&e&&(O.jc(0,"p",18),O.Zc(1,yi,4,0,"span",9),O.ic()),2&e){const e=O.uc(2);O.Nb(1),O.Bc("ngIf",e.alertSubForm.controls.SNS.errors.required)}}function Ni(e,t){if(1&e&&(O.jc(0,"div",5),O.jc(1,"label",21),O.bd(2,"SNS"),O.jc(3,"sup",7),O.bd(4,"*"),O.ic(),O.ic(),O.ec(5,"br"),O.ec(6,"input",25),O.Zc(7,Mi,2,1,"p",9),O.ic()),2&e){const e=O.uc();O.Nb(7),O.Bc("ngIf",e.alertSubForm.controls.SNS.invalid&&!e.alertSubForm.controls.SNS.pristine)}}function ki(e,t){1&e&&(O.jc(0,"span",18),O.bd(1,"Please enter "),O.jc(2,"b"),O.bd(3,"SQS"),O.ic(),O.ic())}function Di(e,t){if(1&e&&(O.jc(0,"p",18),O.Zc(1,ki,4,0,"span",9),O.ic()),2&e){const e=O.uc(2);O.Nb(1),O.Bc("ngIf",e.alertSubForm.controls.SQS.errors.required)}}function Fi(e,t){if(1&e&&(O.jc(0,"div",5),O.jc(1,"label",21),O.bd(2,"SQS"),O.jc(3,"sup",7),O.bd(4,"*"),O.ic(),O.ic(),O.ec(5,"br"),O.ec(6,"input",26),O.Zc(7,Di,2,1,"p",9),O.ic()),2&e){const e=O.uc();O.Nb(7),O.Bc("ngIf",e.alertSubForm.controls.SQS.invalid&&!e.alertSubForm.controls.SQS.pristine)}}let _i=(()=>{class e{constructor(e,t,i,o,n){this.homeServiceService=e,this.userSettingsService=t,this.router=i,this.fb=o,this.messages=n,this.ruleCategoryList=[],this.projectList=[],this.eventNameList=[],this.subscriptionTypeList=[{name:"Global",value:"global"},{name:"Project",value:"project"}],this.communicationList=[]}ngOnInit(){var e;sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(e=>{e.accessControl=e.accessControl.split("-")}))),this.resetForm();const t=this.homeServiceService.getProjectList();[...new Set(t.map(e=>e.idProject))].map(e=>{this.projectList.push(t.find(t=>t.idProject===e))}),this.userSettingsService.getAllAlertCommunicationModes().subscribe(e=>{var t,i;"success"===e.status&&((null===(t=e.result)||void 0===t?void 0:t.commModeList)?(this.communicationList=null===(i=e.result)||void 0===i?void 0:i.commModeList,this.alertSubForm.patchValue({communicationMode:[this.communicationList[0].commModeId]}),this.alertSubForm.controls.email.setValidators(n.w.required),this.updateFormFieldValidators()):this.messages.displayToaster(e.message,"warn","Warning!"))}),this.userSettingsService.getAllAlertEventNames().subscribe(e=>{var t;this.eventNameList=null===(t=e.result)||void 0===t?void 0:t.eventNames;const i=JSON.parse(sessionStorage.getItem("alertObj"));this.alertSubForm.controls.eventName.setValue(i.eventName)})}changeEventName(e){this.eventName=e.value}resetForm(){this.alertSubForm=this.fb.group({eventName:["",n.w.compose([n.w.required])],subscriptionType:["",n.w.compose([n.w.required])],communicationMode:["",n.w.compose([n.w.required])],projectName:[""],communicationValues:[""],email:[null],jira:[null],slack:[null],SNS:[null],SQS:[null]})}getSelectedValue(e){this.selectedTableName=e}changeSubscriptionType(e){"global"==e.value?(this.alertSubForm.controls.projectName.reset(),this.updateFormFieldValidators()):(this.alertSubForm.controls.projectName.setValidators(n.w.required),this.updateFormFieldValidators()),this.alertSubForm.controls.email.setValue(null),this.alertSubForm.controls.jira.setValue(null),this.alertSubForm.controls.slack.setValue(null),this.alertSubForm.controls.SNS.setValue(null),this.alertSubForm.controls.SQS.setValue(null),this.alertSubForm.controls.communicationMode.setValue([1]),this.selectedCommName=[1]}getCommSelectedValue(e){switch(this.selectedCommName=e.value,e.itemValue){case 1:this.alertSubForm.controls.email.setValidators(n.w.required),this.updateFormFieldValidators();break;case 2:this.alertSubForm.controls.jira.setValidators(n.w.required),this.updateFormFieldValidators();break;case 3:this.alertSubForm.controls.slack.setValidators(n.w.required),this.updateFormFieldValidators();break;case 4:this.alertSubForm.controls.SNS.setValidators(n.w.required),this.updateFormFieldValidators();break;case 5:this.alertSubForm.controls.SQS.setValidators(n.w.required),this.updateFormFieldValidators()}}markFormAsTouched(){this.alertSubForm.updateValueAndValidity(),Object.keys(this.alertSubForm.controls).forEach(e=>{this.alertSubForm.controls[e].markAsTouched(),this.alertSubForm.controls[e].markAsDirty()})}updateFormFieldValidators(){this.alertSubForm.updateValueAndValidity(),Object.keys(this.alertSubForm.controls).forEach(e=>{this.alertSubForm.controls[e].updateValueAndValidity()})}submit(){var e,t,i,o,n;if(this.alertSubForm.valid){const s=JSON.parse(JSON.stringify(this.alertSubForm.value));s.communicationValues=[];const c=[];if((null===(e=s.email)||void 0===e?void 0:e.length)>0){const e=this.communicationList.filter(e=>"EMAIL"==e.commModeName)[0];s.communicationValues.push({id:e.commModeId,value:s.email})}if((null===(t=s.slack)||void 0===t?void 0:t.length)>0){const e=this.communicationList.filter(e=>"SLACK"==e.commModeName)[0];s.communicationValues.push({id:e.commModeId,value:s.slack})}if((null===(i=s.jira)||void 0===i?void 0:i.length)>0){const e=this.communicationList.filter(e=>"JIRA"==e.commModeName)[0];s.communicationValues.push({id:e.commModeId,value:s.jira})}if((null===(o=s.SQS)||void 0===o?void 0:o.length)>0){const e=this.communicationList.filter(e=>"SQS"==e.commModeName)[0];s.communicationValues.push({id:e.commModeId,value:s.SQS})}if((null===(n=s.SNS)||void 0===n?void 0:n.length)>0){const e=this.communicationList.filter(e=>"SNS"==e.commModeName)[0];s.communicationValues.push({id:e.commModeId,value:s.SNS})}s.communicationValues.forEach(e=>{"global"===s.subscriptionType?c.push({commModeId:e.id,communicationValues:e.value,eventId:this.eventNameList.find(e=>e.name==s.eventName).value,isGlobalSubscription:"global"===s.subscriptionType?"Y":"N",projectId:"-1"}):s.projectName.forEach(t=>{c.push({commModeId:e.id,communicationValues:e.value,eventId:this.eventNameList.find(e=>e.name==s.eventName).value,isGlobalSubscription:"global"===s.subscriptionType?"Y":"N",projectId:t})})}),this.userSettingsService.addEventSubscription(c).subscribe(e=>{"success"===e.status&&this.router.navigate(["/dbckangui/user-setting/alert-notification"])})}}backToScreen(){this.router.navigate(["/dbckangui/user-setting/alert-notification"])}roleOnModule(e){return this.roleModule.find(t=>t.moduleName===e)}}return e.\u0275fac=function(t){return new(t||e)(O.dc(ci.a),O.dc(S.a),O.dc(s.i),O.dc(n.e),O.dc(ut.b))},e.\u0275cmp=O.Xb({type:e,selectors:[["app-alert-subscription"]],decls:34,vars:17,consts:[[1,"container-fluid","create-conn-main",3,"formGroup"],[1,"row"],[1,"col-sm-12"],[1,"form-title"],[1,"row","p-field"],[1,"col-sm-12","col-md-6","mr-top"],["for","first_name",1,"form-label"],[1,"req-field"],["id","last_name","maxlength","500","readonly","","formControlName","eventName","placeholder","Enter Event Name","type","text","pInputText","",1,"form-field"],["class","err-msg",4,"ngIf"],["for","last_name",1,"form-label"],["formControlName","subscriptionType","placeholder","Select Subscription Type","optionValue","value","optionLabel","name",3,"styleClass","options","virtualScroll","itemSize","onChange"],["class","col-sm-12 col-md-6 mr-top",4,"ngIf"],[1,"row","p-field","padding-top-20"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button","label","Add Subscription",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],["pButton","","type","button","label","Back",1,"button","w-button","shadow","btn-cancel",3,"click"],[3,"subscriptionInner","eventId"],[1,"err-msg"],["formControlName","communicationMode","defaultLabel","Select Communication Mode","optionLabel","commModeName","optionValue","commModeId","name","value",3,"styleClass","options","onChange"],["formControlName","projectName","defaultLabel","Select Project Name","optionLabel","projectName","optionValue","idProject","name","value",3,"styleClass","options","onChange"],["for","role_id",1,"form-label"],["id","last_name","maxlength","500","formControlName","email","placeholder","Enter Email","type","email","pInputText","",1,"form-field"],["id","last_name","maxlength","500","formControlName","jira","placeholder","Enter Jira","type","text","pInputText","",1,"form-field"],["id","last_name","maxlength","500","formControlName","slack","placeholder","Enter Slack","type","text","pInputText","",1,"form-field"],["id","last_name","maxlength","500","formControlName","SNS","placeholder","Enter SNS","type","text","pInputText","",1,"form-field"],["id","last_name","maxlength","500","formControlName","SQS","placeholder","Enter SQS","type","text","pInputText","",1,"form-field"]],template:function(e,t){1&e&&(O.jc(0,"div",0),O.jc(1,"div",1),O.jc(2,"div",2),O.jc(3,"p",3),O.bd(4," Event Subscription "),O.ic(),O.ic(),O.ic(),O.jc(5,"div",4),O.jc(6,"div",5),O.jc(7,"label",6),O.bd(8,"Event Name"),O.jc(9,"sup",7),O.bd(10,"*"),O.ic(),O.ic(),O.ec(11,"br"),O.ec(12,"input",8),O.Zc(13,ri,2,1,"p",9),O.ic(),O.jc(14,"div",5),O.jc(15,"label",10),O.bd(16,"Subscription Type"),O.jc(17,"sup",7),O.bd(18,"*"),O.ic(),O.ic(),O.ec(19,"br"),O.jc(20,"p-dropdown",11),O.qc("onChange",function(e){return t.changeSubscriptionType(e)}),O.ic(),O.Zc(21,di,2,1,"p",9),O.ic(),O.Zc(22,gi,8,3,"div",12),O.Zc(23,mi,8,3,"div",12),O.Zc(24,xi,8,1,"div",12),O.Zc(25,ji,8,1,"div",12),O.Zc(26,Si,8,1,"div",12),O.Zc(27,Ni,8,1,"div",12),O.Zc(28,Fi,8,1,"div",12),O.ic(),O.jc(29,"div",13),O.jc(30,"div",14),O.jc(31,"button",15),O.qc("click",function(){return t.submit()}),O.ic(),O.jc(32,"button",16),O.qc("click",function(){return t.backToScreen()}),O.ic(),O.ic(),O.ic(),O.ec(33,"app-subscribe-notification",17),O.ic()),2&e&&(O.Bc("formGroup",t.alertSubForm),O.Nb(13),O.Bc("ngIf",t.alertSubForm.controls.eventName.invalid&&!t.alertSubForm.controls.eventName.pristine),O.Nb(7),O.Bc("styleClass","form-field")("options",t.subscriptionTypeList)("virtualScroll",!0)("itemSize",30),O.Nb(1),O.Bc("ngIf",t.alertSubForm.controls.subscriptionType.invalid&&!t.alertSubForm.controls.subscriptionType.pristine),O.Nb(1),O.Bc("ngIf",(null==t.alertSubForm.value?null:t.alertSubForm.value.subscriptionType.length)>0),O.Nb(1),O.Bc("ngIf","project"==t.alertSubForm.controls.subscriptionType.value),O.Nb(1),O.Bc("ngIf",(null==t.alertSubForm.value?null:t.alertSubForm.value.subscriptionType.length)>0&&(null==t.selectedCommName?null:t.selectedCommName.includes(1))),O.Nb(1),O.Bc("ngIf",null==t.selectedCommName?null:t.selectedCommName.includes(2)),O.Nb(1),O.Bc("ngIf",null==t.selectedCommName?null:t.selectedCommName.includes(3)),O.Nb(1),O.Bc("ngIf",null==t.selectedCommName?null:t.selectedCommName.includes(4)),O.Nb(1),O.Bc("ngIf",null==t.selectedCommName?null:t.selectedCommName.includes(5)),O.Nb(3),O.Bc("disabled",!t.alertSubForm.valid),O.Nb(2),O.Bc("subscriptionInner","true")("eventId",t.eventName))},directives:[n.p,n.i,n.d,n.k,n.o,n.g,I.a,o.n,r.a,D.b,qt,ae.a],styles:["[_ngcontent-%COMP%]::-moz-placeholder{color:gray;opacity:.8}[_ngcontent-%COMP%]::placeholder{color:gray;opacity:.8}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.add-icon[_ngcontent-%COMP%]{height:25px;width:25px}.note[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#eb5454}.err-msg[_ngcontent-%COMP%]{font-size:12px;color:#f66e63;margin-bottom:0;padding-top:8px;padding-left:5px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);font-family:Open Sans!important}.mr-top[_ngcontent-%COMP%]{padding-top:10px}.p-field-checkbox-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.form-title[_ngcontent-%COMP%]{padding:10px 0;font-family:Open_Sans_Semi_Bold!important;font-size:18px;border-bottom:1px solid #eef1f5;margin-top:-10px}.form-label[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]     .p-inputtext{font-size:14px}.p-field[_ngcontent-%COMP%]{margin:0 10px}.p-field-form[_ngcontent-%COMP%]{padding-right:0}.diabled-ip[_ngcontent-%COMP%]{opacity:.7;box-shadow:none!important;cursor:inherit}.diabled-ip[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .p-disabled:hover{cursor:not-allowed!important}.optional-fields[_ngcontent-%COMP%]{color:#789}.form-checkbox[_ngcontent-%COMP%]{padding-left:10px;font-size:16px;padding-top:8px}.btn-mr-rt[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.warning-msg[_ngcontent-%COMP%]{font-size:12px;color:#007bff;margin-bottom:0;padding-top:8px;padding-left:5px}[_nghost-%COMP%]     .p-multiselect{width:100%!important;border-radius:10px!important;height:37px!important}[_nghost-%COMP%]     .multiselect-custom .p-multiselect-label{padding-top:.25rem!important;padding-bottom:.25rem!important}[_nghost-%COMP%]     .multiselect-custom .validationType-item-value{padding:.1rem .25rem!important;border-radius:3px!important;display:inline-flex!important;margin-right:.5rem!important;background:linear-gradient(180deg,#ff7526,#fb9a64)!important;color:#fff!important}[_nghost-%COMP%]     .multiselect-custom .validationType-item div{white-space:normal;word-break:break-word;width:400px}[_nghost-%COMP%]     .multiselect-custom .validationType-placeholder{font-family:Open Sans!important;font-size:14px!important;font-weight:400;padding:.25rem}"]}),e})();function Ii(e,t){if(1&e){const e=O.kc();O.jc(0,"div",37),O.jc(1,"span",38),O.jc(2,"input",39),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().globalFilterValue=t})("keyup",function(t){return O.Rc(e),O.uc().globalFilterFun(t)}),O.ic(),O.bd(3,"\xa0 "),O.ec(4,"i",40),O.ic(),O.jc(5,"span",41),O.qc("click",function(){O.Rc(e);const t=O.uc(),i=O.Oc(27);return t.showCustomizeModal(i)}),O.ec(6,"img",42),O.bd(7," \xa0Customize "),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(2),O.Bc("ngModel",e.globalFilterValue),O.Nb(3),O.Qb(0==(null==e.tagsList?null:e.tagsList.length)?"disable":""),O.Nb(1),O.Rb("cursor-pointer ",e.tagsList.length?"":"disabled-opa","")}}function Vi(e,t){if(1&e){const e=O.kc();O.jc(0,"th"),O.bd(1),O.ec(2,"br"),O.ec(3,"p-sortIcon",46),O.jc(4,"app-column-filter",47),O.qc("hideFilterDataBox",function(t){return O.Rc(e),O.uc(3).hideBox(t)})("filterData",function(t){return O.Rc(e),O.uc(3).getFilterData(t)})("resetFilterValues",function(t){return O.Rc(e),O.uc(3).resetFilter(t)}),O.ic(),O.jc(5,"span",48),O.jc(6,"i",49),O.qc("click",function(){O.Rc(e);const t=O.uc().$implicit;return O.uc(2).onFilterClick(t.originalValue)}),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc().$implicit,t=O.uc(2);O.Nb(1),O.dd(" ",e.displayValue,""),O.Nb(2),O.Cc("field",e.originalValue),O.Cc("pSortableColumn",e.originalValue),O.Nb(1),O.Bc("colFilterData",t.getFilterState(e.originalValue))("display",t.displayFiltersFor[e.originalValue])("fieldName",e.originalValue)("customId",e.originalValue),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"selected-filter-column":""),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function Ri(e,t){if(1&e&&(O.hc(0),O.Zc(1,Vi,7,9,"th",45),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",e.isSelected)}}function Li(e,t){if(1&e&&(O.jc(0,"tr",43),O.Zc(1,Ri,2,1,"ng-container",44),O.jc(2,"th"),O.bd(3," Actions"),O.ic(),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngForOf",e.customizeCols)}}function Bi(e,t){if(1&e&&(O.jc(0,"td",54),O.jc(1,"span",55),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc().$implicit,t=O.uc().$implicit;O.Bc("ngClass","description"==e.originalValue?"rule-ellipsis":"")("title",t[e.originalValue]),O.Nb(2),O.cd(t[e.originalValue])}}function Ei(e,t){if(1&e&&(O.hc(0),O.Zc(1,Bi,3,3,"td",53),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",e.isSelected)}}function zi(e,t){if(1&e){const e=O.kc();O.jc(0,"tr",50),O.Zc(1,Ei,2,1,"ng-container",44),O.jc(2,"td"),O.jc(3,"span",51),O.qc("click",function(){O.Rc(e);const i=t.$implicit;return O.uc().editTag(i)}),O.ec(4,"i",52),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();let t=null;O.Nb(1),O.Bc("ngForOf",e.customizeCols),O.Nb(2),O.Bc("ngClass",null!=(t=e.roleOnModule("User Settings"))&&null!=t.accessControl&&t.accessControl.includes("U")?" cursor-pointer":"disable")}}function Ti(e,t){1&e&&(O.jc(0,"div",56),O.bd(1,"No records found "),O.ic())}function qi(e,t){if(1&e){const e=O.kc();O.jc(0,"div",57),O.jc(1,"p-paginator",58,59),O.qc("onPageChange",function(t){return O.Rc(e),O.uc().onPageChange(t)})("firstChange",function(t){return O.Rc(e),O.uc().first=t}),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("rows",10)("totalRecords",e.tagsList.length)("showCurrentPageReport",!0)("first",e.first)}}function Zi(e,t){if(1&e&&(O.jc(0,"div",64),O.jc(1,"div"),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc(3);O.Nb(2),O.ed("Page ",e.selectedPage.page," of ",e.totalNumOfPages,"")}}function Ui(e,t){if(1&e&&O.Zc(0,Zi,3,2,"div",63),2&e){const e=O.uc(2);O.Bc("ngIf",e.selectedPage)}}function Ai(e,t){if(1&e){const e=O.kc();O.jc(0,"div",60),O.jc(1,"p-dropdown",61),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().selectedPage=t})("onChange",function(t){return O.Rc(e),O.uc().onPageNumChange(t)}),O.Zc(2,Ui,1,1,"ng-template",62),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("options",e.numOfPages)("filter",!0)("ngModel",e.selectedPage)}}function Wi(e,t){if(1&e){const e=O.kc();O.jc(0,"div",73),O.jc(1,"table"),O.jc(2,"tr",74),O.jc(3,"td"),O.jc(4,"p-checkbox",75),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().$implicit.isSelected=t})("onChange",function(){O.Rc(e);const t=O.uc().$implicit;return O.uc(2).checkValue(t.originalValue,t.isSelected)}),O.ic(),O.ic(),O.jc(5,"td"),O.jc(6,"label"),O.bd(7),O.ic(),O.ic(),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc().$implicit;O.Nb(4),O.Bc("ngModel",e.isSelected),O.Nb(3),O.cd(e.displayValue)}}function Gi(e,t){if(1&e&&(O.hc(0),O.Zc(1,Wi,8,2,"div",72),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",!e.necessaryCol&&!e.alwaysSelected)}}function $i(e,t){if(1&e){const e=O.kc();O.jc(0,"div",65),O.jc(1,"div",66),O.Zc(2,Gi,2,1,"ng-container",44),O.ic(),O.ic(),O.jc(3,"div",67),O.jc(4,"div",68),O.jc(5,"div",69),O.jc(6,"div"),O.jc(7,"label",70),O.qc("click",function(){return O.Rc(e),O.uc().modalRef.hide()}),O.bd(8,"Close Customize"),O.ic(),O.jc(9,"img",71),O.qc("click",function(){return O.Rc(e),O.uc().modalRef.hide()}),O.ic(),O.ic(),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(2),O.Bc("ngForOf",e.customizeCols)}}function Ji(e,t){if(1&e&&(O.jc(0,"span",76),O.bd(1),O.ic()),2&e){const e=O.uc();O.Nb(1),O.dd("",e.isEditTag?"Edit":"Add"," Tag ")}}function Hi(e,t){1&e&&(O.jc(0,"span",77),O.bd(1," Please enter "),O.jc(2,"b"),O.bd(3,"Tag Name"),O.ic(),O.ic())}function Qi(e,t){1&e&&(O.jc(0,"span",77),O.bd(1,"- is not allowed in tag name"),O.ic())}function Ki(e,t){if(1&e&&(O.jc(0,"p",77),O.Zc(1,Hi,4,0,"span",28),O.Zc(2,Qi,2,0,"span",28),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngIf",e.tagForm.controls.tagName.errors.required),O.Nb(1),O.Bc("ngIf",e.tagForm.controls.tagName.errors.pattern)}}function Yi(e,t){1&e&&(O.jc(0,"span",77),O.bd(1," Please enter "),O.jc(2,"b"),O.bd(3,"Description"),O.ic(),O.ic())}function Xi(e,t){if(1&e&&(O.jc(0,"p",77),O.Zc(1,Yi,4,0,"span",28),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngIf",e.tagForm.controls.description.errors.required)}}function eo(e,t){if(1&e){const e=O.kc();O.hc(0),O.jc(1,"div",73),O.jc(2,"table"),O.jc(3,"tr",74),O.jc(4,"td"),O.jc(5,"p-checkbox",85),O.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return O.Rc(e),O.uc(2).pdfColsValue()}),O.ic(),O.ic(),O.jc(6,"td"),O.jc(7,"label"),O.bd(8),O.ic(),O.ic(),O.ic(),O.ic(),O.ic(),O.gc()}if(2&e){const e=t.$implicit,i=O.uc(2);O.Nb(5),O.Bc("ngModel",e.pdfCols)("disabled",i.pdfCheckboxDisabled&&!e.pdfCols),O.Nb(3),O.cd(e.displayValue)}}function to(e,t){1&e&&(O.jc(0,"div",86),O.bd(1,"You can select up to 9 columns."),O.ic())}function io(e,t){if(1&e){const e=O.kc();O.jc(0,"div",78),O.jc(1,"span",76),O.bd(2,"Please select columns that need to be downloaded in PDF"),O.ic(),O.ic(),O.jc(3,"div",79),O.jc(4,"div",66),O.Zc(5,eo,9,3,"ng-container",44),O.ic(),O.ic(),O.jc(6,"div",67),O.jc(7,"div",68),O.jc(8,"div",80),O.Zc(9,to,2,0,"div",81),O.ic(),O.jc(10,"div",82),O.jc(11,"button",83),O.qc("click",function(){O.Rc(e);const t=O.uc();return t.exportPdf(),t.modalRef.hide()}),O.ic(),O.ic(),O.jc(12,"div",84),O.jc(13,"div"),O.jc(14,"label",70),O.qc("click",function(){return O.Rc(e),O.uc().closeExportPdf()}),O.bd(15,"Close"),O.ic(),O.jc(16,"img",71),O.qc("click",function(){return O.Rc(e),O.uc().closeExportPdf()}),O.ic(),O.ic(),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(5),O.Bc("ngForOf",e.customizeCols),O.Nb(4),O.Bc("ngIf",e.pdfCheckboxDisabled),O.Nb(2),O.Bc("disabled",e.disableDownloadBtn)}}const oo=function(){return{width:"100%"}},no=function(){return["tagId","tagName","description"]},so=function(){return{width:"50vw"}};m.a.vfs=C.a.pdfMake.vfs;let co=(()=>{class e{constructor(e,t,i,o,n,s,c,a){this.tagsService=e,this.filterService=t,this.detectChanges=i,this.spinner=o,this.datePipe=n,this.formBuilder=s,this.domainProj=c,this.modalService=a,this.mainTagsList=[],this.tagsList=[],this.pageWiseTags=[],this.pdfData=[],this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols=[{displayValue:"Tag Id",originalValue:"tagId",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Tag Name",originalValue:"tagName",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Tag Description",originalValue:"description",isSelected:!0,necessaryCol:!1,alwaysSelected:!1}],this.displayFiltersFor={tagId:!1,tagName:!1,description:!1},this.totalRecords=0,this.first=0,this.pageSize=9,this.totalNumOfPages=0,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.columnFilter={},this.filterData={},this.display=!1,this.isEditTag=!1,this.noRecordFound=!1,this.regexForTagName=/^[a-zA-z0-9][^\-]*$/}ngOnInit(){var e;this.domainProj.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData"),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(e=>{e.accessControl=e.accessControl.split("-")}))),this.getAllDatabuckTags(),this.tagForm=this.formBuilder.group({tagName:new n.f("",[n.w.required,n.w.pattern(this.regexForTagName)]),description:new n.f("",[n.w.required])})}getAllDatabuckTags(){this.spinner.show(),this.tagsService.getAllDatabuckTags("getAllDatabuckTags").subscribe(e=>{if("success"===e.status){this.spinner.hide(),this.spinner.hide()&&(this.noRecordFound=!0),this.mainTagsList=[...e.result.databuckTagList],this.tagsList=[...this.mainTagsList],this.pdfData=[...this.mainTagsList];const t=this.first+this.pageSize;this.filterObj&&this.filterObj.forEach(e=>{this.tagsList=this.tagsList.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))});const i=this.tagsList.filter((e,i)=>i<=t);this.pageWiseTags=[...i],this.calculateNumOfPages(),this.customizeCols.filter(e=>!1===e.necessaryCol)}else this.mainTagsList=[],this.tagsList=[],this.pageWiseTags=[]})}calculateNumOfPages(){if(this.totalNumOfPages=this.mainTagsList.length?this.mainTagsList.length<this.pageSize?1:Math.ceil(this.mainTagsList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}onPageChange(e){this.first=e.first;const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseTags=[...o]}onPageNumChange(e){this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.pageWiseTags=[...o]}getSortedData(){const e=[...this.tagsList];return this.sortOrderEvent?1===this.sortOrderEvent.order?(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?-1:0),e):(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?-1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?1:0),e):e}customSort(e){const t=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=t+1,this.selectedPage.pageIndex=t,this.sortOrderEvent=e;const i=[...this.tagsList];i.sort(1===this.sortOrderEvent.order?(t,i)=>t[e.field]>i[e.field]?1:i[e.field]>t[e.field]?-1:0:(t,i)=>t[e.field]>i[e.field]?-1:i[e.field]>t[e.field]?1:0);const o=this.first+this.pageSize,n=i.filter((e,t)=>{if(t<=o&&t>=this.first)return e});this.pageWiseTags=[...n]}setPageNumber(){if(this.totalNumOfPages=this.tagsList.length?this.tagsList.length<this.pageSize?1:Math.ceil(this.tagsList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}const e=this.first+this.pageSize,t=this.tagsList.filter((t,i)=>i<=e);this.pageWiseTags=[...t]}globalFilterFun(e){const t=[...this.globalFilterLogic()],i=this.first+this.pageSize,o=t.filter((e,t)=>t<=i);this.detectChanges.detectChanges(),this.pageWiseTags=[...o],this.setPageNumber()}globalFilterLogic(){if(this.mainTagsList.length){const e=Object.keys(this.mainTagsList[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainTagsList.forEach(t=>{let i=!1;e.forEach(e=>{t[e]&&t[e].toString().toLowerCase().includes(this.globalFilterValue.toLowerCase())&&!i&&(this.filterValue.push(t),i=!0)})}),this.columnFilter){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.tagsList=[...this.filterValue],this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=[...this.mainTagsList],this.columnFilter){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.tagsList=[...this.filterValue],this.calculateNumOfPages(),this.tagsList}return[]}showCustomizeModal(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}createTag(){this.display=!0,this.isEditTag=!1,this.tagForm.reset()}onCancel(){this.display=!1}downloadCSV(){this.tagsService.databuckTagsCSV("databuckTagsCSV").subscribe(e=>{const t=this.datePipe.transform(new Date,"yyyy-MM-dd");Object(h.saveAs)(e,"TagCSV_"+t+".csv")})}openExportPdf(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}closeExportPdf(){this.modalRef.hide(),setTimeout(()=>{this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols.forEach(e=>e.pdfCols=!1)},1e3)}exportPdf(){this.pdfData.length&&(this.spinner.show(),setTimeout(()=>{const e=new w.default("l","pt"),t=this.customizeCols.filter(e=>e.pdfCols),i=[];t.forEach(e=>i.push(e.displayValue));const o=[];t.forEach(e=>o.push(e.originalValue));let n=[];n=this.pdfData.map(e=>Object.assign(o.map(t=>e[t])));const s=e.internal.pageSize,c=s.height?s.height:s.getHeight();j()(e,{columns:i,body:n,didDrawPage:t=>{1==t.pageNumber&&(e.text("Databuck Tags",e.internal.pageSize.width/2,25,null,"center"),e.setFontSize(10)),e.setFontSize(9),e.text("Created by FirstEigen",e.internal.pageSize.width-40,c-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}}}),e.save("Databuck Tags.pdf"),this.disableDownloadBtn=!0,this.pdfCheckboxDisabled=!1,t.forEach(e=>e.pdfCols=!1),this.spinner.hide()},2e3))}pdfColsValue(){this.pdfCheckCount=0,this.customizeCols.filter(e=>!0===e.pdfCols).forEach(e=>{!0===e.pdfCols&&this.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}onFilterClick(e){Object.keys(this.displayFiltersFor).map(t=>{this.displayFiltersFor[t]=t===e})}getFilterState(e){if(this.filterData&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){const t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}hideBox(e){this.displayFiltersFor[e.fieldName]=!1}getFilterData(e){this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.storeFilterValue=t,this.displayFiltersFor[e[0]]=!1,this.first=0,this.globalFilterValue||(this.tagsList=[...this.mainTagsList]),t.forEach(e=>{this.tagsList=this.tagsList.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}resetFilter(e){this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.tagsList=[...this.mainTagsList],t.forEach(e=>{this.tagsList=this.tagsList.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}editTag(e){this.tagForm.reset(),this.display=!0,this.isEditTag=!0,this.tagObj=e,this.tagForm.patchValue({tagName:e.tagName,description:e.description})}checkValue(e,t){null!=this.storeFilterValue&&this.storeFilterValue.map(i=>{i==e&&0==t&&this.resetFilter(e)})}onSubmit(){const e=this.tagForm.value;this.isEditTag?(e.tagId=this.tagObj.tagId,this.tagsService.updateDatabuckTagInfo(e).subscribe(e=>{"success"===e.status&&(this.display=!1,this.getAllDatabuckTags())})):this.tagsService.createDatabuckTags(e).subscribe(e=>{"success"===e.status&&(this.display=!1,this.getAllDatabuckTags())})}filterColumnNameWithHighlightName(e){return!(Object.keys(this.columnFilter).findIndex(t=>t===e)<0)}roleOnModule(e){return this.roleModule.find(t=>t.moduleName===e)}}return e.\u0275fac=function(t){return new(t||e)(O.dc(p.a),O.dc(M.d),O.dc(O.h),O.dc(y.c),O.dc(o.d),O.dc(n.e),O.dc(k.a),O.dc(N.a))},e.\u0275cmp=O.Xb({type:e,selectors:[["app-databuck-tags"]],decls:61,vars:39,consts:[[1,"container-fluid","main-container"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","text-right"],["type","button",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn","create-tag",3,"ngClass","click"],[1,"row","p-field","br-top"],[1,"col-sm-12","col-md-12"],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV","id","downloadCsv",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","id","downloadPdf","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["id","view_tags",1,"row","p-field"],["id","databuckTags",1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","responsiveLayout","scroll","sortMode","single","id","tagsListDataTable",3,"value","responsive","rowHover","sortOrder","pageLinks","filterDelay","resetPageOnSort","globalFilterFields","customSort","sortField","rows","first","sortFunction","firstChange"],["connectionsTab",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["template",""],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["id","tagsForm",3,"formGroup"],[1,"col-sm-12"],["for","databuckTagName",1,"form-label","spaces"],[1,"req-field"],["id","databuckTagName","formControlName","tagName","maxlength","500","type","text","pInputText","","placeholder","Enter Tag Name",1,"form-field","copy-ip"],["class","err-msg",4,"ngIf"],["for","descriptionTag",1,"form-label","spaces"],["id","descriptionTag","formControlName","description","maxlength","500","type","text","pInputText","","placeholder","Enter Description",1,"form-field","copy-ip"],[1,"col-sm-12","col-md-12","mr-top","text-right","note"],[1,"col-sm-12","col-md-12","note_name"],[1,"float-right","pad-tp-10"],["pButton","","type","button","id","submitBtn",1,"button","w-button","btn-mr-rt","submit-btn","btn-label-submit",3,"label","disabled","click"],["pButton","","type","button","id","closeCreateTagModal","label","Cancel",1,"cancelButton","w-button","btn-mr-rt","submit-btn","btn-label","btn-cancel",3,"click"],["exportPdfTemplate",""],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],["id","showCustomizeModal",1,"float-right","margin-top-gfilter",3,"click"],["src","assets/images/Vector.png","width","25px"],[1,"header"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil"],["class","td-ellipsis",3,"ngClass","title",4,"ngIf"],[1,"td-ellipsis",3,"ngClass","title"],[1,"word-break-all"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-body"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-12","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname","value","customizeCols[col.displayValue]",3,"ngModel","ngModelChange","onChange"],[1,"modal-title"],[1,"err-msg"],[1,"modal-header"],[1,"modal-body","pdf-modal"],[1,"col-lg-4"],["class","color-code",4,"ngIf"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],[1,"col-lg-4","arrow-text-right"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"]],template:function(e,t){if(1&e){const e=O.kc();O.jc(0,"div",0),O.jc(1,"div",1),O.jc(2,"div",2),O.jc(3,"p",3),O.bd(4," Tags "),O.ic(),O.ic(),O.jc(5,"div",4),O.jc(6,"p",3),O.jc(7,"button",5),O.qc("click",function(){return t.createTag()}),O.bd(8," Add "),O.ic(),O.ic(),O.ic(),O.ic(),O.jc(9,"div",6),O.jc(10,"div",7),O.jc(11,"a"),O.jc(12,"img",8),O.qc("click",function(){return t.downloadCSV()}),O.ic(),O.ic(),O.jc(13,"a"),O.jc(14,"img",9),O.qc("click",function(){O.Rc(e);const i=O.Oc(60);return t.openExportPdf(i)}),O.ic(),O.ic(),O.ic(),O.ic(),O.jc(15,"div",10),O.jc(16,"div",11),O.jc(17,"p-table",12,13),O.qc("sortFunction",function(e){return t.customSort(e)})("firstChange",function(e){return t.first=e}),O.Zc(19,Ii,8,6,"ng-template",14),O.Zc(20,Li,4,1,"ng-template",15),O.Zc(21,zi,5,2,"ng-template",16),O.ic(),O.ic(),O.Zc(22,Ti,2,0,"div",17),O.jc(23,"div",18),O.Zc(24,qi,3,4,"div",19),O.Zc(25,Ai,3,3,"div",20),O.ic(),O.ic(),O.ic(),O.Zc(26,$i,10,1,"ng-template",null,21,O.ad),O.jc(28,"p-dialog",22),O.qc("visibleChange",function(e){return t.display=e}),O.Zc(29,Ji,2,1,"ng-template",15),O.jc(30,"form",23),O.jc(31,"div",1),O.jc(32,"div",24),O.jc(33,"label",25),O.bd(34,"Tag Name"),O.jc(35,"sup",26),O.bd(36,"*"),O.ic(),O.ic(),O.ec(37,"input",27),O.Zc(38,Ki,3,2,"p",28),O.ic(),O.jc(39,"div",24),O.jc(40,"label",29),O.bd(41,"Description"),O.jc(42,"sup",26),O.bd(43,"*"),O.ic(),O.ic(),O.ec(44,"input",30),O.Zc(45,Xi,2,1,"p",28),O.ic(),O.ic(),O.jc(46,"div",31),O.jc(47,"p"),O.bd(48,"Note: Fields marked with "),O.jc(49,"b"),O.bd(50,'"*"'),O.ic(),O.bd(51," are required. "),O.ic(),O.ic(),O.jc(52,"div",32),O.jc(53,"p"),O.bd(54,"Tag name should not contain '-' use :: instead "),O.ic(),O.ic(),O.jc(55,"p-footer",33),O.jc(56,"button",34),O.qc("click",function(){return t.onSubmit()}),O.ic(),O.bd(57,"\xa0 "),O.jc(58,"button",35),O.qc("click",function(){return t.onCancel()}),O.ic(),O.ic(),O.ic(),O.ic(),O.Zc(59,io,17,3,"ng-template",null,36,O.ad)}if(2&e){let e=null;O.Nb(7),O.Bc("ngClass",null!=(e=t.roleOnModule("User Settings"))&&null!=e.accessControl&&e.accessControl.includes("C")?" cursor-pointer":"disable"),O.Nb(4),O.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseTags&&t.pageWiseTags.length?"":"disabled-opa",""),O.Nb(2),O.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseTags&&t.pageWiseTags.length?"":"disabled-opa",""),O.Nb(4),O.Vc(O.Ec(36,oo)),O.Bc("value",t.pageWiseTags)("responsive",!0)("rowHover",!0)("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("globalFilterFields",O.Ec(37,no))("customSort",!0)("sortField","tagId")("rows",10)("first",t.first),O.Nb(5),O.Bc("ngIf",!t.pageWiseTags.length&&t.noRecordFound),O.Nb(2),O.Bc("ngIf",t.pageWiseTags.length),O.Nb(1),O.Bc("ngIf",t.pageWiseTags.length),O.Nb(3),O.Vc(O.Ec(38,so)),O.Bc("visible",t.display)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),O.Nb(2),O.Bc("formGroup",t.tagForm),O.Nb(8),O.Bc("ngIf",t.tagForm.controls.tagName.invalid&&!t.tagForm.controls.tagName.pristine),O.Nb(7),O.Bc("ngIf",t.tagForm.controls.description.invalid&&!t.tagForm.controls.description.pristine),O.Nb(11),O.Bc("label",t.isEditTag?"Update Tag":"Create Tag")("disabled",!t.tagForm.valid||!t.tagForm.dirty)}},directives:[o.l,F.f,M.i,o.n,_.a,n.x,n.p,n.i,n.d,n.o,n.g,n.k,I.a,M.e,D.b,n.r,o.m,F.d,F.e,V.a,l.a,r.a,R.a],styles:[".no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}.pad-0[_ngcontent-%COMP%]{padding:0}.note[_ngcontent-%COMP%]{color:#eb5454;margin-top:30px!important}.note[_ngcontent-%COMP%], .note_name[_ngcontent-%COMP%]{text-align:left!important;font-size:13px;margin-left:-28px!important}.note_name[_ngcontent-%COMP%]{color:blue;font-style:italic}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}[_nghost-%COMP%]     .p-dropdown-item{white-space:normal}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.main-container[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}.btn-label-submit[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:182px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.p-datatable[_ngcontent-%COMP%]   .p-datatable-thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding-left:1px;padding-right:1px}.p-datatable[_ngcontent-%COMP%]   .p-datatable-thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{font-family:Open Sans!important;font-size:14px!important;font-weight:400;vertical-align:top}.p-field[_ngcontent-%COMP%]{margin:0 10px}.p-datatable[_ngcontent-%COMP%]   .p-datatable-header[_ngcontent-%COMP%]{padding:.2rem;height:30px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.p-datatable[_ngcontent-%COMP%]   .p-paginator-bottom[_ngcontent-%COMP%]{border-bottom-left-radius:10px!important;border-bottom-right-radius:10px!important}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.create-tag[_ngcontent-%COMP%]{font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff;line-height:inherit}"]}),e})();var ao=i("mrSG"),ro=i("bUwk"),lo=i("acRR");let po=(()=>{class e{constructor(e,t){this.http=e,this.messages=t}getDefectCodeList(e,t){return this.http.post(e,t)}deleteDefectCode(e=new Object){return this.http.postWithToasty("mainDefectCodeHandler",e)}downloadDefectCodeCSV(e){return this.http.getforCSV(e)}craeteDefectCode(e,t){return this.http.postWithToasty(e,t)}createDefectCodesByFile(e){return this.http.postWithMultipartWithouttosty("createDefectCodesByFile",e)}createDefectCodesByFileByPath(e){return this.http.postWithoutToasty("createDefectCodesByFileByPath",e)}}return e.\u0275fac=function(t){return new(t||e)(O.nc(ro.a),O.nc(lo.a))},e.\u0275prov=O.Zb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var uo=i("LuMj");function go(e,t){if(1&e){const e=O.kc();O.jc(0,"span",28),O.jc(1,"input",29),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().globalFilterValue=t})("keyup",function(t){return O.Rc(e),O.uc().globalFilterFun(t)}),O.ic(),O.bd(2,"\xa0 "),O.ec(3,"i",30),O.ic(),O.jc(4,"span",31),O.qc("click",function(){O.Rc(e);const t=O.uc(),i=O.Oc(41);return t.showCustomizeModal(i)}),O.ec(5,"img",32),O.bd(6," \xa0Customize "),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("ngModel",e.globalFilterValue),O.Nb(3),O.Qb(0==(null==e.defectsCode?null:e.defectsCode.length)?"disable":""),O.Nb(1),O.Rb("cursor-pointer ",e.defectsCode.length?"":"disabled-opa","")}}function ho(e,t){if(1&e){const e=O.kc();O.jc(0,"th"),O.bd(1),O.ec(2,"br"),O.ec(3,"p-sortIcon",37),O.jc(4,"app-column-filter",38),O.qc("hideFilterDataBox",function(t){return O.Rc(e),O.uc(3).hideBox(t)})("filterData",function(t){return O.Rc(e),O.uc(3).getFilterData(t)})("resetFilterValues",function(t){return O.Rc(e),O.uc(3).resetFilter(t)}),O.ic(),O.jc(5,"span",39),O.jc(6,"i",40),O.qc("click",function(){O.Rc(e);const t=O.uc().$implicit;return O.uc(2).onFilterClick(t.originalValue)}),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc().$implicit,t=O.uc(2);O.Nb(1),O.dd(" ",e.displayValue,""),O.Nb(2),O.Cc("field",e.originalValue),O.Cc("pSortableColumn",e.originalValue),O.Nb(1),O.Bc("colFilterData",t.getFilterState(e.originalValue))("display",t.displayFiltersFor[e.originalValue])("fieldName",e.originalValue)("customId",e.originalValue),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"selected-filter-column":""),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function fo(e,t){if(1&e&&(O.hc(0),O.Zc(1,ho,7,9,"th",36),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",e.isSelected)}}function mo(e,t){1&e&&(O.jc(0,"th",41),O.bd(1,"More"),O.ic())}function bo(e,t){if(1&e&&(O.jc(0,"tr",33),O.Zc(1,fo,2,1,"ng-container",34),O.jc(2,"th"),O.bd(3," Actions"),O.ic(),O.Zc(4,mo,2,0,"th",35),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngForOf",e.customizeCols),O.Nb(3),O.Bc("ngIf",e.isMoreDisplayed)}}function Co(e,t){if(1&e&&(O.jc(0,"td",48),O.jc(1,"span"),O.bd(2),O.ic(),O.ec(3,"br"),O.ic()),2&e){const e=O.uc().$implicit,t=O.uc().$implicit;O.Bc("title",t[e.originalValue])("ngClass","DefectDescription"==e.originalValue?"rule-ellipsis":""),O.Nb(2),O.cd(t[e.originalValue])}}function xo(e,t){if(1&e&&(O.hc(0),O.Zc(1,Co,4,3,"td",47),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",e.isSelected)}}function vo(e,t){if(1&e){const e=O.kc();O.jc(0,"td",49),O.qc("click",function(){O.Rc(e);const t=O.uc().$implicit,i=O.uc(),o=O.Oc(43);return i.openOtherField(o,t)}),O.bd(1," ... "),O.ic()}}function Po(e,t){if(1&e){const e=O.kc();O.jc(0,"tr",42),O.Zc(1,xo,2,1,"ng-container",34),O.jc(2,"td"),O.jc(3,"span",43),O.qc("click",function(){O.Rc(e);const i=t.$implicit;return O.uc().editDefectCode(i)}),O.ec(4,"i",44),O.ic(),O.jc(5,"span",43),O.qc("click",function(){O.Rc(e);const i=t.$implicit;return O.uc().deleteDefectCode(i)}),O.ec(6,"i",45),O.ic(),O.ic(),O.Zc(7,vo,2,0,"td",46),O.ic()}if(2&e){const e=O.uc();let t=null,i=null;O.Nb(1),O.Bc("ngForOf",e.customizeCols),O.Nb(2),O.Bc("ngClass",null!=(t=e.roleOnModule("User Settings"))&&null!=t.accessControl&&t.accessControl.includes("U")?" cursor-pointer":"disable"),O.Nb(2),O.Bc("ngClass",null!=(i=e.roleOnModule("User Settings"))&&null!=i.accessControl&&i.accessControl.includes("D")?" cursor-pointer":"disable"),O.Nb(2),O.Bc("ngIf",e.isMoreDisplayed)}}function jo(e,t){1&e&&(O.jc(0,"div",50),O.bd(1," No records found "),O.ic())}function wo(e,t){if(1&e){const e=O.kc();O.jc(0,"div",51),O.jc(1,"p-paginator",52,53),O.qc("onPageChange",function(t){return O.Rc(e),O.uc().onPageChange(t)})("firstChange",function(t){return O.Rc(e),O.uc().first=t}),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("rows",10)("totalRecords",e.defectsCode.length)("showCurrentPageReport",!0)("first",e.first)}}function Oo(e,t){if(1&e&&(O.jc(0,"div",58),O.jc(1,"div"),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc(3);O.Nb(2),O.ed("Page ",e.selectedPage.page," of ",e.totalNumOfPages,"")}}function So(e,t){if(1&e&&O.Zc(0,Oo,3,2,"div",57),2&e){const e=O.uc(2);O.Bc("ngIf",e.selectedPage)}}function yo(e,t){if(1&e){const e=O.kc();O.jc(0,"div",54),O.jc(1,"p-dropdown",55),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().selectedPage=t})("onChange",function(t){return O.Rc(e),O.uc().onPageNumChange(t)}),O.Zc(2,So,1,1,"ng-template",56),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("options",e.numOfPages)("filter",!0)("ngModel",e.selectedPage)}}function Mo(e,t){1&e&&(O.jc(0,"span",59),O.bd(1," Add Defect Code "),O.ic())}function No(e,t){1&e&&(O.jc(0,"span",73),O.bd(1," Special characters are not allowed "),O.ic())}function ko(e,t){1&e&&(O.jc(0,"span",73),O.bd(1," Please enter "),O.jc(2,"b"),O.bd(3,"Defect Code"),O.ic(),O.ic())}function Do(e,t){if(1&e&&(O.jc(0,"p",73),O.Zc(1,ko,4,0,"span",67),O.ic()),2&e){const e=O.uc(2);O.Nb(1),O.Bc("ngIf",e.defectCodeForm.controls.defectCode.errors.required)}}function Fo(e,t){1&e&&(O.jc(0,"span",73),O.bd(1," Special characters are not allowed "),O.ic())}function _o(e,t){1&e&&(O.jc(0,"span",73),O.bd(1," Please enter "),O.jc(2,"b"),O.bd(3,"Defect Code Description"),O.ic(),O.ic())}function Io(e,t){if(1&e&&(O.jc(0,"p",73),O.Zc(1,_o,4,0,"span",67),O.ic()),2&e){const e=O.uc(2);O.Nb(1),O.Bc("ngIf",e.defectCodeForm.controls.defectCodeDes.errors.required)}}function Vo(e,t){if(1&e){const e=O.kc();O.jc(0,"div",60),O.jc(1,"form",61),O.jc(2,"div",62),O.jc(3,"div",63),O.jc(4,"label",64),O.bd(5," Defect Code"),O.jc(6,"sup",65),O.bd(7,"*"),O.ic(),O.ic(),O.ic(),O.jc(8,"div",63),O.ec(9,"input",66),O.Zc(10,No,2,0,"span",67),O.Zc(11,Do,2,1,"p",67),O.ic(),O.ic(),O.jc(12,"div",62),O.jc(13,"div",63),O.jc(14,"label",68),O.bd(15," Defect Code Description"),O.jc(16,"sup",65),O.bd(17,"*"),O.ic(),O.ic(),O.ic(),O.jc(18,"div",63),O.ec(19,"input",69),O.Zc(20,Fo,2,0,"span",67),O.Zc(21,Io,2,1,"p",67),O.ic(),O.ic(),O.jc(22,"div",62),O.jc(23,"div",63),O.jc(24,"label",70),O.bd(25," Dimension"),O.jc(26,"sup",65),O.bd(27,"*"),O.ic(),O.ic(),O.ec(28,"br"),O.ic(),O.jc(29,"div",71),O.jc(30,"p-dropdown",72),O.qc("change",function(){return O.Rc(e),O.uc().onSelectDimension()}),O.ic(),O.ic(),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Bc("ngClass",e.dropdownFlag?"modalHeight":""),O.Nb(1),O.Bc("formGroup",e.defectCodeForm),O.Nb(8),O.Bc("disabled",e.isDisabled),O.Nb(1),O.Bc("ngIf",e.defectCodeForm.controls.defectCode.invalid&&!e.defectCodeForm.controls.defectCode.pristine&&!e.defectCodeForm.controls.defectCode.errors.required),O.Nb(1),O.Bc("ngIf",e.defectCodeForm.controls.defectCode.invalid&&!e.defectCodeForm.controls.defectCode.pristine),O.Nb(9),O.Bc("ngIf",e.defectCodeForm.controls.defectCodeDes.invalid&&!e.defectCodeForm.controls.defectCodeDes.pristine&&!e.defectCodeForm.controls.defectCodeDes.errors.required),O.Nb(1),O.Bc("ngIf",e.defectCodeForm.controls.defectCodeDes.invalid&&!e.defectCodeForm.controls.defectCodeDes.pristine),O.Nb(9),O.Bc("options",e.dimensionList)("virtualScroll",!0)("itemSize",30)}}function Ro(e,t){if(1&e){const e=O.kc();O.jc(0,"div",74),O.jc(1,"div",75),O.jc(2,"p"),O.bd(3,"Note: Fields marked with "),O.jc(4,"b"),O.bd(5,'"*"'),O.ic(),O.bd(6," are required. "),O.ic(),O.ic(),O.ic(),O.jc(7,"p-footer",76),O.jc(8,"button",77),O.qc("click",function(){return O.Rc(e),O.uc().onSubmit()}),O.ic(),O.bd(9,"\xa0 "),O.jc(10,"button",78),O.qc("click",function(){return O.Rc(e),O.uc().onCancel()}),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(8),O.Bc("disabled",!e.defectCodeForm.valid)}}function Lo(e,t){1&e&&(O.jc(0,"span",59),O.bd(1," Update Defect code & Dimension "),O.ic())}function Bo(e,t){1&e&&(O.jc(0,"span",73),O.bd(1," Special characters are not allowed "),O.ic())}function Eo(e,t){1&e&&(O.jc(0,"span",73),O.bd(1," Please enter "),O.jc(2,"b"),O.bd(3,"Defect Code"),O.ic(),O.ic())}function zo(e,t){if(1&e&&(O.jc(0,"p",73),O.Zc(1,Bo,2,0,"span",67),O.Zc(2,Eo,4,0,"span",67),O.ic()),2&e){const e=O.uc(2);O.Nb(1),O.Bc("ngIf",e.defectCodeFormUpdate.controls.defectCodeUpdate.invalid&&!e.defectCodeFormUpdate.controls.defectCodeUpdate.pristine&&!e.defectCodeFormUpdate.controls.defectCodeUpdate.errors.required),O.Nb(1),O.Bc("ngIf",e.defectCodeFormUpdate.controls.defectCodeUpdate.errors.required)}}function To(e,t){1&e&&(O.jc(0,"span",73),O.bd(1," Special characters are not allowed "),O.ic())}function qo(e,t){1&e&&(O.jc(0,"span",73),O.bd(1," Please enter "),O.jc(2,"b"),O.bd(3,"Defect Code Description"),O.ic(),O.ic())}function Zo(e,t){if(1&e&&(O.jc(0,"p",73),O.Zc(1,To,2,0,"span",67),O.Zc(2,qo,4,0,"span",67),O.ic()),2&e){const e=O.uc(2);O.Nb(1),O.Bc("ngIf",e.defectCodeFormUpdate.controls.defectCodeDesUpdate.invalid&&!e.defectCodeFormUpdate.controls.defectCodeDesUpdate.pristine&&!e.defectCodeFormUpdate.controls.defectCodeDesUpdate.errors.required),O.Nb(1),O.Bc("ngIf",e.defectCodeFormUpdate.controls.defectCodeDesUpdate.errors.required)}}function Uo(e,t){if(1&e&&(O.jc(0,"form",61),O.jc(1,"div",62),O.jc(2,"div",63),O.jc(3,"label",79),O.bd(4," Defect Code"),O.jc(5,"sup",65),O.bd(6,"*"),O.ic(),O.ic(),O.ic(),O.jc(7,"div",63),O.ec(8,"input",80),O.Zc(9,zo,3,2,"p",67),O.ic(),O.ic(),O.jc(10,"div",62),O.jc(11,"div",63),O.jc(12,"label",81),O.bd(13," Defect Code Description"),O.jc(14,"sup",65),O.bd(15,"*"),O.ic(),O.ic(),O.ic(),O.jc(16,"div",63),O.ec(17,"input",82),O.Zc(18,Zo,3,2,"p",67),O.ic(),O.ic(),O.jc(19,"div",62),O.jc(20,"div",63),O.jc(21,"label",83),O.bd(22," Dimension"),O.jc(23,"sup",65),O.bd(24,"*"),O.ic(),O.ic(),O.ec(25,"br"),O.ic(),O.jc(26,"div",71),O.ec(27,"p-dropdown",84),O.ic(),O.ic(),O.ic()),2&e){const e=O.uc();O.Bc("formGroup",e.defectCodeFormUpdate),O.Nb(9),O.Bc("ngIf",e.defectCodeFormUpdate.controls.defectCodeUpdate.invalid&&!e.defectCodeFormUpdate.controls.defectCodeUpdate.pristine),O.Nb(9),O.Bc("ngIf",e.defectCodeFormUpdate.controls.defectCodeDesUpdate.invalid&&!e.defectCodeFormUpdate.controls.defectCodeDesUpdate.pristine),O.Nb(9),O.Bc("styleClass","form-field")("options",e.dimensionList)}}function Ao(e,t){if(1&e){const e=O.kc();O.jc(0,"p-footer",85),O.jc(1,"button",86),O.qc("click",function(){return O.Rc(e),O.uc().onUpdate()}),O.ic(),O.bd(2," \xa0 "),O.jc(3,"button",78),O.qc("click",function(){return O.Rc(e),O.uc().onCancelUpdate()}),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("disabled",!e.defectCodeFormUpdate.valid||!e.defectCodeFormUpdate.dirty)}}function Wo(e,t){1&e&&(O.jc(0,"span",87),O.ec(1,"i",88),O.bd(2," Confirmation "),O.ic())}function Go(e,t){if(1&e){const e=O.kc();O.jc(0,"button",89),O.qc("click",function(){return O.Rc(e),O.uc().deleteConfirm()}),O.ic()}}function $o(e,t){if(1&e){const e=O.kc();O.jc(0,"div",100),O.jc(1,"table"),O.jc(2,"tr",101),O.jc(3,"td"),O.jc(4,"p-checkbox",102),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().$implicit.isSelected=t})("onChange",function(){O.Rc(e);const t=O.uc().$implicit;return O.uc(2).checkValue(t.originalValue,t.isSelected)}),O.ic(),O.ic(),O.jc(5,"td"),O.jc(6,"label"),O.bd(7),O.ic(),O.ic(),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc().$implicit,t=O.uc(2);O.Nb(4),O.Bc("ngModel",e.isSelected)("disabled",t.checkboxDisabled&&!e.isSelected),O.Nb(3),O.cd(e.displayValue)}}function Jo(e,t){if(1&e&&(O.hc(0),O.Zc(1,$o,8,3,"div",99),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",!e.necessaryCol&&!e.alwaysSelected)}}function Ho(e,t){if(1&e&&(O.jc(0,"div",103),O.bd(1),O.ic()),2&e){const e=O.uc(2);O.Nb(1),O.dd("You can select up to ",e.maxCount," columns.")}}function Qo(e,t){if(1&e){const e=O.kc();O.jc(0,"div",90),O.jc(1,"div",91),O.Zc(2,Jo,2,1,"ng-container",34),O.ic(),O.ic(),O.jc(3,"div",92),O.jc(4,"div",93),O.jc(5,"div",94),O.Zc(6,Ho,2,1,"div",95),O.ic(),O.jc(7,"div",96),O.jc(8,"div"),O.jc(9,"label",97),O.qc("click",function(){return O.Rc(e),O.uc().modalRef.hide()}),O.bd(10,"Close Customize"),O.ic(),O.jc(11,"img",98),O.qc("click",function(){return O.Rc(e),O.uc().modalRef.hide()}),O.ic(),O.ic(),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(2),O.Bc("ngForOf",e.customizeCols),O.Nb(4),O.Bc("ngIf",e.checkboxDisabled)}}function Ko(e,t){if(1&e&&(O.jc(0,"div",110),O.jc(1,"table"),O.jc(2,"tr"),O.jc(3,"td",111),O.bd(4),O.ic(),O.jc(5,"td",111),O.bd(6),O.ic(),O.ic(),O.ic(),O.ic()),2&e){const e=O.uc().$implicit,t=O.uc(2);O.Nb(4),O.cd(e.displayValue),O.Nb(2),O.dd(": ",t.selectedRowData[e.originalValue],"")}}function Yo(e,t){if(1&e&&(O.hc(0),O.Zc(1,Ko,7,2,"div",109),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",!e.necessaryCol&&!e.isSelected)}}function Xo(e,t){if(1&e){const e=O.kc();O.jc(0,"div",104),O.jc(1,"b"),O.bd(2,"More Columns:"),O.ic(),O.ic(),O.jc(3,"div",90),O.jc(4,"div",105),O.Zc(5,Yo,2,1,"ng-container",34),O.ic(),O.ic(),O.jc(6,"div",92),O.jc(7,"div",106),O.qc("click",function(){return O.Rc(e),O.uc().modalRef.hide()}),O.jc(8,"label",107),O.bd(9,"Close"),O.ic(),O.ec(10,"img",108),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(5),O.Bc("ngForOf",e.customizeCols)}}function en(e,t){if(1&e){const e=O.kc();O.hc(0),O.jc(1,"div",100),O.jc(2,"table"),O.jc(3,"tr",101),O.jc(4,"td"),O.jc(5,"p-checkbox",116),O.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return O.Rc(e),O.uc(2).pdfColsValue()}),O.ic(),O.ic(),O.jc(6,"td"),O.jc(7,"label"),O.bd(8),O.ic(),O.ic(),O.ic(),O.ic(),O.ic(),O.gc()}if(2&e){const e=t.$implicit,i=O.uc(2);O.Nb(5),O.Bc("ngModel",e.pdfCols)("disabled",i.pdfCheckboxDisabled&&!e.pdfCols),O.Nb(3),O.cd(e.displayValue)}}function tn(e,t){1&e&&(O.jc(0,"div",103),O.bd(1,"You can select up to 9 columns."),O.ic())}function on(e,t){if(1&e){const e=O.kc();O.jc(0,"div",104),O.jc(1,"span",59),O.bd(2,"Please select columns that need to be downloaded in PDF"),O.ic(),O.ic(),O.jc(3,"div",112),O.jc(4,"div",91),O.Zc(5,en,9,3,"ng-container",34),O.ic(),O.ic(),O.jc(6,"div",92),O.jc(7,"div",93),O.jc(8,"div",113),O.Zc(9,tn,2,0,"div",95),O.ic(),O.jc(10,"div",114),O.jc(11,"button",115),O.qc("click",function(){O.Rc(e);const t=O.uc();return t.exportPdf(),t.modalRef.hide()}),O.ic(),O.ic(),O.jc(12,"div",96),O.jc(13,"div"),O.jc(14,"label",97),O.qc("click",function(){return O.Rc(e),O.uc().closeExportPdf()}),O.bd(15,"Close"),O.ic(),O.jc(16,"img",98),O.qc("click",function(){return O.Rc(e),O.uc().closeExportPdf()}),O.ic(),O.ic(),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(5),O.Bc("ngForOf",e.customizeCols),O.Nb(4),O.Bc("ngIf",e.pdfCheckboxDisabled),O.Nb(2),O.Bc("disabled",e.disableDownloadBtn)}}function nn(e,t){if(1&e){const e=O.kc();O.jc(0,"input",129),O.qc("change",function(t){return O.Rc(e),O.uc(2).changeFile(t)}),O.ic()}}function sn(e,t){if(1&e&&(O.jc(0,"p",130),O.jc(1,"span",73),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc(2);O.Nb(2),O.dd(" ",e.errorMessageCSV," ")}}function cn(e,t){1&e&&O.ec(0,"input",131)}function an(e,t){if(1&e&&(O.jc(0,"p",130),O.jc(1,"span",73),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc(2);O.Nb(2),O.dd(" ",e.errorMessageCSV," ")}}const rn=function(){return{standalone:!0}};function ln(e,t){if(1&e){const e=O.kc();O.jc(0,"div",61),O.jc(1,"div",104),O.jc(2,"p",3),O.bd(3,"Add defect code in bulk"),O.ic(),O.jc(4,"div",106),O.qc("click",function(){return O.Rc(e),O.uc().cancel()}),O.jc(5,"label",107),O.bd(6,"Close"),O.ic(),O.ec(7,"img",117),O.ic(),O.ic(),O.jc(8,"div",90),O.jc(9,"div",105),O.hc(10),O.jc(11,"div",118),O.jc(12,"p-radioButton",119),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().selectedValue=t})("onClick",function(){return O.Rc(e),O.uc().getRadioVal("File_Upload")}),O.ic(),O.ic(),O.jc(13,"div",118),O.jc(14,"p-radioButton",120),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().selectedValue=t})("onClick",function(){return O.Rc(e),O.uc().getRadioVal("File_Path")}),O.ic(),O.ic(),O.ec(15,"br"),O.jc(16,"div",118),O.Zc(17,nn,1,0,"input",121),O.Zc(18,sn,3,1,"p",122),O.ic(),O.jc(19,"div",123),O.Zc(20,cn,1,0,"input",124),O.Zc(21,an,3,1,"p",122),O.ic(),O.gc(),O.ic(),O.jc(22,"div",125),O.jc(23,"div",126),O.jc(24,"button",127),O.qc("click",function(){return O.Rc(e),O.uc().addDefectCodeUsingCSV()}),O.ic(),O.jc(25,"button",128),O.qc("click",function(){return O.Rc(e),O.uc().cancel()}),O.ic(),O.ic(),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Bc("formGroup",e.defectCodeCSVForm),O.Nb(12),O.Bc("ngModelOptions",O.Ec(10,rn))("ngModel",e.selectedValue),O.Nb(2),O.Bc("ngModelOptions",O.Ec(11,rn))("ngModel",e.selectedValue),O.Nb(3),O.Bc("ngIf",e.showFileUpload),O.Nb(1),O.Bc("ngIf",e.errMsgFileUpload),O.Nb(2),O.Bc("ngIf",e.showFilePath),O.Nb(1),O.Bc("ngIf",e.errMsgFilePath),O.Nb(3),O.Bc("disabled",!e.defectCodeCSVForm.valid)}}const dn=function(){return{width:"100%"}},pn=function(){return{width:"50vw"}};m.a.vfs=C.a.pdfMake.vfs;let un=(()=>{class e{constructor(e,t,i,o,s,c,a,r,l,d,p){this.defectCodeService=e,this.modalService=t,this.spinner=i,this.filterService=o,this.router=s,this.formBuilder=c,this.detectChanges=a,this.datePipe=r,this.homeServiceService=l,this.messages=d,this.domainProjService=p,this.totalNumOfPages=0,this.defectsCode=[],this.mainDefectsCode=[],this.pageWiseDefectsCode=[],this.deleteDefectsCode=[],this.first=0,this.pageSize=9,this.maxCount=4,this.checkboxDisabled=!1,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.deleteModal=!1,this.filterData={},this.deleteDimensionLib=[],this.columnFilter={},this.scrollHt="300px",this.projectNames=[],this.displayFiltersFor={DefectCode:!1,DefectDescription:!1,DimensionId:!1,DimensionName:!1,RowId:!1},this.customSortArr=[],this.multiSortMeta=[{field:"RowId",order:-1}],this.pdfData=[],this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols=[{displayValue:"Defect Code",originalValue:"DefectCode",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Defect Code Description",originalValue:"DefectDescription",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Dimension Name",originalValue:"DimensionName",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Row Id",originalValue:"RowId",isSelected:!1,necessaryCol:!1,alwaysSelected:!1}],this.display=!1,this.dimensionList=[],this.dropdownFlag=!1,this.noRecordFound=!1,this.showFilePath=!1,this.showFileUpload=!1,this.errMsgFileUpload=!1,this.errMsgFilePath=!1,this.selectedValue="File_Upload",this.errorMessageCSV="",this.defectCodeForm=this.formBuilder.group({dimension:new n.f("",[n.w.required]),defectCode:new n.f("",[n.w.required,n.w.pattern("[a-zA-Z0-9_ ]+")]),defectCodeDes:new n.f("",[n.w.required,n.w.pattern("[a-zA-Z0-9_ ]+")])}),this.defectCodeFormUpdate=this.formBuilder.group({defectCodeUpdate:new n.f("",[n.w.required,n.w.pattern("[a-zA-Z0-9_ ]+")]),defectCodeDesUpdate:new n.f("",[n.w.required,n.w.pattern("[a-zA-Z0-9_ ]+")]),dimensionUpdate:new n.f("",[n.w.required])}),this.defectCodeCSVForm=this.formBuilder.group({dataupload:["",[]],filePath:["",[]]})}ngOnInit(){var e;this.domainProjService.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData"),sessionStorage.removeItem("connDet"),this.appId=sessionStorage.getItem("idApp"),sessionStorage.getItem("userDetail")&&(this.userDetails=JSON.parse(sessionStorage.getItem("userDetail"))),this.fromDate=new Date,this.fromDate.setDate((new Date).getDate()-30),this.toDate=new Date,this.toDate.setDate((new Date).getDate()+1),this.maxDate=new Date,this.maxDate.setDate((new Date).getDate()+3),this.projectNames=this.homeServiceService.getProjectList(),this.projectNames.map(e=>{e.domainProject=e.domainName+"-"+e.projectName,e.domainAndProjectId=e.domainId+"_"+e.idProject,e.domainAndProjectName=e.domainName+"-"+e.projectName}),"File_Upload"===this.selectedValue&&(this.showFileUpload=!0),this.getDefectDimensionList(),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(e=>{e.accessControl=e.accessControl.split("-")})))}roleOnModule(e){return this.roleModule.find(t=>t.moduleName===e)}hideBox(e){this.displayFiltersFor[e.fieldName]=!1}onSubmit(){this.defectCodeService.craeteDefectCode("mainDefectCodeHandler",{context:"saveDefectCodeRecord",rowId:"-1",defectCode:this.defectCodeForm.value.defectCode,defectDescription:this.defectCodeForm.value.defectCodeDes,dimensionId:this.defectCodeForm.value.dimension}).subscribe(e=>{this.first=0,this.display=!1,this.defectCodeForm.controls.defectCode.reset(),this.defectCodeForm.controls.defectCodeDes.reset(),this.defectCodeForm.controls.dimension.reset(),this.getDefectDimensionList()})}onUpdate(){this.display=!1,this.defectCodeService.craeteDefectCode("mainDefectCodeHandler",{context:"saveDefectCodeRecord",rowId:this.editedDataList.RowId,defectCode:this.editedDataList.DefectCode,defectDescription:this.defectCodeFormUpdate.value.defectCodeDesUpdate,dimensionId:this.defectCodeFormUpdate.value.dimensionUpdate}).subscribe(e=>{this.display=!1,this.first=0,this.getDefectDimensionList(),this.displayUpdate=!1})}getDefectDimensionList(){return Object(ao.a)(this,void 0,void 0,function*(){this.spinner.show(),this.defectCodeService.getDefectCodeList("loadDefectCodeViewList",{}).subscribe(e=>{if("success"===e.status){this.spinner.hide(),this.spinner.hide()&&(this.noRecordFound=!0);const t=[];e.result.DefectCodeViewList.map(e=>{e.RowId=parseInt(e.RowId),t.push(e)}),this.mainDefectsCode=[...t],this.defectsCode=[...this.mainDefectsCode],this.pdfData=[...this.mainDefectsCode],this.dimensionList=[...e.result.DimensionList],this.totalRecords=this.defectsCode.length;const i=this.first+this.pageSize;null!=this.filterObj&&this.filterObj.forEach(e=>{this.defectsCode=this.defectsCode.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))});const o=this.defectsCode.filter((e,t)=>t<=i);this.pageWiseDefectsCode=[...o],this.calculateNumOfPages(),this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}else this.mainDefectsCode=[],this.defectsCode=[],this.pageWiseDefectsCode=[]})})}editDefectCode(e){this.editedDataList=e,this.displayUpdate=!0,this.display=!1,!0===this.displayUpdate?(this.defectCodeFormUpdate.patchValue({defectCodeUpdate:e.DefectCode,defectCodeDesUpdate:e.DefectDescription,dimensionUpdate:e.DimensionId.toString()}),this.isDisabled=!0,this.defectCodeFormUpdate.controls.defectCodeUpdate.disable()):(this.defectCodeForm.controls.defectCode.reset(),this.defectCodeForm.controls.defectCodeDes.reset(),this.defectCodeForm.controls.dimension.reset())}onSelectDimension(){this.dropdownFlag=!0}createDimension(){this.display=!0,this.displayUpdate=!1}calculateNumOfPages(){if(this.totalNumOfPages=this.mainDefectsCode.length?this.mainDefectsCode.length<this.pageSize?1:Math.ceil(this.mainDefectsCode.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}onFilterClick(e){Object.keys(this.displayFiltersFor).map(t=>{this.displayFiltersFor[t]=t===e})}openOtherField(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}showCustomizeModal(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}get isMoreDisplayed(){let e=[];return e=this.customizeCols.length?this.customizeCols.filter(e=>e.isSelected):[],this.customizeCols.length!==e.length}resetFilter(e){this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.defectsCode=[...this.mainDefectsCode],t.forEach(e=>{this.defectsCode=this.defectsCode.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}getFilterData(e){this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.storeFilterValue=t,this.displayFiltersFor[e[0]]=!1,this.first=0,this.globalFilterValue||(this.defectsCode=[...this.mainDefectsCode]),this.filterObj.forEach(e=>{this.defectsCode=this.defectsCode.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}globalFilterFun(e){const t=[...this.globalFilterLogic()],i=this.first+this.pageSize,o=t.filter((e,t)=>t<=i);this.detectChanges.detectChanges(),this.pageWiseDefectsCode=[...o],this.setPageNumber()}globalFilterLogic(){if(this.mainDefectsCode.length){const e=Object.keys(this.mainDefectsCode[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainDefectsCode.forEach(t=>{let i=!1;e.forEach(e=>{t[e]&&t[e].toString().toLowerCase().includes(this.globalFilterValue.toLowerCase())&&!i&&(this.filterValue.push(t),i=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.defectsCode=[...this.filterValue],this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=[...this.mainDefectsCode],this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.defectsCode=[...this.filterValue],this.calculateNumOfPages(),this.defectsCode}return[]}getFilterState(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){const t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}setPageNumber(){if(this.totalNumOfPages=this.defectsCode.length?this.defectsCode.length<this.pageSize?1:Math.ceil(this.defectsCode.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}const e=this.first+this.pageSize,t=this.defectsCode.filter((t,i)=>i<=e);this.pageWiseDefectsCode=[...t]}customSort(e){this.sortField=e.field,this.sortOrder=e.order,this.sortMode=e.mode,this.customSortArr.filter(t=>t.field=e.field)[0]?this.customSortArr.map(t=>{t.order=e.order}):this.customSortArr.push(e);const t=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=t+1,this.selectedPage.pageIndex=t,this.sortOrderEvent=e;const i=[...this.defectsCode],o=[...this.sortOrderEvent.multiSortMeta];o.length>=3&&(e.multiSortMeta=e.multiSortMeta.splice(3,1)),1===o.length?i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]?-o[0].order:0):2===o.length?i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]?-o[1].order:0):3===o.length&&i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]?-o[2].order:0);const n=this.first+this.pageSize,s=i.filter((e,t)=>{if(t<=n&&t>=this.first)return e});this.pageWiseDefectsCode=[...s]}openExportPdf(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}closeExportPdf(){this.modalRef.hide(),setTimeout(()=>{this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols.forEach(e=>e.pdfCols=!1)},1e3)}exportPdf(){this.pdfData.length&&(this.spinner.show(),setTimeout(()=>{const e=new w.default("l","pt"),t=this.customizeCols.filter(e=>e.pdfCols),i=[];t.forEach(e=>i.push(e.displayValue));const o=[];t.forEach(e=>o.push(e.originalValue));let n=[];n=this.pdfData.map(e=>Object.assign(o.map(t=>e[t])));const s=e.internal.pageSize,c=s.height?s.height:s.getHeight();j()(e,{columns:i,body:n,didDrawPage:t=>{1==t.pageNumber&&(e.text("Defect Codes",e.internal.pageSize.width/2,25,null,"center"),e.setFontSize(10)),e.setFontSize(9),e.text("Created by FirstEigen",e.internal.pageSize.width-40,c-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}},columnStyles:{}}),e.save("Defect Codes.pdf"),this.disableDownloadBtn=!0,this.pdfCheckboxDisabled=!1,t.forEach(e=>e.pdfCols=!1),this.spinner.hide()},2e3))}pdfColsValue(){this.pdfCheckCount=0,this.customizeCols.filter(e=>!0===e.pdfCols).forEach(e=>{!0===e.pdfCols&&this.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}onCancel(){this.display=!1,this.defectCodeForm.controls.defectCode.reset(),this.defectCodeForm.controls.defectCodeDes.reset(),this.defectCodeForm.controls.dimension.reset()}onCancelUpdate(){this.displayUpdate=!1}downloadCSV(){this.defectCodeService.downloadDefectCodeCSV("defectCodeCSV").subscribe(e=>Object(h.saveAs)(e,"Defect_Code.csv"))}checkValue(e,t){this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount,this.colSpanCount=this.customizeCols.filter(e=>!0===e.isSelected).length,null!=this.storeFilterValue&&this.storeFilterValue.map(i=>{i==e&&0==t&&this.resetFilter(e)})}deleteDefectCode(e){this.deleteModal=!0,this.deleteDefectsCode=e}deleteConfirm(){this.deleteModal=!1,this.defectCodeService.deleteDefectCode({context:"deleteDefectCodeRecord",rowId:this.deleteDefectsCode.RowId,defectDescription:this.deleteDefectsCode.DefectDescription,dimensionId:this.deleteDefectsCode.DimensionId,defectCode:this.deleteDefectsCode.DefectCode}).subscribe(e=>{this.getDefectDimensionList()})}onPageNumChange(e){this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.pageWiseDefectsCode=[...o]}getSortedData(){const e=[...this.defectsCode];return this.sortOrderEvent?1===this.sortOrderEvent.order?(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?-1:0),e):(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?-1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?1:0),e):e}onPageChange(e){this.first=e.first;const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseDefectsCode=[...o]}successToasty(e){this.messages.displayToaster(e,"success","Success")}filterColumnNameWithHighlightName(e){return!(Object.keys(this.columnFilter).findIndex(t=>t===e)<0)}createDimensionUsingCSV(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}getRadioVal(e){"File_Upload"===e?(this.showFilePath=!1,this.showFileUpload=!0,this.errMsgFilePath=!1,this.defectCodeCSVForm.controls.filePath.setValue("")):"File_Path"===e&&(this.showFilePath=!0,this.showFileUpload=!1,this.errMsgFileUpload=!1,this.defectCodeCSVForm.controls.dataupload.setValue(""))}changeFile(e){this.statementFile=[],Array.from(e.target.files).forEach(e=>{this.statementFile.push(e)}),null!=e&&(this.defectCodeCSVForm.get("filePath").setValidators([]),this.defectCodeCSVForm.get("dataupload").updateValueAndValidity())}addDefectCodeUsingCSV(){if(""===this.defectCodeCSVForm.value.dataupload&&""===this.defectCodeCSVForm.value.filePath||null===this.defectCodeCSVForm.value.dataupload&&null===this.defectCodeCSVForm.value.filePath)!0===this.showFileUpload?(this.errMsgFileUpload=!0,this.errMsgFilePath=!1,this.errorMessageCSV="Please choose the valid File"):!0===this.showFilePath&&(this.errMsgFilePath=!0,this.errMsgFileUpload=!1,this.errorMessageCSV="Please enter the valid Path");else if(this.defectCodeCSVForm.valid)if(""!==this.defectCodeCSVForm.value.dataupload&&null!=this.defectCodeCSVForm.value.dataupload)if("csv"===this.defectCodeCSVForm.value.dataupload.split(".")[1]){const e=new FormData;Array.from(this.statementFile).forEach(t=>{if(t){const i=t.slice(0,t.size,t.type),o=new File([i],t.name,{type:t.type});e.append("dataupload ",o)}}),this.defectCodeService.createDefectCodesByFile(e).subscribe(e=>{this.modalRef.hide(),"success"===e.status?(this.errMsgFileUpload=!1,this.defectCodeCSVForm.reset(),this.getDefectDimensionList(),0==e.result.failedRecordCount&&0==e.result.duplicateRecordCount?this.messages.displayToaster("Successfully inserted data","success","Success"):0==e.result.failedRecordCount&&0==e.result.duplicateRecordCount||(0==e.result.failedRecordCount&&0!=e.result.duplicateRecordCount&&this.messages.displayToaster("There were "+e.result.totalCount+" total records out of which "+e.result.duplicateRecordCount+(1==e.result.duplicateRecordCount?" was":" were")+" duplicate records and no failed records.","warn","Warning"),0!=e.result.failedRecordCount&&0==e.result.duplicateRecordCount&&this.messages.displayToaster("There were "+e.result.totalCount+" total records out of which "+e.result.failedRecordCount+(1==e.result.failedRecordCount?" was":" were")+" failed records and no duplicate records.","warn","Warning"),0!=e.result.failedRecordCount&&0!=e.result.duplicateRecordCount&&this.messages.displayToaster("There were "+e.result.totalCount+" total records out of which "+e.result.failedRecordCount+(1==e.result.failedRecordCount?" was":" were")+" failed records and "+e.result.duplicateRecordCount+(1==e.result.duplicateRecordCount?" was":" were")+" duplicate records.","warn","Warning"))):(this.defectCodeCSVForm.reset(),this.messages.displayToaster(e.message,"error","Failed"))})}else this.errMsgFileUpload=!0,this.errorMessageCSV="Please select csv file";else""!==this.defectCodeCSVForm.value.filePath?this.defectCodeCSVForm.value.filePath.includes(".csv")?this.defectCodeService.createDefectCodesByFileByPath({filePath:this.defectCodeCSVForm.value.filePath}).subscribe(e=>{this.modalRef.hide(),"success"===e.status?(this.errMsgFilePath=!0,this.defectCodeCSVForm.reset(),this.getDefectDimensionList(),0==e.result.failedRecordCount&&0==e.result.duplicateRecordCount?this.messages.displayToaster("Successfully inserted data","success","Success"):0==e.result.failedRecordCount&&0==e.result.duplicateRecordCount||(0==e.result.failedRecordCount&&0!=e.result.duplicateRecordCount&&this.messages.displayToaster("There were "+e.result.totalCount+" total records out of which "+e.result.duplicateRecordCount+(1==e.result.duplicateRecordCount?" was":" were")+" duplicate records and no failed records.","warn","Warning"),0!=e.result.failedRecordCount&&0==e.result.duplicateRecordCount&&this.messages.displayToaster("There were "+e.result.totalCount+" total records out of which "+e.result.failedRecordCount+(1==e.result.failedRecordCount?" was":" were")+" failed records and no duplicate records.","warn","Warning"),0!=e.result.failedRecordCount&&0!=e.result.duplicateRecordCount&&this.messages.displayToaster("There were "+e.result.totalCount+" total records out of which "+e.result.failedRecordCount+(1==e.result.failedRecordCount?" was":" were")+" failed records and "+e.result.duplicateRecordCount+(1==e.result.duplicateRecordCount?" was":" were")+" duplicate records.","warn","Warning"))):(this.defectCodeCSVForm.reset(),this.messages.displayToaster(e.message,"error","Failed"))}):(this.errMsgFilePath=!0,this.errorMessageCSV="Please select csv file"):(this.errMsgFileUpload="File_Upload"==this.selectedValue,this.errMsgFilePath="File_Upload"!=this.selectedValue,this.errorMessageCSV="File_Upload"==this.selectedValue?"Please choose the valid File":"Please enter the valid Path")}downloadCSVOnUI(e,t){const i=[],o=Object.keys(e[0]);i.push(o.join(","));for(const r of e){const e=o.map(e=>{const t=r[e];return`"${t?t.toString().replace(/"/g,'""'):""}"`});i.push(e.join(","))}const n=i.join("\n"),s=new Blob([n],{type:"text/csv"}),c=URL.createObjectURL(s),a=document.createElement("a");a.setAttribute("href",c),a.setAttribute("download",t),a.click()}call(){this.downloadCSVOnUI([{name:"John",age:30},{name:"Mary",age:25}],"sampleData.csv")}cancel(){this.modalRef.hide(),this.defectCodeCSVForm.reset(),this.selectedValue="File_Upload",this.showFileUpload=!0,this.showFilePath=!1,this.errMsgFilePath=!1,this.errMsgFileUpload=!1}}return e.\u0275fac=function(t){return new(t||e)(O.dc(po),O.dc(N.a),O.dc(y.c),O.dc(M.d),O.dc(s.i),O.dc(n.e),O.dc(O.h),O.dc(o.d),O.dc(ci.a),O.dc(lo.a),O.dc(k.a))},e.\u0275cmp=O.Xb({type:e,selectors:[["app-defect-codes"]],decls:48,vars:53,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","text-right"],["pButton","","type","button","label","Add",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn","or_style",3,"ngClass","click"],["pButton","","type","button","label","Bulk Upload",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn","or_style",3,"ngClass","click"],[1,"d-flex","justify-content-end","p-field","br-top"],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],[1,"row","p-field"],["id","view_data_temp",1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","sortMode","multiple",3,"value","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","multiSortMeta","rows","first","customSort","firstChange","sortFunction"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["contentStyleClass","defect-code-dialog","appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["template",""],["moreDefectDimension",""],["exportPdfTemplate",""],["defectCodeTemplateUsingCSV",""],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"float-right","margin-top-gfilter",3,"click"],["src","assets/images/Vector.png","width","25px"],[1,"header"],[4,"ngFor","ngForOf"],["class","min_width_50",4,"ngIf"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"min_width_50"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil","iconColor"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],["class","more-display min_width_50",3,"click",4,"ngIf"],["class","text-center wordBreakOverFlow",3,"title","ngClass",4,"ngIf"],[1,"text-center","wordBreakOverFlow",3,"title","ngClass"],[1,"more-display","min_width_50",3,"click"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title"],[3,"ngClass"],[3,"formGroup"],[1,"form-row"],[1,"col"],["for","defectCode",1,"form-label","spaces"],[1,"req-field"],["id","defectCode","formControlName","defectCode","maxlength","500","type","text","pInputText","","placeholder","Enter Defect Code",1,"form-field","copy-ip",3,"disabled"],["class","err-msg",4,"ngIf"],["for","defectCodeDes",1,"form-label","spaces"],["id","defectCodeDes","formControlName","defectCodeDes","maxlength","255","type","text","pInputText","","placeholder","Enter Defect Code Description",1,"form-field","copy-ip"],["for","dimension",1,"form-label","spaces"],[1,"col","pad-tp-10"],["formControlName","dimension","placeholder","Select Dimension","optionValue","row_id","optionLabel","element_text",1,"form-field","dimensionDropdownCss",3,"options","virtualScroll","itemSize","change"],[1,"err-msg"],[1,"note","row"],[1,"col-sm-12","col-md-12","padding-top-10","text-left"],[1,"float-right","pb-10"],["pButton","","type","button","label","Create Defect Code",1,"button","w-button","btn-mr-rt","submit-btn","btn-label-submit",3,"disabled","click"],["pButton","","type","button","label","Cancel",1,"cancelButton","w-button","btn-mr-rt","submit-btn","btn-label","btn-cancel",3,"click"],["for","defectCodeUpdate",1,"form-label","spaces"],["id","defectCodeUpdate","formControlName","defectCodeUpdate","maxlength","500","type","text","pInputText","","placeholder","Enter Defect code",1,"form-field","copy-ip"],["for","defectCodeDesUpdate",1,"form-label","spaces"],["id","defectCodeDesUpdate","formControlName","defectCodeDesUpdate","maxlength","500","type","text","pInputText","","placeholder","Enter Defect Code Description",1,"form-field","copy-ip"],["for","dimensionUpdate",1,"form-label","spaces"],["formControlName","dimensionUpdate","optionLabel","element_text","placeholder","Select Dimension","optionValue","row_id",3,"styleClass","options"],[1,"float-right","pad-tp-20"],["pButton","","type","button","label","Update Defect Code",1,"button","w-button","btn-mr-rt","submit-btn","btn-label-submit",3,"disabled","click"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],[1,"modal-body"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-8"],["class","color-code",4,"ngIf"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname","value","customizeCols[col.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"],[1,"modal-header"],[1,"row","padding-btm1"],[3,"click"],[1,"cursor-pointer"],["src","assets/images/close.png",1,"margin-l","cursor-pointer"],["class","col-sm-6 padding-btm3",4,"ngIf"],[1,"col-sm-6","padding-btm3"],[1,"field-dis-val"],[1,"modal-body","pdf-modal"],[1,"col-lg-4"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],["src","assets/images/close.png",1,"margin-l"],[1,"col-md-12","padding-top-10"],["for","File_Upload","label","Upload file from Local","styleClass","radio-style","name","FileUpload","inputId","File_Upload","value","File_Upload","id","getRadioValFU",1,"spaceRadio",3,"ngModelOptions","ngModel","ngModelChange","onClick"],["for","File_Path","label","File path from Server","styleClass","radio-style","name","FilePath","inputId","File_Path","value","File_Path","id","getRadioValFP",1,"spaceRadio",3,"ngModelOptions","ngModel","ngModelChange","onClick"],["id","rule_name","formControlName","dataupload","placeholder","Upload File To be analyzed","type","file","class","form-field","pInputText","",3,"change",4,"ngIf"],["class","err-msg padding-top-2",4,"ngIf"],[1,"col-md-12"],["id","filePath","formControlName","filePath","placeholder","Enter Server File Path","type","text","class","form-field","pInputText","",4,"ngIf"],[1,"row","p-field","padding-top-10"],[1,"col-sm-12","col-md-12","text-center"],["pButton","","type","button","label","Submit",1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],["pButton","","type","button","label","Cancel",1,"button","w-button","shadow","btn-cancel",3,"click"],["id","rule_name","formControlName","dataupload","placeholder","Upload File To be analyzed","type","file","pInputText","",1,"form-field",3,"change"],[1,"err-msg","padding-top-2"],["id","filePath","formControlName","filePath","placeholder","Enter Server File Path","type","text","pInputText","",1,"form-field"]],template:function(e,t){if(1&e){const e=O.kc();O.jc(0,"div",0),O.jc(1,"div",1),O.jc(2,"div",2),O.jc(3,"p",3),O.bd(4," Defect Codes "),O.ic(),O.ic(),O.jc(5,"div",4),O.jc(6,"p",3),O.jc(7,"button",5),O.qc("click",function(){return t.createDimension()}),O.ic(),O.jc(8,"button",6),O.qc("click",function(){O.Rc(e);const i=O.Oc(47);return t.createDimensionUsingCSV(i)}),O.ic(),O.ic(),O.ic(),O.ic(),O.jc(9,"div",7),O.jc(10,"a"),O.jc(11,"img",8),O.qc("click",function(){return t.downloadCSV()}),O.ic(),O.ic(),O.jc(12,"a"),O.jc(13,"img",9),O.qc("click",function(){O.Rc(e);const i=O.Oc(45);return t.openExportPdf(i)}),O.ic(),O.ic(),O.ic(),O.jc(14,"div",10),O.jc(15,"div",11),O.jc(16,"p-table",12),O.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),O.Zc(17,go,7,6,"ng-template",13),O.Zc(18,bo,5,2,"ng-template",14),O.Zc(19,Po,8,4,"ng-template",15),O.ic(),O.ic(),O.Zc(20,jo,2,0,"div",16),O.jc(21,"div",17),O.Zc(22,wo,3,4,"div",18),O.Zc(23,yo,3,3,"div",19),O.ic(),O.ic(),O.jc(24,"p-dialog",20),O.qc("visibleChange",function(e){return t.display=e}),O.Zc(25,Mo,2,0,"ng-template",14),O.Zc(26,Vo,31,10,"ng-template",21),O.Zc(27,Ro,11,1,"ng-template",22),O.ic(),O.jc(28,"p-dialog",20),O.qc("visibleChange",function(e){return t.displayUpdate=e}),O.Zc(29,Lo,2,0,"ng-template",14),O.Zc(30,Uo,28,5,"ng-template",21),O.Zc(31,Ao,4,1,"ng-template",22),O.ic(),O.jc(32,"p-dialog",23),O.qc("visibleChange",function(e){return t.deleteModal=e}),O.Zc(33,Wo,3,0,"ng-template",14),O.jc(34,"p"),O.bd(35,"Are you sure you want to delete Defect Code "),O.jc(36,"b"),O.bd(37),O.ic(),O.bd(38,"?"),O.ic(),O.Zc(39,Go,1,0,"ng-template",22),O.ic(),O.Zc(40,Qo,12,2,"ng-template",null,24,O.ad),O.Zc(42,Xo,11,1,"ng-template",null,25,O.ad),O.ic(),O.Zc(44,on,17,3,"ng-template",null,26,O.ad),O.Zc(46,ln,26,12,"ng-template",null,27,O.ad)}if(2&e){let e=null,i=null;O.Nb(7),O.Bc("ngClass",null!=(e=t.roleOnModule("User Settings"))&&null!=e.accessControl&&e.accessControl.includes("C")?" cursor-pointer":"disable"),O.Nb(1),O.Bc("ngClass",null!=(i=t.roleOnModule("User Settings"))&&null!=i.accessControl&&i.accessControl.includes("C")?" cursor-pointer":"disable"),O.Nb(2),O.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseDefectsCode&&t.pageWiseDefectsCode.length?"":"disabled-opa",""),O.Nb(2),O.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseDefectsCode&&t.pageWiseDefectsCode.length?"":"disabled-opa",""),O.Nb(4),O.Vc(O.Ec(49,dn)),O.Bc("value",t.pageWiseDefectsCode)("responsive",!0)("rowHover",!0)("sortField","RowId")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("multiSortMeta",t.multiSortMeta)("multiSortMeta",t.multiSortMeta)("rows",10)("first",t.first)("filterDelay",0)("customSort",!0),O.Nb(4),O.Bc("ngIf",!t.pageWiseDefectsCode.length&&t.noRecordFound),O.Nb(2),O.Bc("ngIf",t.pageWiseDefectsCode.length),O.Nb(1),O.Bc("ngIf",t.pageWiseDefectsCode.length),O.Nb(1),O.Vc(O.Ec(50,pn)),O.Bc("visible",t.display)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!0),O.Nb(4),O.Vc(O.Ec(51,pn)),O.Bc("visible",t.displayUpdate)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),O.Nb(4),O.Vc(O.Ec(52,pn)),O.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),O.Nb(5),O.dd("",t.deleteDefectsCode.DefectCode," ")}},directives:[D.b,o.l,F.f,M.i,o.n,_.a,n.d,I.a,n.o,n.r,o.m,F.d,F.e,V.a,l.a,r.a,n.x,n.p,n.i,n.g,n.k,M.e,R.a,uo.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.defect-code-dialog[_ngcontent-%COMP%]{overflow-y:visible!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}.pad-tp-20[_ngcontent-%COMP%]{margin-top:20px}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.modalHeight[_ngcontent-%COMP%]{height:300px}.wordBreakOverFlow[_ngcontent-%COMP%]{overflow:hidden}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.note[_ngcontent-%COMP%]{text-align:left;font-size:13px;color:#eb5454;margin-top:15px}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.deltaStatus[_ngcontent-%COMP%]{border-radius:3px;color:#eef1f5;font-size:10px;padding:1.5px}.approved[_ngcontent-%COMP%]{background-color:#56b608}.revire-waiting[_ngcontent-%COMP%]{background-color:red}.rejected[_ngcontent-%COMP%]{background-color:#e72b56;border-radius:3px;color:#eef1f5}.iconColorOnFailed[_ngcontent-%COMP%]{color:#e72b56}.imgOnSuccess[_ngcontent-%COMP%]{color:#56b608}.imgSize[_ngcontent-%COMP%]{width:14px;height:auto}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{margin-right:10px;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}.btn-label-submit[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:182px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}.spaces[_ngcontent-%COMP%]{margin-top:20px}.word_break_word_all[_ngcontent-%COMP%]{word-break:break-word!important;overflow-wrap:break-word!important}.or_style[_ngcontent-%COMP%]{font-size:15px;margin-right:10px}"]}),e})(),gn=(()=>{class e{constructor(e,t){this.http=e,this.messages=t}getDomainList(e,t){return this.http.post(e,t)}downloadCSVDimension(e){return this.http.getforCSV(e)}createDimensionList(e,t=new Object){return this.http.postWithToasty(e,t)}deleteDimension(e,t=new Object){return this.http.postWithToasty(e,t)}deleteDomain(e,t=new Object){return this.http.post(e,t)}createDomainList(e,t=new Object){return this.http.post(e,t)}getDimensionList(e){return this.http.get(e)}downloadCSVDomain(e){return this.http.getforCSV(e)}}return e.\u0275fac=function(t){return new(t||e)(O.nc(ro.a),O.nc(lo.a))},e.\u0275prov=O.Zb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function hn(e,t){if(1&e){const e=O.kc();O.jc(0,"div",40),O.jc(1,"span",41),O.jc(2,"input",42),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().globalFilterValue=t})("keyup",function(t){return O.Rc(e),O.uc().globalFilterFun(t)}),O.ic(),O.bd(3,"\xa0 "),O.ec(4,"i",43),O.ic(),O.jc(5,"span",44),O.qc("click",function(){O.Rc(e);const t=O.uc(),i=O.Oc(73);return t.showCustomizeModal(i)}),O.ec(6,"img",45),O.bd(7," \xa0Customize "),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(2),O.Bc("ngModel",e.globalFilterValue),O.Nb(3),O.Qb(0==(null==e.dimensionLibrary?null:e.dimensionLibrary.length)?"disable":""),O.Nb(1),O.Rb("cursor-pointer ",e.dimensionLibrary.length?"":"disabled-opa","")}}function fn(e,t){if(1&e){const e=O.kc();O.jc(0,"th"),O.bd(1),O.ec(2,"br"),O.ec(3,"p-sortIcon",50),O.jc(4,"app-column-filter",51),O.qc("hideFilterDataBox",function(t){return O.Rc(e),O.uc(3).hideBox(t)})("filterData",function(t){return O.Rc(e),O.uc(3).getFilterData(t)})("resetFilterValues",function(t){return O.Rc(e),O.uc(3).resetFilter(t)}),O.ic(),O.jc(5,"span",52),O.jc(6,"i",53),O.qc("click",function(){O.Rc(e);const t=O.uc().$implicit;return O.uc(2).onFilterClick(t.originalValue)}),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc().$implicit,t=O.uc(2);O.Nb(1),O.dd(" ",e.displayValue,""),O.Nb(2),O.Cc("field",e.originalValue),O.Cc("pSortableColumn",e.originalValue),O.Nb(1),O.Bc("colFilterData",t.getFilterState(e.originalValue))("display",t.displayFiltersFor[e.originalValue])("fieldName",e.originalValue)("customId",e.originalValue),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"selected-filter-column":""),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function mn(e,t){if(1&e&&(O.hc(0),O.Zc(1,fn,7,9,"th",49),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",e.isSelected)}}function bn(e,t){1&e&&(O.jc(0,"th",54),O.bd(1,"More"),O.ic())}function Cn(e,t){if(1&e&&(O.jc(0,"tr",46),O.Zc(1,mn,2,1,"ng-container",47),O.jc(2,"th"),O.bd(3," Actions"),O.ic(),O.Zc(4,bn,2,0,"th",48),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngForOf",e.customizeCols),O.Nb(3),O.Bc("ngIf",e.isMoreDisplayed)}}function xn(e,t){if(1&e&&(O.jc(0,"td",61),O.jc(1,"span"),O.bd(2),O.ic(),O.ec(3,"br"),O.ic()),2&e){const e=O.uc().$implicit,t=O.uc().$implicit;O.Bc("title",t[e.originalValue]),O.Nb(2),O.cd(t[e.originalValue])}}function vn(e,t){if(1&e&&(O.hc(0),O.Zc(1,xn,4,2,"td",60),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",e.isSelected)}}function Pn(e,t){if(1&e){const e=O.kc();O.jc(0,"td",62),O.qc("click",function(){O.Rc(e);const t=O.uc().$implicit,i=O.uc(),o=O.Oc(75);return i.openOtherField(o,t)}),O.bd(1," ... "),O.ic()}}function jn(e,t){if(1&e){const e=O.kc();O.jc(0,"tr",55),O.Zc(1,vn,2,1,"ng-container",47),O.jc(2,"td"),O.jc(3,"span",56),O.qc("click",function(){O.Rc(e);const i=t.$implicit;return O.uc().editDimensionLibrary(i)}),O.ec(4,"i",57),O.ic(),O.jc(5,"span",56),O.qc("click",function(){O.Rc(e);const i=t.$implicit;return O.uc().deleteDimensionLibrary(i)}),O.ec(6,"i",58),O.ic(),O.ic(),O.Zc(7,Pn,2,0,"td",59),O.ic()}if(2&e){const e=O.uc();let t=null,i=null;O.Nb(1),O.Bc("ngForOf",e.customizeCols),O.Nb(2),O.Bc("ngClass",null!=(t=e.roleOnModule("User Settings"))&&null!=t.accessControl&&t.accessControl.includes("U")?" cursor-pointer":"disable"),O.Nb(2),O.Bc("ngClass",null!=(i=e.roleOnModule("User Settings"))&&null!=i.accessControl&&i.accessControl.includes("D")?" cursor-pointer":"disable"),O.Nb(2),O.Bc("ngIf",e.isMoreDisplayed)}}function wn(e,t){1&e&&(O.jc(0,"div",63),O.bd(1," No records found "),O.ic())}function On(e,t){if(1&e){const e=O.kc();O.jc(0,"div",64),O.jc(1,"p-paginator",65,66),O.qc("onPageChange",function(t){return O.Rc(e),O.uc().onPageChange(t)})("firstChange",function(t){return O.Rc(e),O.uc().first=t}),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("rows",10)("totalRecords",e.dimensionLibrary.length)("showCurrentPageReport",!0)("first",e.first)}}function Sn(e,t){if(1&e&&(O.jc(0,"div",71),O.jc(1,"div"),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc(3);O.Nb(2),O.ed("Page ",e.selectedPage.page," of ",e.totalNumOfPages,"")}}function yn(e,t){if(1&e&&O.Zc(0,Sn,3,2,"div",70),2&e){const e=O.uc(2);O.Bc("ngIf",e.selectedPage)}}function Mn(e,t){if(1&e){const e=O.kc();O.jc(0,"div",67),O.jc(1,"p-dropdown",68),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().selectedPage=t})("onChange",function(t){return O.Rc(e),O.uc().onPageNumChange(t)}),O.Zc(2,yn,1,1,"ng-template",69),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("options",e.numOfPages)("filter",!0)("ngModel",e.selectedPage)}}function Nn(e,t){1&e&&(O.jc(0,"span",72),O.bd(1," Add Dimension "),O.ic())}function kn(e,t){1&e&&(O.jc(0,"span",73),O.bd(1," Please enter "),O.jc(2,"b"),O.bd(3,"Dimension Name"),O.ic(),O.ic())}function Dn(e,t){if(1&e&&(O.jc(0,"p",73),O.Zc(1,kn,4,0,"span",27),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngIf",e.addDimensionForm.controls.DimensionName.errors.required)}}function Fn(e,t){1&e&&(O.jc(0,"span",72),O.bd(1," Update Dimension "),O.ic())}function _n(e,t){1&e&&(O.jc(0,"span",73),O.bd(1," Please enter "),O.jc(2,"b"),O.bd(3,"Dimension Name"),O.ic(),O.ic())}function In(e,t){if(1&e&&(O.jc(0,"p",73),O.Zc(1,_n,4,0,"span",27),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngIf",e.addDimensionFormUpdate.controls.DimensionNameUpdate.errors.required)}}function Vn(e,t){1&e&&(O.jc(0,"span",74),O.ec(1,"i",75),O.bd(2," Confirmation "),O.ic())}function Rn(e,t){if(1&e){const e=O.kc();O.jc(0,"div",86),O.jc(1,"table"),O.jc(2,"tr",87),O.jc(3,"td"),O.jc(4,"p-checkbox",88),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().$implicit.isSelected=t})("onChange",function(){O.Rc(e);const t=O.uc().$implicit;return O.uc(2).checkValue(t.originalValue,t.isSelected)}),O.ic(),O.ic(),O.jc(5,"td"),O.jc(6,"label"),O.bd(7),O.ic(),O.ic(),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc().$implicit,t=O.uc(2);O.Nb(4),O.Bc("ngModel",e.isSelected)("disabled",t.checkboxDisabled&&!e.isSelected),O.Nb(3),O.cd(e.displayValue)}}function Ln(e,t){if(1&e&&(O.hc(0),O.Zc(1,Rn,8,3,"div",85),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",!e.necessaryCol&&!e.alwaysSelected)}}function Bn(e,t){if(1&e&&(O.jc(0,"div",89),O.bd(1),O.ic()),2&e){const e=O.uc(2);O.Nb(1),O.dd("You can select up to ",e.maxCount," columns.")}}function En(e,t){if(1&e){const e=O.kc();O.jc(0,"div",76),O.jc(1,"div",77),O.Zc(2,Ln,2,1,"ng-container",47),O.ic(),O.ic(),O.jc(3,"div",78),O.jc(4,"div",79),O.jc(5,"div",80),O.Zc(6,Bn,2,1,"div",81),O.ic(),O.jc(7,"div",82),O.jc(8,"div"),O.jc(9,"label",83),O.qc("click",function(){return O.Rc(e),O.uc().modalRef.hide()}),O.bd(10,"Close Customize"),O.ic(),O.jc(11,"img",84),O.qc("click",function(){return O.Rc(e),O.uc().modalRef.hide()}),O.ic(),O.ic(),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(2),O.Bc("ngForOf",e.customizeCols),O.Nb(4),O.Bc("ngIf",e.checkboxDisabled)}}function zn(e,t){if(1&e&&(O.jc(0,"div",96),O.jc(1,"table"),O.jc(2,"tr"),O.jc(3,"td",97),O.bd(4),O.ic(),O.jc(5,"td",97),O.bd(6),O.ic(),O.ic(),O.ic(),O.ic()),2&e){const e=O.uc().$implicit,t=O.uc(2);O.Nb(4),O.cd(e.displayValue),O.Nb(2),O.dd(": ",t.selectedRowData[e.originalValue],"")}}function Tn(e,t){if(1&e&&(O.hc(0),O.Zc(1,zn,7,2,"div",95),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",!e.necessaryCol&&!e.isSelected)}}function qn(e,t){if(1&e){const e=O.kc();O.jc(0,"div",90),O.jc(1,"b"),O.bd(2,"More Columns:"),O.ic(),O.ic(),O.jc(3,"div",76),O.jc(4,"div",91),O.Zc(5,Tn,2,1,"ng-container",47),O.ic(),O.ic(),O.jc(6,"div",78),O.jc(7,"div",92),O.qc("click",function(){return O.Rc(e),O.uc().modalRef.hide()}),O.jc(8,"label",93),O.bd(9,"Close"),O.ic(),O.ec(10,"img",94),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(5),O.Bc("ngForOf",e.customizeCols)}}function Zn(e,t){if(1&e){const e=O.kc();O.hc(0),O.jc(1,"div",86),O.jc(2,"table"),O.jc(3,"tr",87),O.jc(4,"td"),O.jc(5,"p-checkbox",102),O.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return O.Rc(e),O.uc(2).pdfColsValue()}),O.ic(),O.ic(),O.jc(6,"td"),O.jc(7,"label"),O.bd(8),O.ic(),O.ic(),O.ic(),O.ic(),O.ic(),O.gc()}if(2&e){const e=t.$implicit,i=O.uc(2);O.Nb(5),O.Bc("ngModel",e.pdfCols)("disabled",i.pdfCheckboxDisabled&&!e.pdfCols),O.Nb(3),O.cd(e.displayValue)}}function Un(e,t){1&e&&(O.jc(0,"div",89),O.bd(1,"You can select up to 9 columns."),O.ic())}function An(e,t){if(1&e){const e=O.kc();O.jc(0,"div",90),O.jc(1,"span",72),O.bd(2,"Please select columns that need to be downloaded in PDF"),O.ic(),O.ic(),O.jc(3,"div",98),O.jc(4,"div",77),O.Zc(5,Zn,9,3,"ng-container",47),O.ic(),O.ic(),O.jc(6,"div",78),O.jc(7,"div",79),O.jc(8,"div",99),O.Zc(9,Un,2,0,"div",81),O.ic(),O.jc(10,"div",100),O.jc(11,"button",101),O.qc("click",function(){O.Rc(e);const t=O.uc();return t.exportPdf(),t.modalRef.hide()}),O.ic(),O.ic(),O.jc(12,"div",82),O.jc(13,"div"),O.jc(14,"label",83),O.qc("click",function(){return O.Rc(e),O.uc().closeExportPdf()}),O.bd(15,"Close"),O.ic(),O.jc(16,"img",84),O.qc("click",function(){return O.Rc(e),O.uc().closeExportPdf()}),O.ic(),O.ic(),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(5),O.Bc("ngForOf",e.customizeCols),O.Nb(4),O.Bc("ngIf",e.pdfCheckboxDisabled),O.Nb(2),O.Bc("disabled",e.disableDownloadBtn)}}const Wn=function(){return{width:"100%"}},Gn=function(){return{width:"50vw"}};m.a.vfs=C.a.pdfMake.vfs;let $n=(()=>{class e{constructor(e,t,i,o,s,c,a,r,l,d,p){this.domainService=e,this.modalService=t,this.spinner=i,this.detectChanges=o,this.router=s,this.filterService=c,this.formBuilder=a,this.domainProj=r,this.datePipe=l,this.homeServiceService=d,this.messages=p,this.selectedProjId=JSON.parse(sessionStorage.getItem("activeProjectId")),this.totalNumOfPages=0,this.dimensionLibrary=[],this.mainDimensionLibrary=[],this.pageWiseDimensionLibrary=[],this.first=0,this.pageSize=9,this.maxCount=4,this.checkboxDisabled=!1,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.deleteModal=!1,this.filterData={},this.deleteDimensionLib=[],this.columnFilter={},this.scrollHt="300px",this.displayFiltersFor={idDimension:!1,dimensionName:!1},this.projectNames=[],this.pdfData=[],this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols=[{displayValue:"Dimension Id",originalValue:"idDimension",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Dimension Name ",originalValue:"dimensionName",isSelected:!0,necessaryCol:!1,alwaysSelected:!1}],this.display=!1,this.customSortArr=[],this.noRecordFound=!1,this.addDimensionForm=this.formBuilder.group({DimensionName:new n.f("",[n.w.required])}),this.addDimensionFormUpdate=this.formBuilder.group({DimensionNameUpdate:new n.f("",[n.w.required])})}ngOnInit(){var e;this.domainProj.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData"),sessionStorage.removeItem("connDet"),this.appId=sessionStorage.getItem("idApp"),sessionStorage.getItem("userDetail")&&(this.userDetails=JSON.parse(sessionStorage.getItem("userDetail"))),this.fromDate=new Date,this.fromDate.setDate((new Date).getDate()-30),this.toDate=new Date,this.toDate.setDate((new Date).getDate()+1),this.maxDate=new Date,this.maxDate.setDate((new Date).getDate()+3),this.projectNames=this.homeServiceService.getProjectList(),this.projectNames.map(e=>{e.domainProject=e.domainName+"-"+e.projectName,e.domainAndProjectId=e.domainId+"_"+e.idProject,e.domainAndProjectName=e.domainName+"-"+e.projectName}),this.getDimensionList(),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(e=>{e.accessControl=e.accessControl.split("-")})))}roleOnModule(e){return this.roleModule.find(t=>t.moduleName===e)}hideBox(e){this.displayFiltersFor[e.fieldName]=!1}onSubmit(){this.domainService.createDimensionList("saveDimensionRecord",{DimensionId:"-1",DimensionName:this.addDimensionForm.value.DimensionName}).subscribe(e=>{this.first=0,this.display=!1,this.addDimensionForm.controls.DimensionName.reset(),this.getDimensionList()})}onUpdate(){this.display=!1,this.domainService.createDimensionList("saveDimensionRecord",{DimensionId:this.getDimensionId,DimensionName:this.addDimensionFormUpdate.value.DimensionNameUpdate}).subscribe(e=>{this.display=!1,this.first=0,this.getDimensionList(),this.displayUpdate=!1})}getDimensionList(){return Object(ao.a)(this,void 0,void 0,function*(){this.spinner.show(),this.domainService.getDimensionList("loadDimensionRecordList").subscribe(e=>{if("success"===e.status){this.spinner.hide(),this.spinner.hide()&&(this.noRecordFound=!0),this.mainDimensionLibrary=[...e.result],this.dimensionLibrary=[...this.mainDimensionLibrary],this.pdfData=[...this.mainDimensionLibrary],this.totalRecords=this.dimensionLibrary.length;const t=this.first+this.pageSize;null!=this.filterObj&&this.filterObj.forEach(e=>{this.dimensionLibrary=this.dimensionLibrary.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))});const i=this.dimensionLibrary.filter((e,i)=>i<=t);this.pageWiseDimensionLibrary=[...i],this.calculateNumOfPages(),this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}else this.mainDimensionLibrary=[],this.dimensionLibrary=[],this.pageWiseDimensionLibrary=[]})})}editDimensionLibrary(e){this.getDimensionId=e.idDimension,this.displayUpdate=!0,this.display=!1,!0===this.displayUpdate?this.addDimensionFormUpdate.patchValue({DimensionNameUpdate:e.dimensionName}):this.addDimensionForm.controls.dimensionName.reset()}createDimension(){this.display=!0,this.displayUpdate=!1}calculateNumOfPages(){if(this.totalNumOfPages=this.mainDimensionLibrary.length?this.mainDimensionLibrary.length<this.pageSize?1:Math.ceil(this.mainDimensionLibrary.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}onFilterClick(e){Object.keys(this.displayFiltersFor).map(t=>{this.displayFiltersFor[t]=t===e})}openOtherField(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}showCustomizeModal(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}get isMoreDisplayed(){let e=[];return e=this.customizeCols.length?this.customizeCols.filter(e=>e.isSelected):[],this.customizeCols.length!==e.length}resetFilter(e){this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.dimensionLibrary=[...this.mainDimensionLibrary],t.forEach(e=>{this.dimensionLibrary=this.dimensionLibrary.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}getFilterState(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){const t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}setPageNumber(){if(this.totalNumOfPages=this.dimensionLibrary.length?this.dimensionLibrary.length<this.pageSize?1:Math.ceil(this.dimensionLibrary.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}const e=this.first+this.pageSize,t=this.dimensionLibrary.filter((t,i)=>i<=e);this.pageWiseDimensionLibrary=[...t]}customSort(e){const t=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=t+1,this.selectedPage.pageIndex=t,this.sortOrderEvent=e;const i=[...this.dimensionLibrary];i.sort(1===this.sortOrderEvent.order?(t,i)=>t[e.field]>i[e.field]?1:i[e.field]>t[e.field]?-1:0:(t,i)=>t[e.field]>i[e.field]?-1:i[e.field]>t[e.field]?1:0);const o=this.first+this.pageSize,n=i.filter((e,t)=>{if(t<=o&&t>=this.first)return e});this.pageWiseDimensionLibrary=[...n]}openExportPdf(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}closeExportPdf(){this.modalRef.hide(),setTimeout(()=>{this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols.forEach(e=>e.pdfCols=!1)},1e3)}exportPdf(){this.pdfData.length&&(this.spinner.show(),setTimeout(()=>{const e=new w.default("l","pt"),t=this.customizeCols.filter(e=>e.pdfCols),i=[];t.forEach(e=>i.push(e.displayValue));const o=[];t.forEach(e=>o.push(e.originalValue));let n=[];n=this.pdfData.map(e=>Object.assign(o.map(t=>e[t])));const s=e.internal.pageSize,c=s.height?s.height:s.getHeight();j()(e,{columns:i,body:n,didDrawPage:t=>{1==t.pageNumber&&(e.text("Dimension Library",e.internal.pageSize.width/2,25,null,"center"),e.setFontSize(10)),e.setFontSize(9),e.text("Created by FirstEigen",e.internal.pageSize.width-40,c-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}},columnStyles:{}}),e.save("Dimension Library.pdf"),this.disableDownloadBtn=!0,this.pdfCheckboxDisabled=!1,t.forEach(e=>e.pdfCols=!1),this.spinner.hide()},2e3))}pdfColsValue(){this.pdfCheckCount=0,this.customizeCols.filter(e=>!0===e.pdfCols).forEach(e=>{!0===e.pdfCols&&this.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}onCancel(){this.display=!1,this.addDimensionForm.controls.DimensionName.reset()}onCancelUpdate(){this.displayUpdate=!1}downloadCSV(){this.domainService.downloadCSVDimension("dimensionCSV").subscribe(e=>Object(h.saveAs)(e,"Data_Dimension.csv"))}checkValue(e,t){this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount,this.colSpanCount=this.customizeCols.filter(e=>!0===e.isSelected).length,null!=this.storeFilterValue&&this.storeFilterValue.map(i=>{i==e&&0==t&&this.resetFilter(e)})}deleteDimensionLibrary(e){this.deleteModal=!0,this.deleteDimensionLib=e}deleteConfirm(){this.deleteModal=!1,this.domainService.deleteDimension("deleteDimensionRecord",{DimensionIdToDelete:this.deleteDimensionLib.idDimension}).subscribe(e=>{this.getDimensionList()})}onPageNumChange(e){this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.pageWiseDimensionLibrary=[...o]}getSortedData(){const e=[...this.dimensionLibrary];return this.sortOrderEvent?1===this.sortOrderEvent.order?(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?-1:0),e):(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?-1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?1:0),e):e}onPageChange(e){this.first=e.first;const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseDimensionLibrary=[...o]}successToasty(e){this.messages.displayToaster(e,"success","Success")}globalFilterFun(e){const t=[...this.globalFilterLogic()],i=this.first+this.pageSize,o=t.filter((e,t)=>t<=i);this.detectChanges.detectChanges(),this.pageWiseDimensionLibrary=[...o],this.setPageNumber()}globalFilterLogic(){if(this.mainDimensionLibrary.length){const e=Object.keys(this.mainDimensionLibrary[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainDimensionLibrary.forEach(t=>{let i=!1;e.forEach(e=>{t[e]&&t[e].toString().toLowerCase().includes(this.globalFilterValue.toLowerCase())&&!i&&(this.filterValue.push(t),i=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.dimensionLibrary=[...this.filterValue],this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=[...this.mainDimensionLibrary],this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.dimensionLibrary=[...this.filterValue],this.calculateNumOfPages(),this.dimensionLibrary}return[]}getFilterData(e){this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.storeFilterValue=t,this.displayFiltersFor[e[0]]=!1,this.first=0,this.globalFilterValue||(this.dimensionLibrary=[...this.mainDimensionLibrary]),t.forEach(e=>{this.dimensionLibrary=this.dimensionLibrary.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}filterColumnNameWithHighlightName(e){return!(Object.keys(this.columnFilter).findIndex(t=>t===e)<0)}}return e.\u0275fac=function(t){return new(t||e)(O.dc(gn),O.dc(N.a),O.dc(y.c),O.dc(O.h),O.dc(s.i),O.dc(M.d),O.dc(n.e),O.dc(k.a),O.dc(o.d),O.dc(ci.a),O.dc(lo.a))},e.\u0275cmp=O.Xb({type:e,selectors:[["app-dimension-library"]],decls:78,vars:56,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","text-right"],["pButton","","type","button","label","Add",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn",3,"ngClass","click"],[1,"d-flex","justify-content-end","p-field","br-top"],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],[1,"row","p-field"],["id","view_data_temp",1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","sortMode","single",3,"value","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","rows","first","customSort","firstChange","sortFunction"],["myTab",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],[3,"formGroup"],[1,"form-row"],[1,"col"],["for","dimensionName",1,"form-label","spaces"],[1,"req-field"],["id","dimensionName","formControlName","DimensionName","maxlength","500","type","text","pInputText","","placeholder","Enter Dimension Name",1,"form-field","copy-ip"],["class","err-msg",4,"ngIf"],[1,"note","row","p-field"],[1,"col-sm-12","col-md-12","mr-top","text-left"],[1,"float-right","pad-tp-10"],["pButton","","type","button","label","Create Dimension",1,"button","w-button","btn-mr-rt","submit-btn","btn-label-submit","moz",3,"disabled","click"],["pButton","","type","button","label","Cancel",1,"cancelButton","w-button","btn-mr-rt","submit-btn","btn-label","btn-cancel",3,"click"],["for","DimensionNameUpdate",1,"form-label","spaces"],["id","DimensionNameUpdate","formControlName","DimensionNameUpdate","maxlength","500","type","text","pInputText","",1,"form-field","copy-ip"],["pButton","","type","button","label","Update Dimension",1,"button","w-button","btn-mr-rt","submit-btn","btn-label-submit",3,"disabled","click"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],["template",""],["moreTrigger",""],["exportPdfTemplate",""],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"float-right","margin-top-gfilter",3,"click"],["src","assets/images/Vector.png","width","25px"],[1,"header"],[4,"ngFor","ngForOf"],["class","min_width_50",4,"ngIf"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"min_width_50"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil","iconColor"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],["class","more-display min_width_50",3,"click",4,"ngIf"],["class","text-center word_break_word_all",3,"title",4,"ngIf"],[1,"text-center","word_break_word_all",3,"title"],[1,"more-display","min_width_50",3,"click"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title"],[1,"err-msg"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],[1,"modal-body"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-8"],["class","color-code",4,"ngIf"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname","value","customizeCols[col.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"],[1,"modal-header"],[1,"row","padding-btm1"],[3,"click"],[1,"cursor-pointer"],["src","assets/images/close.png",1,"margin-l","cursor-pointer"],["class","col-sm-6 padding-btm3",4,"ngIf"],[1,"col-sm-6","padding-btm3"],[1,"field-dis-val"],[1,"modal-body","pdf-modal"],[1,"col-lg-4"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"]],template:function(e,t){if(1&e){const e=O.kc();O.jc(0,"div",0),O.jc(1,"div",1),O.jc(2,"div",2),O.jc(3,"p",3),O.bd(4," Dimensions "),O.ic(),O.ic(),O.jc(5,"div",4),O.jc(6,"p",3),O.jc(7,"button",5),O.qc("click",function(){return t.createDimension()}),O.ic(),O.ic(),O.ic(),O.ic(),O.jc(8,"div",6),O.jc(9,"a"),O.jc(10,"img",7),O.qc("click",function(){return t.downloadCSV()}),O.ic(),O.ic(),O.jc(11,"a"),O.jc(12,"img",8),O.qc("click",function(){O.Rc(e);const i=O.Oc(77);return t.openExportPdf(i)}),O.ic(),O.ic(),O.ic(),O.jc(13,"div",9),O.jc(14,"div",10),O.jc(15,"p-table",11,12),O.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),O.Zc(17,hn,8,6,"ng-template",13),O.Zc(18,Cn,5,2,"ng-template",14),O.Zc(19,jn,8,4,"ng-template",15),O.ic(),O.ic(),O.Zc(20,wn,2,0,"div",16),O.jc(21,"div",17),O.Zc(22,On,3,4,"div",18),O.Zc(23,Mn,3,3,"div",19),O.ic(),O.ic(),O.jc(24,"p-dialog",20),O.qc("visibleChange",function(e){return t.display=e}),O.Zc(25,Nn,2,0,"ng-template",14),O.jc(26,"form",21),O.jc(27,"div",22),O.jc(28,"div",23),O.jc(29,"label",24),O.bd(30,"Dimension Name"),O.jc(31,"sup",25),O.bd(32,"*"),O.ic(),O.ic(),O.ic(),O.jc(33,"div",23),O.ec(34,"input",26),O.Zc(35,Dn,2,1,"p",27),O.ic(),O.ic(),O.jc(36,"div",28),O.jc(37,"div",29),O.jc(38,"p"),O.bd(39,"Note: Fields marked with "),O.jc(40,"b"),O.bd(41,'"*"'),O.ic(),O.bd(42," are required. "),O.ic(),O.ic(),O.ic(),O.jc(43,"p-footer",30),O.jc(44,"button",31),O.qc("click",function(){return t.onSubmit()}),O.ic(),O.bd(45,"\xa0 "),O.jc(46,"button",32),O.qc("click",function(){return t.onCancel()}),O.ic(),O.ic(),O.ic(),O.ic(),O.jc(47,"p-dialog",20),O.qc("visibleChange",function(e){return t.displayUpdate=e}),O.Zc(48,Fn,2,0,"ng-template",14),O.jc(49,"form",21),O.jc(50,"div",22),O.jc(51,"div",23),O.jc(52,"label",33),O.bd(53," Dimension Name"),O.jc(54,"sup",25),O.bd(55,"*"),O.ic(),O.ic(),O.ic(),O.jc(56,"div",23),O.ec(57,"input",34),O.Zc(58,In,2,1,"p",27),O.ic(),O.ic(),O.jc(59,"p-footer",30),O.jc(60,"button",35),O.qc("click",function(){return t.onUpdate()}),O.ic(),O.bd(61,"\xa0 "),O.jc(62,"button",32),O.qc("click",function(){return t.onCancelUpdate()}),O.ic(),O.ic(),O.ic(),O.ic(),O.jc(63,"p-dialog",20),O.qc("visibleChange",function(e){return t.deleteModal=e}),O.Zc(64,Vn,3,0,"ng-template",14),O.jc(65,"p"),O.bd(66,"Are you sure you want to delete Dimension Library "),O.jc(67,"b"),O.bd(68),O.ic(),O.bd(69,"?"),O.ic(),O.jc(70,"p-footer"),O.jc(71,"button",36),O.qc("click",function(){return t.deleteConfirm()}),O.ic(),O.ic(),O.ic(),O.Zc(72,En,12,2,"ng-template",null,37,O.ad),O.Zc(74,qn,11,1,"ng-template",null,38,O.ad),O.ic(),O.Zc(76,An,17,3,"ng-template",null,39,O.ad)}if(2&e){let e=null;O.Nb(7),O.Bc("ngClass",null!=(e=t.roleOnModule("User Settings"))&&null!=e.accessControl&&e.accessControl.includes("C")?" cursor-pointer":"disable"),O.Nb(2),O.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseDimensionLibrary&&t.pageWiseDimensionLibrary.length?"":"disabled-opa",""),O.Nb(2),O.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseDimensionLibrary&&t.pageWiseDimensionLibrary.length?"":"disabled-opa",""),O.Nb(4),O.Vc(O.Ec(52,Wn)),O.Bc("value",t.pageWiseDimensionLibrary)("responsive",!0)("rowHover",!0)("sortField","idDimension")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("rows",10)("first",t.first)("filterDelay",0)("customSort",!0),O.Nb(5),O.Bc("ngIf",!t.pageWiseDimensionLibrary.length&&t.noRecordFound),O.Nb(2),O.Bc("ngIf",t.pageWiseDimensionLibrary.length),O.Nb(1),O.Bc("ngIf",t.pageWiseDimensionLibrary.length),O.Nb(1),O.Vc(O.Ec(53,Gn)),O.Bc("visible",t.display)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),O.Nb(2),O.Bc("formGroup",t.addDimensionForm),O.Nb(9),O.Bc("ngIf",t.addDimensionForm.controls.DimensionName.invalid&&!t.addDimensionForm.controls.DimensionName.pristine),O.Nb(9),O.Bc("disabled",!t.addDimensionForm.valid),O.Nb(3),O.Vc(O.Ec(54,Gn)),O.Bc("visible",t.displayUpdate)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),O.Nb(2),O.Bc("formGroup",t.addDimensionFormUpdate),O.Nb(9),O.Bc("ngIf",t.addDimensionFormUpdate.controls.DimensionNameUpdate.invalid&&!t.addDimensionFormUpdate.controls.DimensionNameUpdate.pristine),O.Nb(2),O.Bc("disabled",!t.addDimensionFormUpdate.valid||!t.addDimensionFormUpdate.dirty),O.Nb(3),O.Vc(O.Ec(55,Gn)),O.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),O.Nb(5),O.dd("",t.deleteDimensionLib.dimensionName," ")}},directives:[D.b,o.l,F.f,M.i,o.n,_.a,n.x,n.p,n.i,n.d,n.o,n.g,n.k,I.a,M.e,n.r,o.m,F.d,F.e,V.a,l.a,r.a,R.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.note[_ngcontent-%COMP%]{text-align:left!important;font-size:13px;color:#eb5454;margin-left:-28px!important;margin-top:30px!important}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.deltaStatus[_ngcontent-%COMP%]{border-radius:3px;color:#eef1f5;font-size:10px;padding:1.5px}.approved[_ngcontent-%COMP%]{background-color:#56b608}.revire-waiting[_ngcontent-%COMP%]{background-color:red}.rejected[_ngcontent-%COMP%]{background-color:#e72b56;border-radius:3px;color:#eef1f5}.iconColorOnFailed[_ngcontent-%COMP%]{color:#e72b56}.imgOnSuccess[_ngcontent-%COMP%]{color:#56b608}.imgSize[_ngcontent-%COMP%]{width:14px;height:auto}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}.btn-label-submit[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:172px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}.spaces[_ngcontent-%COMP%]{margin-top:20px}.moz[_ngcontent-%COMP%]{white-space:-moz-pre-space!important}"]}),e})();function Jn(e,t){if(1&e){const e=O.kc();O.jc(0,"div",50),O.jc(1,"span",51),O.jc(2,"input",52),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().globalFilterValue=t})("keyup",function(t){return O.Rc(e),O.uc().globalFilterFun(t)}),O.ic(),O.bd(3,"\xa0 "),O.ec(4,"i",53),O.ic(),O.jc(5,"span",54),O.qc("click",function(){O.Rc(e);const t=O.uc(),i=O.Oc(105);return t.showCustomizeModal(i)}),O.ec(6,"img",55),O.bd(7," \xa0Customize "),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(2),O.Bc("ngModel",e.globalFilterValue),O.Nb(4),O.Rb("cursor-pointer ",e.domainLibrary.length?"":"disabled-opa","")}}function Hn(e,t){if(1&e){const e=O.kc();O.jc(0,"th"),O.bd(1),O.ec(2,"br"),O.ec(3,"p-sortIcon",60),O.jc(4,"app-column-filter",61),O.qc("hideFilterDataBox",function(t){return O.Rc(e),O.uc(3).hideBox(t)})("filterData",function(t){return O.Rc(e),O.uc(3).getFilterData(t)})("resetFilterValues",function(t){return O.Rc(e),O.uc(3).resetFilter(t)}),O.ic(),O.jc(5,"span",62),O.jc(6,"i",63),O.qc("click",function(){O.Rc(e);const t=O.uc().$implicit;return O.uc(2).onFilterClick(t.originalValue)}),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc().$implicit,t=O.uc(2);O.Nb(1),O.dd(" ",e.displayValue,""),O.Nb(2),O.Cc("field",e.originalValue),O.Cc("pSortableColumn",e.originalValue),O.Nb(1),O.Bc("colFilterData",t.getFilterState(e.originalValue))("display",t.displayFiltersFor[e.originalValue])("fieldName",e.originalValue)("customId",e.originalValue),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"selected-filter-column":""),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function Qn(e,t){if(1&e&&(O.hc(0),O.Zc(1,Hn,7,9,"th",59),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",e.isSelected)}}function Kn(e,t){1&e&&(O.jc(0,"th",64),O.bd(1,"More"),O.ic())}function Yn(e,t){if(1&e&&(O.jc(0,"tr",56),O.Zc(1,Qn,2,1,"ng-container",57),O.jc(2,"th"),O.bd(3," Actions"),O.ic(),O.Zc(4,Kn,2,0,"th",58),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngForOf",e.customizeCols),O.Nb(3),O.Bc("ngIf",e.isMoreDisplayed)}}function Xn(e,t){if(1&e&&(O.jc(0,"td",71),O.jc(1,"span"),O.bd(2),O.ic(),O.ec(3,"br"),O.ic()),2&e){const e=O.uc().$implicit,t=O.uc().$implicit;O.Bc("title",t[e.originalValue]),O.Nb(2),O.cd(t[e.originalValue])}}function es(e,t){if(1&e&&(O.hc(0),O.Zc(1,Xn,4,2,"td",70),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",e.isSelected)}}function ts(e,t){if(1&e){const e=O.kc();O.jc(0,"td",72),O.qc("click",function(){O.Rc(e);const t=O.uc().$implicit,i=O.uc(),o=O.Oc(107);return i.openOtherField(o,t)}),O.bd(1," ..."),O.ic()}}function is(e,t){if(1&e){const e=O.kc();O.jc(0,"tr",65),O.Zc(1,es,2,1,"ng-container",57),O.jc(2,"td"),O.jc(3,"span",66),O.qc("click",function(){O.Rc(e);const i=t.$implicit;return O.uc().editDomainLibrary(i)}),O.ec(4,"i",67),O.ic(),O.jc(5,"span",66),O.qc("click",function(){O.Rc(e);const i=t.$implicit;return O.uc().deleteDomainLibrary(i)}),O.ec(6,"i",68),O.ic(),O.ic(),O.Zc(7,ts,2,0,"td",69),O.ic()}if(2&e){const e=O.uc();let t=null,i=null;O.Nb(1),O.Bc("ngForOf",e.customizeCols),O.Nb(2),O.Bc("ngClass",null!=(t=e.roleOnModule("User Settings"))&&null!=t.accessControl&&t.accessControl.includes("U")?" cursor-pointer":"disable"),O.Nb(2),O.Bc("ngClass",null!=(i=e.roleOnModule("User Settings"))&&null!=i.accessControl&&i.accessControl.includes("D")?" cursor-pointer":"disable"),O.Nb(2),O.Bc("ngIf",e.isMoreDisplayed)}}function os(e,t){1&e&&(O.jc(0,"div",73),O.bd(1," No records found "),O.ic())}function ns(e,t){if(1&e){const e=O.kc();O.jc(0,"div",74),O.jc(1,"p-paginator",75,76),O.qc("onPageChange",function(t){return O.Rc(e),O.uc().onPageChange(t)})("firstChange",function(t){return O.Rc(e),O.uc().first=t}),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("rows",10)("totalRecords",e.domainLibrary.length)("showCurrentPageReport",!0)("first",e.first)}}function ss(e,t){if(1&e&&(O.jc(0,"div",81),O.jc(1,"div"),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc(3);O.Nb(2),O.ed("Page ",e.selectedPage.page," of ",e.totalNumOfPages,"")}}function cs(e,t){if(1&e&&O.Zc(0,ss,3,2,"div",80),2&e){const e=O.uc(2);O.Bc("ngIf",e.selectedPage)}}function as(e,t){if(1&e){const e=O.kc();O.jc(0,"div",77),O.jc(1,"p-dropdown",78),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().selectedPage=t})("onChange",function(t){return O.Rc(e),O.uc().onPageNumChange(t)}),O.Zc(2,cs,1,1,"ng-template",79),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("options",e.numOfPages)("filter",!0)("ngModel",e.selectedPage)}}function rs(e,t){1&e&&(O.jc(0,"span",82),O.bd(1," Add Domain "),O.ic())}function ls(e,t){1&e&&(O.jc(0,"span",83),O.bd(1,"Please enter "),O.jc(2,"b"),O.bd(3,"Domain Name"),O.ic(),O.ic())}function ds(e,t){1&e&&(O.jc(0,"span",83),O.bd(1," Please enter valid "),O.jc(2,"b"),O.bd(3,"Domain Name"),O.ic(),O.ic())}function ps(e,t){if(1&e&&(O.jc(0,"p",83),O.Zc(1,ls,4,0,"span",28),O.Zc(2,ds,4,0,"span",28),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngIf",e.domainForm.controls.domainAccessKey.errors.required),O.Nb(1),O.Bc("ngIf",null==e.domainForm.controls.domainAccessKey.errors?null:e.domainForm.controls.domainAccessKey.errors.pattern)}}const us=function(){return{standalone:!0}};function gs(e,t){if(1&e){const e=O.kc();O.jc(0,"div",84),O.jc(1,"p-checkbox",85),O.qc("ngModelChange",function(e){return t.$implicit.checked=e})("onChange",function(){O.Rc(e);const i=t.$implicit;return O.uc().getCheckboxValue(i)}),O.ic(),O.jc(2,"label",86),O.bd(3),O.ic(),O.ic()}if(2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngModel",e.checked)("ngModelOptions",O.Ec(5,us))("name",e.ProjectName)("id",e.id),O.Nb(2),O.cd(e.ProjectName)}}function hs(e,t){1&e&&(O.jc(0,"span",83),O.bd(1,"Please select project "),O.ic())}function fs(e,t){if(1&e&&(O.jc(0,"p",83),O.Zc(1,hs,2,0,"span",28),O.ic()),2&e){const e=O.uc();O.Sb("form-field copy-ip ",e.checkedNameReq?"ng-invalid":"","\n                                 ",e.checkedNamevalid?"":"ng-invalid",""),O.Nb(1),O.Bc("ngIf",e.domainForm.controls.description.errors.required)}}function ms(e,t){1&e&&(O.jc(0,"span",82),O.bd(1," Update Domain "),O.ic())}function bs(e,t){if(1&e){const e=O.kc();O.jc(0,"div",84),O.jc(1,"p-checkbox",87),O.qc("ngModelChange",function(e){return t.$implicit.checked=e})("click",function(){O.Rc(e);const i=t.$implicit;return O.uc().getCheckboxValue(i)}),O.ic(),O.jc(2,"label",86),O.bd(3),O.ic(),O.ic()}if(2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngModel",e.checked)("value",e.checked)("ngModelOptions",O.Ec(6,us))("name",e.ProjectName)("id",e.id),O.Nb(2),O.cd(e.ProjectName)}}function Cs(e,t){1&e&&(O.jc(0,"span",88),O.ec(1,"i",89),O.bd(2," Confirmation "),O.ic())}function xs(e,t){if(1&e){const e=O.kc();O.jc(0,"div",100),O.jc(1,"table"),O.jc(2,"tr",101),O.jc(3,"td"),O.jc(4,"p-checkbox",102),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().$implicit.isSelected=t})("onChange",function(){O.Rc(e);const t=O.uc().$implicit;return O.uc(2).checkValue(t.originalValue,t.isSelected)}),O.ic(),O.ic(),O.jc(5,"td"),O.jc(6,"label"),O.bd(7),O.ic(),O.ic(),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc().$implicit,t=O.uc(2);O.Nb(4),O.Bc("ngModel",e.isSelected)("disabled",t.checkboxDisabled&&!e.isSelected),O.Nb(3),O.cd(e.displayValue)}}function vs(e,t){if(1&e&&(O.hc(0),O.Zc(1,xs,8,3,"div",99),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",!e.necessaryCol&&!e.alwaysSelected)}}function Ps(e,t){if(1&e&&(O.jc(0,"div",103),O.bd(1),O.ic()),2&e){const e=O.uc(2);O.Nb(1),O.dd("You can select up to ",e.maxCount," columns.")}}function js(e,t){if(1&e){const e=O.kc();O.jc(0,"div",90),O.jc(1,"div",91),O.Zc(2,vs,2,1,"ng-container",57),O.ic(),O.ic(),O.jc(3,"div",92),O.jc(4,"div",93),O.jc(5,"div",94),O.Zc(6,Ps,2,1,"div",95),O.ic(),O.jc(7,"div",96),O.jc(8,"div"),O.jc(9,"label",97),O.qc("click",function(){return O.Rc(e),O.uc().modalRef.hide()}),O.bd(10,"Close Customize"),O.ic(),O.jc(11,"img",98),O.qc("click",function(){return O.Rc(e),O.uc().modalRef.hide()}),O.ic(),O.ic(),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(2),O.Bc("ngForOf",e.customizeCols),O.Nb(4),O.Bc("ngIf",e.checkboxDisabled)}}function ws(e,t){if(1&e&&(O.jc(0,"div",110),O.jc(1,"table"),O.jc(2,"tr"),O.jc(3,"td",111),O.bd(4),O.ic(),O.jc(5,"td",111),O.bd(6),O.ic(),O.ic(),O.ic(),O.ic()),2&e){const e=O.uc().$implicit,t=O.uc(2);O.Nb(4),O.cd(e.displayValue),O.Nb(2),O.dd(": ",t.selectedRowData[e.originalValue],"")}}function Os(e,t){if(1&e&&(O.hc(0),O.Zc(1,ws,7,2,"div",109),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",!e.necessaryCol&&!e.isSelected)}}function Ss(e,t){if(1&e){const e=O.kc();O.jc(0,"div",104),O.jc(1,"b"),O.bd(2,"More Columns:"),O.ic(),O.ic(),O.jc(3,"div",90),O.jc(4,"div",105),O.Zc(5,Os,2,1,"ng-container",57),O.ic(),O.ic(),O.jc(6,"div",92),O.jc(7,"div",106),O.qc("click",function(){return O.Rc(e),O.uc().modalRef.hide()}),O.jc(8,"label",107),O.bd(9,"Close"),O.ic(),O.ec(10,"img",108),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(5),O.Bc("ngForOf",e.customizeCols)}}function ys(e,t){if(1&e){const e=O.kc();O.hc(0),O.jc(1,"div",100),O.jc(2,"table"),O.jc(3,"tr",101),O.jc(4,"td"),O.jc(5,"p-checkbox",116),O.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return O.Rc(e),O.uc(2).pdfColsValue()}),O.ic(),O.ic(),O.jc(6,"td"),O.jc(7,"label"),O.bd(8),O.ic(),O.ic(),O.ic(),O.ic(),O.ic(),O.gc()}if(2&e){const e=t.$implicit,i=O.uc(2);O.Nb(5),O.Bc("ngModel",e.pdfCols)("disabled",i.pdfCheckboxDisabled&&!e.pdfCols),O.Nb(3),O.cd(e.displayValue)}}function Ms(e,t){1&e&&(O.jc(0,"div",103),O.bd(1,"You can select up to 9 columns."),O.ic())}function Ns(e,t){if(1&e){const e=O.kc();O.jc(0,"div",104),O.jc(1,"span",82),O.bd(2,"Please select columns that need to be downloaded in PDF"),O.ic(),O.ic(),O.jc(3,"div",112),O.jc(4,"div",91),O.Zc(5,ys,9,3,"ng-container",57),O.ic(),O.ic(),O.jc(6,"div",92),O.jc(7,"div",93),O.jc(8,"div",113),O.Zc(9,Ms,2,0,"div",95),O.ic(),O.jc(10,"div",114),O.jc(11,"button",115),O.qc("click",function(){O.Rc(e);const t=O.uc();return t.exportPdf(),t.modalRef.hide()}),O.ic(),O.ic(),O.jc(12,"div",96),O.jc(13,"div"),O.jc(14,"label",97),O.qc("click",function(){return O.Rc(e),O.uc().closeExportPdf()}),O.bd(15,"Close"),O.ic(),O.jc(16,"img",98),O.qc("click",function(){return O.Rc(e),O.uc().closeExportPdf()}),O.ic(),O.ic(),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(5),O.Bc("ngForOf",e.customizeCols),O.Nb(4),O.Bc("ngIf",e.pdfCheckboxDisabled),O.Nb(2),O.Bc("disabled",e.disableDownloadBtn)}}const ks=function(){return{width:"100%"}},Ds=function(){return{width:"50vw"}};m.a.vfs=C.a.pdfMake.vfs;let Fs=(()=>{class e{constructor(e,t,i,o,s,c,a,r,l,d,p){this.modalService=e,this.spinner=t,this.domainService=i,this.router=o,this.detectChanges=s,this.filterService=c,this.formBuilder=a,this.domainProj=r,this.datePipe=l,this.homeServiceService=d,this.messages=p,this.selectedProjId="",this.totalNumOfPages=0,this.domainLibrary=[],this.mainDomainLibrary=[],this.pageWiseDomainLibrary=[],this.first=0,this.pageSize=9,this.maxCount=4,this.checkboxDisabled=!1,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.deleteModal=!1,this.filterData={},this.deleteDomainLib=[],this.columnFilter={},this.scrollHt="300px",this.displayFiltersFor={DomainId:!1,DomainName:!1,IsGlobalDomain:!1,ProjectIds:!1},this.projectNames=[],this.multiSortMeta=[{field:"DomainId",order:-1}],this.pdfData=[],this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols=[{displayValue:"Domain Id",originalValue:"DomainId",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Domain Name",originalValue:"DomainName",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Is Global Domain",originalValue:"IsGlobalDomain",isSelected:!0,necessaryCol:!1,alwaysSelected:!1},{displayValue:"Project Ids",originalValue:"ProjectIds",isSelected:!0,necessaryCol:!1,alwaysSelected:!1}],this.display=!1,this.querySelectedValues=[],this.querySelectedValues1=!1,this.getDataProjectList=[],this.getselectedCheckbox=[],this.updatedCheckbox=[],this.checkedNamevalid=!1,this.checkedNameReq=!1,this.customSortArr=[],this.noRecordFound=!1,this.domainForm=this.formBuilder.group({domainAccessKey:new n.f("",[n.w.required]),description:new n.f("",[]),IsGlobalDomain:new n.f("",[]),ProjectIds:new n.f("",[])}),this.updatedomainForm=this.formBuilder.group({domainAccessKey:new n.f("",[n.w.required]),description:new n.f("",[]),IsGlobalDomain:new n.f("",[]),ProjectIds:new n.f("",[])})}ngOnInit(){var e;this.domainProj.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData"),sessionStorage.removeItem("connDet"),this.appId=sessionStorage.getItem("idApp"),sessionStorage.getItem("userDetail")&&(this.userDetails=JSON.parse(sessionStorage.getItem("userDetail"))),this.fromDate=new Date,this.fromDate.setDate((new Date).getDate()-30),this.toDate=new Date,this.toDate.setDate((new Date).getDate()+1),this.maxDate=new Date,this.maxDate.setDate((new Date).getDate()+3),this.projectNames=this.homeServiceService.getProjectList(),this.projectNames.map(e=>{e.domainProject=e.domainName+"-"+e.projectName,e.domainAndProjectId=e.domainId+"_"+e.idProject,e.domainAndProjectName=e.domainName+"-"+e.projectName}),this.getDomainList(),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(e=>{e.accessControl=e.accessControl.split("-")})))}ngOnDestroy(){}ngOnChanges(){this.getDomainList()}roleOnModule(e){return this.roleModule.find(t=>t.moduleName===e)}getCheckboxValue(e){this.checkedNameReq=!0,this.checkedNamevalid=!0,this.getSelectedObjValue=e.id,this.getselectedCheckbox.push(this.getSelectedObjValue),this.updatedomainForm.controls.ProjectIds.markAsTouched(),this.updatedomainForm.controls.ProjectIds.markAsDirty(),this.updatedomainForm.updateValueAndValidity(),this.updatedomainForm.controls.ProjectIds.updateValueAndValidity()}hideBox(e){this.displayFiltersFor[e.fieldName]=!1}getDomainList(){return Object(ao.a)(this,void 0,void 0,function*(){this.pageWiseDomainLibrary=[];const e={projectId:this.selectedProjId.split("_")[1]},t=[];this.getDataProjectList=[],this.domainService.getDomainList("loadDomainRecordList",e).subscribe(e=>{if("Success"===e.status){this.spinner.hide(),this.spinner.hide()&&(this.noRecordFound=!0),t.push(e.result),this.getDataProjectList.push(t[0].ProjectData);const i=Object.keys(t[0].ProjectData);this.getDataProjectListNew=[],i.forEach(e=>{const i=t[0].ProjectData[e];i.id=e,i.checked=!1,this.getDataProjectListNew.push(i)});const o=[];e.result.DataSet.map(e=>{e.DomainId=parseInt(e.DomainId),o.push(e)}),this.mainDomainLibrary=[...o],this.domainLibrary=[...this.mainDomainLibrary],this.pdfData=[...this.mainDomainLibrary],this.totalRecords=this.domainLibrary.length;const n=this.first+this.pageSize;null!=this.filterObj&&this.filterObj.forEach(e=>{this.domainLibrary=this.domainLibrary.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))});const s=this.domainLibrary.filter((e,t)=>t<=n);this.pageWiseDomainLibrary=[...s],this.calculateNumOfPages(),this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}else this.mainDomainLibrary=[],this.domainLibrary=[],this.pageWiseDomainLibrary=[]})})}get ordersFormArray(){return this.domainForm.controls.orders}editDomainLibrary(e){let t=[];this.display=!1,this.displayForUpdate=!0,this.domainDetail=e,null===e.ProjectIds||(t=e.ProjectIds.split(",")),this.getDataProjectListNew.forEach((e,i)=>{e.checked=!1,t.forEach(t=>{e.id===t&&(e.checked=!0),this.getDataProjectListNew.filter(e=>!0===e.checked)})}),this.updatedomainForm.patchValue({domainAccessKey:e.DomainName,description:e.DomainDescription,IsGlobalDomain:"Yes"===e.IsGlobalDomain})}createDomain(){this.getselectedCheckbox=[],this.getDataProjectListNew.forEach((e,t)=>{e.checked=!1}),this.display=!0,this.router.url.includes("dbckangui/login"),this.domainForm.reset(),this.domainForm.updateValueAndValidity(),this.displayForUpdate=!1}onCancel(){this.display=!1}onCancelUpdate(){this.displayForUpdate=!1}calculateNumOfPages(){if(this.totalNumOfPages=this.mainDomainLibrary.length?this.mainDomainLibrary.length<this.pageSize?1:Math.ceil(this.mainDomainLibrary.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}onFilterClick(e){Object.keys(this.displayFiltersFor).map(t=>{this.displayFiltersFor[t]=t===e})}openOtherField(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}showCustomizeModal(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}get isMoreDisplayed(){let e=[];return e=this.customizeCols.length?this.customizeCols.filter(e=>e.isSelected):[],this.customizeCols.length!==e.length}resetFilter(e){this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.domainLibrary=[...this.mainDomainLibrary],t.forEach(e=>{this.domainLibrary=this.domainLibrary.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}getFilterData(e){this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.storeFilterValue=t,this.displayFiltersFor[e[0]]=!1,this.first=0,this.globalFilterValue||(this.domainLibrary=[...this.mainDomainLibrary]),t.forEach(e=>{this.domainLibrary=this.domainLibrary.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}globalFilterFun(e){const t=[...this.globalFilterLogic()],i=this.first+this.pageSize,o=t.filter((e,t)=>t<=i);this.detectChanges.detectChanges(),this.pageWiseDomainLibrary=[...o],this.setPageNumber()}globalFilterLogic(){if(this.mainDomainLibrary.length){const e=Object.keys(this.mainDomainLibrary[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainDomainLibrary.forEach(t=>{let i=!1;e.forEach(e=>{t[e]&&t[e].toString().toLowerCase().includes(this.globalFilterValue.toLowerCase())&&!i&&(this.filterValue.push(t),i=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.domainLibrary=[...this.filterValue],this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=[...this.mainDomainLibrary],this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.domainLibrary=[...this.filterValue],this.calculateNumOfPages(),this.domainLibrary}return[]}getFilterState(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){const t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}setPageNumber(){if(this.totalNumOfPages=this.domainLibrary.length?this.domainLibrary.length<this.pageSize?1:Math.ceil(this.domainLibrary.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}const e=this.first+this.pageSize,t=this.domainLibrary.filter((t,i)=>i<=e);this.pageWiseDomainLibrary=[...t]}customSort(e){this.sortField=e.field,this.sortOrder=e.order,this.sortMode=e.mode,this.customSortArr.filter(t=>t.field=e.field)[0]?this.customSortArr.map(t=>{t.order=e.order}):this.customSortArr.push(e);const t=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=t+1,this.selectedPage.pageIndex=t,this.sortOrderEvent=e;const i=[...this.domainLibrary],o=[...this.sortOrderEvent.multiSortMeta];o.length>=3&&(e.multiSortMeta=e.multiSortMeta.splice(3,1)),1===o.length?i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]?-o[0].order:0):2===o.length?i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]?-o[1].order:0):3===o.length&&i.sort((e,t)=>e[o[0].field]>t[o[0].field]?o[0].order:t[o[0].field]>e[o[0].field]&&-o[0].order||e[o[1].field]>t[o[1].field]?o[1].order:t[o[1].field]>e[o[1].field]&&-o[1].order||e[o[2].field]>t[o[2].field]?o[2].order:t[o[2].field]>e[o[2].field]?-o[2].order:0);const n=this.first+this.pageSize,s=i.filter((e,t)=>{if(t<=n&&t>=this.first)return e});this.pageWiseDomainLibrary=[...s]}openExportPdf(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}closeExportPdf(){this.modalRef.hide(),setTimeout(()=>{this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols.forEach(e=>e.pdfCols=!1)},1e3)}exportPdf(){this.pdfData.length&&(this.spinner.show(),setTimeout(()=>{const e=new w.default("l","pt"),t=this.customizeCols.filter(e=>e.pdfCols),i=[];t.forEach(e=>i.push(e.displayValue));const o=[];t.forEach(e=>o.push(e.originalValue));let n=[];n=this.pdfData.map(e=>Object.assign(o.map(t=>e[t])));const s=e.internal.pageSize,c=s.height?s.height:s.getHeight();j()(e,{columns:i,body:n,didDrawPage:t=>{1==t.pageNumber&&(e.text("Domain Library",e.internal.pageSize.width/2,25,null,"center"),e.setFontSize(10)),e.setFontSize(9),e.text("Created by FirstEigen",e.internal.pageSize.width-40,c-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}},columnStyles:{}}),e.save("Domain Library.pdf"),this.disableDownloadBtn=!0,this.pdfCheckboxDisabled=!1,t.forEach(e=>e.pdfCols=!1),this.spinner.hide()},2e3))}pdfColsValue(){this.pdfCheckCount=0,this.customizeCols.filter(e=>!0===e.pdfCols).forEach(e=>{!0===e.pdfCols&&this.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}onSubmit(){if(0!=this.getselectedCheckbox.length){this.displayForUpdate=!1,this.display=!0;const e={Context:"DataSave",Data:{IsGlobalDomain:!0===this.domainForm.value.IsGlobalDomain?"Yes":"No",DomainId:"-1",DomainName:this.domainForm.value.domainAccessKey,ProjectIds:this.getselectedCheckbox.toString(),DomainDescription:null===this.domainForm.value.description?"":this.domainForm.value.description}};this.domainService.createDomainList("mainDomainHandler",e).subscribe(e=>{!0===e.status?this.successToasty(e.message):this.messages.displayToaster(e.message,"error","Failed"),this.first=0,this.display=!1,this.displayForUpdate=!1,this.getDomainList()})}else this.messages.displayToaster("Please Select Project Id","error","Failed")}onUpdate(){this.displayForUpdate=!0,this.display=!1;const e=[];for(let i=0;i<this.getDataProjectListNew.length;i++)!0===this.getDataProjectListNew[i].checked&&e.push(this.getDataProjectListNew[i].id);const t={Context:"DataSave",Data:{IsGlobalDomain:!0===this.updatedomainForm.value.IsGlobalDomain?"Yes":"No",DomainId:this.domainDetail.DomainId.toString(),DomainName:this.updatedomainForm.value.domainAccessKey,ProjectIds:e.toString(),DomainDescription:null===this.updatedomainForm.value.description?"":this.updatedomainForm.value.description}};this.domainService.createDomainList("mainDomainHandler",t).subscribe(e=>{this.display=!1,!0===e.status?this.successToasty(e.message):this.messages.displayToaster(e.message,"error","Failed"),this.displayForUpdate=!1,this.getDomainList()})}downloadCSV(){this.domainService.downloadCSVDomain("domainCSV").subscribe(e=>Object(h.saveAs)(e,"DataDomain.csv"))}checkValue(e,t){this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount,this.colSpanCount=this.customizeCols.filter(e=>!0===e.isSelected).length,null!=this.storeFilterValue&&this.storeFilterValue.map(i=>{i==e&&0==t&&this.resetFilter(e)})}deleteDomainLibrary(e){this.deleteModal=!0,this.deleteDomainLib=e}deleteConfirm(){this.deleteModal=!1;const e={Context:"DataDelete",Data:{IsGlobalDomain:this.deleteDomainLib.IsGlobalDomain,DomainId:this.deleteDomainLib.DomainId.toString(),DomainName:this.deleteDomainLib.DomainName,ProjectIds:this.deleteDomainLib.ProjectIds,DomainDescription:this.deleteDomainLib.DomainDescription}};this.domainService.deleteDomain("mainDomainHandler",e).subscribe(e=>{!0===e.status?this.successToasty(e.message):this.messages.displayToaster(e.message,"error","Failed"),this.getDomainList()})}onPageNumChange(e){this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.pageWiseDomainLibrary=[...o]}getSortedData(){const e=[...this.domainLibrary];return this.sortOrderEvent?1===this.sortOrderEvent.order?(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?-1:0),e):(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?-1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?1:0),e):e}onPageChange(e){this.first=e.first;const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseDomainLibrary=[...o]}successToasty(e){this.messages.displayToaster(e,"success","Success")}filterColumnNameWithHighlightName(e){return!(Object.keys(this.columnFilter).findIndex(t=>t===e)<0)}}return e.\u0275fac=function(t){return new(t||e)(O.dc(N.a),O.dc(y.c),O.dc(gn),O.dc(s.i),O.dc(O.h),O.dc(M.d),O.dc(n.e),O.dc(k.a),O.dc(o.d),O.dc(ci.a),O.dc(lo.a))},e.\u0275cmp=O.Xb({type:e,selectors:[["app-domain-library"]],features:[O.Lb],decls:110,vars:53,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","text-right"],["pButton","","type","button","label","Add",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn",3,"ngClass","click"],[1,"d-flex","justify-content-end","p-field","br-top"],[1,""],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],["id","view_data_temp",1,"row","p-field"],[1,"col-sm-12","mr-top-20","pd-0"],["styleClass","p-datatable-gridlines p-datatable-striped","sortMode","multiple",3,"value","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","multiSortMeta","rows","first","customSort","firstChange","sortFunction"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],[3,"formGroup"],[1,"form-row"],[1,"col","container-fluid"],[1,"col-md-11","form-group","p-field"],["for","domainAccessKey",1,"form-label"],[1,"req-field"],["id","domainAccessKey","pInputText","","formControlName","domainAccessKey","maxlength","50","placeholder","Enter Domain Name","type","text","pattern","^\\S+(?: \\S+)*$",1,"form-field"],["class","err-msg",4,"ngIf"],["for","description",1,"form-label"],["id","description","pInputText","","formControlName","description","placeholder","Enter Description","type","text",1,"form-field"],[1,"col-md-12"],["for",""],[1,"card","form-row","inputSpace","overflow-scroll"],[1,"form-group","p-field","height-150"],["class","p-field-checkbox",4,"ngFor","ngForOf"],["class","err-msg",3,"class",4,"ngIf"],[1,"p-field-checkbox","col-md-6","form-group"],["formControlName","IsGlobalDomain","binary","true","inputId","binary"],["for","query",1,"form-label","margin-checkbox"],[1,"note","row","p-field"],[1,"col-sm-12","col-md-12","mr-top","text-left"],["pButton","","type","button","label","Create Domain",1,"button","w-button","btn-mr-rt","submit-btn","btn-label",3,"disabled","click"],["pButton","","type","button","label","Cancel",1,"cancelButton","w-button","btn-mr-rt","submit-btn","btn-label","btn-cancel",3,"click"],["id","domainAccessKey","readonly","","pInputText","","formControlName","domainAccessKey","placeholder","Enter Domain Name","type","text",1,"cursor-not","form-field"],["pButton","","type","button","label","Update Domain",1,"button","w-button","btn-mr-rt","submit-btn","btn-label",3,"disabled","click"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],["template",""],["moreTrigger",""],["exportPdfTemplate",""],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"float-right",3,"click"],["src","assets/images/Vector.png","width","25px"],[1,"header"],[4,"ngFor","ngForOf"],["class","min_width_50",4,"ngIf"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"min_width_50"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil","iconColor"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],["class","more-display min_width_50",3,"click",4,"ngIf"],["class","text-center word_break_word_all",3,"title",4,"ngIf"],[1,"text-center","word_break_word_all",3,"title"],[1,"more-display","min_width_50",3,"click"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title"],[1,"err-msg"],[1,"p-field-checkbox"],["binary","true","inputId","binary","required","",3,"ngModel","ngModelOptions","name","id","ngModelChange","onChange"],["for","checkbox.DomainId",1,"form-label","mar"],["binary","true","inputId","checkbox.id",3,"ngModel","value","ngModelOptions","name","id","ngModelChange","click"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],[1,"modal-body"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-8"],["class","color-code",4,"ngIf"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname","value","customizeCols[col.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"],[1,"modal-header"],[1,"row","padding-btm1"],[3,"click"],[1,"cursor-pointer"],["src","assets/images/close.png",1,"margin-l","cursor-pointer"],["class","col-sm-6 padding-btm3",4,"ngIf"],[1,"col-sm-6","padding-btm3"],[1,"field-dis-val"],[1,"modal-body","pdf-modal"],[1,"col-lg-4"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"]],template:function(e,t){if(1&e){const e=O.kc();O.jc(0,"div",0),O.jc(1,"div",1),O.jc(2,"div",2),O.jc(3,"p",3),O.bd(4," Domains "),O.ic(),O.ic(),O.jc(5,"div",4),O.jc(6,"p",3),O.jc(7,"button",5),O.qc("click",function(){return t.createDomain()}),O.ic(),O.ic(),O.ic(),O.ic(),O.jc(8,"div",6),O.jc(9,"div",7),O.jc(10,"a"),O.jc(11,"img",8),O.qc("click",function(){return t.downloadCSV()}),O.ic(),O.ic(),O.jc(12,"a"),O.jc(13,"img",9),O.qc("click",function(){O.Rc(e);const i=O.Oc(109);return t.openExportPdf(i)}),O.ic(),O.ic(),O.ic(),O.ic(),O.jc(14,"div",10),O.jc(15,"div",11),O.jc(16,"p-table",12),O.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),O.Zc(17,Jn,8,4,"ng-template",13),O.Zc(18,Yn,5,2,"ng-template",14),O.Zc(19,is,8,4,"ng-template",15),O.ic(),O.ic(),O.Zc(20,os,2,0,"div",16),O.jc(21,"div",17),O.Zc(22,ns,3,4,"div",18),O.Zc(23,as,3,3,"div",19),O.ic(),O.ic(),O.jc(24,"p-dialog",20),O.qc("visibleChange",function(e){return t.display=e}),O.Zc(25,rs,2,0,"ng-template",14),O.jc(26,"form",21),O.jc(27,"div",22),O.jc(28,"div",23),O.jc(29,"div",24),O.jc(30,"label",25),O.bd(31,"Domain Name"),O.jc(32,"sup",26),O.bd(33,"*"),O.ic(),O.ic(),O.ec(34,"input",27),O.Zc(35,ps,3,2,"p",28),O.ic(),O.jc(36,"div",24),O.jc(37,"label",29),O.bd(38,"Description "),O.ic(),O.ec(39,"input",30),O.ic(),O.ic(),O.jc(40,"div",23),O.jc(41,"div",31),O.jc(42,"label",32),O.bd(43," Projects belong to Domain:"),O.ic(),O.jc(44,"div",33),O.jc(45,"div",34),O.Zc(46,gs,4,6,"div",35),O.Zc(47,fs,2,5,"p",36),O.ic(),O.ic(),O.ic(),O.ic(),O.ic(),O.jc(48,"div",22),O.jc(49,"div",23),O.jc(50,"div",37),O.ec(51,"p-checkbox",38),O.jc(52,"label",39),O.bd(53,"Global Domain"),O.ic(),O.ic(),O.ic(),O.ic(),O.ic(),O.jc(54,"div",40),O.jc(55,"div",41),O.jc(56,"p"),O.bd(57,"Note: Fields marked with "),O.jc(58,"b"),O.bd(59,'"*"'),O.ic(),O.bd(60," are required. "),O.ic(),O.ic(),O.ic(),O.jc(61,"p-footer"),O.jc(62,"button",42),O.qc("click",function(){return t.onSubmit()}),O.ic(),O.jc(63,"button",43),O.qc("click",function(){return t.onCancel()}),O.ic(),O.ic(),O.ic(),O.jc(64,"p-dialog",20),O.qc("visibleChange",function(e){return t.displayForUpdate=e}),O.Zc(65,ms,2,0,"ng-template",14),O.jc(66,"form",21),O.jc(67,"div",22),O.jc(68,"div",23),O.jc(69,"div",24),O.jc(70,"label",25),O.bd(71,"Domain Name"),O.jc(72,"sup",26),O.bd(73,"*"),O.ic(),O.ic(),O.ec(74,"input",44),O.ic(),O.jc(75,"div",24),O.jc(76,"label",29),O.bd(77,"Description "),O.ic(),O.ec(78,"input",30),O.ic(),O.ic(),O.jc(79,"div",23),O.jc(80,"div",31),O.jc(81,"label",32),O.bd(82," Projects belong to Domain:"),O.ic(),O.jc(83,"div",33),O.jc(84,"div",34),O.Zc(85,bs,4,7,"div",35),O.ic(),O.ic(),O.ic(),O.ic(),O.ic(),O.jc(86,"div",22),O.jc(87,"div",23),O.jc(88,"div",37),O.ec(89,"p-checkbox",38),O.jc(90,"label",39),O.bd(91,"Global Domain"),O.ic(),O.ic(),O.ic(),O.ic(),O.ic(),O.jc(92,"p-footer"),O.jc(93,"button",45),O.qc("click",function(){return t.onUpdate()}),O.ic(),O.jc(94,"button",43),O.qc("click",function(){return t.onCancelUpdate()}),O.ic(),O.ic(),O.ic(),O.jc(95,"p-dialog",20),O.qc("visibleChange",function(e){return t.deleteModal=e}),O.Zc(96,Cs,3,0,"ng-template",14),O.jc(97,"p"),O.bd(98,"Are you sure you want to delete Domain Library "),O.jc(99,"b"),O.bd(100),O.ic(),O.bd(101,"?"),O.ic(),O.jc(102,"p-footer"),O.jc(103,"button",46),O.qc("click",function(){return t.deleteConfirm()}),O.ic(),O.ic(),O.ic(),O.Zc(104,js,12,2,"ng-template",null,47,O.ad),O.Zc(106,Ss,11,1,"ng-template",null,48,O.ad),O.ic(),O.Zc(108,Ns,17,3,"ng-template",null,49,O.ad)}if(2&e){let e=null;O.Nb(7),O.Bc("ngClass",null!=(e=t.roleOnModule("User Settings"))&&null!=e.accessControl&&e.accessControl.includes("C")?" cursor-pointer":"disable"),O.Nb(3),O.Rb("w-inline-block cursor-pointer float-right ",t.pageWiseDomainLibrary.length?"":"disabled-opa",""),O.Nb(2),O.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseDomainLibrary&&t.pageWiseDomainLibrary.length?"":"disabled-opa",""),O.Nb(4),O.Vc(O.Ec(51,ks)),O.Bc("value",t.pageWiseDomainLibrary)("responsive",!0)("rowHover",!0)("sortField","DomainId")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("multiSortMeta",t.multiSortMeta)("rows",10)("first",t.first)("filterDelay",0)("customSort",!0),O.Nb(4),O.Bc("ngIf",!t.pageWiseDomainLibrary.length&&t.noRecordFound),O.Nb(2),O.Bc("ngIf",t.pageWiseDomainLibrary.length),O.Nb(1),O.Bc("ngIf",t.pageWiseDomainLibrary.length),O.Nb(1),O.Bc("visible",t.display)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!0),O.Nb(2),O.Bc("formGroup",t.domainForm),O.Nb(9),O.Bc("ngIf",t.domainForm.controls.domainAccessKey.invalid&&!t.domainForm.controls.domainAccessKey.pristine),O.Nb(11),O.Bc("ngForOf",t.getDataProjectListNew),O.Nb(1),O.Bc("ngIf",t.domainForm.controls.description.invalid&&!t.domainForm.controls.description.pristine),O.Nb(15),O.Bc("disabled",!t.domainForm.valid),O.Nb(2),O.Bc("visible",t.displayForUpdate)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!0),O.Nb(2),O.Bc("formGroup",t.updatedomainForm),O.Nb(19),O.Bc("ngForOf",t.getDataProjectListNew),O.Nb(8),O.Bc("disabled",!t.updatedomainForm.valid||!t.updatedomainForm.dirty),O.Nb(2),O.Vc(O.Ec(52,Ds)),O.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),O.Nb(5),O.dd("",t.deleteDomainLib.DomainName," ")}},directives:[D.b,o.l,F.f,M.i,o.n,_.a,n.x,n.p,n.i,n.d,I.a,n.o,n.g,n.k,n.t,o.m,R.a,M.e,n.r,F.d,F.e,V.a,l.a,r.a,n.v],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.cursor-not[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.mar[_ngcontent-%COMP%]{margin-left:5px;margin-bottom:-10px}.note[_ngcontent-%COMP%]{text-align:left!important;font-size:13px;color:#eb5454;margin-left:-28px!important;margin-top:30px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56;margin-top:10px}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.deltaStatus[_ngcontent-%COMP%]{border-radius:3px;color:#eef1f5;font-size:10px;padding:1.5px}.approved[_ngcontent-%COMP%]{background-color:#56b608}.revire-waiting[_ngcontent-%COMP%]{background-color:red}.rejected[_ngcontent-%COMP%]{background-color:#e72b56;border-radius:3px;color:#eef1f5}.iconColorOnFailed[_ngcontent-%COMP%]{color:#e72b56}.imgOnSuccess[_ngcontent-%COMP%]{color:#56b608}.imgSize[_ngcontent-%COMP%]{width:14px;height:auto}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.btn-cancel[_ngcontent-%COMP%]{margin-right:10px;background-color:#eb5454!important}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.p-dialog[_ngcontent-%COMP%]{border-radius:14px;height:80vh!important;box-shadow:none!important;max-width:100%!important}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}.spaces[_ngcontent-%COMP%]{margin-top:20px}.margin-checkbox[_ngcontent-%COMP%]{margin-top:.5rem!important;margin-bottom:0!important;padding-left:10px!important}.overflow-scroll[_ngcontent-%COMP%]{overflow:scroll}.height-150[_ngcontent-%COMP%]{height:150px}.req-field[_ngcontent-%COMP%]{color:#eb5454;font-weight:700!important}"]}),e})();var _s=i("E+E9");let Is=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=O.Xb({type:e,selectors:[["app-user-settings-main"]],decls:3,vars:0,consts:[[1,"content-wrapper","top"]],template:function(e,t){1&e&&(O.jc(0,"div",0),O.ec(1,"app-main-header"),O.ec(2,"router-outlet"),O.ic())},directives:[_s.a,s.m],styles:[""]}),e})();function Vs(e,t){if(1&e){const e=O.kc();O.jc(0,"div",23),O.jc(1,"span",24),O.jc(2,"input",25),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().globalFilterValue=t})("keyup",function(t){return O.Rc(e),O.uc().globalFilterFun(t)}),O.ic(),O.bd(3,"\xa0 "),O.ec(4,"i",26),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(2),O.Bc("ngModel",e.globalFilterValue)}}function Rs(e,t){if(1&e){const e=O.kc();O.jc(0,"th"),O.bd(1),O.ec(2,"br"),O.ec(3,"p-sortIcon",30),O.jc(4,"app-column-filter",31),O.qc("hideFilterDataBox",function(t){return O.Rc(e),O.uc(3).hideBox(t)})("filterData",function(t){return O.Rc(e),O.uc(3).getFilterData(t)})("resetFilterValues",function(t){return O.Rc(e),O.uc(3).resetFilter(t)}),O.ic(),O.jc(5,"span",32),O.jc(6,"i",33),O.qc("click",function(){O.Rc(e);const t=O.uc().$implicit;return O.uc(2).onFilterClick(t.originalValue)}),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc().$implicit,t=O.uc(2);O.Nb(1),O.dd(" ",e.displayValue,""),O.Nb(2),O.Cc("field",e.originalValue),O.Cc("pSortableColumn",e.originalValue),O.Nb(1),O.Bc("colFilterData",t.getFilterState(e.originalValue))("display",t.displayFiltersFor[e.originalValue])("fieldName",e.originalValue)("customId",e.originalValue),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"selected-filter-column":""),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function Ls(e,t){if(1&e&&(O.hc(0),O.Zc(1,Rs,7,9,"th",29),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",e.isSelected)}}function Bs(e,t){if(1&e&&(O.jc(0,"tr",27),O.Zc(1,Ls,2,1,"ng-container",28),O.jc(2,"th"),O.bd(3," Actions"),O.ic(),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngForOf",e.customizeCols)}}function Es(e,t){if(1&e&&(O.jc(0,"td",39),O.jc(1,"span"),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc().$implicit,t=O.uc().$implicit;O.Bc("ngClass","projectDescription"==e.originalValue?"rule-ellipsis":"")("title",t[e.originalValue]),O.Nb(2),O.cd(t[e.originalValue])}}function zs(e,t){if(1&e&&(O.hc(0),O.Zc(1,Es,3,3,"td",38),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",e.isSelected)}}function Ts(e,t){if(1&e){const e=O.kc();O.jc(0,"tr",34),O.Zc(1,zs,2,1,"ng-container",28),O.jc(2,"td"),O.jc(3,"span",35),O.qc("click",function(){O.Rc(e);const i=t.$implicit;return O.uc().editProject(i)}),O.ec(4,"i",36),O.ic(),O.jc(5,"span",35),O.qc("click",function(){O.Rc(e);const i=t.$implicit;return O.uc().deleteProject(i)}),O.ec(6,"i",37),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();let t=null,i=null;O.Nb(1),O.Bc("ngForOf",e.customizeCols),O.Nb(2),O.Bc("ngClass",null!=(t=e.roleOnModule("User Settings"))&&null!=t.accessControl&&t.accessControl.includes("U")?" cursor-pointer":"disable"),O.Nb(2),O.Bc("ngClass",null!=(i=e.roleOnModule("User Settings"))&&null!=i.accessControl&&i.accessControl.includes("D")?" cursor-pointer":"disable")}}function qs(e,t){1&e&&(O.jc(0,"div",40),O.bd(1," No records found "),O.ic())}function Zs(e,t){if(1&e){const e=O.kc();O.jc(0,"div",41),O.jc(1,"p-paginator",42,43),O.qc("onPageChange",function(t){return O.Rc(e),O.uc().onPageChange(t)})("firstChange",function(t){return O.Rc(e),O.uc().first=t}),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("rows",10)("totalRecords",e.projectList.length)("showCurrentPageReport",!0)("first",e.first)}}function Us(e,t){if(1&e&&(O.jc(0,"div",48),O.jc(1,"div"),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc(3);O.Nb(2),O.ed("Page ",e.selectedPage.page," of ",e.totalNumOfPages,"")}}function As(e,t){if(1&e&&O.Zc(0,Us,3,2,"div",47),2&e){const e=O.uc(2);O.Bc("ngIf",e.selectedPage)}}function Ws(e,t){if(1&e){const e=O.kc();O.jc(0,"div",44),O.jc(1,"p-dropdown",45),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().selectedPage=t})("onChange",function(t){return O.Rc(e),O.uc().onPageNumChange(t)}),O.Zc(2,As,1,1,"ng-template",46),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("options",e.numOfPages)("filter",!0)("ngModel",e.selectedPage)}}function Gs(e,t){1&e&&(O.jc(0,"span",49),O.ec(1,"i",50),O.bd(2," Confirmation "),O.ic())}function $s(e,t){if(1&e){const e=O.kc();O.hc(0),O.jc(1,"div",64),O.jc(2,"table"),O.jc(3,"tr",65),O.jc(4,"td"),O.jc(5,"p-checkbox",66),O.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return O.Rc(e),O.uc(2).pdfColsValue()}),O.ic(),O.ic(),O.jc(6,"td"),O.jc(7,"label"),O.bd(8),O.ic(),O.ic(),O.ic(),O.ic(),O.ic(),O.gc()}if(2&e){const e=t.$implicit,i=O.uc(2);O.Nb(5),O.Bc("ngModel",e.pdfCols)("disabled",i.pdfCheckboxDisabled&&!e.pdfCols),O.Nb(3),O.cd(e.displayValue)}}function Js(e,t){1&e&&(O.jc(0,"div",67),O.bd(1,"You can select up to 9 columns."),O.ic())}function Hs(e,t){if(1&e){const e=O.kc();O.jc(0,"div",51),O.jc(1,"span",52),O.bd(2,"Please select columns that need to be downloaded in PDF"),O.ic(),O.ic(),O.jc(3,"div",53),O.jc(4,"div",54),O.Zc(5,$s,9,3,"ng-container",28),O.ic(),O.ic(),O.jc(6,"div",55),O.jc(7,"div",56),O.jc(8,"div",57),O.Zc(9,Js,2,0,"div",58),O.ic(),O.jc(10,"div",59),O.jc(11,"button",60),O.qc("click",function(){O.Rc(e);const t=O.uc();return t.exportPdf(),t.modalRef.hide()}),O.ic(),O.ic(),O.jc(12,"div",61),O.jc(13,"div"),O.jc(14,"label",62),O.qc("click",function(){return O.Rc(e),O.uc().closeExportPdf()}),O.bd(15,"Close"),O.ic(),O.jc(16,"img",63),O.qc("click",function(){return O.Rc(e),O.uc().closeExportPdf()}),O.ic(),O.ic(),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(5),O.Bc("ngForOf",e.customizeCols),O.Nb(4),O.Bc("ngIf",e.pdfCheckboxDisabled),O.Nb(2),O.Bc("disabled",e.disableDownloadBtn)}}const Qs=function(){return{width:"100%"}},Ks=function(){return{width:"50vw"}};m.a.vfs=C.a.pdfMake.vfs;let Ys=(()=>{class e{constructor(e,t,i,o,n,s,c,a){this.userSettingsService=e,this.spinner=t,this.filterService=i,this.datePipe=o,this.modalService=n,this.router=s,this.cdr=c,this.domainProj=a,this.projectNames=[],this.projectList=[],this.mainUsersList=[],this.pageWiseProjects=[],this.display=!1,this.deleteModal=!1,this.deleteProjectObj={},this.globalRuleObjToCopy={},this.first=0,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.pageSize=9,this.totalNumOfPages=0,this.checkboxDisabled=!1,this.maxCount=4,this.displayFiltersFor={idProject:!1,projectName:!1,projectDescription:!1,domainId:!1},this.customizeCols=[{displayValue:"Project Id",originalValue:"idProject",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Project Name",originalValue:"projectName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Description",originalValue:"projectDescription",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Domain Id",originalValue:"domainId",isSelected:!0,necessaryCol:!0,alwaysSelected:!0}],this.pdfData=[],this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.columnFilter={},this.scrollHt="300px",this.filterData={},this.selectedRowData={},this.noRecordFound=!1}ngOnInit(){var e;this.domainProj.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData"),sessionStorage.removeItem("objProject"),this.fromDate=new Date(sessionStorage.getItem("fromDate")),this.toDate=new Date(sessionStorage.getItem("toDate")),this.getProjectList(),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(e=>{e.accessControl=e.accessControl.split("-")})))}roleOnModule(e){return this.roleModule.find(t=>t.moduleName===e)}hideBox(e){this.displayFiltersFor[e.fieldName]=!1}openExportPdf(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}closeExportPdf(){this.modalRef.hide(),setTimeout(()=>{this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols.forEach(e=>e.pdfCols=!1)},1e3)}exportPdf(){this.pdfData.length&&(this.spinner.show(),setTimeout(()=>{const e=new w.default("l","pt"),t=this.customizeCols.filter(e=>e.pdfCols),i=[];t.forEach(e=>i.push(e.displayValue));const o=[];t.forEach(e=>o.push(e.originalValue));let n=[];n=this.pdfData.map(e=>Object.assign(o.map(t=>e[t])));const s=e.internal.pageSize,c=s.height?s.height:s.getHeight();j()(e,{columns:i,body:n,didDrawPage:t=>{1==t.pageNumber&&(e.text("Project Lists",e.internal.pageSize.width/2,25,null,"center"),e.setFontSize(10)),e.setFontSize(9),e.text("Created by FirstEigen",e.internal.pageSize.width-40,c-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}},columnStyles:{}}),e.save("Project lists.pdf"),this.disableDownloadBtn=!0,this.pdfCheckboxDisabled=!1,t.forEach(e=>e.pdfCols=!1),this.spinner.hide()},2e3))}pdfColsValue(){this.pdfCheckCount=0,this.customizeCols.filter(e=>!0===e.pdfCols).forEach(e=>{!0===e.pdfCols&&this.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}downloadCSV(){this.userSettingsService.downloadProjectCSV("projectCSV").subscribe(e=>{const t=this.datePipe.transform(new Date,"yyyy-MM-dd");Object(h.saveAs)(e,"ProjectCSV_"+t+".csv")})}onFilterClick(e){Object.keys(this.displayFiltersFor).map(t=>{this.displayFiltersFor[t]=t===e})}checkValue(){this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}showMoreCols(){return this.customizeCols.filter(e=>!e.necessaryCol&&e.isSelected).length<this.customizeCols.length}openOtherField(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}getProjectList(){this.spinner.show(),this.userSettingsService.getProjectList().subscribe(e=>{if("success"===e.status){this.spinner.hide(),this.spinner.hide()&&(this.noRecordFound=!0),this.mainUsersList=[...e.result],this.projectList=[...this.mainUsersList],this.pdfData=[...this.mainUsersList];const t=this.first+this.pageSize;null!=this.filterObj&&this.filterObj.forEach(e=>{this.projectList=this.projectList.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))});const i=this.projectList.filter((e,i)=>i<=t);this.pageWiseProjects=[...i],this.calculateNumOfPages(),this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}else this.mainUsersList=[],this.projectList=[],this.pageWiseProjects=[]})}calculateNumOfPages(){if(this.totalNumOfPages=this.mainUsersList.length?this.mainUsersList.length<this.pageSize?1:Math.ceil(this.mainUsersList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}onPageChange(e){this.first=e.first;const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseProjects=[...o]}onPageNumChange(e){this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.pageWiseProjects=[...o]}getSortedData(){const e=[...this.projectList];return this.sortOrderEvent?1===this.sortOrderEvent.order?(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?-1:0),e):(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?-1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?1:0),e):e}deleteProject(e){this.deleteModal=!0,this.deleteProjectObj=e}deleteConfirm(){this.deleteModal=!1,this.userSettingsService.deleteProject({projectId:this.deleteProjectObj.idProject}).subscribe(e=>{"success"===e.status&&(this.getProjectList(),this.deleteProjectObj={})})}customSort(e){const t=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=t+1,this.selectedPage.pageIndex=t,this.sortOrderEvent=e;const i=[...this.projectList];i.sort(1===this.sortOrderEvent.order?(t,i)=>t[e.field]>i[e.field]?1:i[e.field]>t[e.field]?-1:0:(t,i)=>t[e.field]>i[e.field]?-1:i[e.field]>t[e.field]?1:0);const o=this.first+this.pageSize,n=i.filter((e,t)=>{if(t<=o&&t>=this.first)return e});this.pageWiseProjects=[...n]}globalFilterFun(e){const t=[...this.globalFilterLogic()],i=this.first+this.pageSize,o=t.filter((e,t)=>t<=i);this.cdr.detectChanges(),this.pageWiseProjects=[...o],this.setPageNumber()}globalFilterLogic(){if(this.mainUsersList.length){const e=Object.keys(this.mainUsersList[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainUsersList.forEach(t=>{let i=!1;e.forEach(e=>{t[e]&&t[e].toString().toLowerCase().includes(this.globalFilterValue.toLowerCase())&&!i&&(this.filterValue.push(t),i=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.projectList=[...this.filterValue],this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=[...this.mainUsersList],this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.projectList=[...this.filterValue],this.calculateNumOfPages(),this.projectList}return[]}getFilterData(e){this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e[0]]=!1,this.first=0,this.projectList=[...this.mainUsersList],t.forEach(e=>{this.projectList=this.projectList.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}resetFilter(e){this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.projectList=[...this.mainUsersList],t.forEach(e=>{this.projectList=this.projectList.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}setPageNumber(){if(this.totalNumOfPages=this.projectList.length?this.projectList.length<this.pageSize?1:Math.ceil(this.projectList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}const e=this.first+this.pageSize,t=this.projectList.filter((t,i)=>i<=e);this.pageWiseProjects=[...t]}getFilterState(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){const t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}createProject(){this.router.navigate(["/dbckangui/user-setting/assets/add-project"])}editProject(e){this.userSettingsService.getProjectById({projectId:e.idProject}).subscribe(e=>{sessionStorage.setItem("objProject",JSON.stringify(e.result)),this.router.navigateByUrl("/dbckangui/user-setting/assets/edit-project")})}filterColumnNameWithHighlightName(e){return!(Object.keys(this.columnFilter).findIndex(t=>t===e)<0)}}return e.\u0275fac=function(t){return new(t||e)(O.dc(S.a),O.dc(y.c),O.dc(M.d),O.dc(o.d),O.dc(N.a),O.dc(s.i),O.dc(O.h),O.dc(k.a))},e.\u0275cmp=O.Xb({type:e,selectors:[["app-view-projects"]],decls:36,vars:33,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","text-right"],["pButton","","type","button","label","Add",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn",3,"ngClass","click"],[1,"d-flex","justify-content-end","p-field","br-top"],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],[1,"row","p-field"],["id","view_project_list",1,"col-sm-12","mr-top-20","pd-0"],["view_project_list",""],["styleClass","p-datatable-gridlines p-datatable-striped","sortMode","single","responsiveLayout","scroll",3,"value","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","rows","first","customSort","firstChange","sortFunction"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],["exportPdfTemplate",""],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"header"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],["class","text-center word_break_word_all",3,"ngClass","title",4,"ngIf"],[1,"text-center","word_break_word_all",3,"ngClass","title"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","pdf-modal"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-4"],["class","color-code",4,"ngIf"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"]],template:function(e,t){if(1&e){const e=O.kc();O.jc(0,"div",0),O.jc(1,"div",1),O.jc(2,"div",2),O.jc(3,"p",3),O.bd(4," Projects "),O.ic(),O.ic(),O.jc(5,"div",4),O.jc(6,"p",3),O.jc(7,"button",5),O.qc("click",function(){return t.createProject()}),O.ic(),O.ic(),O.ic(),O.ic(),O.jc(8,"div",6),O.jc(9,"div"),O.jc(10,"a"),O.jc(11,"img",7),O.qc("click",function(){return t.downloadCSV()}),O.ic(),O.ic(),O.jc(12,"a"),O.jc(13,"img",8),O.qc("click",function(){O.Rc(e);const i=O.Oc(35);return t.openExportPdf(i)}),O.ic(),O.ic(),O.ic(),O.ic(),O.jc(14,"div",9),O.jc(15,"div",10,11),O.jc(17,"p-table",12),O.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),O.Zc(18,Vs,5,1,"ng-template",13),O.Zc(19,Bs,4,1,"ng-template",14),O.Zc(20,Ts,7,3,"ng-template",15),O.ic(),O.ic(),O.Zc(21,qs,2,0,"div",16),O.jc(22,"div",17),O.Zc(23,Zs,3,4,"div",18),O.Zc(24,Ws,3,3,"div",19),O.ic(),O.ic(),O.ic(),O.jc(25,"p-dialog",20),O.qc("visibleChange",function(e){return t.deleteModal=e}),O.Zc(26,Gs,3,0,"ng-template",14),O.jc(27,"p"),O.bd(28,"Are you sure you want to delete Project "),O.jc(29,"b"),O.bd(30),O.ic(),O.bd(31,"?"),O.ic(),O.jc(32,"p-footer"),O.jc(33,"button",21),O.qc("click",function(){return t.deleteConfirm()}),O.ic(),O.ic(),O.ic(),O.Zc(34,Hs,17,3,"ng-template",null,22,O.ad)}if(2&e){let e=null;O.Nb(7),O.Bc("ngClass",null!=(e=t.roleOnModule("User Settings"))&&null!=e.accessControl&&e.accessControl.includes("C")?" cursor-pointer":"disable"),O.Nb(3),O.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseProjects&&t.pageWiseProjects.length?"":"disabled-opa",""),O.Nb(2),O.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseProjects&&t.pageWiseProjects.length?"":"disabled-opa",""),O.Nb(5),O.Vc(O.Ec(31,Qs)),O.Bc("value",t.pageWiseProjects)("responsive",!0)("rowHover",!0)("sortField","idProject")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("rows",10)("first",t.first)("customSort",!0),O.Nb(4),O.Bc("ngIf",!t.pageWiseProjects.length&&t.noRecordFound),O.Nb(2),O.Bc("ngIf",t.pageWiseProjects.length),O.Nb(1),O.Bc("ngIf",t.pageWiseProjects.length),O.Nb(1),O.Vc(O.Ec(32,Ks)),O.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),O.Nb(5),O.cd(t.deleteProjectObj.projectName)}},directives:[D.b,o.l,F.f,M.i,o.n,_.a,M.e,n.d,I.a,n.o,n.r,o.m,F.d,F.e,V.a,l.a,r.a,R.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}"]}),e})();function Xs(e,t){if(1&e){const e=O.kc();O.jc(0,"div",23),O.jc(1,"span",24),O.jc(2,"input",25),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().globalFilterValue=t})("keyup",function(t){return O.Rc(e),O.uc().globalFilterFun(t)}),O.ic(),O.bd(3,"\xa0 "),O.ec(4,"i",26),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(2),O.Bc("ngModel",e.globalFilterValue)}}function ec(e,t){if(1&e){const e=O.kc();O.jc(0,"th"),O.bd(1),O.ec(2,"br"),O.ec(3,"p-sortIcon",30),O.jc(4,"app-column-filter",31),O.qc("hideFilterDataBox",function(t){return O.Rc(e),O.uc(3).hideBox(t)})("filterData",function(t){return O.Rc(e),O.uc(3).getFilterData(t)})("resetFilterValues",function(t){return O.Rc(e),O.uc(3).resetFilter(t)}),O.ic(),O.jc(5,"span",32),O.jc(6,"i",33),O.qc("click",function(){O.Rc(e);const t=O.uc().$implicit;return O.uc(2).onFilterClick(t.originalValue)}),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc().$implicit,t=O.uc(2);O.Nb(1),O.dd(" ",e.displayValue,""),O.Nb(2),O.Cc("field",e.originalValue),O.Cc("pSortableColumn",e.originalValue),O.Nb(1),O.Bc("colFilterData",t.getFilterState(e.originalValue))("display",t.displayFiltersFor[e.originalValue])("fieldName",e.originalValue)("customId",e.originalValue),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"selected-filter-column":""),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function tc(e,t){if(1&e&&(O.hc(0),O.Zc(1,ec,7,9,"th",29),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",e.isSelected)}}function ic(e,t){if(1&e&&(O.jc(0,"tr",27),O.Zc(1,tc,2,1,"ng-container",28),O.jc(2,"th"),O.bd(3," Actions"),O.ic(),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngForOf",e.customizeCols)}}function oc(e,t){if(1&e&&(O.jc(0,"td",39),O.jc(1,"span"),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc().$implicit,t=O.uc().$implicit;O.Bc("ngClass","description"==e.originalValue?"rule-ellipsis":"")("title",t[e.originalValue]),O.Nb(2),O.cd(t[e.originalValue])}}function nc(e,t){if(1&e&&(O.hc(0),O.Zc(1,oc,3,3,"td",38),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",e.isSelected)}}function sc(e,t){if(1&e){const e=O.kc();O.jc(0,"tr",34),O.Zc(1,nc,2,1,"ng-container",28),O.jc(2,"td"),O.jc(3,"span",35),O.qc("click",function(){O.Rc(e);const i=t.$implicit;return O.uc().editRole(i)}),O.ec(4,"i",36),O.ic(),O.jc(5,"span",35),O.qc("click",function(){O.Rc(e);const i=t.$implicit;return O.uc().deleteRole(i)}),O.ec(6,"i",37),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();let t=null,i=null;O.Nb(1),O.Bc("ngForOf",e.customizeCols),O.Nb(2),O.Bc("ngClass",null!=(t=e.roleOnModule("User Settings"))&&null!=t.accessControl&&t.accessControl.includes("U")?" cursor-pointer":"disable"),O.Nb(2),O.Bc("ngClass",null!=(i=e.roleOnModule("User Settings"))&&null!=i.accessControl&&i.accessControl.includes("D")?" cursor-pointer":"disable")}}function cc(e,t){1&e&&(O.jc(0,"div",40),O.bd(1," No records found "),O.ic())}function ac(e,t){if(1&e){const e=O.kc();O.jc(0,"div",41),O.jc(1,"p-paginator",42,43),O.qc("onPageChange",function(t){return O.Rc(e),O.uc().onPageChange(t)})("firstChange",function(t){return O.Rc(e),O.uc().first=t}),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("rows",10)("totalRecords",e.roleLists.length)("showCurrentPageReport",!0)("first",e.first)}}function rc(e,t){if(1&e&&(O.jc(0,"div",48),O.jc(1,"div"),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc(3);O.Nb(2),O.ed("Page ",e.selectedPage.page," of ",e.totalNumOfPages,"")}}function lc(e,t){if(1&e&&O.Zc(0,rc,3,2,"div",47),2&e){const e=O.uc(2);O.Bc("ngIf",e.selectedPage)}}function dc(e,t){if(1&e){const e=O.kc();O.jc(0,"div",44),O.jc(1,"p-dropdown",45),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().selectedPage=t})("onChange",function(t){return O.Rc(e),O.uc().onPageNumChange(t)}),O.Zc(2,lc,1,1,"ng-template",46),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("options",e.numOfPages)("filter",!0)("ngModel",e.selectedPage)}}function pc(e,t){1&e&&(O.jc(0,"span",49),O.ec(1,"i",50),O.bd(2," Confirmation "),O.ic())}function uc(e,t){if(1&e){const e=O.kc();O.hc(0),O.jc(1,"div",64),O.jc(2,"table"),O.jc(3,"tr",65),O.jc(4,"td"),O.jc(5,"p-checkbox",66),O.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return O.Rc(e),O.uc(2).pdfColsValue()}),O.ic(),O.ic(),O.jc(6,"td"),O.jc(7,"label"),O.bd(8),O.ic(),O.ic(),O.ic(),O.ic(),O.ic(),O.gc()}if(2&e){const e=t.$implicit,i=O.uc(2);O.Nb(5),O.Bc("ngModel",e.pdfCols)("disabled",i.pdfCheckboxDisabled&&!e.pdfCols),O.Nb(3),O.cd(e.displayValue)}}function gc(e,t){1&e&&(O.jc(0,"div",67),O.bd(1,"You can select up to 9 columns."),O.ic())}function hc(e,t){if(1&e){const e=O.kc();O.jc(0,"div",51),O.jc(1,"span",52),O.bd(2,"Please select columns that need to be downloaded in PDF"),O.ic(),O.ic(),O.jc(3,"div",53),O.jc(4,"div",54),O.Zc(5,uc,9,3,"ng-container",28),O.ic(),O.ic(),O.jc(6,"div",55),O.jc(7,"div",56),O.jc(8,"div",57),O.Zc(9,gc,2,0,"div",58),O.ic(),O.jc(10,"div",59),O.jc(11,"button",60),O.qc("click",function(){O.Rc(e);const t=O.uc();return t.exportPdf(),t.modalRef.hide()}),O.ic(),O.ic(),O.jc(12,"div",61),O.jc(13,"div"),O.jc(14,"label",62),O.qc("click",function(){return O.Rc(e),O.uc().closeExportPdf()}),O.bd(15,"Close"),O.ic(),O.jc(16,"img",63),O.qc("click",function(){return O.Rc(e),O.uc().closeExportPdf()}),O.ic(),O.ic(),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(5),O.Bc("ngForOf",e.customizeCols),O.Nb(4),O.Bc("ngIf",e.pdfCheckboxDisabled),O.Nb(2),O.Bc("disabled",e.disableDownloadBtn)}}const fc=function(){return{width:"100%"}},mc=function(){return{width:"50vw"}};m.a.vfs=C.a.pdfMake.vfs;let bc=(()=>{class e{constructor(e,t,i,o,n,s,c,a){this.userSettingsService=e,this.spinner=t,this.filterService=i,this.datePipe=o,this.modalService=n,this.router=s,this.cdr=c,this.domainProjService=a,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.projectNames=[],this.roleLists=[],this.mainRolesList=[],this.pageWiseRoles=[],this.display=!1,this.deleteModal=!1,this.deleteRoleObj={},this.first=0,this.pageSize=9,this.totalNumOfPages=0,this.checkboxDisabled=!1,this.maxCount=4,this.pdfData=[],this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.pdfCheckCount=0,this.columnFilter={},this.scrollHt="300px",this.filterData={},this.selectedRowData={},this.noRecordFound=!1,this.displayFiltersFor={roleName:!1,description:!1},this.customizeCols=[{displayValue:"Role Name",originalValue:"roleName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Description",originalValue:"description",isSelected:!0,necessaryCol:!0,alwaysSelected:!0}],this.selectedProjId=JSON.parse(sessionStorage.getItem("activeProjectId"))}ngOnInit(){var e;this.domainProjService.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData"),this.fromDate=new Date(sessionStorage.getItem("fromDate")),this.toDate=new Date(sessionStorage.getItem("toDate")),this.getRoleList(),sessionStorage.removeItem("editRole"),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(e=>{e.accessControl=e.accessControl.split("-")})))}roleOnModule(e){return this.roleModule.find(t=>t.moduleName===e)}hideBox(e){this.displayFiltersFor[e.fieldName]=!1}openExportPdf(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}closeExportPdf(){this.modalRef.hide(),setTimeout(()=>{this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols.forEach(e=>e.pdfCols=!1)},1e3)}exportPdf(){this.pdfData.length&&(this.spinner.show(),setTimeout(()=>{const e=new w.default("l","pt"),t=this.customizeCols.filter(e=>e.pdfCols),i=[];t.forEach(e=>i.push(e.displayValue));const o=[];t.forEach(e=>o.push(e.originalValue));let n=[];n=this.pdfData.map(e=>Object.assign(o.map(t=>e[t])));const s=e.internal.pageSize,c=s.height?s.height:s.getHeight();j()(e,{columns:i,body:n,didDrawPage:t=>{1===t.pageNumber&&(e.text("View Roles",e.internal.pageSize.width/2,25,null,"center"),e.setFontSize(10)),e.setFontSize(9),e.text("Created by FirstEigen",e.internal.pageSize.width-40,c-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}}}),e.save("View Roles.pdf"),this.disableDownloadBtn=!0,this.pdfCheckboxDisabled=!1,t.forEach(e=>e.pdfCols=!1),this.spinner.hide()},2e3))}pdfColsValue(){this.pdfCheckCount=0,this.customizeCols.filter(e=>!0===e.pdfCols).forEach(e=>{!0===e.pdfCols&&this.pdfCheckCount++}),this.disableDownloadBtn=0===this.pdfCheckCount,this.pdfCheckboxDisabled=9===this.pdfCheckCount}downloadCSV(){const e=new Date(this.fromDate),t=new Date(this.toDate);this.datePipe.transform(e,"yyyy-MM-dd"),this.datePipe.transform(t,"yyyy-MM-dd"),this.userSettingsService.downloadUserCSV("roleCSV").subscribe(e=>{const t=this.datePipe.transform(new Date,"yyyy-MM-dd");Object(h.saveAs)(e,"Role_List_"+t+".csv")})}onFilterClick(e){Object.keys(this.displayFiltersFor).map(t=>{this.displayFiltersFor[t]=t===e})}checkValue(){this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}getRoleList(){this.spinner.show(),this.userSettingsService.getRoleList().subscribe(e=>{if("success"===e.status){this.spinner.hide(),this.spinner.hide()&&(this.noRecordFound=!0),this.mainRolesList=[...e.result],this.roleLists=[...this.mainRolesList],this.pdfData=[...this.mainRolesList];const t=this.first+this.pageSize;null!=this.filterObj&&this.filterObj.forEach(e=>{this.roleLists=this.roleLists.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))});const i=this.roleLists.filter((e,i)=>i<=t);this.pageWiseRoles=[...i],this.calculateNumOfPages(),this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}else this.mainRolesList=[],this.roleLists=[],this.pageWiseRoles=[];this.cdr.detectChanges()})}calculateNumOfPages(){if(this.totalNumOfPages=this.mainRolesList.length?this.mainRolesList.length<this.pageSize?1:Math.ceil(this.mainRolesList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}onPageChange(e){this.first=e.first;const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseRoles=[...o]}onPageNumChange(e){this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.pageWiseRoles=[...o]}getSortedData(){const e=[...this.roleLists];return this.sortOrderEvent?1===this.sortOrderEvent.order?(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?-1:0),e):(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?-1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?1:0),e):e}deleteRole(e){this.deleteModal=!0,this.deleteRoleObj=e}deleteConfirm(){this.deleteModal=!1,this.userSettingsService.deleteRole({idRole:this.deleteRoleObj.idRole}).subscribe(e=>{"success"===e.status&&(this.mainRolesList=[],this.getRoleList(),this.deleteRoleObj={})})}returnPageWiseRoles(){return this.pageWiseRoles.length?this.pageWiseRoles:[]}editRole(e){sessionStorage.setItem("editRole",JSON.stringify(e)),this.router.navigateByUrl("/dbckangui/user-setting/edit-role")}customSort(e){const t=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=t+1,this.selectedPage.pageIndex=t,this.sortOrderEvent=e;const i=[...this.roleLists];i.sort(1===this.sortOrderEvent.order?(t,i)=>t[e.field]>i[e.field]?1:i[e.field]>t[e.field]?-1:0:(t,i)=>t[e.field]>i[e.field]?-1:i[e.field]>t[e.field]?1:0);const o=this.first+this.pageSize,n=i.filter((e,t)=>{if(t<=o&&t>=this.first)return e});this.pageWiseRoles=[...n]}globalFilterFun(e){const t=[...this.globalFilterLogic()],i=this.first+this.pageSize,o=t.filter((e,t)=>t<=i);this.cdr.detectChanges(),this.pageWiseRoles=[...o],this.setPageNumber()}globalFilterLogic(){if(this.mainRolesList.length){const e=Object.keys(this.mainRolesList[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainRolesList.forEach(t=>{let i=!1;e.forEach(e=>{t[e]&&t[e].toString().toLowerCase().includes(this.globalFilterValue.toLowerCase())&&!i&&(this.filterValue.push(t),i=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.roleLists=[...this.filterValue],this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=[...this.mainRolesList],this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.roleLists=[...this.filterValue],this.calculateNumOfPages(),this.roleLists}return[]}getFilterData(e){this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e[0]]=!1,this.first=0,this.globalFilterValue||(this.roleLists=[...this.mainRolesList]),t.forEach(e=>{this.roleLists=this.roleLists.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}resetFilter(e){this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.globalFilterValue?this.globalFilterLogic():this.roleLists=[...this.mainRolesList],t.forEach(e=>{this.roleLists=this.roleLists.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}setPageNumber(){if(this.totalNumOfPages=this.roleLists.length?this.roleLists.length<this.pageSize?1:Math.ceil(this.roleLists.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}const e=this.first+this.pageSize,t=this.roleLists.filter((t,i)=>i<=e);this.pageWiseRoles=[...t]}getFilterState(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){const t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}createRole(){this.router.navigate(["/dbckangui/user-setting/add-role"])}filterColumnNameWithHighlightName(e){return!(Object.keys(this.columnFilter).findIndex(t=>t===e)<0)}}return e.\u0275fac=function(t){return new(t||e)(O.dc(S.a),O.dc(y.c),O.dc(M.d),O.dc(o.d),O.dc(N.a),O.dc(s.i),O.dc(O.h),O.dc(k.a))},e.\u0275cmp=O.Xb({type:e,selectors:[["app-view-roles"]],decls:35,vars:33,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","text-right"],["pButton","","type","button","label","Add",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn",3,"ngClass","click"],[1,"d-flex","justify-content-end","p-field","br-top"],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],[1,"row","p-field"],["id","view_user_list",1,"col-sm-12","mr-top-20","pd-0"],["view_user_list",""],["styleClass","p-datatable-gridlines p-datatable-striped","sortMode","single",3,"value","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","rows","first","customSort","firstChange","sortFunction"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],["exportPdfTemplate",""],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"header"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],["class","text-center word_break_word_all",3,"ngClass","title",4,"ngIf"],[1,"text-center","word_break_word_all",3,"ngClass","title"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","pdf-modal"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-4"],["class","color-code",4,"ngIf"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"]],template:function(e,t){if(1&e){const e=O.kc();O.jc(0,"div",0),O.jc(1,"div",1),O.jc(2,"div",2),O.jc(3,"p",3),O.bd(4," Roles "),O.ic(),O.ic(),O.jc(5,"div",4),O.jc(6,"p",3),O.jc(7,"button",5),O.qc("click",function(){return t.createRole()}),O.ic(),O.ic(),O.ic(),O.ic(),O.jc(8,"div",6),O.jc(9,"a"),O.jc(10,"img",7),O.qc("click",function(){return t.downloadCSV()}),O.ic(),O.ic(),O.jc(11,"a"),O.jc(12,"img",8),O.qc("click",function(){O.Rc(e);const i=O.Oc(34);return t.openExportPdf(i)}),O.ic(),O.ic(),O.ic(),O.jc(13,"div",9),O.jc(14,"div",10,11),O.jc(16,"p-table",12),O.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),O.Zc(17,Xs,5,1,"ng-template",13),O.Zc(18,ic,4,1,"ng-template",14),O.Zc(19,sc,7,3,"ng-template",15),O.ic(),O.ic(),O.Zc(20,cc,2,0,"div",16),O.jc(21,"div",17),O.Zc(22,ac,3,4,"div",18),O.Zc(23,dc,3,3,"div",19),O.ic(),O.ic(),O.ic(),O.jc(24,"p-dialog",20),O.qc("visibleChange",function(e){return t.deleteModal=e}),O.Zc(25,pc,3,0,"ng-template",14),O.jc(26,"p"),O.bd(27,"Are you sure you want to delete Role "),O.jc(28,"b"),O.bd(29),O.ic(),O.bd(30,"?"),O.ic(),O.jc(31,"p-footer"),O.jc(32,"button",21),O.qc("click",function(){return t.deleteConfirm()}),O.ic(),O.ic(),O.ic(),O.Zc(33,hc,17,3,"ng-template",null,22,O.ad)}if(2&e){let e=null;O.Nb(7),O.Bc("ngClass",null!=(e=t.roleOnModule("User Settings"))&&null!=e.accessControl&&e.accessControl.includes("C")?" cursor-pointer":"disable"),O.Nb(2),O.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseRoles&&t.pageWiseRoles.length?"":"disabled-opa",""),O.Nb(2),O.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseRoles&&t.pageWiseRoles.length?"":"disabled-opa",""),O.Nb(5),O.Vc(O.Ec(31,fc)),O.Bc("value",t.returnPageWiseRoles())("responsive",!0)("rowHover",!0)("sortField","idRole")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("rows",10)("first",t.first)("customSort",!0),O.Nb(4),O.Bc("ngIf",!t.pageWiseRoles.length&&t.noRecordFound),O.Nb(2),O.Bc("ngIf",t.pageWiseRoles.length),O.Nb(1),O.Bc("ngIf",t.pageWiseRoles.length),O.Nb(1),O.Vc(O.Ec(32,mc)),O.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),O.Nb(5),O.cd(t.deleteRoleObj.roleName)}},directives:[D.b,o.l,F.f,M.i,o.n,_.a,M.e,n.d,I.a,n.o,n.r,o.m,F.d,F.e,V.a,l.a,r.a,R.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}"]}),e})();function Cc(e,t){if(1&e){const e=O.kc();O.jc(0,"div",24),O.jc(1,"span",25),O.jc(2,"input",26),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().globalFilterValue=t})("keyup",function(t){return O.Rc(e),O.uc().globalFilterFun(t)}),O.ic(),O.bd(3,"\xa0 "),O.ec(4,"i",27),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(2),O.Bc("ngModel",e.globalFilterValue)}}function xc(e,t){if(1&e){const e=O.kc();O.jc(0,"th"),O.bd(1),O.ec(2,"br"),O.ec(3,"p-sortIcon",32),O.jc(4,"app-column-filter",33),O.qc("hideFilterDataBox",function(t){return O.Rc(e),O.uc(3).hideBox(t)})("filterData",function(t){return O.Rc(e),O.uc(3).getFilterData(t)})("resetFilterValues",function(t){return O.Rc(e),O.uc(3).resetFilter(t)}),O.ic(),O.jc(5,"span",34),O.jc(6,"i",35),O.qc("click",function(){O.Rc(e);const t=O.uc().$implicit;return O.uc(2).onFilterClick(t.originalValue)}),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc().$implicit,t=O.uc(2);O.Nb(1),O.dd(" ",e.displayValue,""),O.Nb(2),O.Cc("field",e.originalValue),O.Cc("pSortableColumn",e.originalValue),O.Nb(1),O.Bc("colFilterData",t.getFilterState(e.originalValue))("display",t.displayFiltersFor[e.originalValue])("fieldName",e.originalValue)("customId",e.originalValue),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"selected-filter-column":""),O.Nb(1),O.Bc("ngClass",t.filterColumnNameWithHighlightName(e.originalValue)?"pi pi-filter-fill":"pi pi-filter")}}function vc(e,t){if(1&e&&(O.hc(0),O.Zc(1,xc,7,9,"th",31),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",e.isSelected)}}function Pc(e,t){if(1&e&&(O.jc(0,"tr",28),O.Zc(1,vc,2,1,"ng-container",29),O.jc(2,"th",30),O.bd(3," Actions"),O.ic(),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngForOf",e.customizeCols)}}function jc(e,t){if(1&e&&(O.jc(0,"td",41),O.jc(1,"span"),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc().$implicit,t=O.uc().$implicit;O.Bc("title",t[e.originalValue]),O.Nb(2),O.cd(t[e.originalValue])}}function wc(e,t){if(1&e&&(O.hc(0),O.Zc(1,jc,3,2,"td",40),O.gc()),2&e){const e=t.$implicit;O.Nb(1),O.Bc("ngIf",e.isSelected)}}function Oc(e,t){if(1&e){const e=O.kc();O.jc(0,"tr",36),O.Zc(1,wc,2,1,"ng-container",29),O.jc(2,"td",30),O.jc(3,"span",37),O.qc("click",function(){O.Rc(e);const i=t.$implicit;return O.uc().editUser(i)}),O.ec(4,"i",38),O.ic(),O.jc(5,"span",37),O.qc("click",function(){O.Rc(e);const i=t.$implicit;return O.uc().deleteUser(i)}),O.ec(6,"i",39),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();let t=null,i=null;O.Nb(1),O.Bc("ngForOf",e.customizeCols),O.Nb(2),O.Bc("ngClass",null!=(t=e.roleOnModule("User Settings"))&&null!=t.accessControl&&t.accessControl.includes("U")?" cursor-pointer":"disable"),O.Nb(2),O.Bc("ngClass",null!=(i=e.roleOnModule("User Settings"))&&null!=i.accessControl&&i.accessControl.includes("D")?" cursor-pointer":"disable")}}function Sc(e,t){1&e&&(O.jc(0,"div",42),O.bd(1," No records found "),O.ic())}function yc(e,t){if(1&e){const e=O.kc();O.jc(0,"div",43),O.jc(1,"p-paginator",44,45),O.qc("onPageChange",function(t){return O.Rc(e),O.uc().onPageChange(t)})("firstChange",function(t){return O.Rc(e),O.uc().first=t}),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("rows",10)("totalRecords",e.userLists.length)("showCurrentPageReport",!0)("first",e.first)}}function Mc(e,t){if(1&e&&(O.jc(0,"div",50),O.jc(1,"div"),O.bd(2),O.ic(),O.ic()),2&e){const e=O.uc(3);O.Nb(2),O.ed("Page ",e.selectedPage.page," of ",e.totalNumOfPages,"")}}function Nc(e,t){if(1&e&&O.Zc(0,Mc,3,2,"div",49),2&e){const e=O.uc(2);O.Bc("ngIf",e.selectedPage)}}function kc(e,t){if(1&e){const e=O.kc();O.jc(0,"div",46),O.jc(1,"p-dropdown",47),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().selectedPage=t})("onChange",function(t){return O.Rc(e),O.uc().onPageNumChange(t)}),O.Zc(2,Nc,1,1,"ng-template",48),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("options",e.numOfPages)("filter",!0)("ngModel",e.selectedPage)}}function Dc(e,t){1&e&&(O.jc(0,"span",51),O.ec(1,"i",52),O.bd(2," Confirmation "),O.ic())}function Fc(e,t){if(1&e){const e=O.kc();O.hc(0),O.jc(1,"div",66),O.jc(2,"table"),O.jc(3,"tr",67),O.jc(4,"td"),O.jc(5,"p-checkbox",68),O.qc("ngModelChange",function(e){return t.$implicit.pdfCols=e})("onChange",function(){return O.Rc(e),O.uc(2).pdfColsValue()}),O.ic(),O.ic(),O.jc(6,"td"),O.jc(7,"label"),O.bd(8),O.ic(),O.ic(),O.ic(),O.ic(),O.ic(),O.gc()}if(2&e){const e=t.$implicit,i=O.uc(2);O.Nb(5),O.Bc("ngModel",e.pdfCols)("disabled",i.pdfCheckboxDisabled&&!e.pdfCols),O.Nb(3),O.cd(e.displayValue)}}function _c(e,t){1&e&&(O.jc(0,"div",69),O.bd(1,"You can select up to 9 columns."),O.ic())}function Ic(e,t){if(1&e){const e=O.kc();O.jc(0,"div",53),O.jc(1,"span",54),O.bd(2,"Please select columns that need to be downloaded in PDF"),O.ic(),O.ic(),O.jc(3,"div",55),O.jc(4,"div",56),O.Zc(5,Fc,9,3,"ng-container",29),O.ic(),O.ic(),O.jc(6,"div",57),O.jc(7,"div",58),O.jc(8,"div",59),O.Zc(9,_c,2,0,"div",60),O.ic(),O.jc(10,"div",61),O.jc(11,"button",62),O.qc("click",function(){O.Rc(e);const t=O.uc();return t.exportPdf(),t.modalRef.hide()}),O.ic(),O.ic(),O.jc(12,"div",63),O.jc(13,"div"),O.jc(14,"label",64),O.qc("click",function(){return O.Rc(e),O.uc().closeExportPdf()}),O.bd(15,"Close"),O.ic(),O.jc(16,"img",65),O.qc("click",function(){return O.Rc(e),O.uc().closeExportPdf()}),O.ic(),O.ic(),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(5),O.Bc("ngForOf",e.customizeCols),O.Nb(4),O.Bc("ngIf",e.pdfCheckboxDisabled),O.Nb(2),O.Bc("disabled",e.disableDownloadBtn)}}const Vc=function(){return{width:"100%"}},Rc=function(){return{width:"50vw"}};m.a.vfs=C.a.pdfMake.vfs;let Lc=(()=>{class e{constructor(e,t,i,o,n,s,c,a){this.userSettingsService=e,this.spinner=t,this.filterService=i,this.datePipe=o,this.modalService=n,this.router=s,this.cdr=c,this.domainProjService=a,this.projectNames=[],this.userLists=[],this.mainUsersList=[],this.pageWiseUsers=[],this.display=!1,this.deleteModal=!1,this.deleteUserObj={},this.first=0,this.numOfPages=[{page:0,pageIndex:0}],this.selectedPage={page:0,pageIndex:0},this.pageSize=9,this.totalNumOfPages=0,this.checkboxDisabled=!1,this.maxCount=4,this.displayFiltersFor={firstName:!1,lastName:!1,email:!1,roleName:!1},this.customizeCols=[{displayValue:"First Name",originalValue:"firstName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Last Name",originalValue:"lastName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Email",originalValue:"email",isSelected:!0,necessaryCol:!0,alwaysSelected:!0},{displayValue:"Role Name",originalValue:"roleName",isSelected:!0,necessaryCol:!0,alwaysSelected:!0}],this.pdfData=[],this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.pdfCheckCount=0,this.selectedProjId=JSON.parse(sessionStorage.getItem("activeProjectId")),this.columnFilter={},this.scrollHt="300px",this.filterData={},this.selectedRowData={},this.noRecordFound=!1}ngOnInit(){var e;this.domainProjService.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData"),this.fromDate=new Date(sessionStorage.getItem("fromDate")),this.toDate=new Date(sessionStorage.getItem("toDate")),this.getUserList(),sessionStorage.getItem("modulePerRole")&&(this.roleModule=JSON.parse(sessionStorage.getItem("modulePerRole")),this.roleModule.length>0&&(null===(e=this.roleModule)||void 0===e||e.map(e=>{e.accessControl=e.accessControl.split("-")})))}roleOnModule(e){return this.roleModule.find(t=>t.moduleName===e)}openExportPdf(e){this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}closeExportPdf(){this.modalRef.hide(),setTimeout(()=>{this.pdfCheckCount=0,this.pdfCheckboxDisabled=!1,this.disableDownloadBtn=!0,this.customizeCols.forEach(e=>e.pdfCols=!1)},1e3)}exportPdf(){this.pdfData.length&&(this.spinner.show(),setTimeout(()=>{const e=new w.default("l","pt"),t=this.customizeCols.filter(e=>e.pdfCols),i=[];t.forEach(e=>i.push(e.displayValue));const o=[];t.forEach(e=>o.push(e.originalValue));let n=[];n=this.pdfData.map(e=>Object.assign(o.map(t=>e[t])));const s=e.internal.pageSize,c=s.height?s.height:s.getHeight();j()(e,{columns:i,body:n,didDrawPage:t=>{1==t.pageNumber&&(e.text("Users List",e.internal.pageSize.width/2,25,null,"center"),e.setFontSize(10)),e.setFontSize(9),e.text("Created by FirstEigen",e.internal.pageSize.width-40,c-30,null,"right")},startY:80,styles:{fontSize:8,cellWidth:"auto",lineColor:[0,0,0],lineWidth:.2,minCellWidth:80,cellPadding:{top:2,right:4,bottom:2,left:4}}}),e.save("Users List.pdf"),this.disableDownloadBtn=!0,this.pdfCheckboxDisabled=!1,t.forEach(e=>e.pdfCols=!1),this.spinner.hide()},2e3))}pdfColsValue(){this.pdfCheckCount=0,this.customizeCols.filter(e=>!0===e.pdfCols).forEach(e=>{!0===e.pdfCols&&this.pdfCheckCount++}),this.disableDownloadBtn=0==this.pdfCheckCount,this.pdfCheckboxDisabled=9==this.pdfCheckCount}downloadCSV(){this.userSettingsService.downloadUserCSV("userCSV").subscribe(e=>{const t=this.datePipe.transform(new Date,"yyyy-MM-dd");Object(h.saveAs)(e,"User_List_CSV_"+t+".csv")})}hideBox(e){this.displayFiltersFor[e.fieldName]=!1}onFilterClick(e){Object.keys(this.displayFiltersFor).map(t=>{this.displayFiltersFor[t]=t===e})}checkValue(){this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}showMoreCols(){return this.customizeCols.filter(e=>!e.necessaryCol&&e.isSelected).length<this.customizeCols.length}openOtherField(e,t){this.selectedRowData={},this.selectedRowData=t,this.modalRef=this.modalService.show(e,{class:"gray modal-lg",backdrop:"static",keyboard:!1})}editUser(e){sessionStorage.setItem("objUser",JSON.stringify(e)),this.router.navigateByUrl("/dbckangui/user-setting/edit-user")}getUserList(){this.spinner.show(),this.userSettingsService.getListOfUsers().subscribe(e=>{if("success"===e.status){this.spinner.hide(),this.spinner.hide()&&(this.noRecordFound=!0),this.mainUsersList=[...e.result],this.userLists=[...this.mainUsersList],this.pdfData=[...this.mainUsersList];const t=this.first+this.pageSize;null!=this.filterObj&&this.filterObj.forEach(e=>{this.userLists=this.userLists.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))});const i=this.userLists.filter((e,i)=>i<=t);this.pageWiseUsers=[...i],this.calculateNumOfPages(),this.checkCount=0,this.customizeCols.filter(e=>!1===e.necessaryCol).forEach(e=>{!0===e.isSelected&&this.checkCount++}),this.checkboxDisabled=this.checkCount>=this.maxCount}else this.mainUsersList=[],this.userLists=[],this.pageWiseUsers=[]})}calculateNumOfPages(){if(this.totalNumOfPages=this.mainUsersList.length?this.mainUsersList.length<this.pageSize?1:Math.ceil(this.mainUsersList.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}}onPageChange(e){this.first=e.first;const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.selectedPage={pageIndex:e.page,page:e.page+1},this.pageWiseUsers=[...o]}onPageNumChange(e){this.selectedPage={page:e.value.page,pageIndex:e.value.pageIndex},this.first=1===e.value.page?0:10*(e.value.page-1);const t=this.getSortedData(),i=this.first+this.pageSize,o=t.filter((e,t)=>{if(t<=i&&t>=this.first)return e});this.pageWiseUsers=[...o]}getSortedData(){const e=[...this.userLists];return this.sortOrderEvent?1===this.sortOrderEvent.order?(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?-1:0),e):(e.sort((e,t)=>e[this.sortOrderEvent.field]>t[this.sortOrderEvent.field]?-1:t[this.sortOrderEvent.field]>e[this.sortOrderEvent.field]?1:0),e):e}deleteUser(e){this.deleteModal=!0,this.deleteUserObj=e}deleteConfirm(){this.deleteModal=!1,this.userSettingsService.deleteUser({idUser:this.deleteUserObj.idUser}).subscribe(e=>{"success"===e.status&&(this.getUserList(),this.deleteUserObj={})})}customSort(e){const t=parseInt((this.first/(this.pageSize+1)).toString(),10);this.selectedPage.page=t+1,this.selectedPage.pageIndex=t,this.sortOrderEvent=e;const i=[...this.userLists];i.sort(1===this.sortOrderEvent.order?(t,i)=>t[e.field]>i[e.field]?1:i[e.field]>t[e.field]?-1:0:(t,i)=>t[e.field]>i[e.field]?-1:i[e.field]>t[e.field]?1:0);const o=this.first+this.pageSize,n=i.filter((e,t)=>{if(t<=o&&t>=this.first)return e});this.pageWiseUsers=[...n]}globalFilterFun(e){const t=[...this.globalFilterLogic()],i=this.first+this.pageSize,o=t.filter((e,t)=>t<=i);this.cdr.detectChanges(),this.pageWiseUsers=[...o],this.setPageNumber()}globalFilterLogic(){if(this.mainUsersList.length){const e=Object.keys(this.mainUsersList[0]);if(this.globalFilterValue){if(this.filterValue=[],this.mainUsersList.forEach(t=>{let i=!1;e.forEach(e=>{t[e]&&t[e].toString().toLowerCase().includes(this.globalFilterValue.toLowerCase())&&!i&&(this.filterValue.push(t),i=!0)})}),this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.userLists=[...this.filterValue],this.calculateNumOfPages(),this.filterValue}if(this.calculateNumOfPages(),this.filterValue=[...this.mainUsersList],this.columnFilter!={}){this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const e=Object.keys(this.columnFilter);this.first=0,e.forEach(e=>{this.filterValue=this.filterValue.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))})}return this.userLists=[...this.filterValue],this.calculateNumOfPages(),this.userLists}return[]}getFilterData(e){this.filterObj=e,this.columnFilter[e[0]]=e[1],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e[0]]=!1,this.first=0,this.userLists=[...this.mainUsersList],t.forEach(e=>{this.userLists=this.userLists.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}resetFilter(e){this.columnFilter[e]=null,delete this.columnFilter[e],this.filterData=JSON.parse(JSON.stringify(this.columnFilter));const t=Object.keys(this.columnFilter);this.displayFiltersFor[e]=!1,this.first=0,this.userLists=[...this.mainUsersList],t.forEach(e=>{this.userLists=this.userLists.filter(t=>this.filterService.filters.contains(t[e],this.columnFilter[e]))}),this.setPageNumber()}setPageNumber(){if(this.totalNumOfPages=this.userLists.length?this.userLists.length<this.pageSize?1:Math.ceil(this.userLists.length/(this.pageSize+1)):0,this.numOfPages=[],this.selectedPage={},0===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:0}),this.selectedPage={pageIndex:0,page:0};else if(1===this.totalNumOfPages)this.numOfPages.push({pageIndex:0,page:1}),this.selectedPage={pageIndex:0,page:1};else{this.selectedPage={pageIndex:0,page:1};for(let e=0;e<this.totalNumOfPages;e++)this.numOfPages.push({pageIndex:e,page:e+1})}const e=this.first+this.pageSize,t=this.userLists.filter((t,i)=>i<=e);this.pageWiseUsers=[...t]}getFilterState(e){if(this.filterData!=={}&&null!=this.filterData&&""!==this.filterData){if(this.filterData[e]){const t=this.filterData[e];return delete this.filterData[e],{fieldName:e,filterWith:t}}return{fieldName:"",filterWith:""}}return{fieldName:"",filterWith:""}}createUser(){this.router.navigate(["/dbckangui/user-setting/add-user"])}filterColumnNameWithHighlightName(e){return!(Object.keys(this.columnFilter).findIndex(t=>t===e)<0)}}return e.\u0275fac=function(t){return new(t||e)(O.dc(S.a),O.dc(y.c),O.dc(M.d),O.dc(o.d),O.dc(N.a),O.dc(s.i),O.dc(O.h),O.dc(k.a))},e.\u0275cmp=O.Xb({type:e,selectors:[["app-view-users"]],decls:35,vars:34,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],[1,"col-sm-6","text-right"],["pButton","","type","button","id","unitTest","label","Add",1,"button_new","w-button","shadow","btn-mr-rt","submit-btn",3,"ngClass","click"],[1,"d-flex","justify-content-end","p-field","br-top"],["id","downloadCSVid"],["src","assets/images/csv_icon.png","title","Download CSV","loading","lazy","id","downloadCSV","alt","Download CSV",1,"download_btn_css","image-7",3,"click"],["src","assets/images/pdf_icon.jpg","title","Download PDF","loading","lazy","alt","Download PDF",1,"download_btn_css","image-7",3,"click"],[1,"row","p-field"],["id","view_user_list",1,"col-sm-12","mr-top-20","pd-0"],["view_user_list",""],["styleClass","p-datatable-gridlines p-datatable-striped","sortMode","single",3,"value","responsive","rowHover","sortField","sortOrder","pageLinks","filterDelay","resetPageOnSort","rows","first","customSort","firstChange","sortFunction"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["class","col-sm-12 no-records default-font-14-weight",4,"ngIf"],[1,"col-sm-12","pagination-div"],["class","pad-0",4,"ngIf"],["class","pad-0 pad-tp-10 text-right",4,"ngIf"],["appendTo","body",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],["pButton","","type","button","label","Delete",1,"button","w-button","btn-mr-rt","submit-btn","btn-label","red-btn",3,"click"],["exportPdfTemplate",""],[1,"table-header"],[1,"gsearch"],["type","text","pInputText","","size","50","placeholder","Search",1,"gfilter",3,"ngModel","ngModelChange","keyup"],[1,"pi","pi-search","margin-gfilter"],[1,"header"],[4,"ngFor","ngForOf"],[1,"fix-width"],[4,"ngIf"],[3,"field","pSortableColumn"],[3,"colFilterData","display","fieldName","customId","hideFilterDataBox","filterData","resetFilterValues"],[1,"columnFilter",3,"ngClass"],[1,"pi-filter-color",3,"ngClass","click"],[1,"row-ht"],[1,"actions",3,"ngClass","click"],["title","Edit","aria-hidden","true",1,"fa","fa-pencil"],["title","Delete","aria-hidden","true",1,"fa","fa-trash"],["class","text-center word_break_word_all",3,"title",4,"ngIf"],[1,"text-center","word_break_word_all",3,"title"],[1,"col-sm-12","no-records","default-font-14-weight"],[1,"pad-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"rows","totalRecords","showCurrentPageReport","first","onPageChange","firstChange"],["dq_paginator",""],[1,"pad-0","pad-tp-10","text-right"],["optionLabel","page","placeholder","Go to page",3,"options","filter","ngModel","ngModelChange","onChange"],["pTemplate","selectedItem"],["class","drpdwn-item",4,"ngIf"],[1,"drpdwn-item"],[1,"modal-title-delete"],[1,"pi","pi-exclamation-circle"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","pdf-modal"],[1,"row","padding-btm"],[1,"modal-footer"],[1,"row","full-width"],[1,"col-lg-4"],["class","color-code",4,"ngIf"],[1,"col-lg-4","text-center"],["pButton","","type","button","label","Download",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],[1,"col-lg-4","arrow-text-right"],[1,"cursor-pointer",3,"click"],["src","assets/images/close.png",1,"margin-img","cursor-pointer",3,"click"],[1,"col-sm-4"],[1,"validations"],["binary","true","name","groupname1","value","customizeCols[cols.displayValue]",3,"ngModel","disabled","ngModelChange","onChange"],[1,"color-code"]],template:function(e,t){if(1&e){const e=O.kc();O.jc(0,"div",0),O.jc(1,"div",1),O.jc(2,"div",2),O.jc(3,"p",3),O.bd(4," Users "),O.ic(),O.ic(),O.jc(5,"div",4),O.jc(6,"p",3),O.jc(7,"button",5),O.qc("click",function(){return t.createUser()}),O.ic(),O.ic(),O.ic(),O.ic(),O.jc(8,"div",6),O.jc(9,"a",7),O.jc(10,"img",8),O.qc("click",function(){return t.downloadCSV()}),O.ic(),O.ic(),O.jc(11,"a"),O.jc(12,"img",9),O.qc("click",function(){O.Rc(e);const i=O.Oc(34);return t.openExportPdf(i)}),O.ic(),O.ic(),O.ic(),O.jc(13,"div",10),O.jc(14,"div",11,12),O.jc(16,"p-table",13),O.qc("firstChange",function(e){return t.first=e})("sortFunction",function(e){return t.customSort(e)}),O.Zc(17,Cc,5,1,"ng-template",14),O.Zc(18,Pc,4,1,"ng-template",15),O.Zc(19,Oc,7,3,"ng-template",16),O.ic(),O.ic(),O.Zc(20,Sc,2,0,"div",17),O.jc(21,"div",18),O.Zc(22,yc,3,4,"div",19),O.Zc(23,kc,3,3,"div",20),O.ic(),O.ic(),O.ic(),O.jc(24,"p-dialog",21),O.qc("visibleChange",function(e){return t.deleteModal=e}),O.Zc(25,Dc,3,0,"ng-template",15),O.jc(26,"p"),O.bd(27,"Are you sure you want to delete User "),O.jc(28,"b"),O.bd(29),O.ic(),O.bd(30,"?"),O.ic(),O.jc(31,"p-footer"),O.jc(32,"button",22),O.qc("click",function(){return t.deleteConfirm()}),O.ic(),O.ic(),O.ic(),O.Zc(33,Ic,17,3,"ng-template",null,23,O.ad)}if(2&e){let e=null;O.Nb(7),O.Bc("ngClass",null!=(e=t.roleOnModule("User Settings"))&&null!=e.accessControl&&e.accessControl.includes("C")?" cursor-pointer":"disable"),O.Nb(2),O.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseUsers&&t.pageWiseUsers.length?"":"disabled-opa",""),O.Nb(2),O.Rb("w-inline-block cursor-pointer float-right ",null!=t.pageWiseUsers&&t.pageWiseUsers.length?"":"disabled-opa",""),O.Nb(5),O.Vc(O.Ec(32,Vc)),O.Bc("value",t.pageWiseUsers)("responsive",!0)("rowHover",!0)("sortField","idUser")("sortOrder",-1)("pageLinks",5)("filterDelay",0)("resetPageOnSort",!0)("rows",10)("first",t.first)("customSort",!0),O.Nb(4),O.Bc("ngIf",!t.pageWiseUsers.length&&t.noRecordFound),O.Nb(2),O.Bc("ngIf",t.pageWiseUsers.length),O.Nb(1),O.Bc("ngIf",t.pageWiseUsers.length),O.Nb(1),O.Vc(O.Ec(33,Rc)),O.Bc("visible",t.deleteModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),O.Nb(5),O.ed("",t.deleteUserObj.firstName," ",t.deleteUserObj.lastName,"")}},directives:[D.b,o.l,F.f,M.i,o.n,_.a,M.e,n.d,I.a,n.o,n.r,o.m,F.d,F.e,V.a,l.a,r.a,R.a],styles:["[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:180px}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;width:93%!important}.alation-div[_ngcontent-%COMP%], .conn-name[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:30px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-dropdown{width:100%!important;border-radius:10px!important;height:35px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:35px!important;margin:0!important;box-shadow:none!important}"]}),e})();function Bc(e,t){if(1&e){const e=O.kc();O.jc(0,"input",8),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().accessToken=t}),O.ic()}if(2&e){const e=O.uc();O.Bc("ngModel",e.accessToken)}}function Ec(e,t){if(1&e){const e=O.kc();O.jc(0,"input",9),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().secretAccessToken=t}),O.ic()}if(2&e){const e=O.uc();O.Bc("ngModel",e.secretAccessToken)}}let zc=(()=>{class e{constructor(e,t){this.userSettingsService=e,this.domainProjService=t,this.showSecretToken=!1,this.showAccessToken=!1,this.accessToken="",this.secretAccessToken=""}generateToken(){this.userSettingsService.generateTokens().subscribe(e=>{this.showAccessToken=!0,this.showSecretToken=!1,this.accessToken=e.result.accessToken,this.secretAccessToken=e.result.secretAccessToken})}showToken(){this.showSecretToken=!0}ngOnInit(){this.domainProjService.passDomainProjVal(!0),sessionStorage.removeItem("viewBackData")}}return e.\u0275fac=function(t){return new(t||e)(O.dc(S.a),O.dc(k.a))},e.\u0275cmp=O.Xb({type:e,selectors:[["app-generate-token"]],decls:19,vars:2,consts:[[1,"container-fluid","create-conn-main"],[1,"row"],[1,"col-sm-6"],[1,"form-title"],["pButton","","type","button","label"," ","id","generateTokenId",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"click"],["pButton","","type","button","id","showSecretTokenId","label"," ",1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"click"],["type","text","readonly","","class","width_250","pInputText","","placeholder","Token","id","showAccessTokenId",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","readonly","","class","width_250","pInputText","","placeholder","Token","id","secretAccessTokenId",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","readonly","","pInputText","","placeholder","Token","id","showAccessTokenId",1,"width_250",3,"ngModel","ngModelChange"],["type","text","readonly","","pInputText","","placeholder","Token","id","secretAccessTokenId",1,"width_250",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(O.jc(0,"div",0),O.jc(1,"div",1),O.jc(2,"div",2),O.jc(3,"p",3),O.bd(4," Generate API Token "),O.ic(),O.ic(),O.ic(),O.jc(5,"div",1),O.jc(6,"div",2),O.jc(7,"p",3),O.jc(8,"button",4),O.qc("click",function(){return t.generateToken()}),O.bd(9,"Generate Token"),O.ic(),O.ic(),O.ic(),O.jc(10,"div",2),O.jc(11,"p",3),O.jc(12,"button",5),O.qc("click",function(){return t.showToken()}),O.bd(13,"Show Secret Token"),O.ic(),O.ic(),O.ic(),O.ic(),O.jc(14,"div",1),O.jc(15,"div",2),O.Zc(16,Bc,1,1,"input",6),O.ic(),O.jc(17,"div",2),O.Zc(18,Ec,1,1,"input",7),O.ic(),O.ic(),O.ic()),2&e&&(O.Nb(16),O.Bc("ngIf",t.showAccessToken),O.Nb(2),O.Bc("ngIf",t.showSecretToken))},directives:[D.b,o.n,n.d,I.a,n.o,n.r],styles:[".create-conn-main[_ngcontent-%COMP%]{margin-top:27px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}[_nghost-%COMP%]     .p-button-label{width:156px;font-size:14px;font-weight:600;font-style:normal;height:40px;color:#fff}"]}),e})();var Tc=i("mbyg"),qc=i("yLa2"),Zc=i("tPnb"),Uc=i("ZEcW");function Ac(e,t){1&e&&(O.jc(0,"label",23),O.bd(1," Please Click below to download the zip. "),O.ic())}function Wc(e,t){if(1&e&&(O.jc(0,"label",24),O.bd(1),O.jc(2,"sup",25),O.bd(3,"*"),O.ic(),O.ic()),2&e){const e=O.uc();O.Nb(1),O.dd(" ",e.appConstant.baseName," Name")}}function Gc(e,t){if(1&e){const e=O.kc();O.jc(0,"p-dropdown",26),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc().selectedValidation=t}),O.ic()}if(2&e){const e=O.uc();O.Dc("placeholder","Select ",e.appConstant.baseName," Name"),O.Bc("styleClass","form-field")("ngModel",e.selectedValidation)("filter",!0)("options",e.validationsList)("itemSize",30)}}function $c(e,t){if(1&e){const e=O.kc();O.jc(0,"div",27),O.jc(1,"button",28),O.qc("click",function(){return O.Rc(e),O.uc().export()}),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("disabled",!e.selectedValidation)}}function Jc(e,t){1&e&&(O.jc(0,"div",3),O.jc(1,"div",29),O.bd(2," Skipped Rules: "),O.ic(),O.ic())}function Hc(e,t){if(1&e&&(O.jc(0,"tr"),O.jc(1,"td"),O.bd(2),O.ic(),O.jc(3,"td",33),O.jc(4,"div",34),O.bd(5),O.ic(),O.ic(),O.ic()),2&e){const e=t.$implicit;O.Nb(2),O.cd(e.ruleId),O.Nb(2),O.Bc("title",e.ruleName),O.Nb(1),O.dd(" ",e.ruleName," ")}}function Qc(e,t){if(1&e&&(O.jc(0,"div",30),O.jc(1,"table",31),O.jc(2,"thead"),O.jc(3,"tr"),O.jc(4,"th"),O.bd(5,"Rule Id"),O.ic(),O.jc(6,"th"),O.bd(7,"Rule Name"),O.ic(),O.ic(),O.ic(),O.jc(8,"tbody"),O.Zc(9,Hc,6,3,"tr",32),O.ic(),O.ic(),O.ic()),2&e){const e=O.uc();O.Nb(9),O.Bc("ngForOf",e.skippedRules)}}const Kc=function(){return{standalone:!0}};function Yc(e,t){if(1&e){const e=O.kc();O.jc(0,"div",38),O.jc(1,"p-radioButton",39),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc(2).selectedValue=t})("onClick",function(){return O.Rc(e),O.uc(2).setRadioVal("File_Upload")}),O.ic(),O.ic()}if(2&e){const e=O.uc(2);O.Nb(1),O.Bc("ngModel",e.selectedValue)("ngModelOptions",O.Ec(2,Kc))}}function Xc(e,t){if(1&e){const e=O.kc();O.jc(0,"div",38),O.jc(1,"p-radioButton",40),O.qc("ngModelChange",function(t){return O.Rc(e),O.uc(2).selectedValue=t})("onClick",function(){return O.Rc(e),O.uc(2).setRadioVal("File_Path")}),O.ic(),O.ic()}if(2&e){const e=O.uc(2);O.Nb(1),O.Bc("ngModel",e.selectedValue)("ngModelOptions",O.Ec(2,Kc))}}function ea(e,t){if(1&e&&(O.jc(0,"div",41),O.jc(1,"p"),O.bd(2,"This file is already imported. Existing validation name is "),O.jc(3,"b"),O.bd(4),O.ic(),O.bd(5,". "),O.ic(),O.jc(6,"p"),O.bd(7,"Please select different file to import."),O.ic(),O.ic()),2&e){const e=O.uc(2);O.Nb(4),O.cd(null==e.importedValidationDetails?null:e.importedValidationDetails.validationName)}}function ta(e,t){if(1&e){const e=O.kc();O.jc(0,"div",41),O.jc(1,"button",42),O.qc("click",function(){return O.Rc(e),O.uc(2).continue()}),O.bd(2,"Continue"),O.ic(),O.ic()}}function ia(e,t){if(1&e){const e=O.kc();O.jc(0,"div",43),O.jc(1,"input",44),O.qc("change",function(t){return O.Rc(e),O.uc(2).changeFile(t)}),O.ic(),O.ic()}}function oa(e,t){1&e&&(O.jc(0,"span",48),O.bd(1," Please enter "),O.jc(2,"b"),O.bd(3,"File Path"),O.ic(),O.ic())}function na(e,t){if(1&e&&(O.jc(0,"p",48),O.Zc(1,oa,4,0,"span",47),O.ic()),2&e){const e=O.uc(3);O.Nb(1),O.Bc("ngIf",e.importForm.controls.filePath.errors.required)}}function sa(e,t){if(1&e&&(O.jc(0,"div",43),O.jc(1,"label",45),O.bd(2," File Path "),O.ic(),O.ec(3,"input",46),O.Zc(4,na,2,1,"p",47),O.ic()),2&e){const e=O.uc(2);O.Nb(4),O.Bc("ngIf",e.importForm.controls.filePath.invalid&&!e.importForm.controls.filePath.pristine)}}function ca(e,t){if(1&e){const e=O.kc();O.jc(0,"div",41),O.jc(1,"button",49),O.qc("click",function(){return O.Rc(e),O.uc(2).import()}),O.bd(2,"Continue"),O.ic(),O.ic()}if(2&e){const e=O.uc(2);O.Nb(1),O.Bc("disabled",e.importForm.invalid)}}function aa(e,t){if(1&e&&(O.jc(0,"div",3),O.Zc(1,Yc,2,3,"div",35),O.Zc(2,Xc,2,3,"div",35),O.Zc(3,ea,8,1,"div",36),O.Zc(4,ta,3,0,"div",36),O.Zc(5,ia,2,0,"div",37),O.Zc(6,sa,5,1,"div",37),O.Zc(7,ca,3,1,"div",36),O.ic()),2&e){const e=O.uc();O.Nb(1),O.Bc("ngIf",""==(null==e.importedValidationDetails?null:e.importedValidationDetails.validationName)),O.Nb(1),O.Bc("ngIf",""==(null==e.importedValidationDetails?null:e.importedValidationDetails.validationName)),O.Nb(1),O.Bc("ngIf",""!==(null==e.importedValidationDetails?null:e.importedValidationDetails.validationName)),O.Nb(1),O.Bc("ngIf",""!==(null==e.importedValidationDetails?null:e.importedValidationDetails.validationName)),O.Nb(1),O.Bc("ngIf","File_Upload"==e.selectedValue&&""==(null==e.importedValidationDetails?null:e.importedValidationDetails.validationName)),O.Nb(1),O.Bc("ngIf","File_Path"==e.selectedValue&&""==(null==e.importedValidationDetails?null:e.importedValidationDetails.validationName)),O.Nb(1),O.Bc("ngIf",""==(null==e.importedValidationDetails?null:e.importedValidationDetails.validationName))}}function ra(e,t){if(1&e&&O.bd(0),2&e){const e=t.$implicit;O.ed(" ",e.connectionName,"\xa0\xa0(",e.databaseName,") ")}}function la(e,t){if(1&e&&(O.jc(0,"p",57),O.bd(1,"Please create data source for "),O.jc(2,"b"),O.bd(3),O.ic(),O.ic()),2&e){const e=O.uc().$implicit;O.Nb(3),O.cd(e.oldConnectionType)}}function da(e,t){if(1&e){const e=O.kc();O.jc(0,"div",53),O.jc(1,"div"),O.jc(2,"div"),O.bd(3," The data source from the zip with name "),O.jc(4,"b"),O.bd(5),O.ic(),O.ic(),O.jc(6,"label",45),O.bd(7),O.ic(),O.jc(8,"div"),O.jc(9,"p-dropdown",54),O.qc("onChange",function(i){O.Rc(e);const o=t.$implicit;return O.uc(2).changeConnection(i.value,o)}),O.Zc(10,ra,1,2,"ng-template",55),O.ic(),O.ic(),O.Zc(11,la,4,1,"p",56),O.ic(),O.ic()}if(2&e){const e=t.$implicit;O.Nb(5),O.cd(e.oldConnectionName),O.Nb(2),O.dd(" Data Source with ",e.oldConnectionType," "),O.Nb(2),O.Bc("styleClass","form-field")("filter",!0)("options",e.connectionList)("itemSize",30),O.Nb(2),O.Bc("ngIf",0==e.connectionList.length)}}function pa(e,t){if(1&e){const e=O.kc();O.jc(0,"div",50),O.Zc(1,da,12,7,"div",51),O.jc(2,"div",41),O.jc(3,"button",52),O.qc("click",function(){return O.Rc(e),O.uc().importDetails()}),O.bd(4,"Import"),O.ic(),O.ic(),O.ic()}if(2&e){const e=O.uc();O.Nb(1),O.Bc("ngForOf",e.dataSourceList),O.Nb(2),O.Bc("disabled",e.checkListDisable())}}function ua(e,t){if(1&e&&(O.jc(0,"div"),O.jc(1,"div",58),O.jc(2,"span",59),O.bd(3,"New Table:"),O.ic(),O.jc(4,"span",60),O.bd(5),O.ic(),O.ic(),O.ec(6,"br"),O.jc(7,"div"),O.jc(8,"span",59),O.bd(9,"New Validation:"),O.ic(),O.jc(10,"span",60),O.bd(11),O.ic(),O.ic(),O.ic()),2&e){const e=O.uc();O.Nb(5),O.cd(null==e.detailImport?null:e.detailImport.newTemplateName),O.Nb(6),O.cd(null==e.detailImport?null:e.detailImport.newValidationName)}}m.a.vfs=C.a.pdfMake.vfs;const ga=[{path:"",component:Is,data:{breadcrumb:"Users & Roles"},children:[{path:"",redirectTo:"view-users"},{path:"view-users",component:Lc,data:{breadcrumb:"Users"}},{path:"add-user",component:pt,data:{breadcrumb:"Add User"}},{path:"edit-user",component:pt,data:{breadcrumb:"Edit User"}},{path:"view-roles",component:bc,data:{breadcrumb:"Roles"}},{path:"add-role",component:$e,data:{breadcrumb:"Add Role"}},{path:"edit-role",component:$e,data:{breadcrumb:"Edit Role"}},{path:"login-group-mapping",component:ce,data:{breadcrumb:"Login Groups"}},{path:"add-login-group-mapping",component:ye,data:{breadcrumb:"Add Login Group Mapping"}},{path:"edit-login-group-mapping",component:ye,data:{breadcrumb:"Edit Login Group Mapping"}}]},{path:"assets",component:Is,data:{breadcrumb:"Assets"},children:[{path:"",redirectTo:"domain-library"},{path:"domain-library",component:Fs,data:{breadcrumb:"Domains"}},{path:"dimension-library",component:$n,data:{breadcrumb:"Dimensions"}},{path:"view-projects",component:Ys,data:{breadcrumb:"Projects"}},{path:"add-project",component:ze,data:{breadcrumb:"Add Project"}},{path:"edit-project",component:ze,data:{breadcrumb:"Edit Project"}},{path:"defect-codes",component:un,data:{breadcrumb:"Defect Codes"}},{path:"databuck-tags",component:co,data:{breadcrumb:"Tags"}}]},{path:"generate-token",component:Is,children:[{path:"",component:zc,data:{breadcrumb:"API Token"}}]},{path:"view-app-setting",component:Is,children:[{path:"",component:Tc.a,data:{breadcrumb:"Application Settings"}}]},{path:"alert-notification",component:Is,data:{breadcrumb:"Alert Notifications"},children:[{path:"",component:si},{path:"subscription",component:_i,data:{breadcrumb:"Subscribe Notification"}},{path:"alert-edit",component:ft,data:{breadcrumb:"Edit Alert"}}]},{path:"import-export",component:Is,children:[{path:"",component:(()=>{class e{constructor(e,t,i,o,n,s,c){this.domainProj=e,this.runService=t,this.userSettingsService=i,this.datePipe=o,this.fb=n,this.dataTemplateService=s,this.messages=c,this.appConstant=new qc.a,this.isTable=!0,this.validationsList=[],this.skippedRules=[],this.selectedValue="File_Upload",this.showFileUpload=!1,this.showFilePath=!1,this.dataSourceList=[],this.firstImport=!0,this.selectedDataSource="",this.showDetails=!1,this.statementFile=[]}ngOnInit(){this.domainProj.passDomainProjVal(!1);const e={domainId:sessionStorage.getItem("activeDomainId"),projectId:sessionStorage.getItem("activeProjectId")};this.runService.getValCheckNameList("validationCheckName",e).subscribe(e=>{this.validationsList=e.result}),this.resetImportForm()}resetImportForm(){this.importForm=this.fb.group({dataUpload:["",n.w.compose([n.w.required])],filePath:["",n.w.compose([n.w.required])]})}setRadioVal(e){"File_Upload"===e?(this.showFilePath=!1,this.showFileUpload=!0,this.importForm.controls.dataUpload.setValue(""),this.importForm.get("filePath").setValidators([]),this.importForm.get("dataUpload").setValidators([n.w.required]),this.importForm.get("filePath").updateValueAndValidity(),this.importForm.get("dataUpload").updateValueAndValidity()):"File_Path"===e&&(this.showFilePath=!0,this.showFileUpload=!1,this.importForm.controls.filePath.setValue(""),this.importForm.get("filePath").setValidators([n.w.required]),this.importForm.get("dataUpload").setValidators([]),this.importForm.get("filePath").updateValueAndValidity(),this.importForm.get("dataUpload").updateValueAndValidity())}export(){this.userSettingsService.exportValidationDetails({idApp:this.selectedValidation}).subscribe(e=>{"success"===e.status&&(this.filepath=e.result.filePath,this.skippedRules=e.result.skippedRules)})}exportDownload(){this.userSettingsService.exportValidationDownload({filePath:this.filepath}).subscribe(e=>{const t=this.datePipe.transform(new Date,"yyyy-MM-dd");Object(h.saveAs)(e,this.selectedValidation+"_"+t+".zip")})}setTab(e){this.isTable=e,1==this.isTable?(this.filepath="",this.skippedRules=[],this.selectedValidation=""):(this.firstImport=!0,this.showDetails=!1,this.resetImportForm(),this.dataSourceList=[],this.detailImport={newValidationName:"",newValidationId:0,newTemplateId:0,newTemplateName:""},this.importedValidationDetails={validationId:0,validationName:"",createdByUser:"",filePath:"",startTime:""})}import(){if("File_Upload"==this.selectedValue){const e=new FormData;Array.from(this.statementFile).forEach(t=>{if(t){const i=t.slice(0,t.size,t.type),o=new File([i],t.name,{type:t.type});e.append("importfile",o)}}),this.userSettingsService.getConnectionDetailsForImportValidationByFile(e).subscribe(e=>{"success"===e.status?(this.dataSourceList=e.result.connectionDetails,this.importForm.controls.filePath.setValue(e.result.filePath),this.dataSourceList.map(e=>{e.newConnectionId="";const t={connectionType:e.oldConnectionType,projectId:sessionStorage.getItem("activeProjectId"),domainId:sessionStorage.getItem("activeDomainId")};this.dataTemplateService.connectionNameList("getDataConnectionName",t).subscribe(t=>{this.firstImport=!1,e.connectionList=[],t.result.connectionList.length>0&&(t.result.connectionList.map(e=>{e.id=e.id,e.connectionName=e.id+"_"+e.connectionName}),e.connectionList=t.result.connectionList)})})):e.importedValidationDetails?this.importedValidationDetails=e.importedValidationDetails:this.messages.displayToaster(e.message,"warn","Warning!")})}else this.userSettingsService.getConnectionDetailsForimportValidation({filePath:this.importForm.value.filePath}).subscribe(e=>{"success"===e.status?(this.dataSourceList=e.result.connectionDetails,this.dataSourceList.map(e=>{e.newConnectionId="";const t={connectionType:e.oldConnectionType,projectId:sessionStorage.getItem("activeProjectId"),domainId:sessionStorage.getItem("activeDomainId")};this.dataTemplateService.connectionNameList("getDataConnectionName",t).subscribe(t=>{this.firstImport=!1,e.connectionList=[],t.result.connectionList.length>0&&(t.result.connectionList.map(e=>{e.id=e.id,e.connectionName=e.id+"_"+e.connectionName}),e.connectionList=t.result.connectionList)})})):e.importedValidationDetails?this.importedValidationDetails=e.importedValidationDetails:this.messages.displayToaster(e.message,"warn","Warning!")})}continue(){this.resetImportForm(),this.importedValidationDetails={validationId:0,validationName:"",createdByUser:"",filePath:"",startTime:""},this.firstImport=!0,this.showDetails=!1}checkListDisable(){return 0!=this.dataSourceList.filter(e=>""==e.newConnectionId).length}importDetails(){this.dataSourceList.map(e=>{delete e.connectionList}),this.userSettingsService.importValidationDetails({connectionDetails:this.dataSourceList,filePath:this.importForm.value.filePath}).subscribe(e=>{"success"===e.status?(this.showDetails=!0,this.detailImport=e.result):this.showDetails=!1})}changeConnection(e,t){t.newConnectionId=e}changeFile(e){this.statementFile=[],Array.from(e.target.files).forEach(e=>{this.statementFile.push(e)}),null!=e&&(this.importForm.get("filePath").setValidators([]),this.importForm.get("filePath").updateValueAndValidity(),this.importForm.get("dataUpload").updateValueAndValidity())}}return e.\u0275fac=function(t){return new(t||e)(O.dc(k.a),O.dc(Zc.a),O.dc(S.a),O.dc(o.d),O.dc(n.e),O.dc(Uc.a),O.dc(ut.b))},e.\u0275cmp=O.Xb({type:e,selectors:[["app-import-export"]],decls:33,vars:15,consts:[[1,"main-profile"],["id","profilingscreen",1,"content-wrapper","top","profile-screen"],["profilingscreen",""],[1,"row"],[1,"col-sm-12","adjust"],[1,"nav","nav-pills","justify-content-left"],["id","export-tab","data-toggle","tab","href","#export",3,"ngClass","click"],["id","import-tab","data-toggle","tab","href","#import",3,"ngClass","click"],[1,"tab-content","clearfix"],["id","export",1,"tab-pane",3,"ngClass"],[1,"col-sm-12","col-md-6","mr-top-20"],["for","filepath","class","form-label",4,"ngIf"],["for","validationCheckType","class","form-label",4,"ngIf"],["optionLabel","validationName","optionValue","appId",3,"styleClass","ngModel","filter","options","placeholder","itemSize","ngModelChange",4,"ngIf"],[1,"col-sm-12","col-md-6","form-label","blue","cursor-pointer"],[3,"click"],["class","col-sm-12 col-md-3 pd-top-30 padding-l-0",4,"ngIf"],["class","row",4,"ngIf"],["class","table-responsive font-size-table mr-top-10",4,"ngIf"],["id","import",1,"tab-pane",3,"ngClass"],[3,"formGroup"],["class","margin-top_15",4,"ngIf"],[4,"ngIf"],["for","filepath",1,"form-label"],["for","validationCheckType",1,"form-label"],[1,"req-field"],["optionLabel","validationName","optionValue","appId",3,"styleClass","ngModel","filter","options","placeholder","itemSize","ngModelChange"],[1,"col-sm-12","col-md-3","pd-top-30","padding-l-0"],["pButton","","type","button","label","Export",1,"button","w-button","submit-btn",3,"disabled","click"],[1,"col-sm-12","col-md-6","form-label"],[1,"table-responsive","font-size-table","mr-top-10"],[1,"table","table-bordered","p-table","margin0"],[4,"ngFor","ngForOf"],[1,"font-style"],[3,"title"],["class","col-md-12 mr-top",4,"ngIf"],["class","col-md-12 padding-top-30",4,"ngIf"],["class","col-md-6 mr-top",4,"ngIf"],[1,"col-md-12","mr-top"],["for","File_Upload","label","Upload file to be analyzed (ZIP file)","styleClass","radio-style","name","FileUpload","value","File_Upload",1,"spaceRadio",3,"ngModel","ngModelOptions","ngModelChange","onClick"],["for","File_Path","label","Provide path of file to be analyzed","styleClass","radio-style","name","FilePath","value","File_Path",1,"spaceRadio",3,"ngModel","ngModelOptions","ngModelChange","onClick"],[1,"col-md-12","padding-top-30"],[1,"button","w-button","shadow","btn-mr-rt",3,"click"],[1,"col-md-6","mr-top"],["id","rule_name","formControlName","dataUpload","placeholder","Upload File To be analyzed","type","file","pInputText","","accept",".zip",1,"form-field",3,"change"],["for","dataLocation",1,"col-form-label"],["id","filePath","formControlName","filePath","placeholder","Enter Server File Path","type","text","pInputText","",1,"form-field"],["class","err-msg",4,"ngIf"],[1,"err-msg"],[1,"button","w-button","shadow","btn-mr-rt",3,"disabled","click"],[1,"margin-top_15"],["class","col-md-12",4,"ngFor","ngForOf"],[1,"button","w-button","shadow","btn-mr-rt","submit-btn",3,"disabled","click"],[1,"col-md-12"],["optionLabel","name","optionValue","id","placeholder","Select Data Source","optionLabel","connectionName",3,"styleClass","filter","options","itemSize","onChange"],["pTemplate","item"],["class","note",4,"ngIf"],[1,"note"],[1,"padding-top-30"],[1,"default-font-14-weight"],[1,"padding-left-5","default-font-14"]],template:function(e,t){1&e&&(O.jc(0,"div",0),O.jc(1,"div",1,2),O.jc(3,"div",3),O.jc(4,"div",4),O.jc(5,"ul",5),O.jc(6,"li"),O.jc(7,"a",6),O.qc("click",function(){return t.setTab(!0)}),O.bd(8," Export "),O.ic(),O.ic(),O.jc(9,"li"),O.jc(10,"a",7),O.qc("click",function(){return t.setTab(!1)}),O.bd(11,"Import"),O.ic(),O.ic(),O.ic(),O.jc(12,"div",8),O.jc(13,"div",9),O.jc(14,"div",3),O.jc(15,"div",10),O.Zc(16,Ac,2,0,"label",11),O.Zc(17,Wc,4,1,"label",12),O.ec(18,"br"),O.Zc(19,Gc,1,6,"p-dropdown",13),O.ic(),O.ic(),O.jc(20,"div",3),O.jc(21,"div",14),O.jc(22,"span",15),O.qc("click",function(){return t.exportDownload()}),O.bd(23),O.ic(),O.ic(),O.ic(),O.Zc(24,$c,2,1,"div",16),O.ec(25,"br"),O.Zc(26,Jc,3,0,"div",17),O.Zc(27,Qc,10,1,"div",18),O.ic(),O.jc(28,"div",19),O.jc(29,"div",20),O.Zc(30,aa,8,7,"div",17),O.Zc(31,pa,5,2,"div",21),O.Zc(32,ua,12,2,"div",22),O.ic(),O.ic(),O.ic(),O.ic(),O.ic(),O.ic(),O.ic()),2&e&&(O.Nb(7),O.Bc("ngClass",t.isTable?"active":""),O.Nb(3),O.Bc("ngClass",t.isTable?"":"active"),O.Nb(3),O.Bc("ngClass",t.isTable?"active":""),O.Nb(3),O.Bc("ngIf",t.filepath),O.Nb(1),O.Bc("ngIf",!t.filepath),O.Nb(2),O.Bc("ngIf",!t.filepath),O.Nb(4),O.cd(t.filepath),O.Nb(1),O.Bc("ngIf",!t.filepath),O.Nb(2),O.Bc("ngIf",(null==t.skippedRules?null:t.skippedRules.length)>0),O.Nb(1),O.Bc("ngIf",(null==t.skippedRules?null:t.skippedRules.length)>0),O.Nb(1),O.Bc("ngClass",t.isTable?"":"active"),O.Nb(1),O.Bc("formGroup",t.importForm),O.Nb(1),O.Bc("ngIf",t.firstImport&&!t.showDetails),O.Nb(1),O.Bc("ngIf",!t.firstImport&&!t.showDetails),O.Nb(1),O.Bc("ngIf",t.showDetails))},directives:[o.l,o.n,n.p,n.i,r.a,n.o,n.r,D.b,o.m,uo.a,n.d,n.g,I.a,M.i],styles:['@charset "UTF-8";[_nghost-%COMP%]     .p-confirm-dialog-accept{border-radius:20px!important}.accept-btn-css[_ngcontent-%COMP%]{border-radius:20px!important}[_nghost-%COMP%]     .p-dropdown:not(.p-disabled):hover{border-color:#ff7526 2px solid!important;color:#495057!important}.wordBreak[_ngcontent-%COMP%]{overflow-wrap:break-word;width:10rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding-right:10px!important}.domain-project-name[_ngcontent-%COMP%], .padding-l-0[_ngcontent-%COMP%]{padding-left:0!important}.rule-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.p-dropdown-panel[_ngcontent-%COMP%]{width:100%!important}.padd[_ngcontent-%COMP%]{padding-bottom:8px}.marginlt[_ngcontent-%COMP%]{margin-left:-15px}.width-300[_ngcontent-%COMP%]{width:300px!important}.width-50[_ngcontent-%COMP%]{width:20px!important}.no-records[_ngcontent-%COMP%]{padding:5px 15px;text-align:center;border-left:1px solid #e9ecef;border-right:1px solid #e9ecef;border-bottom:1px solid #e9ecef}.disabled-opa[_ngcontent-%COMP%]{opacity:.4;pointer-events:none!important}.err-msg[_ngcontent-%COMP%]{color:#e72b56}.red-btn[_ngcontent-%COMP%]{background:#e72b56!important}.more-display[_ngcontent-%COMP%]:hover{cursor:pointer}.field-dis-val[_ngcontent-%COMP%]{min-width:170px;font-weight:500;padding:3px}.field-dis-vals[_ngcontent-%COMP%]{max-width:200px;font-weight:500;padding:3px}.padding-btm3[_ngcontent-%COMP%]{padding-bottom:12px}.padding-btm1[_ngcontent-%COMP%]{padding-bottom:20px}.pi-exclamation-circle[_ngcontent-%COMP%]{font-size:21px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.modal-title-delete[_ngcontent-%COMP%]{font-weight:600;font-size:21px}[_nghost-%COMP%]     .p-inputtext:enabled:focus{box-shadow:none!important}.pad-0[_ngcontent-%COMP%]{padding:0}.copy-ip[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;box-shadow:none!important}.pad-tp-10[_ngcontent-%COMP%]{padding-top:10px!important}.pagination-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:0 10px}.header-width[_ngcontent-%COMP%]{width:90px}.conn-name-td[_ngcontent-%COMP%]{width:200px}.conn-id-td[_ngcontent-%COMP%]{width:100px}.padd-l[_ngcontent-%COMP%]{padding-left:28px}.pr-28[_ngcontent-%COMP%]{padding-right:28px}[_nghost-%COMP%]     p-dropdown .p-inputtext, [_nghost-%COMP%]     p-dropdown p-dropdownitem{font-family:Open Sans!important;font-size:14px!important;font-weight:400;width:100%!important;border-radius:10px!important;height:38px!important}[_nghost-%COMP%]     p-dropdown .p-dropdown-empty-message{font-family:Open Sans!important;font-size:16px!important;font-weight:400}[_nghost-%COMP%]     p-dropdown ::-webkit-scrollbar{width:7px}[_nghost-%COMP%]     p-dropdown ::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px linear-gradient(180deg,#001585,#ff7526 .01%,#fb9a64 97.92%);border-radius:7px}[_nghost-%COMP%]     p-dropdown ::-webkit-scrollbar-thumb{border-radius:7px;background:linear-gradient(180deg,#001585,#ff7526 .01%,#fb9a64 97.92%);-webkit-box-shadow:inset 0 0 6pxlinear-gradient 180deg,0 #001585,.01% #ff7526,97.92% #fb9a64}[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr>th{padding-left:1px;padding-right:1px}[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr{font-family:Open Sans!important;font-size:14px!important;font-weight:400;vertical-align:top}[_nghost-%COMP%]     .p-datatable .p-datatable-header{height:30px}[_nghost-%COMP%]     .p-datatable .p-paginator-bottom{border-bottom-left-radius:10px!important;border-bottom-right-radius:10px!important}[_nghost-%COMP%]     .pi-filter:before{content:"\ue94c";font-size:14px}[_nghost-%COMP%]     .pi-sort-alt:before{content:"\ue99e";font-size:13px}[_nghost-%COMP%]     .p-overlaypanel .p-overlaypanel-content{padding:1rem;background:#fff4ee!important}[_nghost-%COMP%]     .p-checkbox .p-checkbox-box.p-highlight{border-color:linear-gradient(180deg,#ff7526,#fb9a64)!important;background:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-checkbox .p-checkbox-box{border-color:linear-gradient(180deg,#ff7526,#fb9a64)!important}[_nghost-%COMP%]     .p-dialog .p-dialog-header{background:#fff4ee!important;padding:10px!important}[_nghost-%COMP%]     .p-dialog .p-dialog-content{background:#fff4ee!important;padding-bottom:10px!important}[_nghost-%COMP%]     .p-dialog .p-dialog-footer{background:#fff4ee!important;padding-bottom:10px!important}[_nghost-%COMP%]     .p-paginator .p-paginator-pages .p-paginator-page.p-highlight{background:transparent!important;border:2px solid #ff7526!important;color:#495057!important;border-radius:6px!important;font-weight:400!important}[_nghost-%COMP%]     .p-paginator .p-paginator-pages .p-paginator-page{font-weight:400!important}.conn-name[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;width:93%!important}.conn-name[_ngcontent-%COMP%], .conn-status[_ngcontent-%COMP%]{color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.conn-status[_ngcontent-%COMP%]{border-radius:5px;width:25%!important}.alation-div[_ngcontent-%COMP%]{border-radius:20px;color:#fff;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.alation-icon-green[_ngcontent-%COMP%]{color:green}.alation-icon-white[_ngcontent-%COMP%]{color:#fff;visibility:hidden}.conn-failed[_ngcontent-%COMP%]{background-color:#e72b56;opacity:.7}.conn-pass[_ngcontent-%COMP%]{background-color:#56b608}.fa-files-o[_ngcontent-%COMP%], .fa-pencil[_ngcontent-%COMP%]{color:#337ab7}.fa-trash[_ngcontent-%COMP%]{color:#e72b56}.fa-deactivate[_ngcontent-%COMP%]{color:#c32121}.fa-activate[_ngcontent-%COMP%]{color:#181894}.row-ht[_ngcontent-%COMP%]{height:30px}.pd-top-30[_ngcontent-%COMP%]{padding-top:27px}.mr-top-20[_ngcontent-%COMP%]{margin-top:20px}.mr-top-10[_ngcontent-%COMP%]{margin-top:10px}.td-ellipsis[_ngcontent-%COMP%]{word-break:break-all;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.pd-0[_ngcontent-%COMP%]{padding:0}.width-225[_ngcontent-%COMP%]{width:225px}.columnFilterClass[_ngcontent-%COMP%]{z-index:1008;transform-origin:right;top:64.4236px;position:absolute;flex-direction:column;background:#fff;color:#495057;border:0;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);min-width:12.5rem}.add-icon[_ngcontent-%COMP%]{height:40px;width:40px}.filterDisplay[_ngcontent-%COMP%]{display:inline-block;z-index:9}.margin-l[_ngcontent-%COMP%]{margin-left:5px;width:30px}.width-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.2rem;height:40px;font-size:14px;border-top-right-radius:10px!important;border-top-left-radius:10px!important}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff7526,#fb9a64)!important}.btn-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .submit-btn .p-button-label{width:156px;font-size:14px!important;font-weight:600!important;font-style:normal;font-family:Open Sans;height:40px;color:#fff}[_nghost-%COMP%]     .p-calendar .p-inputtext{box-shadow:none!important}.create-conn-main[_ngcontent-%COMP%]{margin-top:10px;background-color:#fff;border-radius:20px;padding:15px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}.form-title[_ngcontent-%COMP%]{font-family:Open_Sans_Semi_Bold;font-size:17px;margin-top:-10px;margin-bottom:5px;padding:10px 0 10px 10px}.br-top[_ngcontent-%COMP%]{border-top:1px solid #eef1f5;padding-top:10px}.form-label[_ngcontent-%COMP%]{font-size:15px;font-weight:500;font-family:Open_Sans_Semi_Bold}.p-field[_ngcontent-%COMP%]{margin:0 10px}.form-field[_ngcontent-%COMP%]{width:100%!important;border-radius:10px!important}[_nghost-%COMP%]     .p-calendar{width:100%!important;border-radius:10px!important;height:38px!important;margin:0!important;box-shadow:none!important}.marginrem[_ngcontent-%COMP%]{margin:.1rem}.imgSize[_ngcontent-%COMP%]{width:14px;height:auto}.adjust[_ngcontent-%COMP%]{top:10px}.nav-pills[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #dedede;border-radius:8px 8px 0 0}.nav-pills[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:50px;position:relative}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:-1%;margin-top:.1%;top:10px}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;padding:15px 20px;line-height:19px;color:#717171;font-size:14px;font-weight:700;z-index:1}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:transparent;border-color:transparent}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";width:100%;height:50px;position:absolute;bottom:1%;left:-1px;font-size:12px;background:transparent;border:1px solid transparent;z-index:-1}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:before{background:linear-gradient(180deg,transparent,transparent);bottom-border-color:#dedede;font-size:16px;font-family:Open Sans!important;text-align:center;border-radius:8px 8px 0 0}.nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:focus, .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:hover{border:1px solid transparent;background:transparent;color:#951447;font-weight:700;z-index:2;-webkit-text-decoration:underline 3px;text-decoration:underline 3px;text-underline-offset:8px}a[_ngcontent-%COMP%]:hover{text-decoration:none}.tab-content[_ngcontent-%COMP%]   .tab-pane[_ngcontent-%COMP%]{box-shadow:0 0 15px #e6e5e5;padding:5px 20px 20px;background:#fff;line-height:22px}.tab-content[_ngcontent-%COMP%]   .tab-pane[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.main-profile[_ngcontent-%COMP%]{margin-top:20px}.blue[_ngcontent-%COMP%]{color:blue}.table-bordered[_ngcontent-%COMP%]{height:305px}.table-responsive[_ngcontent-%COMP%]{height:250px;overflow:scroll}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]{background:#e8e8e8;position:sticky;top:0;z-index:10}[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{--webkit-box-shadow:inset 0 0 6px linear-gradient(180deg,#001585,#ff7526 0.01%,#fb9a64 97.92%);--webkit-border-radius:7px;border-radius:7px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:7px;background:linear-gradient(180deg,#001585,#ff7526 .01%,#fb9a64 97.92%);--webkit-box-shadow:inset 0 0 6pxlinear-gradient(180deg,#001585 0%,#ff7526 0.01%,#fb9a64 97.92%)}.font-size-table[_ngcontent-%COMP%]{font-size:15px!important}.table[_ngcontent-%COMP%]{margin-bottom:0!important}.req-field[_ngcontent-%COMP%]{color:red}.mr-top[_ngcontent-%COMP%]{padding-top:10px}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.note[_ngcontent-%COMP%]{text-align:left;font-size:14px;color:#eb5454;margin-top:15px}']}),e})(),data:{breadcrumb:"Export/Import"}}]}];let ha=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=O.bc({type:e}),e.\u0275inj=O.ac({imports:[[s.l.forChild(ga)],s.l]}),e})(),fa=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=O.bc({type:e}),e.\u0275inj=O.ac({providers:[p.a],imports:[[o.b,ha,d.a,c.b,u.a,a.a,g.a,n.j,l.b,r.b,s.l]]}),e})()},tPnb:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var o=i("fXoL"),n=i("bUwk"),s=i("acRR");let c=(()=>{class e{constructor(e,t){this.http=e,this.messages=t}getValCheckNameList(e,t=new Object){return this.http.post(e,t)}getValidationCheckNameList(e,t=new Object){return this.http.postWithoutSpinner(e,t)}getAppGroupNameList(e){return this.http.get(e)}validationApprovedList(e){return this.http.get(e)}schedulerList(e){return this.http.getCallWithoutSpinner(e)}deleteAppGroup(e,t){return this.http.post(e,t)}deleteAppGroupMapping(e,t){return this.http.post(e,t)}getAppGroupList(e){return this.http.get(e)}downloadCSV(e){return this.http.getforCSV(e)}getRunAndTask(e,t=new Object){return this.http.post(e,t)}updateAppGroup(e,t=new Object){return this.http.post(e,t)}addAppGroup(e,t=new Object){return this.http.post(e,t)}getStatusPoll(e,t=new Object){return this.http.postWithoutSpinner(e,t)}getRunningJobsView(e,t=new Object){return this.http.post(e,t)}getAppGroupAssociatedValidations(e,t=new Object){return this.http.post(e,t)}downloadCSVJobs(e,t){return this.http.postforCSV(e,t)}clearAllQueuedJobs(e,t=new Object){return this.http.post(e,t)}deleteJobFromQueue(e,t=new Object){return this.http.postWithToasty(e,t)}subSchemaJobList(){return{result:[{taskType:"Template",applicationId:4838,applicationName:"queue_process_right_customer",processId:0,deployMode:null,sparkAppId:null,startTime:null,endTime:null,duration:0,jobDurationStatus:null,fullDuration:null,status:null,uniqueId:"Templ_4838_1660723942742",projectId:null,projectName:null,triggeredByHost:null},{taskType:"Template",applicationId:4839,applicationName:"queue_process_OmniPH",processId:0,deployMode:null,sparkAppId:null,startTime:null,endTime:null,duration:0,jobDurationStatus:null,fullDuration:null,status:null,uniqueId:"Templ_4839_1660723942747",projectId:null,projectName:null,triggeredByHost:null}],message:"Records found successfully",status:"success"}}getSchemaJobAssociatedTemplates(e,t=new Object){return this.http.post(e,t)}stopRunningJob(e,t=new Object){return this.http.postWithToasty(e,t)}getAppGroupById(e,t=new Object){return this.http.post(e,t)}getConnectionNameList(e){return this.http.post("getSchemaNames",e)}getRunConnection(e=new Object){return this.http.postWithToasty("triggerDataSchema",e)}triggerRunConnection(e=new Object){return this.http.postWithToasty("triggerAppGroup",e)}getSchedulersList(e){return this.http.post("viewSchedules",e)}submitScheduler(e){return this.http.postWithToasty("scheduleTask",e)}updatetScheduler(e){return this.http.postWithToasty("editScheduleTask",e)}deleteScheduler(e){return this.http.postWithToasty("deleteSchedule",e)}downloadSchedulerCSV(e=new Object){return this.http.postforCSV("getScheduleCSV",e)}getSchedularById(e){return this.http.post("editSchedule",e)}}return e.\u0275fac=function(t){return new(t||e)(o.nc(n.a),o.nc(s.a))},e.\u0275prov=o.Zb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);