/* 
   28-Aug-2020 : URL and other security vulnerability fix data model (cycle 01) - these may require many iteration or cycles
*/

create table if not exists component (
   row_id                  int(11) not null auto_increment primary key,
   component_name          varchar(255),
   component_title         varchar(255),
   component_type          tinyint not null, 
   module_row_id           int(11) default null,
   http_url                varchar(1000) default null,
   unique key unique_component (component_name, component_type)
) engine=innodb auto_increment=1 default charset=latin1;

create table if not exists component_access (
   row_id                  int(11) not null auto_increment primary key,
   role_row_id             int(11) not null,
   component_row_id        int(11) not null,
   unique key unique_component_access (role_row_id, component_row_id)
) engine=innodb auto_increment=1 default charset=latin1;
